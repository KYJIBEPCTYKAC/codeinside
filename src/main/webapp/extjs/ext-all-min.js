var Ext=Ext||{};Ext.Boot=function(e){function h(e){if(e.$isRequest){return e}var e=e.url?e:{url:e},t=e.url,n=t.charAt?[t]:t,r=e.boot||c,i=e.charset||r.config.charset,s=("cache"in e?!e.cache:r.config.disableCaching)&&r.config.disableCachingParam+"="+(new Date).getTime();l(e,{urls:n,boot:r,charset:i,buster:s});l(this,e)}function p(e){if(e.$isEntry){return e}f("creating entry for "+e.url);var t=e.boot||c,n=e.charset||t.config.charset,r=e.buster||("cache"in e?!e.cache:t.config.disableCaching)&&t.config.disableCachingParam+"="+(new Date).getTime();l(e,{boot:t,charset:n,buster:r,requests:[]});l(this,e)}var t=document,n=function(e,t,r){if(r){n(e,r)}if(e&&t&&typeof t=="object"){for(var i in t){e[i]=t[i]}}return e},r={disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(t.cookie)?false:true,disableCachingParam:"_dc",loadDelay:false,preserveScripts:true,charset:undefined},i=/\.css(?:\?|$)/i,s=t.createElement("a"),o=typeof window!=="undefined",u={browser:o,node:!o&&typeof require==="function",phantom:typeof phantom!=="undefined"&&phantom.fs},a={},f=function(e){},l=function(e,t,n){if(n){l(e,n)}if(e&&t&&typeof t==="object"){for(var r in t){e[r]=t[r]}}return e},c={loading:0,loaded:0,env:u,config:r,scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:false,debug:f,listeners:[],Request:h,Entry:p,platformTags:a,detectPlatformTags:function(){var e=navigator.userAgent,t=a.isMobile=/Mobile(\/|\s)/.test(e),r,i,s,o,u,f,l=document.createElement("div"),h=["iPhone","iPod","Android","Silk","Android 2","BlackBerry","BB","iPad","RIM Tablet OS","MSIE 10","Trident","Chrome","Tizen","Firefox","Safari","Windows Phone"],p=function(e,t){if(t===undefined){t=window}var n="on"+e.toLowerCase(),r=n in l;if(!r){if(l.setAttribute&&l.removeAttribute){l.setAttribute(n,"");r=typeof l[n]==="function";if(typeof l[n]!=="undefined"){l[n]=undefined}l.removeAttribute(n)}}return r},d={},v=h.length,m,g;for(g=0;g<v;g++){m=h[g];d[m]=(new RegExp(m)).test(e)}r=d.iPhone||d.iPod||!d.Silk&&d.Android&&(d["Android 2"]||t)||(d.BlackBerry||d.BB)&&d.isMobile||d["Windows Phone"];s=!a.isPhone&&(d.iPad||d.Android||d.Silk||d["RIM Tablet OS"]||d["MSIE 10"]&&/; Touch/.test(e));o=p("touchend")||navigator.maxTouchPoints||navigator.msMaxTouchPoints;i=!r&&!s;u=d["MSIE 10"];f=d.Blackberry||d.BB;n(a,c.loadPlatformsParam(),{phone:r,tablet:s,desktop:i,touch:o,ios:d.iPad||d.iPhone||d.iPod,android:d.Android||d.Silk,blackberry:f,safari:d.Safari&&f,chrome:d.Chrome,ie10:u,windows:u||d.Trident,tizen:d.Tizen,firefox:d.Firefox})},loadPlatformsParam:function(){var e=window.location.search.substr(1),t=e.split("&"),n={},r,i={},s,o,u,a,f;for(r=0;r<t.length;r++){s=t[r].split("=");n[s[0]]=s[1]}if(n.platformTags){s=n.platform.split(/\W/);for(o=s.length,r=0;r<o;r++){u=s[r].split(":");a=u[0];if(u.length>1){f=u[1];if(f==="false"||f==="0"){f=false}else{f=true}}i[a]=f}}return u},getPlatformTags:function(){return c.platformTags},filterPlatform:function(e){e=[].concat(e);var t=c.getPlatformTags(),n,r,i;for(n=e.length,r=0;r<n;r++){i=e[r];if(t.hasOwnProperty(i)){return!!t[i]}}return false},init:function(){var e=this,n=t.getElementsByTagName("script"),r=n.length,i=/\/ext(\-[a-z\-]+)?\.js$/,s,o,u,a,l,c,h,d;for(h=0;h<r;h++){u=(o=n[h]).src;if(!u){continue}a=o.readyState||null;if(!l){if(i.test(u)){e.hasReadyState="readyState"in o;e.hasAsync="async"in o||!e.hasReadyState;l=u}}if(!e.scripts[c=e.canonicalUrl(u)]){f("creating entry "+c+" in Boot.init");s=new p({key:c,url:u,done:a===null||a==="loaded"||a==="complete",el:o,prop:"src"})}}if(!l){o=n[n.length-1];l=o.src;e.hasReadyState="readyState"in o;e.hasAsync="async"in o||!e.hasReadyState}e.baseUrl=l.substring(0,l.lastIndexOf("/")+1);d=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin=d;e.detectPlatformTags();Ext.filterPlatform=e.filterPlatform},canonicalUrl:function(e){s.href=e;var t=s.href,n=r.disableCachingParam,i=n?t.indexOf(n+"="):-1,o,u;if(i>0&&((o=t.charAt(i-1))==="?"||o==="&")){u=t.indexOf("&",i);u=u<0?"":t.substring(u);if(u&&o==="?"){++i;u=u.substring(1)}t=t.substring(0,i-1)+u}return t},getConfig:function(e){return e?this.config[e]:this.config},setConfig:function(e,t){if(typeof e==="string"){this.config[e]=t}else{for(var n in e){this.setConfig(n,e[n])}}return this},getHead:function(){return this.docHead||(this.docHead=t.head||t.getElementsByTagName("head")[0])},create:function(e,t,n){var r=n||{};r.url=e;r.key=t;return this.scripts[t]=new p(r)},getEntry:function(e,t){var n=this.canonicalUrl(e),r=this.scripts[n];if(!r){r=this.create(e,n,t)}return r},processRequest:function(e,t){e.loadEntries(t)},load:function(e){f("Boot.load called");var t=this,e=new h(e);if(e.sync||t.syncMode){return t.loadSync(e)}if(t.currentRequest){f("current active request, suspending this request");e.getEntries();t.suspendedQueue.push(e)}else{t.currentRequest=e;t.processRequest(e,false)}return t},loadSync:function(e){f("Boot.loadSync called");var t=this,e=new h(e);t.syncMode++;t.processRequest(e,true);t.syncMode--;return t},loadBasePrefix:function(e){e=new h(e);e.prependBaseUrl=true;return this.load(e)},loadSyncBasePrefix:function(e){e=new h(e);e.prependBaseUrl=true;return this.loadSync(e)},requestComplete:function(e){var t=this,n;if(t.currentRequest===e){t.currentRequest=null;while(t.suspendedQueue.length>0){n=t.suspendedQueue.shift();if(!n.done){f("resuming suspended request");t.load(n);break}}}if(!t.currentRequest&&t.suspendedQueue.length==0){t.fireListeners()}},isLoading:function(){return!this.currentRequest&&this.suspendedQueue.length==0},fireListeners:function(){var e;while(this.isLoading()&&(e=this.listeners.shift())){e()}},onBootReady:function(e){if(!this.isLoading()){e()}else{this.listeners.push(e)}},getPathsFromIndexes:function(e,t){return h.prototype.getPathsFromIndexes(e,t)},createLoadOrderMap:function(e){return h.prototype.createLoadOrderMap(e)},fetchSync:function(e){var t,n,r,i;t=false;n=new XMLHttpRequest;try{n.open("GET",e,false);n.send(null)}catch(s){t=true}r=n.status===1223?204:n.status===0&&((self.location||{}).protocol==="file:"||(self.location||{}).protocol==="ionp:")?200:n.status;i=n.responseText;n=null;return{content:i,exception:t,status:r}},notifyAll:function(e){e.notifyRequests()}};h.prototype={$isRequest:true,createLoadOrderMap:function(e){var t=e.length,n={},r,i;for(r=0;r<t;r++){i=e[r];n[i.path]=i}return n},getLoadIndexes:function(e,t,n,r,i){var s=n[e],o,u,a,f,l,h,p,d,v;if(t[e]){return t}t[e]=true;l=false;while(!l){h=false;for(p in t){if(t.hasOwnProperty(p)){s=n[p];if(!s){continue}v=this.prepareUrl(s.path);f=c.getEntry(v);if(!i||!f||!f.done){a=s.requires;if(r&&s.uses){a=a.concat(s.uses)}for(o=a.length,u=0;u<o;u++){d=a[u];if(!t[d]){t[d]=true;h=true}}}}}if(!h){l=true}}return t},getPathsFromIndexes:function(e,t){var n=[],r=[],i,s,o;for(i in e){if(e.hasOwnProperty(i)&&e[i]){n.push(i)}}n.sort(function(e,t){return e-t});for(s=n.length,o=0;o<s;o++){r.push(t[n[o]].path)}return r},expandUrl:function(e,t,n,r){if(typeof e=="string"){e=[e]}var i=this,s=i.loadOrder,o=i.loadOrderMap;if(s){o=o||i.createLoadOrderMap(s);i.loadOrderMap=o;t=t||{};var u=e.length,a=[],f,l;for(f=0;f<u;f++){l=o[e[f]];if(l){i.getLoadIndexes(l.idx,t,s,n,r)}else{a.push(e[f])}}return i.getPathsFromIndexes(t,s).concat(a)}return e},expandUrls:function(e,t){if(typeof e=="string"){e=[e]}var n=[],r={},i,s=e.length,o,u,a,f;for(o=0;o<s;o++){i=this.expandUrl(e[o],{},t,true);for(u=0,a=i.length;u<a;u++){f=i[u];if(!r[f]){r[f]=true;n.push(f)}}}if(n.length==0){n=e}return n},expandLoadOrder:function(){var e=this,t=e.urls,n;if(!e.expanded){n=this.expandUrls(t);e.expanded=true}else{n=t}e.urls=n;if(t.length!=n.length){e.sequential=true}return e},getUrls:function(){this.expandLoadOrder();return this.urls},prepareUrl:function(e){if(this.prependBaseUrl){return c.baseUrl+e}return e},getEntries:function(){var e=this,t=e.entries,n,r,i,s;if(!t){t=[];i=e.getUrls();for(n=0;n<i.length;n++){s=e.prepareUrl(i[n]);r=c.getEntry(s,{buster:e.buster,charset:e.charset});r.requests.push(e);t.push(r)}e.entries=t}return t},loadEntries:function(e){var t=this,n=t.getEntries(),r=n.length,i=t.loadStart||0,s,o,u;if(e!==undefined){t.sync=e}t.loaded=t.loaded||0;t.loading=t.loading||r;for(u=i;u<r;u++){o=n[u];if(!o.loaded){s=n[u].load(t.sync)}else{s=true}if(!s){t.loadStart=u;o.onDone(function(){t.loadEntries(e)});break}}t.processLoadedEntries()},processLoadedEntries:function(){var e=this,t=e.getEntries(),n=t.length,r=e.startIndex||0,i,s;if(!e.done){for(i=r;i<n;i++){s=t[i];if(!s.loaded){e.startIndex=i;return}if(!s.evaluated){s.evaluate()}if(s.error){e.error=true}}e.notify()}},notify:function(){var e=this;if(!e.done){var t=e.error,n=e[t?"failure":"success"],r="delay"in e?e.delay:t?1:c.config.chainDelay,i=e.scope||e;e.done=true;if(n){if(r===0||r>0){setTimeout(function(){n.call(i,e)},r)}else{n.call(i,e)}}e.fireListeners();c.requestComplete(e)}},onDone:function(e){var t=this,n=t.listeners||(t.listeners=[]);if(t.done){e(t)}else{n.push(e)}},fireListeners:function(){var e=this.listeners,t;if(e){f("firing request listeners");while(t=e.shift()){t(this)}}}};p.prototype={$isEntry:true,done:false,evaluated:false,loaded:false,isCrossDomain:function(){var e=this;if(e.crossDomain===undefined){f("checking "+e.getLoadUrl()+" for prefix "+c.origin);e.crossDomain=e.getLoadUrl().indexOf(c.origin)!==0}return e.crossDomain},isCss:function(){var e=this;if(e.css===undefined){e.css=e.url&&i.test(e.url)}return this.css},getElement:function(e){var n=this,r=n.el;if(!r){f("creating element for "+n.url);if(n.isCss()){e=e||"link";r=t.createElement(e);if(e=="link"){r.rel="stylesheet";n.prop="href"}else{n.prop="textContent"}r.type="text/css"}else{e=e||"script";r=t.createElement(e);r.type="text/javascript";n.prop="src";if(c.hasAsync){r.async=false}}n.el=r}return r},getLoadUrl:function(){var e=this,t=c.canonicalUrl(e.url);if(!e.loadUrl){e.loadUrl=!!e.buster?t+(t.indexOf("?")===-1?"?":"&")+e.buster:t}return e.loadUrl},fetch:function(e){var t=this.getLoadUrl(),n=!!e.async,r=new XMLHttpRequest,i=e.complete,s,o,u=false,a=function(){if(r&&r.readyState==4){if(i){s=r.status===1223?204:r.status===0&&((self.location||{}).protocol==="file:"||(self.location||{}).protocol==="ionp:")?200:r.status;o=r.responseText;i({content:o,status:s,exception:u})}r=null}};n=!!n;if(n){r.onreadystatechange=a}try{f("fetching "+t+" "+(n?"async":"sync"));r.open("GET",t,n);r.send(null)}catch(l){u=l;a()}if(!n){a()}},onContentLoaded:function(e){var t=this,n=e.status,r=e.content,i=e.exception,s=this.getLoadUrl();t.loaded=true;if((i||n===0)&&!u.phantom){t.error="Failed loading synchronously via XHR: '"+s+"'. It's likely that the file is either being loaded from a "+"different domain or from the local file system where cross "+"origin requests are not allowed for security reasons. Try "+"asynchronous loading instead."||true;t.evaluated=true}else if(n>=200&&n<300||n===304||u.phantom||n===0&&r.length>0){t.content=r}else{t.error="Failed loading synchronously via XHR: '"+s+"'. Please verify that the file exists. XHR status code: "+n||true;t.evaluated=true}},createLoadElement:function(e){var t=this,n=t.getElement(),r=function(){if(this.readyState==="loaded"||this.readyState==="complete"){if(e){e()}}},i=function(){t.error=true;if(e){e()}};t.preserve=true;n.onerror=i;if(c.hasReadyState){n.onreadystatechange=r}else{n.onload=e}n[t.prop]=t.getLoadUrl()},onLoadElementReady:function(){c.getHead().appendChild(this.getElement());this.evaluated=true},inject:function(e,n){f("injecting content for "+this.url);var r=this,i=c.getHead(),s=r.url,o=r.key,u,a,l,h;if(r.isCss()){r.preserve=true;h=o.substring(0,o.lastIndexOf("/")+1);u=t.createElement("base");u.href=h;if(i.firstChild){i.insertBefore(u,i.firstChild)}else{i.appendChild(u)}u.href=u.href;if(s){e+="\n/*# sourceURL="+o+" */"}a=r.getElement("style");l="styleSheet"in a;i.appendChild(u);if(l){i.appendChild(a);a.styleSheet.cssText=e}else{a.textContent=e;i.appendChild(a)}i.removeChild(u)}else{if(s){e+="\n//# sourceURL="+o}Ext.globalEval(e)}return r},loadCrossDomain:function(){var e=this,t=function(){e.loaded=e.evaluated=e.done=true;e.notifyRequests()};if(e.isCss()){e.createLoadElement();e.evaluateLoadElement();t()}else{e.createLoadElement(function(){t()});e.evaluateLoadElement();return false}return true},loadSync:function(){var e=this;e.fetch({async:false,complete:function(t){e.onContentLoaded(t)}});e.evaluate();e.notifyRequests()},load:function(e){var t=this;if(!t.loaded){if(t.loading){return false}t.loading=true;if(!e){if(t.isCrossDomain()){return t.loadCrossDomain()}else if(!t.isCss()&&c.hasReadyState){t.createLoadElement(function(){t.loaded=true;t.notifyRequests()})}else{t.fetch({async:!e,complete:function(e){t.onContentLoaded(e);t.notifyRequests()}})}}else{t.loadSync()}}return true},evaluateContent:function(){this.inject(this.content);this.content=null},evaluateLoadElement:function(){c.getHead().appendChild(this.getElement())},evaluate:function(){var e=this;if(!e.evaluated){if(e.evaluating){return}e.evaluating=true;if(e.content!==undefined){e.evaluateContent()}else if(!e.error){e.evaluateLoadElement()}e.evaluated=e.done=true;e.cleanup()}},cleanup:function(){var t=this,n=t.el,r;if(!n){return}if(!t.preserve){t.el=null;n.parentNode.removeChild(n);for(r in n){try{if(r!==t.prop){n[r]=null}delete n[r]}catch(i){}}}n.onload=n.onerror=n.onreadystatechange=e},notifyRequests:function(){var e=this.requests,t=e.length,n,r;for(n=0;n<t;n++){r=e[n];r.processLoadedEntries()}if(this.done){this.fireListeners()}},onDone:function(e){var t=this,n=t.listeners||(t.listeners=[]);if(t.done){e(t)}else{n.push(e)}},fireListeners:function(){var e=this.listeners,t;if(e&&e.length>0){f("firing event listeners for url "+this.url);while(t=e.shift()){t(this)}}}};Ext.disableCacheBuster=function(e,n){var r=new Date;r.setTime(r.getTime()+(e?10*365:-1)*24*60*60*1e3);r=r.toGMTString();t.cookie="ext-cache=1; expires="+r+"; path="+(n||"/")};if(u.node){c.prototype.load=c.prototype.loadSync=function(e){require(filePath);onLoad.call(scope)};c.prototype.init=e}c.init();return c}(function(){});Ext.globalEval=Ext.globalEval||(this.execScript?function(e){execScript(e)}:function($$code){eval.call(window,$$code)});if(!Function.prototype.bind){(function(){var e=Array.prototype.slice,t=function(t){var n=e.call(arguments,1),r=this;if(n.length){return function(){var i=arguments;return r.apply(t,i.length?n.concat(e.call(i)):n)}}n=null;return function(){return r.apply(t,arguments)}};Function.prototype.bind=t;t.$extjs=true})()}var Ext=Ext||{};Ext._startTime=Date.now?Date.now():+(new Date);(function(){var e=this,t=Object.prototype,n=t.toString,r=["valueOf","toLocaleString","toString","constructor"],i=function(){},s=function(){},o=function(e){return e},u=function(){var e=u.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},a=Ext.manifest||{},f,l=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,c=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=e;i.$nullFn=o.$nullFn=i.$emptyFn=o.$identityFn=s.$nullFn=true;s.$privacy="framework";Ext["suspendLayouts"]=Ext["resumeLayouts"]=i;for(f in{toString:1}){r=null}Ext.enumerables=r;Ext.apply=function(e,t,n){if(n){Ext.apply(e,n)}if(e&&t&&typeof t==="object"){var i,s,o;for(i in t){e[i]=t[i]}if(r){for(s=r.length;s--;){o=r[s];if(t.hasOwnProperty(o)){e[o]=t[o]}}}}return e};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:false,enableListenerCollection:true,name:Ext.sandboxName||"Ext",privateFn:s,emptyFn:i,identityFn:o,frameStartTime:+(new Date),manifest:a,debugConfig:Ext.debugConfig||a.debug||{hooks:{"*":true}},validIdRe:/^[a-z_][a-z0-9\-_]*$/i,makeIdSelector:function(e){if(!Ext.validIdRe.test(e)){Ext.Error.raise('Invalid id selector: "'+e+'"')}return"#"+e},id:function(e,t){if(e&&e.id){return e.id}var n=(t||Ext.idPrefix)+ ++Ext.idSeed;if(e){e.id=n}return n},returnId:function(e){return e.getId()},returnTrue:function(){return true},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},applyIf:function(e,t){var n;if(e){for(n in t){if(e[n]===undefined){e[n]=t[n]}}}return e},now:e.performance&&e.performance.now?function(){return performance.now()}:Date.now||(Date.now=function(){return+(new Date)}),destroy:function(){var e=arguments.length,t,n;for(t=0;t<e;t++){n=arguments[t];if(n){if(Ext.isArray(n)){this.destroy.apply(this,n)}else if(Ext.isFunction(n.destroy)){n.destroy()}}}return null},destroyMembers:function(e){for(var t,n,r=1,i=arguments,s=i.length;r<s;r++){t=e[n=i[r]];if(t!=null){e[n]=Ext.destroy(t)}}},override:function(e,t){if(e.$isClass){e.override(t)}else if(typeof e=="function"){Ext.apply(e.prototype,t)}else{var n=e.self,r,i;if(n&&n.$isClass){for(r in t){if(t.hasOwnProperty(r)){i=t[r];if(typeof i==="function"){if(n.$className){i.displayName=n.$className+"#"+r}i.$name=r;i.$owner=n;i.$previous=e.hasOwnProperty(r)?e[r]:u}e[r]=i}}}else{Ext.apply(e,t)}}return e},valueFrom:function(e,t,n){return Ext.isEmpty(e,n)?t:e},isEmpty:function(e,t){return e==null||(!t?e==="":false)||Ext.isArray(e)&&e.length===0},isArray:"isArray"in Array?Array.isArray:function(e){return n.call(e)==="[object Array]"},isDate:function(e){return n.call(e)==="[object Date]"},isMSDate:function(e){if(!Ext.isString(e)){return false}return c.test(e)},isObject:n.call(null)==="[object Object]"?function(e){return e!==null&&e!==undefined&&n.call(e)==="[object Object]"&&e.ownerDocument===undefined}:function(e){return n.call(e)==="[object Object]"},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return t==="string"||t==="number"||t==="boolean"},isFunction:typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function"?function(e){return!!e&&n.call(e)==="[object Function]"}:function(e){return!!e&&typeof e==="function"},isNumber:function(e){return typeof e==="number"&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return typeof e==="string"},isBoolean:function(e){return typeof e==="boolean"},isElement:function(e){return e?e.nodeType===1:false},isTextNode:function(e){return e?e.nodeName==="#text":false},isDefined:function(e){return typeof e!=="undefined"},isIterable:function(e){if(!e||typeof e.length!=="number"||typeof e==="string"||Ext.isFunction(e)){return false}if(!e.propertyIsEnumerable){return!!e.item}if(e.hasOwnProperty("length")&&!e.propertyIsEnumerable("length")){return true}return l.test(n.call(e))},isDebugEnabled:(function(e,t){var n=Ext.debugConfig.hooks;if(n.hasOwnProperty(e)){return n[e]}var r=n["*"],i=0;if(t!==undefined){r=t}if(!e){return r}for(var s in n){var o=n[s];if(e.charAt(s.length)==="."){if(e.substring(0,s.length)===s){if(i<s.length){i=s.length;r=o}}}}return r})||i,clone:function(e){if(e===null||e===undefined){return e}if(e.nodeType&&e.cloneNode){return e.cloneNode(true)}var t=n.call(e),i,s,o,u,a;if(t==="[object Date]"){return new Date(e.getTime())}if(t==="[object Array]"){i=e.length;u=[];while(i--){u[i]=Ext.clone(e[i])}}else if(t==="[object Object]"&&e.constructor===Object){u={};for(a in e){u[a]=Ext.clone(e[a])}if(r){for(s=r.length;s--;){o=r[s];if(e.hasOwnProperty(o)){u[o]=e[o]}}}}return u||e},getUniqueGlobalNamespace:function(){var t=this.uniqueGlobalNamespace,n;if(t===undefined){n=0;do{t="ExtBox"+ ++n}while(e[t]!==undefined);e[t]=Ext;this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e=this,t=Array.prototype.slice.call(arguments),n=e.functionFactoryCache,r,i,s;if(Ext.isSandboxed){s=t.length;if(s>0){s--;t[s]="var Ext=window."+Ext.name+";"+t[s]}}r=t.join("");i=n[r];if(!i){i=Function.prototype.constructor.apply(Function.prototype,t);n[r]=i}return i},functionFactory:function(){var e=Array.prototype.slice.call(arguments),t;if(Ext.isSandboxed){t=e.length;if(t>0){t--;e[t]="var Ext=window."+Ext.name+";"+e[t]}}return Function.prototype.constructor.apply(Function.prototype,e)},Logger:{log:function(t,n){if(t&&e.console){if(!n||!(n in e.console)){n="log"}t="["+n.toUpperCase()+"] "+t;e.console[n](t)}},verbose:function(e){this.log(e,"verbose")},info:function(e){this.log(e,"info")},warn:function(e){this.log(e,"warn")},error:function(e){throw new Error(e)},deprecate:function(e){this.log(e,"warn")}}||{verbose:i,log:i,info:i,warn:i,error:function(e){throw new Error(e)},deprecate:i},getElementById:function(e){return document.getElementById(e)},splitAndUnescape:function(){var e={};return function(t,n){if(!t){return[]}else if(!n){return[t]}var r=e[n]||(e[n]=new RegExp("\\\\"+n,"g")),i=[],s,o;s=t.split(n);while((o=s.shift())!==undefined){while(o.charAt(o.length-1)==="\\"&&s.length>0){o=o+n+s.shift()}o=o.replace(r,n);i.push(o)}return i}}()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=true})();(function(){function e(){var e=this,t=e.sourceClass,n=e.sourceMethod,r=e.msg;if(n){if(r){n+="(): ";n+=r}else{n+="()"}}if(t){n=n?t+"."+n:t}return n||r||""}Ext.Error=function(t){if(Ext.isString(t)){t={msg:t}}var n=new Error;Ext.apply(n,t);n.message=n.message||n.msg;n.toString=e;return n};Ext.apply(Ext.Error,{ignore:false,raise:function(t){t=t||{};if(Ext.isString(t)){t={msg:t}}var n=this,r=n.raise.caller,i,s;if(r){if(!t.sourceMethod&&(s=r.$name)){t.sourceMethod=s}if(!t.sourceClass&&(s=r.$owner)&&(s=s.$className)){t.sourceClass=s}}if(n.handle(t)!==true){i=e.call(t);Ext.log({msg:i,level:"error",dump:t,stack:true});throw new Ext.Error(t)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(e){function t(){Ext.Error.raise('The method "'+t.$owner.$className+"."+t.$name+'" has been removed. '+e)}if(!e){e=""}return t;return Ext.emptyFn};(function(){if(typeof window==="undefined"){return}var e=0,t=function(){var t=Ext.log&&Ext.log.counters,n=t&&t.error+t.warn+t.info+t.log,r;if(n&&e!==n){r=[];if(t.error){r.push("Errors: "+t.error)}if(t.warn){r.push("Warnings: "+t.warn)}if(t.info){r.push("Info: "+t.info)}if(t.log){r.push("Log: "+t.log)}window.status="*** "+r.join(" -- ");e=n}};setInterval(t,1e3)})();Ext.Array=new function(){function s(e,t){var n=e.length,r=new Array(n),i=new Array(n),s;for(s=0;s<n;s++){r[s]=s}r.sort(function(n,r){return t(e[n],e[r])||n-r});for(s=0;s<n;s++){i[s]=e[r[s]]}for(s=0;s<n;s++){e[s]=i[s]}return e}var e=Array.prototype,t=e.slice,n=function(){var e=[],t,n=20;if(!e.splice){return false}while(n--){e.push("A")}e.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");t=e.length;e.splice(13,0,"XXX");if(t+1!==e.length){return false}return true}(),r="indexOf"in e,i=true;try{if(typeof document!=="undefined"){t.call(document.getElementsByTagName("body"))}}catch(o){i=false}var u=function(e,t){return t<0?Math.max(0,e.length+t):Math.min(e.length,t)},a=function(e,t,n,r){var i=r?r.length:0,s=e.length,o=u(e,t);if(o===s){if(i){e.push.apply(e,r)}}else{var a=Math.min(n,s-o),f=o+a,l=f+i-a,c=s-f,h=s-a,p;if(l<f){for(p=0;p<c;++p){e[l+p]=e[f+p]}}else if(l>f){for(p=c;p--;){e[l+p]=e[f+p]}}if(i&&o===h){e.length=h;e.push.apply(e,r)}else{e.length=h+i;for(p=0;p<i;++p){e[o+p]=r[p]}}}return e},f=function(e,t,n,r){if(r&&r.length){if(t===0&&!n){e.unshift.apply(e,r)}else if(t<e.length){e.splice.apply(e,[t,n].concat(r))}else{e.push.apply(e,r)}}else{e.splice(t,n)}return e},l=function(e,t,n){return a(e,t,n)},c=function(e,t,n){e.splice(t,n);return e},h=function(e,n,r){var i=u(e,n),s=e.slice(n,u(e,i+r));if(arguments.length<4){a(e,i,r)}else{a(e,i,r,t.call(arguments,3))}return s},p=function(e){return e.splice.apply(e,t.call(arguments,1))},d=n?c:l,v=n?f:a,m=n?p:h,g={binarySearch:function(e,t,n,r,i){var s=e.length,o,u;if(n instanceof Function){i=n;n=0;r=s}else if(r instanceof Function){i=r;r=s}else{if(n===undefined){n=0}if(r===undefined){r=s}i=i||g.lexicalCompare}--r;while(n<=r){o=n+r>>1;u=i(t,e[o]);if(u>=0){n=o+1}else if(u<0){r=o-1}}return n},defaultCompare:function(e,t){return e<t?-1:e>t?1:0},lexicalCompare:function(e,t){e=String(e);t=String(t);return e<t?-1:e>t?1:0},each:function(e,t,n,r){e=g.from(e);var i,s=e.length;if(r!==true){for(i=0;i<s;i++){if(t.call(n||e[i],e[i],i,e)===false){return i}}}else{for(i=s-1;i>-1;i--){if(t.call(n||e[i],e[i],i,e)===false){return i}}}return true},forEach:"forEach"in e?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;r++){t.call(n,e[r],r,e)}},indexOf:r?function(t,n,r){return e.indexOf.call(t,n,r)}:function(e,t,n){var r,i=e.length;for(r=n<0?Math.max(0,i+n):n||0;r<i;r++){if(e[r]===t){return r}}return-1},contains:r?function(t,n){return e.indexOf.call(t,n)!==-1}:function(e,t){var n,r;for(n=0,r=e.length;n<r;n++){if(e[n]===t){return true}}return false},toArray:function(e,n,r){if(!e||!e.length){return[]}if(typeof e==="string"){e=e.split("")}if(i){return t.call(e,n||0,r||e.length)}var s=[],o;n=n||0;r=r?r<0?e.length+r:r:e.length;for(o=n;o<r;o++){s.push(e[o])}return s},pluck:function(e,t){var n=[],r,i,s;for(r=0,i=e.length;r<i;r++){s=e[r];n.push(s[t])}return n},map:"map"in e?function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument.");return e.map(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument.");var r=[],i=0,s=e.length;for(;i<s;i++){r[i]=t.call(n,e[i],i,e)}return r},every:"every"in e?function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument.");return e.every(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument.");var r=0,i=e.length;for(;r<i;++r){if(!t.call(n,e[r],r,e)){return false}}return true},some:"some"in e?function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument.");return e.some(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument.");var r=0,i=e.length;for(;r<i;++r){if(t.call(n,e[r],r,e)){return true}}return false},equals:function(e,t){var n=e.length,r=t.length,i;if(e===t){return true}if(n!==r){return false}for(i=0;i<n;++i){if(e[i]!==t[i]){return false}}return true},clean:function(e){var t=[],n=0,r=e.length,i;for(;n<r;n++){i=e[n];if(!Ext.isEmpty(i)){t.push(i)}}return t},unique:function(e){var t=[],n=0,r=e.length,i;for(;n<r;n++){i=e[n];if(g.indexOf(t,i)===-1){t.push(i)}}return t},filter:"filter"in e?function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument.");return e.filter(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument.");var r=[],i=0,s=e.length;for(;i<s;i++){if(t.call(n,e[i],i,e)){r.push(e[i])}}return r},findBy:function(e,t,n){var r=0,i=e.length;for(;r<i;r++){if(t.call(n||e,e[r],r)){return e[r]}}return null},from:function(e,n){if(e===undefined||e===null){return[]}if(Ext.isArray(e)){return n?t.call(e):e}var r=typeof e;if(e&&e.length!==undefined&&r!=="string"&&(r!=="function"||!e.apply)){return g.toArray(e)}return[e]},remove:function(e,t){var n=g.indexOf(e,t);if(n!==-1){d(e,n,1)}return e},include:function(e,t){if(!g.contains(e,t)){e.push(t)}},clone:function(e){return t.call(e)},merge:function(){var e=t.call(arguments),n=[],r,i;for(r=0,i=e.length;r<i;r++){n=n.concat(e[r])}return g.unique(n)},intersect:function(){var e=[],n=t.call(arguments),r,i,s,o,u,a,f,l,c,h,p,v,m;if(!n.length){return e}r=n.length;for(p=u=0;p<r;p++){a=n[p];if(!o||a.length<o.length){o=a;u=p}}o=g.unique(o);d(n,u,1);f=o.length;r=n.length;for(p=0;p<f;p++){l=o[p];h=0;for(v=0;v<r;v++){i=n[v];s=i.length;for(m=0;m<s;m++){c=i[m];if(l===c){h++;break}}}if(h===r){e.push(l)}}return e},difference:function(e,n){var r=t.call(e),i=r.length,s,o,u;for(s=0,u=n.length;s<u;s++){for(o=0;o<i;o++){if(r[o]===n[s]){d(r,o,1);o--;i--}}}return r},slice:[1,2].slice(1,undefined).length?function(e,n,r){return t.call(e,n,r)}:function(e,n,r){if(typeof n==="undefined"){return t.call(e)}if(typeof r==="undefined"){return t.call(e,n)}return t.call(e,n,r)},sort:function(e,t){return s(e,t||g.lexicalCompare)},flatten:function(e){function n(e){var r,i,s;for(r=0,i=e.length;r<i;r++){s=e[r];if(Ext.isArray(s)){n(s)}else{t.push(s)}}return t}var t=[];return n(e)},min:function(e,t){var n=e[0],r,i,s;for(r=0,i=e.length;r<i;r++){s=e[r];if(t){if(t(n,s)===1){n=s}}else{if(s<n){n=s}}}return n},max:function(e,t){var n=e[0],r,i,s;for(r=0,i=e.length;r<i;r++){s=e[r];if(t){if(t(n,s)===-1){n=s}}else{if(s>n){n=s}}}return n},mean:function(e){return e.length>0?g.sum(e)/e.length:undefined},sum:function(e){var t=0,n,r,i;for(n=0,r=e.length;n<r;n++){i=e[n];t+=i}return t},toMap:function(e,t,n){var r={},i=e.length;if(!t){while(i--){r[e[i]]=i+1}}else if(typeof t==="string"){while(i--){r[e[i][t]]=i+1}}else{while(i--){r[t.call(n,e[i])]=i+1}}return r},toValueMap:function(e,t,n,r){var i={},s=e.length,o,u,a,f,l,c;if(!t){while(s--){c=e[s];i[c]=c}}else{if(!(f=typeof t!=="string")){r=n}u=r===1;o=r===2;while(s--){c=e[s];l=f?t.call(n,c):c[t];if(u){if(l in i){i[l].push(c)}else{i[l]=[c]}}else if(o&&l in i){if((a=i[l])instanceof Array){a.push(c)}else{i[l]=[a,c]}}else{i[l]=c}}}return i},_replaceSim:a,_spliceSim:h,erase:d,insert:function(e,t,n){return v(e,t,0,n)},replace:v,splice:m,push:function(e){var t=arguments.length,n=1,r;if(e===undefined){e=[]}else if(!Ext.isArray(e)){e=[e]}for(;n<t;n++){r=arguments[n];Array.prototype.push[Ext.isIterable(r)?"apply":"call"](e,r)}return e},numericSortFn:function(e,t){return e-t}};Ext.each=g.each;g.union=g.merge;Ext.min=g.min;Ext.max=g.max;Ext.sum=g.sum;Ext.mean=g.mean;Ext.flatten=g.flatten;Ext.clean=g.clean;Ext.unique=g.unique;Ext.pluck=g.pluck;Ext.toArray=function(){return g.toArray.apply(g,arguments)};return g};Ext.Assert={falsey:function(e,t){if(e){Ext.Error.raise(t||"Expected a falsey value but was "+e)}},falseyProp:function(e,t){Ext.Assert.truthy(e);var n=e[t];if(n){if(e.$className){t=e.$className+"#"+t}Ext.Error.raise("Expected a falsey value for "+t+" but was "+n)}},truthy:function(e,t){if(!e){Ext.Error.raise(t||"Expected a truthy value but was "+typeof e)}},truthyProp:function(e,t){Ext.Assert.truthy(e);var n=e[t];if(!n){if(e.$className){t=e.$className+"#"+t}Ext.Error.raise("Expected a truthy value for "+t+" but was "+typeof n)}}};(function(){function e(e,t){var n=Ext[e],r;return function(e,i){if(!n(e)){Ext.Error.raise(i||r||(r="Expected value to be "+t))}}}function t(e,t){var n=Ext[e],r;return function(e,i){Ext.Assert.truthy(e);if(!n(e[i])){Ext.Error.raise(r||(r="Expected "+(e.$className?e.$className+"#":"")+i+" to be "+t))}}}function n(e,t){var n=Ext[e],r;return function(e,i){if(n(e)){Ext.Error.raise(i||r||(r="Expected value to NOT be "+t))}}}function r(e,t){var n=Ext[e],r;return function(e,i){Ext.Assert.truthy(e);if(n(e[i])){Ext.Error.raise(r||(r="Expected "+(e.$className?e.$className+"#":"")+i+" to NOT be "+t))}}}for(var i in Ext){if(i.substring(0,2)=="is"&&Ext.isFunction(Ext[i])){var s=i.substring(2);Ext.Assert[i]=e(i,s);Ext.Assert[i+"Prop"]=t(i,s);Ext.Assert["isNot"+s]=n(i,s);Ext.Assert["isNot"+s+"Prop"]=r(i,s)}}})();Ext.String=function(){var e=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,t=/('|\\)/g,n=/([-.*+?\^${}()|\[\]\/\\])/g,r=/^\s+|\s+$/g,i=/\s+/,s=/(^[^a-z]*|[^\w])/gi,o,u,a,f,l=function(e,t){return o[t]},c=function(e,t){return t in u?u[t]:String.fromCharCode(parseInt(t.substr(2),10))},h=function(e,t){if(e===null||e===undefined||t===null||t===undefined){return false}return t.length<=e.length},p;return p={insert:function(e,t,n){if(!e){return t}if(!t){return e}var r=e.length;if(!n&&n!==0){n=r}if(n<0){n*=-1;if(n>=r){n=0}else{n=r-n}}if(n===0){e=t+e}else if(n>=e.length){e+=t}else{e=e.substr(0,n)+t+e.substr(n)}return e},startsWith:function(e,t,n){var r=h(e,t);if(r){if(n){e=e.toLowerCase();t=t.toLowerCase()}r=e.lastIndexOf(t,0)===0}return r},endsWith:function(e,t,n){var r=h(e,t);if(r){if(n){e=e.toLowerCase();t=t.toLowerCase()}r=e.indexOf(t,e.length-t.length)!==-1}return r},createVarName:function(e){return e.replace(s,"")},htmlEncode:function(e){return!e?e:String(e).replace(a,l)},htmlDecode:function(e){return!e?e:String(e).replace(f,c)},hasHtmlCharacters:function(e){return a.test(e)},addCharacterEntities:function(e){var t=[],n=[],r,i;for(r in e){i=e[r];u[r]=i;o[i]=r;t.push(i);n.push(r)}a=new RegExp("("+t.join("|")+")","g");f=new RegExp("("+n.join("|")+"|&#[0-9]{1,5};"+")","g")},resetCharacterEntities:function(){o={};u={};this.addCharacterEntities({"&":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){if(!Ext.isEmpty(t)){return e+(e.indexOf("?")===-1?"?":"&")+t}return e},trim:function(t){if(t){t=t.replace(e,"")}return t||""},capitalize:function(e){if(e){e=e.charAt(0).toUpperCase()+e.substr(1)}return e||""},uncapitalize:function(e){if(e){e=e.charAt(0).toLowerCase()+e.substr(1)}return e||""},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var r=e.substr(0,t-2),i=Math.max(r.lastIndexOf(" "),r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"));if(i!==-1&&i>=t-15){return r.substr(0,i)+"..."}}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(n,"\\$1")},createRegex:function(e,t,n,r){var i=e;if(e!=null&&!e.exec){i=p.escapeRegex(String(e));if(t!==false){i="^"+i}if(n!==false){i+="$"}i=new RegExp(i,r!==false?"i":"")}return i},escape:function(e){return e.replace(t,"\\$1")},toggle:function(e,t,n){return e===t?n:t},leftPad:function(e,t,n){var r=String(e);n=n||" ";while(r.length<t){r=n+r}return r},repeat:function(e,t,n){if(t<1){t=0}for(var r=[],i=t;i--;){r.push(e)}return r.join(n||"")},splitWords:function(e){if(e&&typeof e=="string"){return e.replace(r,"").split(i)}return e||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=function(){function a(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(s,function(e,n){return t[n]})}var e,t=/(\\.)/g,n=/([gGhHisucUOPZ]|MS)/,r=/([djzmnYycU]|MS)/,i=/\\/gi,s=/\{(\d+)\}/g,o=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),u=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return e={now:Date.now,toString:function(e){if(!e){e=new Date}var t=Ext.String.leftPad;return e.getFullYear()+"-"+t(e.getMonth()+1,2,"0")+"-"+t(e.getDate(),2,"0")+"T"+t(e.getHours(),2,"0")+":"+t(e.getMinutes(),2,"0")+":"+t(e.getSeconds(),2,"0")},getElapsed:function(t,n){return Math.abs(t-(n||e.now()))},useStrict:false,formatCodeToRegex:function(t,n){var r=e.parseCodes[t];if(r){r=typeof r=="function"?r():r;e.parseCodes[t]=r}return r?Ext.applyIf({c:r.c?a(r.c,n||"{0}"):r.c},r):{g:0,c:null,s:Ext.String.escapeRegex(t)}},parseFunctions:{MS:function(e,t){var n=(e||"").match(o);return n?new Date(((n[1]||"")+n[2])*1):null},time:function(e,t){var n=parseInt(e,10);if(n||n===0){return new Date(n)}return null},timestamp:function(e,t){var n=parseInt(e,10);if(n||n===0){return new Date(n*1e3)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return e.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(e){return Ext.Date.monthNames[e].substring(0,3)},getShortDayName:function(e){return Ext.Date.dayNames[e].substring(0,3)},getMonthNumber:function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return n.test(e.replace(t,""))},formatContainsDateInfo:function(e){return r.test(e.replace(t,""))},unescapeFormat:function(e){return e.replace(i,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var t,n,r,i,s;for(t="Y-m-dTH:i:sP",n=[],r=0,i=t.length;r<i;++r){s=t.charAt(r);n.push(s=="T"?"'T'":e.getFormatCode(s))}return n.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(t,n,r,i,s,o,u){i=i||0;s=s||0;o=o||0;u=u||0;var a=e.add(new Date(t<100?100:t,n-1,r,i,s,o,u),e.YEAR,t<100?t-100:0);return t==a.getFullYear()&&n==a.getMonth()+1&&r==a.getDate()&&i==a.getHours()&&s==a.getMinutes()&&o==a.getSeconds()&&u==a.getMilliseconds()},parse:function(t,n,r){var i=e.parseFunctions;if(i[n]==null){e.createParser(n)}return i[n].call(e,t,Ext.isDefined(r)?r:e.useStrict)},parseDate:function(t,n,r){return e.parse(t,n,r)},getFormatCode:function(t){var n=e.formatCodes[t];if(n){n=typeof n=="function"?n():n;e.formatCodes[t]=n}return n||"'"+Ext.String.escape(t)+"'"},createFormat:function(t){var n=[],r=false,i="",s;for(s=0;s<t.length;++s){i=t.charAt(s);if(!r&&i=="\\"){r=true}else if(r){r=false;n.push("'"+Ext.String.escape(i)+"'")}else{if(i=="\n"){n.push("'\\n'")}else{n.push(e.getFormatCode(i))}}}e.formatFunctions[t]=Ext.functionFactory("return "+n.join("+"))},createParser:function(t){var n=e.parseRegexes.length,r=1,i=[],s=[],o=false,f="",l=0,c=t.length,h=[],p;for(;l<c;++l){f=t.charAt(l);if(!o&&f=="\\"){o=true}else if(o){o=false;s.push(Ext.String.escape(f))}else{p=e.formatCodeToRegex(f,r);r+=p.g;s.push(p.s);if(p.g&&p.c){if(p.calcAtEnd){h.push(p.c)}else{i.push(p.c)}}}}i=i.concat(h);e.parseRegexes[n]=new RegExp("^"+s.join("")+"$","i");e.parseFunctions[t]=Ext.functionFactory("input","strict",a(u,n,i.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var t=[],n=0;n<7;t.push(e.getShortDayName(n)),++n);return{g:0,c:null,s:"(?:"+t.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+e.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+e.monthNames.join("|")+")"}},M:function(){for(var t=[],n=0;n<12;t.push(e.getShortMonthName(n)),++n);return Ext.applyIf({s:"("+t.join("|")+")"},e.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\n"+"y = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\n"+"if (!h || h == 12) { h = 0; }\n"+"} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\n"+"if (!h || h == 12) { h = 0; }\n"+"} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\n"+"zz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var t=[],n=[e.formatCodeToRegex("Y",1),e.formatCodeToRegex("m",2),e.formatCodeToRegex("d",3),e.formatCodeToRegex("H",4),e.formatCodeToRegex("i",5),e.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",e.formatCodeToRegex("P",8).c,"}else{",e.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],r,i;for(r=0,i=n.length;r<i;++r){t.push(n[r].c)}return{g:1,c:t.join(""),s:[n[0].s,"(?:","-",n[1].s,"(?:","-",n[2].s,"(?:","(?:T| )?",n[3].s,":",n[4].s,"(?::",n[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(t,n){return e.format(t,n)},isEqual:function(e,t){if(e&&t){return e.getTime()===t.getTime()}return!(e||t)},format:function(t,n){var r=e.formatFunctions;if(!Ext.isDate(t)){return""}if(r[n]==null){e.createFormat(n)}return r[n].call(t)+""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(n)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(n%60),2,"0")},getDayOfYear:function(t){var n=0,r=Ext.Date.clone(t),i=t.getMonth(),s;for(s=0,r.setDate(1),r.setMonth(0);s<i;r.setMonth(++s)){n+=e.getDaysInMonth(r)}return n+t.getDate()-1},getWeekOfYear:function(){var e=864e5,t=7*e;return function(n){var r=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()+3)/e,i=Math.floor(r/7),s=(new Date(i*t)).getUTCFullYear();return i-Math.floor(Date.UTC(s,0,7)/t)+1}}(),isLeapYear:function(e){var t=e.getFullYear();return!!((t&3)==0&&(t%100||t%400==0&&t))},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return t<0?t+7:t},getLastDayOfMonth:function(t){return e.getLastDateOfMonth(t).getDay()},getFirstDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),e.getDaysInMonth(t))},getDaysInMonth:function(){var t=[31,28,31,30,31,30,31,31,30,31,30,31];return function(n){var r=n.getMonth();return r==1&&e.isLeapYear(n)?29:t[r]}}(),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new Date(e.getTime())},isDST:function(e){return(new Date(e.getFullYear(),0,1)).getTimezoneOffset()!=e.getTimezoneOffset()},clearTime:function(t,n){if(n){return Ext.Date.clearTime(Ext.Date.clone(t))}var r=t.getDate(),i,s;t.setHours(0);t.setMinutes(0);t.setSeconds(0);t.setMilliseconds(0);if(t.getDate()!=r){for(i=1,s=e.add(t,Ext.Date.HOUR,i);s.getDate()!=r;i++,s=e.add(t,Ext.Date.HOUR,i));t.setDate(r);t.setHours(s.getHours())}return t},add:function(t,n,r){var i=Ext.Date.clone(t),s=Ext.Date,o,u,a=0;if(!n||r===0){return i}u=r-parseInt(r,10);r=parseInt(r,10);if(r){switch(n.toLowerCase()){case Ext.Date.MILLI:i.setTime(i.getTime()+r);break;case Ext.Date.SECOND:i.setTime(i.getTime()+r*1e3);break;case Ext.Date.MINUTE:i.setTime(i.getTime()+r*60*1e3);break;case Ext.Date.HOUR:i.setTime(i.getTime()+r*60*60*1e3);break;case Ext.Date.DAY:i.setDate(i.getDate()+r);break;case Ext.Date.MONTH:o=t.getDate();if(o>28){o=Math.min(o,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(t),Ext.Date.MONTH,r)).getDate())}i.setDate(o);i.setMonth(t.getMonth()+r);break;case Ext.Date.YEAR:o=t.getDate();if(o>28){o=Math.min(o,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(t),Ext.Date.YEAR,r)).getDate())}i.setDate(o);i.setFullYear(t.getFullYear()+r);break}}if(u){switch(n.toLowerCase()){case Ext.Date.MILLI:a=1;break;case Ext.Date.SECOND:a=1e3;break;case Ext.Date.MINUTE:a=1e3*60;break;case Ext.Date.HOUR:a=1e3*60*60;break;case Ext.Date.DAY:a=1e3*60*60*24;break;case Ext.Date.MONTH:o=e.getDaysInMonth(i);a=1e3*60*60*24*o;break;case Ext.Date.YEAR:o=e.isLeapYear(i)?366:365;a=1e3*60*60*24*o;break}if(a){i.setTime(i.getTime()+a*u)}}return i},subtract:function(t,n,r){return e.add(t,n,-r)},between:function(e,t,n){var r=e.getTime();return t.getTime()<=r&&r<=n.getTime()},compat:function(){var t=window.Date,n,r=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],i=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],s=r.length,o=i.length,u,a,f;for(f=0;f<s;f++){u=r[f];t[u]=e[u]}for(n=0;n<o;n++){a=i[n];t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this);return e[a].apply(e,t)}}},diff:function(e,t,n){var r=Ext.Date,i,s=+t-e;switch(n){case r.MILLI:return s;case r.SECOND:return Math.floor(s/1e3);case r.MINUTE:return Math.floor(s/6e4);case r.HOUR:return Math.floor(s/36e5);case r.DAY:return Math.floor(s/864e5);case"w":return Math.floor(s/6048e5);case r.MONTH:i=t.getFullYear()*12+t.getMonth()-(e.getFullYear()*12+e.getMonth());if(Ext.Date.add(e,n,i)>t){return i-1}else{return i};case r.YEAR:i=t.getFullYear()-e.getFullYear();if(Ext.Date.add(e,n,i)>t){return i-1}else{return i}}},align:function(e,t,n){var r=new Date(+e);switch(t.toLowerCase()){case Ext.Date.MILLI:return r;break;case Ext.Date.SECOND:r.setUTCSeconds(r.getUTCSeconds()-r.getUTCSeconds()%n);r.setUTCMilliseconds(0);return r;break;case Ext.Date.MINUTE:r.setUTCMinutes(r.getUTCMinutes()-r.getUTCMinutes()%n);r.setUTCSeconds(0);r.setUTCMilliseconds(0);return r;break;case Ext.Date.HOUR:r.setUTCHours(r.getUTCHours()-r.getUTCHours()%n);r.setUTCMinutes(0);r.setUTCSeconds(0);r.setUTCMilliseconds(0);return r;break;case Ext.Date.DAY:if(n==7||n==14){r.setUTCDate(r.getUTCDate()-r.getUTCDay()+1)}r.setUTCHours(0);r.setUTCMinutes(0);r.setUTCSeconds(0);r.setUTCMilliseconds(0);return r;break;case Ext.Date.MONTH:r.setUTCMonth(r.getUTCMonth()-(r.getUTCMonth()-1)%n,1);r.setUTCHours(0);r.setUTCMinutes(0);r.setUTCSeconds(0);r.setUTCMilliseconds(0);return r;break;case Ext.Date.YEAR:r.setUTCFullYear(r.getUTCFullYear()-r.getUTCFullYear()%n,1,1);r.setUTCHours(0);r.setUTCMinutes(0);r.setUTCSeconds(0);r.setUTCMilliseconds(0);return e;break}}}}();Ext.Function=function(){var e=0,t,n=[],r=[],i=0,s={},o=window,u=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||function(t){var n=Ext.now(),r=Math.max(0,16-(n-e)),i=o.setTimeout(function(){t(n+r)},r);e=n+r;return i},a=function(){var e=n.length,i,o,u;t=null;for(o=0;o<e;o++){u=n[o];i=u[3];if(s[i]){u[0].apply(u[1]||Ext.global,u[2]||r);delete s[i]}}n=n.slice(e)},f=function(){Ext.elevateFunction(a)},l={flexSetter:function(e){return function(t,n){var r,i;if(t!==null){if(typeof t!=="string"){for(r in t){if(t.hasOwnProperty(r)){e.call(this,r,t[r])}}if(Ext.enumerables){for(i=Ext.enumerables.length;i--;){r=Ext.enumerables[i];if(t.hasOwnProperty(r)){e.call(this,r,t[r])}}}}else{e.call(this,t,n)}}return this}},bind:function(e,t,n,r){if(arguments.length===2){return function(){return e.apply(t,arguments)}}var i=e,s=Array.prototype.slice;return function(){var e=n||arguments;if(r===true){e=s.call(arguments,0);e=e.concat(n)}else if(typeof r=="number"){e=s.call(arguments,0);Ext.Array.insert(e,r,n)}return i.apply(t||Ext.global,e)}},bindCallback:function(e,t,n,r,i){return function(){var s=Ext.Array.slice(arguments);return Ext.callback(e,t,n?n.concat(s):s,r,i)}},pass:function(e,t,n){if(!Ext.isArray(t)){if(Ext.isIterable(t)){t=Ext.Array.clone(t)}else{t=t!==undefined?[t]:[]}}return function(){var r=t.slice();r.push.apply(r,arguments);return e.apply(n||this,r)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(e,t,n,r){if(!Ext.isFunction(t)){return e}else{r=Ext.isDefined(r)?r:null;return function(){var i=this,s=arguments;t.target=i;t.method=e;return t.apply(n||i||Ext.global,s)!==false?e.apply(i||Ext.global,s):r}}},createDelayed:function(e,t,n,r,i){if(n||r){e=Ext.Function.bind(e,n,r,i)}return function(){var n=this,r=Array.prototype.slice.call(arguments);setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(e,n,r)}else{e.apply(n,r)}},t)}},defer:function(e,t,n,r,i){e=Ext.Function.bind(e,n,r,i);if(t>0){return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(e)}else{e()}},t)}e();return 0},interval:function(e,t,n,r,i){e=Ext.Function.bind(e,n,r,i);return setInterval(function(){if(Ext.elevateFunction){Ext.elevateFunction(e)}else{e()}},t)},createSequence:function(e,t,n){if(!t){return e}else{return function(){var r=e.apply(this,arguments);t.apply(n||this,arguments);return r}}},createBuffered:function(e,t,n,r){var i;return function(){var s=r||Array.prototype.slice.call(arguments,0),o=n||this;if(i){clearTimeout(i)}i=setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(e,o,s)}else{e.apply(o,s)}},t)}},createAnimationFrame:function(e,t,n,r){var i;r=r||3;return function(){var s=n||Array.prototype.slice.call(arguments,0);t=t||this;if(r===3&&i){l.cancelAnimationFrame(i)}if(r&1||!i){i=l.requestAnimationFrame(function(){i=null;e.apply(t,s)})}}},requestAnimationFrame:function(e,r,o){var l=++i,c=Array.prototype.slice.call(arguments,0);c[3]=l;s[l]=1;n.push(c);if(!t){t=u(Ext.elevateFunction?f:a)}return l},cancelAnimationFrame:function(e){delete s[e]},createThrottled:function(e,t,n){var r=0,i,s,o,u=function(){if(Ext.elevateFunction){Ext.elevateFunction(e,n,s)}else{e.apply(n,s)}r=Ext.now();o=null};return function(){if(!n){n=this}i=Ext.now()-r;s=arguments;if(i>=t){clearTimeout(o);u()}else if(!o){o=Ext.defer(u,t-i)}}},createBarrier:function(e,t,n){return function(){if(!--e){t.apply(n,arguments)}}},interceptBefore:function(e,t,n,r){var i=e[t]||Ext.emptyFn;return e[t]=function(){var e=n.apply(r||this,arguments);i.apply(this,arguments);return e}},interceptAfter:function(e,t,n,r){var i=e[t]||Ext.emptyFn;return e[t]=function(){i.apply(this,arguments);return n.apply(r||this,arguments)}},makeCallback:function(e,t){if(!t[e]){if(t.$className){Ext.Error.raise('No method "'+e+'" on '+t.$className)}Ext.Error.raise('No method "'+e+'"')}return function(){return t[e].apply(t,arguments)}}};Ext.defer=l.defer;Ext.interval=l.interval;Ext.pass=l.pass;Ext.bind=l.bind;Ext.deferCallback=l.requestAnimationFrame;return l}();Ext.Number=new function(){var e=this,t=.9.toFixed()!=="1",n=Math,r={count:false,inclusive:false,wrap:true};Ext.apply(e,{Clip:{DEFAULT:r,COUNT:Ext.applyIf({count:true},r),INCLUSIVE:Ext.applyIf({inclusive:true},r),NOWRAP:Ext.applyIf({wrap:false},r)},clipIndices:function(e,t,n){n=n||r;var i=0,s=n.wrap,o,u,a;t=t||[];for(a=0;a<2;++a){o=u;u=t[a];if(u==null){u=i}else if(a&&n.count){u+=o;u=u>e?e:u}else{if(s){u=u<0?e+u:u}if(a&&n.inclusive){++u}u=u<0?0:u>e?e:u}i=e}t[0]=o;t[1]=u<o?o:u;return t},constrain:function(e,t,n){var r=parseFloat(e);if(t===null){t=e}if(n===null){n=e}return r<t?t:r>n?n:r},snap:function(t,n,r,i){var s;if(t===undefined||t<r){return r||0}if(n){s=t%n;if(s!==0){t-=s;if(s*2>=n){t+=n}else if(s*2<-n){t-=n}}}return e.constrain(t,r,i)},snapInRange:function(t,n,r,i){var s;r=r||0;if(t===undefined||t<r){return r}if(n&&(s=(t-r)%n)){t-=s;s*=2;if(s>=n){t+=n}}if(i!==undefined){if(t>(i=e.snapInRange(i,n,r))){t=i}}return t},toFixed:t?function(e,t){t=t||0;var r=n.pow(10,t);return(n.round(e*r)/r).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){if(isFinite(e)){e=parseFloat(e)}return!isNaN(e)?e:t},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}});Ext.num=function(){return e.from.apply(this,arguments)}};(function(){var e=function(){},t=Ext.Object={chain:Object.create||function(t){e.prototype=t;var n=new e;e.prototype=null;return n},clear:function(e){for(var t in e){delete e[t]}return e},freeze:Object.freeze?function(e,n){if(e&&typeof e==="object"&&!Object.isFrozen(e)){Object.freeze(e);if(n){for(var r in e){t.freeze(e[r],n)}}}return e}:Ext.identityFn,toQueryObjects:function(e,n,r){var i=t.toQueryObjects,s=[],o,u;if(Ext.isArray(n)){for(o=0,u=n.length;o<u;o++){if(r){s=s.concat(i(e+"["+o+"]",n[o],true))}else{s.push({name:e,value:n[o]})}}}else if(Ext.isObject(n)){for(o in n){if(n.hasOwnProperty(o)){if(r){s=s.concat(i(e+"["+o+"]",n[o],true))}else{s.push({name:e,value:n[o]})}}}}else{s.push({name:e,value:n})}return s},toQueryString:function(e,n){var r=[],i=[],s,o,u,a,f;for(s in e){if(e.hasOwnProperty(s)){r=r.concat(t.toQueryObjects(s,e[s],n))}}for(o=0,u=r.length;o<u;o++){a=r[o];f=a.value;if(Ext.isEmpty(f)){f=""}else if(Ext.isDate(f)){f=Ext.Date.toString(f)}i.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(f)))}return i.join("&")},fromQueryString:function(e,t){var n=e.replace(/^\?/,"").split("&"),r={},i,s,o,u,a,f,l,c,h,p,d,v,m,g;for(a=0,f=n.length;a<f;a++){l=n[a];if(l.length>0){s=l.split("=");o=decodeURIComponent(s[0]);u=s[1]!==undefined?decodeURIComponent(s[1]):"";if(!t){if(r.hasOwnProperty(o)){if(!Ext.isArray(r[o])){r[o]=[r[o]]}r[o].push(u)}else{r[o]=u}}else{p=o.match(/(\[):?([^\]]*)\]/g);d=o.match(/^([^\[]+)/);if(!d){throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+l+'"')}o=d[0];v=[];if(p===null){r[o]=u;continue}for(c=0,h=p.length;c<h;c++){m=p[c];m=m.length===2?"":m.substring(1,m.length-1);v.push(m)}v.unshift(o);i=r;for(c=0,h=v.length;c<h;c++){m=v[c];if(c===h-1){if(Ext.isArray(i)&&m===""){i.push(u)}else{i[m]=u}}else{if(i[m]===undefined||typeof i[m]==="string"){g=v[c+1];i[m]=Ext.isNumeric(g)||g===""?[]:{}}i=i[m]}}}}}return r},each:function(e,t,n){var r=Ext.enumerables,i,s;n=n||e;for(s in e){if(e.hasOwnProperty(s)){if(t.call(n,s,e[s],e)===false){return}}}if(r){for(i=r.length;i--;){if(e.hasOwnProperty(s=r[i])){if(t.call(n,s,e[s],e)===false){return}}}}},eachValue:function(e,t,n){var r=Ext.enumerables,i,s;n=n||e;for(s in e){if(e.hasOwnProperty(s)){if(t.call(n,e[s])===false){return}}}if(r){for(i=r.length;i--;){if(e.hasOwnProperty(s=r[i])){if(t.call(n,e[s])===false){return}}}}},merge:function(e){var n=1,r=arguments.length,i=t.merge,s=Ext.clone,o,u,a,f;for(;n<r;n++){o=arguments[n];for(u in o){a=o[u];if(a&&a.constructor===Object){f=e[u];if(f&&f.constructor===Object){i(f,a)}else{e[u]=s(a)}}else{e[u]=a}}}return e},mergeIf:function(e){var t=1,n=arguments.length,r=Ext.clone,i,s,o;for(;t<n;t++){i=arguments[t];for(s in i){if(!(s in e)){o=i[s];if(o&&o.constructor===Object){e[s]=r(o)}else{e[s]=o}}}}return e},getKey:function(e,t){for(var n in e){if(e.hasOwnProperty(n)&&e[n]===t){return n}}return null},getValues:function(e){var t=[],n;for(n in e){if(e.hasOwnProperty(n)){t.push(e[n])}}return t},getKeys:typeof Object.keys=="function"?function(e){if(!e){return[]}return Object.keys(e)}:function(e){var t=[],n;for(n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t},getSize:function(e){var t=0,n;for(n in e){if(e.hasOwnProperty(n)){t++}}return t},isEmpty:function(e){for(var t in e){if(e.hasOwnProperty(t)){return false}}return true},equals:function(){var e=function(e,t){var n;for(n in e){if(e.hasOwnProperty(n)){if(e[n]!==t[n]){return false}}}return true};return function(t,n){if(t===n){return true}if(t&&n){return e(t,n)&&e(n,t)}else if(!t&&!n){return t===n}else{return false}}}(),fork:function(e){var n=Ext.Array,r,i,s;if(e&&e.constructor===Object){r=t.chain(e);for(i in e){s=e[i];if(s){if(s.constructor===Object){r[i]=t.fork(s)}else if(s instanceof Array){r[i]=Ext.Array.clone(s)}}}}else{r=e}return r},defineProperty:"defineProperty"in Object?Object.defineProperty:function(e,t,n){if(!Object.prototype.__defineGetter__){return}if(n.get){e.__defineGetter__(t,n.get)}if(n.set){e.__defineSetter__(t,n.set)}},classify:function(e){var n=e,r=[],i={},s=function(){var e=0,t=r.length,n;for(;e<t;e++){n=r[e];this[n]=new i[n]}},o,u;for(o in e){if(e.hasOwnProperty(o)){u=e[o];if(u&&u.constructor===Object){r.push(o);i[o]=t.classify(u)}}}s.prototype=n;return s}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf})();Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:function(){var e=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,t=/([\W]{1})/g,n=/^(\d)/g,r=function(e,t){return"\\"+t},i=function(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "};return function(s){return e.test(s)?s:s.replace(t,r).replace(n,i)}}(),callback:function(e,t,n,r,i,s){if(!e){return}var o=t in Ext._namedScopes;if(e.charAt){if((!t||o)&&i){t=i.resolveListenerScope(o?t:s)}if(!t||!Ext.isObject(t)){Ext.Error.raise('Named method "'+e+'" requires a scope object')}if(!Ext.isFunction(t[e])){Ext.Error.raise('No method named "'+e+'" on '+(t.$className||"scope object"))}e=t[e]}else if(o){t=s||i}else if(!t){t=i}var u;if(e&&Ext.isFunction(e)){t=t||Ext.global;if(r){Ext.defer(e,r,t,n)}else if(n){u=e.apply(t,n)}else{u=e.call(t)}}return u},coerce:function(e,t){var n=Ext.typeOf(e),r=Ext.typeOf(t),i=typeof e==="string";if(n!==r){switch(r){case"string":return String(e);case"number":return Number(e);case"boolean":return i&&(!e||e==="false")?false:Boolean(e);case"null":return i&&(!e||e==="null")?null:e;case"undefined":return i&&(!e||e==="undefined")?undefined:e;case"date":return i&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}}return e},copyTo:function(e,t,n,r){if(typeof n=="string"){n=n.split(/[,;\s]/)}var i,s=n?n.length:0,o;for(i=0;i<s;i++){o=n[i];if(r||t.hasOwnProperty(o)){e[o]=t[o]}}return e},extend:function(){var e=Object.prototype.constructor,t=function(e){for(var t in e){if(!e.hasOwnProperty(t)){continue}this[t]=e[t]}};return function(n,r,i){if(Ext.isObject(r)){i=r;r=n;n=i.constructor!==e?i.constructor:function(){r.apply(this,arguments)}}if(!r){Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."})}var s=function(){},o,u=r.prototype;s.prototype=u;o=n.prototype=new s;o.constructor=n;n.superclass=u;if(u.constructor===e){u.constructor=r}n.override=function(e){Ext.override(n,e)};o.override=t;o.proto=o;n.override(i);n.extend=function(e){return Ext.extend(n,e)};return n}}(),iterate:function(e,t,n){if(Ext.isEmpty(e)){return}if(n===undefined){n=e}if(Ext.isIterable(e)){Ext.Array.each.call(Ext.Array,e,t,n)}else{Ext.Object.each.call(Ext.Object,e,t,n)}},urlEncode:function(){var e=Ext.Array.from(arguments),t="";if(Ext.isString(e[1])){t=e[1]+"&";e[1]=false}return t+Ext.Object.toQueryString.apply(Ext.Object,e)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(e){if(!Ext.isDomReady){Ext.Error.raise("getScrollbarSize called before DomReady")}var t=Ext._scrollbarSize;if(e||!t){var n=document.body,r=document.createElement("div");r.style.width=r.style.height="100px";r.style.overflow="scroll";r.style.position="absolute";n.appendChild(r);Ext._scrollbarSize=t={width:r.offsetWidth-r.clientWidth,height:r.offsetHeight-r.clientHeight};n.removeChild(r)}return t},typeOf:function(){var e=/\S/,t=Object.prototype.toString,n={number:1,string:1,"boolean":1,"undefined":1},r={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(i){if(i===null){return"null"}var s=typeof i,o,u;if(n[s]){return s}o=r[u=t.call(i)];if(o){return o}if(s==="function"){return"function"}if(s==="object"){if(i.nodeType!==undefined){if(i.nodeType===3){return e.test(i.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of "'+i+'".'});return u}}(),factory:function(e,t,n,r){var i=Ext.ClassManager,s;if(!e||e.isInstance){if(n&&n!==e){n.destroy()}return e}if(r){if(typeof e=="string"){return i.instantiateByAlias(r+"."+e)}else if(Ext.isObject(e)&&"type"in e){return i.instantiateByAlias(r+"."+e.type,e)}}if(e===true){return n||Ext.create(t)}if(!Ext.isObject(e)){Ext.Logger.error("Invalid config, must be a valid config object")}if("xtype"in e){s=i.instantiateByAlias("widget."+e.xtype,e)}else if("xclass"in e){s=Ext.create(e.xclass,e)}if(s){if(n){n.destroy()}return s}if(n){return n.setConfig(e)}return Ext.create(t,e)},log:function(){function t(t,n,r,i){var s,o,u,a,f,l,c=[];if(Ext.isArray(t)){f="[";l="]"}else if(Ext.isObject(t)){f="{";l="}"}if(!r){r=3}if(n>r){return f+"..."+l}n=n||1;var h=(new Array(n)).join("    ");for(a in t){if(t.hasOwnProperty(a)){u=t[a];o=typeof u;if(o=="function"){if(!i){continue}s=o}else if(o=="undefined"){s=o}else if(u===null||e.test(o)||Ext.isDate(u)){s=Ext.encode(u)}else if(Ext.isArray(u)){s=this.dumpObject(u,n+1,r,i)}else if(Ext.isObject(u)){s=this.dumpObject(u,n+1,r,i)}else{s=o}c.push(h+a+": "+s)}}if(c.length){return f+"\n    "+c.join(",\n    ")+"\n"+h+l}return f+l}function n(e){var r,i,s=Ext.global.console,o="log",u=n.indent||0,a,f,l;n.indent=u;if(typeof e!="string"){r=e;e=r.msg||"";o=r.level||o;i=r.dump;a=r.stack;if(r.indent){++n.indent}else if(r.outdent){n.indent=u=Math.max(u-1,0)}if(i&&!(s&&s.dir)){e+=t(i);i=null}}if(arguments.length>1){e+=Array.prototype.slice.call(arguments,1).join("")}e=u?Ext.String.repeat(" ",n.indentSize*u)+e:e;if(o!="log"){e="["+o.charAt(0).toUpperCase()+"] "+e}if(s){if(s[o]){s[o](e)}else{s.log(e)}if(i){s.dir(i)}if(a&&s.trace){if(!s.firebug||o!="error"){s.trace()}}}else if(Ext.isOpera){opera.postError(e)}else{f=n.out;l=n.max;if(f.length>=l){Ext.Array.erase(f,0,f.length-3*Math.floor(l/4))}f.push(e)}++n.count;++n.counters[o]}function r(e,t){if(typeof t[0]=="string"){t.unshift({})}t[0].level=e;n.apply(this,t)}var e=/string|number|boolean/;n.error=function(){r("error",Array.prototype.slice.call(arguments))};n.info=function(){r("info",Array.prototype.slice.call(arguments))};n.warn=function(){r("warn",Array.prototype.slice.call(arguments))};n.count=0;n.counters={error:0,warn:0,info:0,log:0};n.indentSize=2;n.out=[];n.max=750;return n}()||function(){var e=function(){};e.info=e.warn=e.error=Ext.emptyFn;return e}()});(function(){var e=[""],t=/([^\d\.])/,n=/[^\d]/g,r=/[\-+]/g,i=/\s/g,s=/_/g,o;Ext.Version=o=function(e,i){var u=this,a=u.padModes,f,l,c,h,p,d,v;if(e.isVersion){e=e.version}u.version=v=String(e).toLowerCase().replace(s,".").replace(r,"");f=v.charAt(0);if(f in a){v=v.substring(1);c=a[f]}else{c=i?a[i]:0}u.pad=c;d=v.search(t);u.shortVersion=v;if(d!==-1){u.release=p=v.substr(d,e.length);u.shortVersion=v.substr(0,d);p=o.releaseValueMap[p]||p}u.releaseValue=p||c;u.shortVersion=u.shortVersion.replace(n,"");u.parts=h=v.split(".");for(l=h.length;l--;){h[l]=parseInt(h[l],10)}if(c===Infinity){h.push(c)}u.major=h[0]||c;u.minor=h[1]||c;u.patch=h[2]||c;u.build=h[3]||c;return u};o.prototype={isVersion:true,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(e){var t=this,n=t.pad,r=t.parts,i=r.length,s=e.isVersion?e:new o(e),u=s.pad,a=s.parts,f=a.length,l=Math.max(i,f),c,h,p;for(c=0;c<l;c++){h=c<i?r[c]:n;p=c<f?a[c]:u;if(h<p){return-1}if(h>p){return 1}}h=t.releaseValue;p=s.releaseValue;if(h<p){return-1}if(h>p){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(e){return this.compareTo(e)>0},isGreaterThanOrEqual:function(e){return this.compareTo(e)>=0},isLessThan:function(e){return this.compareTo(e)<0},isLessThanOrEqual:function(e){return this.compareTo(e)<=0},equals:function(e){return this.compareTo(e)===0},match:function(e){e=String(e);return this.version.substr(0,e.length)===e},toArray:function(){var e=this;return[e.getMajor(),e.getMinor(),e.getPatch(),e.getBuild(),e.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(e){return this.compareTo(e)>0},lt:function(e){return this.compareTo(e)<0},gtEq:function(e){return this.compareTo(e)>=0},ltEq:function(e){return this.compareTo(e)<=0}};Ext.apply(o,{aliases:{from:{extjs:"ext",core:"sencha-core"},to:{ext:["extjs"],"sencha-core":["core"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return!e?0:isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10)},compare:function(e,t){var n=e.isVersion?e:new o(e);return n.compareTo(t)},set:function(e,t,n){var r=o.aliases.to[t],i=n.isVersion?n:new o(n),s;e[t]=i;if(r){for(s=r.length;s-->0;){e[r[s]]=i}}return i}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(e){var t=Ext.compatVersions,n;if(!e){n=t.ext||t.touch||t.core}else{n=t[o.aliases.from[e]||e]}return n||Ext.getVersion(e)},setCompatVersion:function(e,t){o.set(Ext.compatVersions,e,t)},setVersion:function(e,t){Ext.lastRegisteredVersion=o.set(Ext.versions,e,t);return this},getVersion:function(e){var t=Ext.versions;if(!e){return t.ext||t.touch||t.core}return t[o.aliases.from[e]||e]},checkVersion:function(t,n){var r=Ext.isArray(t),s=o.aliases.from,u=r?t:e,a=u.length,f=Ext.versions,l=f.ext||f.touch,c,h,p,d,v,m,g,y,b;if(!r){e[0]=t}for(c=0;c<a;++c){if(!Ext.isString(g=u[c])){p=Ext.checkVersion(g.and||g.or,!g.or);if(g.not){p=!p}}else{if(g.indexOf(" ")>=0){g=g.replace(i,"")}h=g.indexOf("@");if(h<0){y=g;b=l}else{m=g.substring(0,h);if(!(b=f[s[m]||m])){if(n){return false}continue}y=g.substring(h+1)}h=y.indexOf("-");if(h<0){if(y.charAt(h=y.length-1)==="+"){d=y.substring(0,h);v=null}else{d=v=y}}else if(h>0){d=y.substring(0,h);v=y.substring(h+1)}else{d=null;v=y.substring(h+1)}p=true;if(d){d=new o(d,"~");p=d.ltEq(b)}if(p&&v){v=new o(v,"~");p=v.gtEq(b)}}if(p){if(!n){return true}}else if(n){return false}}return!!n},deprecate:function(e,t,n,r){if(o.compare(Ext.getVersion(e),t)<1){n.call(r)}}})})();(function(e){var t=e&&e.packages||{},n=e&&e.compatibility,r,i;for(r in t){i=t[r];Ext.setVersion(r,i.version)}if(n){if(Ext.isString(n)){Ext.setCompatVersion("core",n)}else{for(r in n){Ext.setCompatVersion(r,n[r])}}}if(!t.ext&&!t.touch){Ext.setVersion("ext","5.0.1255.1189");Ext.setVersion("sencha-core","5.0.1255.1189")}})(Ext.manifest);Ext.Config=function(e){var t=this,n=e.charAt(0).toUpperCase()+e.substr(1);t.name=e;t.names={internal:"_"+e,initializing:"is"+n+"Initializing",apply:"apply"+n,update:"update"+n,get:"get"+n,set:"set"+n,initGet:"initGet"+n,doSet:"doSet"+n,changeEvent:e.toLowerCase()+"change"};t.root=t};Ext.Config.map={};Ext.Config.get=function(e){var t=Ext.Config.map,n=t[e]||(t[e]=new Ext.Config(e));return n};Ext.Config.prototype={self:Ext.Config,isConfig:true,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getInternalName:function(e){return e.$configPrefixed?this.names.internal:this.name},mergeNew:function(e,t,n,r){var i,s;if(!t){i=e}else if(!e){i=t}else{i=Ext.Object.chain(t);for(s in e){if(!r||!(s in i)){i[s]=e[s]}}}return i},mergeSets:function(e,t,n){var r=t?Ext.Object.chain(t):{},i,s;if(e instanceof Array){for(i=e.length;i--;){s=e[i];if(!n||!(s in r)){r[s]=true}}}else if(e){if(e.constructor===Object){for(i in e){s=e[i];if(!n||!(i in r)){r[i]=s}}}else if(!n||!(e in r)){r[e]=true}}return r},makeGetter:function(){var e=this.name,t=this.names.internal;return function(){var n=this.$configPrefixed?t:e;return this[n]}},makeInitGetter:function(){var e=this.name,t=this.names,n=t.set,r=t.get,i=t.initializing;return function(){var t=this;t[i]=true;delete t[r];t[n](t.config[e]);delete t[i];return t[r].apply(t,arguments)}},makeSetter:function(){var e=this.name,t=this.names,n=t.internal,r=t.get,i=t.apply,s=t.update,o;o=function(t){var o=this,u=o.$configPrefixed?n:e,a=o[u];delete o[r];if(!o[i]||(t=o[i](t,a))!==undefined){if(t!==(a=o[u])){o[u]=t;if(o[s]){o[s](t,a)}}}return o};o.$isDefault=true;return o}};(function(){var e=Ext.Config,t=e.map,n=Ext.Object;Ext.Configurator=function(e){var t=this,r=e.prototype,i=e.superclass?e.superclass.self.$config:null;t.cls=e;if(i){t.configs=n.chain(i.configs);t.cachedConfigs=n.chain(i.cachedConfigs);t.initMap=n.chain(i.initMap);t.values=n.chain(i.values)}else{t.configs={};t.cachedConfigs={};t.initMap={};t.values={}}r.config=r.defaultConfig=t.values;e.$config=t};Ext.Configurator.prototype={self:Ext.Configurator,initList:null,add:function(t,r){var i=this,s=i.cls,o=i.configs,u=i.cachedConfigs,a=i.initMap,f=s.prototype,l=r&&r.$config.configs,c=i.values,h,p,d,v,m,g,y,b,w,E;for(y in t){E=t[y];h=E&&E.constructor===Object;p=h&&"$value"in E?E:null;if(p){d=!!p.cached;E=p.$value}v=p&&p.merge;m=o[y];if(m){if(r){v=m.merge;if(!v){continue}p=null}else{v=v||m.merge}if(!r&&d&&!u[y]){Ext.Error.raise("Redefining config as cached: "+y+" in class: "+s.$className)}g=c[y];if(v){E=v.call(m,E,g,s,r)}else if(h){if(g&&g.constructor===Object){E=n.merge({},g,E)}}}else{if(l){m=l[y];p=null}else{m=e.get(y)}o[y]=m;if(m.cached||d){u[y]=true}b=m.names;if(!f[w=b.get]){f[w]=m.getGetter()}if(!f[w=b.set]){f[w]=m.getSetter()}}if(p){if(m.owner!==s){o[y]=m=Ext.Object.chain(m);m.owner=s}Ext.apply(m,p);delete m.$value}if(E!==null){a[y]=true}else{if(f.$configPrefixed){f[o[y].names.internal]=null}else{f[o[y].name]=null}if(y in a){a[y]=false}}c[y]=E}},configure:function(e,t){var r=this,i=r.configs,s=r.initMap,o=r.initListMap,u=r.initList,a=r.cls.prototype,f=n.fork(r.values),l=!e.$configStrict,c=0,h=!u,p,d,v,m,g,y,b,w,E,S,x,T,N;if(h){r.initList=u=[];r.initListMap=o={};e.isFirstInstance=true;for(E in s){m=s[E];d=i[E];x=d.cached;if(m){w=d.names;S=f[E];if(!a[w.set].$isDefault||a[w.apply]||a[w.update]||typeof S==="object"){if(x){(p||(p=[])).push(d)}else{u.push(d);o[E]=true}e[w.get]=d.initGetter||d.getInitGetter()}else{a[d.getInternalName(a)]=S}}else if(x){a[d.getInternalName(a)]=undefined}}}b=p&&p.length;if(b){for(g=0;g<b;++g){y=p[g].getInternalName(a);e[y]=null}for(g=0;g<b;++g){w=(d=p[g]).names;v=w.get;if(e.hasOwnProperty(v)){e[w.set](f[d.name]);delete e[v]}}for(g=0;g<b;++g){y=p[g].getInternalName(a);a[y]=e[y];delete e[y]}}if(h){if(e.afterCachedConfig&&!e.afterCachedConfig.$nullFn){e.afterCachedConfig(t)}}e.isConfiguring=true;e.config=f;for(g=0,b=u.length;g<b;++g){d=u[g];e[d.names.get]=d.initGetter||d.getInitGetter()}if(e.transformInstanceConfig){t=e.transformInstanceConfig(t)}if(t){for(E in t){S=t[E];d=i[E];if(!d){if(l){e[E]=S}}else{if(!d.lazy){++c}if(!o[E]){e[d.names.get]=d.initGetter||d.getInitGetter()}T=d.merge;if(T){S=T.call(d,S,f[E],e)}else if(S&&S.constructor===Object){N=f[E];if(N&&N.constructor===Object){S=n.merge(f[E],S)}else{S=Ext.clone(S)}}}f[E]=S}}if(e.beforeInitConfig&&!e.beforeInitConfig.$nullFn){if(e.beforeInitConfig(t)===false){return}}if(t){for(E in t){if(!c){break}d=i[E];if(d&&!d.lazy){--c;w=d.names;v=w.get;if(e.hasOwnProperty(v)){e[w.set](f[E]);delete e[w.get]}}}}for(g=0,b=u.length;g<b;++g){d=u[g];w=d.names;v=w.get;if(!d.lazy&&e.hasOwnProperty(v)){e[w.set](f[d.name]);delete e[v]}}delete e.isConfiguring},getCurrentConfig:function(e){var n=e.defaultConfig,r={},i;for(i in n){r[i]=e[t[i].names.get]()}return r},merge:function(e,t,n){var r=this.configs,i,s,o,u,a;for(i in n){s=n[i];u=r[i];if(u){a=u.merge;if(a){s=a.call(u,s,t[i],e)}else if(s&&s.constructor===Object){o=t[i];if(o&&o.constructor===Object){s=Ext.Object.merge(o,s)}else{s=Ext.clone(s)}}}t[i]=s}return t},reconfigure:function(e,n,r){var i=e.config,s=e.initialConfig,o=[],u=e.$configStrict,a=this.configs,f=r&&r.defaults,l=r&&r.strict===false,c,h,p,d,v,m,g;for(v in n){if(f&&e.hasOwnProperty(v)){continue}i[v]=n[v];c=a[v];if(c){e[c.names.get]=c.initGetter||c.getInitGetter()}else if(u){if(v!=="type"){Ext.log.error('No such config "'+v+'" for class '+e.$className)}continue}o.push(v)}for(p=0,d=o.length;p<d;p++){v=o[p];c=a[v];if(c){m=c.names;h=m.get;if(e.hasOwnProperty(h)){e[m.set](n[v]);delete e[h]}}else if(!u){c=t[v]||Ext.Config.get(v);m=c.names;if(e[m.set]){e[m.set](n[v])}else if(l){e[v]=n[v]}else if(v!=="type"){Ext.Error.raise('Config "'+v+'" has no setter on class '+e.$className)}}}}}})();Ext.Base=function(e){var t=[],n,r=[],i=function(e,t){var n=this,r,i,s;if(e){i=Ext.Config.map[e];if(!i){Ext.Logger.error("Invalid property name for getter: '"+e+"' for '"+n.$className+"'.")}s=i.names.get;if(t&&n.hasOwnProperty(s)){r=n.config[e]}else{r=n[s]()}}else{r=n.getCurrentConfig()}return r},s=function(e,t,n){var r='"'+e+'" is deprecated.';if(n){r+=" "+n}else if(t){r+=' Please use "'+t+'" instead.'}return function(){Ext.Error.raise(r)}},o=function(e,t,n,r){if(!r){r='"'+t+'" is deprecated.'}if(n){r+=' Please use "'+n+'" instead.'}if(r){Ext.Object.defineProperty(e,t,{get:function(){Ext.Error.raise(r)},set:function(e){Ext.Error.raise(r)},configurable:true})}},u=function(e){return function(){return this[e].apply(this,arguments)}},a=Ext.Version,f=/^\d/,l={},c={},h=function(){},p=h.prototype;Ext.apply(h,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(e){var t=this,n=[],r=Ext.getCompatVersion(e.name),i=(t.$className||"")+"#",l,c,h,p,d,v,m,g,y,b,w,E,S,x;for(c in e){if(f.test(c)){x=new Ext.Version(c);x.deprecations=e[c];n.push(x)}}n.sort(a.compare);for(h=n.length;h--;){l=(x=n[h]).deprecations;d=t.prototype;S=l.statics;v=r&&r.lt(x);if(!v){}else if(!v){break}while(l){y=l.methods;if(y){for(b in y){E=y[b];g=null;if(!E){Ext.Assert.isNotDefinedProp(d,b);g=s(i+b)}else if(Ext.isString(E)){Ext.Assert.isNotDefinedProp(d,b);Ext.Assert.isDefinedProp(d,E);if(v){g=u(E)}else{g=s(i+b,E)}}else{p="";if(E.message||E.fn){p=E.message;E=E.fn}m=d.hasOwnProperty(b)&&d[b];if(v&&E){E.$owner=t;E.$name=b;E.displayName=i+b;if(m){E.$previous=m}g=E}else if(!m){g=s(i+b,null,p)}}if(g){d[b]=g}}}y=l.properties;if(y&&!v){for(b in y){w=y[b];if(Ext.isString(w)){o(d,i+b,w)}else if(w&&w.message){o(d,i+b,null,w.message)}else{o(d,i+b)}}}l=S;S=null;d=t}}},extend:function(e){var t=this,n=e.prototype,r,i,s,o,u;r=t.prototype=Ext.Object.chain(n);r.self=t;t.superclass=r.superclass=n;if(!e.$isClass){for(i in p){if(i in r){r[i]=p[i]}}}u=n.$inheritableStatics;if(u){for(i=0,s=u.length;i<s;i++){o=u[i];if(!t.hasOwnProperty(o)){t[o]=e[o]}}}if(e.$onExtended){t.$onExtended=e.$onExtended.slice()}t.getConfigurator()},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var e=this.$onExtended,t=e.length,n,r;if(t>0){for(n=0;n<t;n++){r=e[n];r.fn.apply(r.scope||this,arguments)}}},onExtended:function(e,t){this.$onExtended.push({fn:e,scope:t});return this},addStatics:function(e){this.addMembers(e,true);return this},addInheritableStatics:function(e){var t,n,r=this.prototype,i,s;t=r.$inheritableStatics;n=r.$hasInheritableStatics;if(!t){t=r.$inheritableStatics=[];n=r.$hasInheritableStatics={}}var o=Ext.getClassName(this)+".";for(i in e){if(e.hasOwnProperty(i)){s=e[i];if(typeof s=="function"){s.displayName=o+i}this[i]=s;if(!n[i]){n[i]=true;t.push(i)}}}return this},addMembers:function(e,t,n){var r=this,i=Ext.Function.clone,s=t?r:r.prototype,o=!t&&s.defaultConfig,u=Ext.enumerables,a=e.privates,f,l,c,h,p,d,v;var m=(r.$className||"")+"#";if(a){delete e.privates;if(!t){v=a.statics;delete a.statics}d=a.privacy||n||"framework";r.addMembers(a,t,d);if(v){r.addMembers(v,true,d)}}for(p in e){if(e.hasOwnProperty(p)){h=e[p];if(h&&h.$nullFn&&n!==h.$privacy){Ext.Error.raise("Cannot use stock function for private method "+(r.$className?r.$className+"#":"")+p)}if(typeof h==="function"&&!h.$isClass&&!h.$nullFn){if(h.$owner){h=i(h)}if(s.hasOwnProperty(p)){h.$previous=s[p]}h.$owner=r;h.$name=p;h.displayName=m+p;var g=s[p];if(n){if(n===true){n="framework"}h.$privacy=n;if(g&&g.$privacy&&g.$privacy!==n){Ext.privacyViolation(r,g,h,t)}}else if(g&&g.$privacy){Ext.privacyViolation(r,g,h,t)}}else if(o&&p in o&&!s.config.hasOwnProperty(p)){(f||(f={}))[p]=h;continue}s[p]=h}}if(f){r.addConfig(f)}if(u){for(l=0,c=u.length;l<c;++l){if(e.hasOwnProperty(p=u[l])){h=e[p];if(h&&!h.$nullFn){if(h.$owner){h=i(h)}h.$owner=r;h.$name=p;h.displayName=m+p;if(s.hasOwnProperty(p)){h.$previous=s[p]}}s[p]=h}}}return this},addMember:function(e,t){l[e]=t;this.addMembers(l);delete l[e];return this},borrow:function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);var n=e.prototype,r={},i,s,o;t=Ext.Array.from(t);for(i=0,s=t.length;i<s;i++){o=t[i];r[o]=n[o]}return this.addMembers(r)},override:function(e){var t=this,n=e.statics,r=e.inheritableStatics,i=e.config,s=e.mixins,o=e.cachedConfig;if(n||r||i){e=Ext.apply({},e)}if(n){t.addMembers(n,true);delete e.statics}if(r){t.addInheritableStatics(r);delete e.inheritableStatics}if(i){t.addConfig(i);delete e.config}if(o){t.addCachedConfig(o);delete e.cachedConfig}delete e.mixins;t.addMembers(e);if(s){t.mixin(s)}return t},callParent:function(e){var n;return(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},callSuper:function(e){var n;return(n=this.callSuper.caller)&&((n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},mixin:function(e,t){var n=this,r,i,s,o,u,a,f,l,c;if(typeof e!=="string"){c=e;if(c instanceof Array){for(u=0,a=c.length;u<a;u++){r=c[u];n.mixin(r.prototype.mixinId||r.$className,r)}}else{for(var h in c){n.mixin(h,c[h])}}return}r=t.prototype;i=n.prototype;if(r.onClassMixedIn){r.onClassMixedIn.call(t,n)}if(!i.hasOwnProperty("mixins")){if("mixins"in i){i.mixins=Ext.Object.chain(i.mixins)}else{i.mixins={}}}for(s in r){l=r[s];if(s==="mixins"){Ext.applyIf(i.mixins,l)}else if(!(s==="mixinId"||s==="config")&&i[s]===undefined){i[s]=l}}o=r.$inheritableStatics;if(o){for(u=0,a=o.length;u<a;u++){f=o[u];if(!n.hasOwnProperty(f)){n[f]=t[f]}}}if("config"in r){n.addConfig(r.config,t)}i.mixins[e]=r;if(r.afterClassMixedIn){r.afterClassMixedIn.call(t,n)}return n},addConfig:function(e,t){var n=this.$config||this.getConfigurator();n.add(e,t)},addCachedConfig:function(e,t){var n={},r;for(r in e){n[r]={cached:true,$value:e[r]}}this.addConfig(n,t)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){c[e]=function(){return this[t].apply(this,arguments)};this.override(c);delete c[e]})});for(n in h){if(h.hasOwnProperty(n)){r.push(n)}}h.$staticMembers=r;h.getConfigurator();h.addMembers({$className:"Ext.Base",isInstance:true,$configPrefixed:true,$configStrict:true,isConfiguring:false,isFirstInstance:false,statics:function(){var e=this.statics.caller,t=this.self;if(!e){return t}return e.$owner},callParent:function(e){var n,r=(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name]);if(!r){n=this.callParent.caller;var i,s;if(!n.$owner){if(!n.caller){throw new Error("Attempting to call a protected method from the public scope, which is not allowed")}n=n.caller}i=n.$owner.superclass;s=n.$name;if(!(s in i)){throw new Error("this.callParent() was called but there's no such method ("+s+") found in the parent class ("+(Ext.getClassName(i)||"Object")+")")}}return r.apply(this,e||t)},callSuper:function(e){var n,r=(n=this.callSuper.caller)&&(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name];if(!r){n=this.callSuper.caller;var i,s;if(!n.$owner){if(!n.caller){throw new Error("Attempting to call a protected method from the public scope, which is not allowed")}n=n.caller}i=n.$owner.superclass;s=n.$name;if(!(s in i)){throw new Error("this.callSuper() was called but there's no such method ("+s+") found in the parent class ("+(Ext.getClassName(i)||"Object")+")")}}return r.apply(this,e||t)},self:h,constructor:function(){return this},getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(e){var t=this,n=t.getConfigurator();t.initConfig=Ext.emptyFn;t.initialConfig=e||{};n.configure(t,e);return t},beforeInitConfig:Ext.emptyFn,getConfig:i,setConfig:function(e,t,n){var r=this,i;if(e){if(typeof e==="string"){i={};i[e]=t}else{i=e}r.getConfigurator().reconfigure(r,i,n)}return r},getCurrentConfig:function(){var e=this.getConfigurator();return e.getCurrentConfig(this)},hasConfig:function(e){return e in this.defaultConfig},getInitialConfig:function(e){var t=this.config;if(!e){return t}return t[e]},$links:null,link:function(e,t){var n=this,r=n.$links||(n.$links={});r[e]=true;n[e]=t;return t},unlink:function(e){var t=this,n,r,i,s;if(!Ext.isArray(e)){Ext.Error.raise("Invalid argument - expected array of strings")}for(n=0,r=e.length;n<r;n++){i=e[n];s=t[i];if(s){if(s.isInstance&&!s.isDestroyed){s.destroy()}else if(s.parentNode&&"nodeType"in s){s.parentNode.removeChild(s)}}t[i]=null}return t},destroy:function(){var e=this,t=e.$links;e.destroy=Ext.emptyFn;e.isDestroyed=true;if(t){e.$links=null;e.unlink(Ext.Object.getKeys(t))}}});p.callOverridden=p.callParent;Ext.privacyViolation=function(e,t,n,r){var i=n.$name,s=t.$owner&&t.$owner.$className,o=r?"static ":"",u=n.$privacy?"Private "+o+n.$privacy+' method "'+i+'"':"Public "+o+'method "'+i+'"';if(e.$className){u=e.$className+": "+u}if(!t.$privacy){u+=s?" hides public method inherited from "+s:" hides inherited public method."}else{u+=s?" conflicts with private "+t.$privacy+" method declared by "+s:" conflicts with inherited private "+t.$privacy+" method."}var a=Ext.getCompatVersion();var f=Ext.getVersion();if(f&&a&&a.lt(f)){Ext.log.error(u)}else{Ext.Error.raise(u)}};return h}(Ext.Function.flexSetter);(function(){function r(e){function t(){return this.constructor.apply(this,arguments)||null}if(e){t.displayName=e}return t}var e,t=Ext.Base,n=t.$staticMembers;Ext.Class=e=function(t,n,r){if(typeof t!="function"){r=n;n=t;t=null}if(!n){n={}}t=e.create(t,n);e.process(t,n,r);return t};Ext.apply(e,{makeCtor:r,onBeforeCreated:function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,">> Ext.Class#onBeforeCreated",arguments);e.addMembers(t);n.onCreated.call(e,e);Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"<< Ext.Class#onBeforeCreated",arguments)},create:function(e,i){var s=n.length,o;if(!e){e=r(i.$className)}while(s--){o=n[s];e[o]=t[o]}return e},process:function(t,n,r){var i=n.preprocessors||e.defaultPreprocessors,s=this.preprocessors,o={onBeforeCreated:this.onBeforeCreated},u=[],a,f,l,c,h,p,d;delete n.preprocessors;t._classHooks=o;for(l=0,c=i.length;l<c;l++){a=i[l];if(typeof a=="string"){a=s[a];f=a.properties;if(f===true){u.push(a.fn)}else if(f){for(h=0,p=f.length;h<p;h++){d=f[h];if(n.hasOwnProperty(d)){u.push(a.fn);break}}}}else{u.push(a)}}o.onCreated=r?r:Ext.emptyFn;o.preprocessors=u;this.doProcess(t,n,o)},doProcess:function(e,t,n){var r=this,i=n.preprocessors,s=i.shift(),o=r.doProcess;for(;s;s=i.shift()){if(s.call(r,e,t,n,o)===false){return}}n.onBeforeCreated.apply(r,arguments)},preprocessors:{},registerPreprocessor:function(e,t,n,r,i){if(!r){r="last"}if(!n){n=[e]}this.preprocessors[e]={name:e,properties:n||false,fn:t};this.setDefaultPreprocessorPosition(e,r,i);return this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){this.defaultPreprocessors=Ext.Array.from(e);return this},setDefaultPreprocessorPosition:function(e,t,n){var r=this.defaultPreprocessors,i;if(typeof t=="string"){if(t==="first"){r.unshift(e);return this}else if(t==="last"){r.push(e);return this}t=t==="after"?1:-1}i=Ext.Array.indexOf(r,n);if(i!==-1){Ext.Array.splice(r,Math.max(0,i+t),0,e)}return this}});e.registerPreprocessor("extend",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#extendPreProcessor",arguments);var r=Ext.Base,i=r.prototype,s=t.extend,o,u,a;delete t.extend;if(s&&s!==Object){o=s}else{o=r}u=o.prototype;if(!o.$isClass){for(a in i){if(!u[a]){u[a]=i[a]}}}e.extend(o);e.triggerExtended.apply(e,arguments);if(t.onClassExtended){e.onExtended(t.onClassExtended,e);delete t.onClassExtended}},true);e.registerPreprocessor("privates",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#privatePreprocessor",arguments);var n=t.privates,r=n.statics,i=n.privacy||true;delete t.privates;delete n.statics;e.addMembers(n,false,i);if(r){e.addMembers(r,true,i)}});e.registerPreprocessor("statics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#staticsPreprocessor",arguments);e.addStatics(t.statics);delete t.statics});e.registerPreprocessor("inheritableStatics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#inheritableStaticsPreprocessor",arguments);e.addInheritableStatics(t.inheritableStatics);delete t.inheritableStatics});e.registerPreprocessor("platformConfig",function(e,t,n){var r=t.platformConfig,i=t.config||{},s=Ext.theme||(Ext.theme={name:"Default"}),o,u,a,f,l,c,h;delete t.platformConfig;s=s&&s.name;if(!Ext.filterPlatform){Ext.filterPlatform=function(e){function s(e){var t=/Mobile(\/|\s)/.test(e);return/(iPhone|iPod)/.test(e)||!/(Silk)/.test(e)&&/(Android)/.test(e)&&(/(Android 2)/.test(e)||t)||/(BlackBerry|BB)/.test(e)&&t||/(Windows Phone)/.test(e)}function o(e){return!s(e)&&(/iPad/.test(e)||/Android/.test(e)||/(RIM Tablet OS)/.test(e)||/MSIE 10/.test(e)&&/; Touch/.test(e))}var t=false,n=navigator.userAgent,r,i;e=[].concat(e);var u=window.location.search.substr(1),a=u.split("&"),f={},l,c;for(c=0;c<a.length;c++){var h=a[c].split("=");f[h[0]]=h[1]}l=f.platform;if(l){return e.indexOf(l)!=-1}for(r=0,i=e.length;r<i;r++){switch(e[r]){case"phone":t=s(n);break;case"tablet":t=o(n);break;case"desktop":t=!s(n)&&!o(n);break;case"ios":t=/(iPad|iPhone|iPod)/.test(n);break;case"android":t=/(Android|Silk)/.test(n);break;case"blackberry":t=/(BlackBerry|BB)/.test(n);break;case"safari":t=/Safari/.test(n)&&!/(BlackBerry|BB)/.test(n);break;case"chrome":t=/Chrome/.test(n);break;case"ie10":t=/MSIE 10/.test(n);break}if(t){return true}}return false}}for(f=0,l=r.length;f<l;f++){a=r[f];o=a.platform;delete a.platform;u=[].concat(a.theme);h=u.length;delete a.theme;if(o&&Ext.filterPlatform(o)){Ext.merge(i,a)}if(h){for(c=0;c<h;c++){if(Ext.theme.name==u[c]){Ext.merge(i,a)}}}}});e.registerPreprocessor("config",function(e,t){if(t.hasOwnProperty("$configPrefixed")){e.prototype.$configPrefixed=t.$configPrefixed}e.addConfig(t.config);delete t.config});e.registerPreprocessor("cachedConfig",function(e,t){if(t.hasOwnProperty("$configPrefixed")){e.prototype.$configPrefixed=t.$configPrefixed}e.addCachedConfig(t.cachedConfig);delete t.cachedConfig});e.registerPreprocessor("mixins",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor",arguments);var r=t.mixins,i=n.onCreated;delete t.mixins;n.onCreated=function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments);n.onCreated=i;e.mixin(r);return n.onCreated.apply(this,arguments)}});Ext.extend=function(t,n,r){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#extend-backwards-compatible",arguments);if(arguments.length===2&&Ext.isObject(n)){r=n;n=t;t=null}var i;if(!n){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}r.extend=n;r.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"];if(t){i=new e(t,r);i.prototype.constructor=t}else{i=new e(r)}i.prototype.override=function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}};return i}})();Ext.Inventory=function(){var e=this;e.names=[];e.paths={};e.alternateToName={};e.aliasToName={};e.nameToAliases={};e.nameToAlternates={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(e,t){return this.addMapping(e,t,this.aliasToName,this.nameToAliases)},addAlternate:function(e,t){return this.addMapping(e,t,this.alternateToName,this.nameToAlternates)},addMapping:function(e,t,n,r){var i=e.$className||e,s=i,o=this._array1,u,a,f,l,c,h;if(Ext.isString(i)){s={};s[i]=t}for(f in s){a=s[f];if(Ext.isString(a)){o[0]=a;a=o}c=a.length;h=r[f]||(r[f]=[]);for(l=0;l<c;++l){if(!(u=a[l])){continue}if(n[u]!==f){if(n[u]){Ext.log.warn("Overriding existing mapping: '"+u+"' From '"+n[u]+"' to '"+f+"'. Is this intentional?")}n[u]=f;h.push(u)}}}},getAliasesByName:function(e){return this.nameToAliases[e]||null},getAlternatesByName:function(e){return this.nameToAlternates[e]||null},getNameByAlias:function(e){return this.aliasToName[e]||""},getNameByAlternate:function(e){return this.alternateToName[e]||""},getNamesByExpression:function(e,t,n){var r=this,i=r.aliasToName,s=r.alternateToName,o=r.nameToAliases,u=r.nameToAlternates,a=n?t:{},f=[],l=Ext.isString(e)?[e]:e,c=l.length,h=r.wildcardRe,p,d,v,m,g,y,b;for(d=0;d<c;++d){if((p=l[d]).indexOf("*")<0){if(!(y=i[p])){if(!(y=s[p])){y=p}}if(!(y in a)&&!(t&&y in t)){a[y]=1;f.push(y)}}else{b=new RegExp("^"+p.replace(h,"(.*?)")+"$");for(y in o){if(!(y in a)&&!(t&&y in t)){if(!(m=b.test(y))){g=(v=o[y]).length;while(!m&&g-->0){m=b.test(v[g])}v=u[y];if(v&&!m){g=v.length;while(!m&&g-->0){m=b.test(v[g])}}}if(m){a[y]=1;f.push(y)}}}}}return f},getPath:function(e){var t=this,n=t.paths,r="",i;if(e in n){r=n[e]}else{i=t.getPrefix(e);if(i){e=e.substring(i.length+1);r=n[i];if(r){r+="/"}}r+=e.replace(t.dotRe,"/")+".js"}return r},getPrefix:function(e){if(e in this.paths){return e}var t=this.getPrefixes(),n=t.length,r,i;while(n-->0){r=(i=t[n]).length;if(r<e.length&&e.charAt(r)==="."&&i===e.substring(0,r)){return i}}return""},getPrefixes:function(){var e=this,t=e.prefixes;if(!t){e.prefixes=t=e.names.slice(0);t.sort(e._compareNames)}return t},removeName:function(e){var t=this,n=t.aliasToName,r=t.alternateToName,i=t.nameToAliases,s=t.nameToAlternates,o=i[e],u=s[e],a,f;delete i[e];delete s[e];if(o){for(a=o.length;a--;){if(e===(f=o[a])){delete n[f]}}}if(u){for(a=u.length;a--;){if(e===(f=u[a])){delete r[f]}}}},resolveName:function(e){var t=this,n;if(!(e in t.nameToAliases)){if(!(n=t.aliasToName[e])){n=t.alternateToName[e]}}return n||e},select:function(e,t){var n=this,r={},i={excludes:r,exclude:function(){n.getNamesByExpression(arguments,r,true);return this}},s;for(s in e){i[s]=n.selectMethod(r,e[s],t||e)}return i},selectMethod:function(e,t,n){var r=this;return function(i){var s=Ext.Array.slice(arguments,1);s.unshift(r.getNamesByExpression(i,e));return t.apply(n,s)}},setPath:Ext.Function.flexSetter(function(e,t){var n=this;n.paths[e]=t;n.names.push(e);n.prefixes=null;return n}),_compareNames:function(e,t){var n=e.length-t.length;if(!n){n=e<t?-1:1}return n}};Ext.ClassManager=function(e,t,n,r,i){var s=Ext.Class.makeCtor,o=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(e){var t,n,r,s,u;if(typeof e!=="string"||e.length<1){throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty")}if(o.classes[e]||o.existCache[e]){return true}s=i;u=o.parseNamespace(e);for(t=0,n=u.length;t<n;t++){r=u[t];if(typeof r!=="string"){s=r}else{if(!s||!s[r]){return false}s=s[r]}}o.triggerCreated(e);return true},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},triggerCreated:function(e){if(!o.existCache[e]){o.triggerExists(e)}o.classState[e]+=20;o.notify(e,o.createdListeners,o.nameCreatedListeners)},onCreated:function(e,t,n){o.addListener(e,t,n,o.createdListeners,o.nameCreatedListeners)},triggerExists:function(e,t){o.existCache[e]=t||1;o.classState[e]+=20;o.notify(e,o.existsListeners,o.nameExistsListeners)},onExists:function(e,t,n){o.addListener(e,t,n,o.existsListeners,o.nameExistsListeners)},notify:function(e,t,n){var r=o.getAlternatesByName(e),i=[e],s,u,a,f,l,c;for(s=0,u=t.length;s<u;s++){l=t[s];l.fn.call(l.scope,e)}while(i){for(s=0,u=i.length;s<u;s++){c=i[s];t=n[c];if(t){for(a=0,f=t.length;a<f;a++){l=t[a];l.fn.call(l.scope,c)}delete n[c]}}i=r;r=null}},addListener:function(e,t,n,r,i){if(Ext.isArray(n)){e=Ext.Function.createBarrier(n.length,e,t);for(s=0;s<n.length;s++){this.addListener(e,null,n[s],r,i)}return}var s,o={fn:e,scope:t};if(n){if(this.isCreated(n)){e.call(t,n);return}if(!i[n]){i[n]=[]}i[n].push(o)}else{r.push(o)}},parseNamespace:function(e){if(typeof e!=="string"){throw new Error("[Ext.ClassManager] Invalid namespace, must be a string")}var t=this.namespaceParseCache,n,r,s,o,u,a,f,l,c;if(this.enableNamespaceParseCache){if(t.hasOwnProperty(e)){return t[e]}}n=[];r=this.namespaceRewrites;s=i;o=e;for(l=0,c=r.length;l<c;l++){u=r[l];a=u.from;f=u.to;if(o===a||o.substring(0,a.length)===a){o=o.substring(a.length);if(typeof f!=="string"){s=f}else{n=n.concat(f.split("."))}break}}n.push(s);n=n.concat(o.split("."));if(this.enableNamespaceParseCache){t[e]=n}return n},setNamespace:function(e,t){var n=i,r=this.parseNamespace(e),s=r.length-1,o=r[s],u,a;for(u=0;u<s;u++){a=r[u];if(typeof a!=="string"){n=a}else{if(!n[a]){n[a]={}}n=n[a]}}n[o]=t;return n[o]},createNamespaces:function(){var e=i,t,n,r,s,o,u;for(r=0,o=arguments.length;r<o;r++){t=this.parseNamespace(arguments[r]);for(s=0,u=t.length;s<u;s++){n=t[s];if(typeof n!=="string"){e=n}else{if(!e[n]){e[n]={}}e=e[n]}}}return e},set:function(e,t){var n=this,r=n.getName(t);n.classes[e]=n.setNamespace(e,t);if(r&&r!==e){n.addAlternate(r,e)}return this},get:function(e){var t=this.classes,n,r,s,o,u;if(t[e]){return t[e]}n=i;r=this.parseNamespace(e);for(o=0,u=r.length;o<u;o++){s=r[o];if(typeof s!=="string"){n=s}else{if(!n||!n[s]){return null}n=n[s]}}return n},addNameAliasMappings:function(e){this.addAlias(e)},addNameAlternateMappings:function(e){this.addAlternate(e)},getByAlias:function(e){return this.get(this.getNameByAlias(e))},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,n,r){if(t!=null&&typeof t!=="string"){throw new Error("[Ext.define] Invalid class name '"+t+"' specified, must be a non-empty string")}var i=s(t);if(typeof n==="function"){n=n(i)}if(t){if(o.classes[t]){Ext.log.warn("[Ext.define] Duplicate class name '"+t+"' specified, must be a non-empty string")}i.displayName=t}n.$className=t;return new e(i,n,function(){var e=n.postprocessors||o.defaultPostprocessors,i=o.postprocessors,s=[],u,a,f,l,c,h,p;delete n.postprocessors;for(a=0,f=e.length;a<f;a++){u=e[a];if(typeof u==="string"){u=i[u];h=u.properties;if(h===true){s.push(u.fn)}else if(h){for(l=0,c=h.length;l<c;l++){p=h[l];if(n.hasOwnProperty(p)){s.push(u.fn);break}}}}else{s.push(u)}}n.postprocessors=s;n.createdFn=r;o.processCreate(t,this,n)})},processCreate:function(e,t,n){var r=this,i=n.postprocessors.shift(),s=n.createdFn;if(!i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classCreated",arguments);if(e){r.set(e,t)}delete t._classHooks;if(s){s.call(t,t)}if(e){r.triggerCreated(e)}return}if(i.call(r,e,t,n,r.processCreate)!==false){r.processCreate(e,t,n)}},createOverride:function(e,t,n){var r=this,i=t.override,s=t.requires,o=t.uses,u=t.mixins,a,f=t.compatibility,l,c=function(){var f,h,p,d,v;if(!l){h=s?s.slice(0):[];if(u){if(!(a=u instanceof Array)){for(d in u){if(Ext.isString(f=u[d])){h.push(f)}}}else{for(p=0,v=u.length;p<v;++p){if(Ext.isString(f=u[p])){h.push(f)}}}}l=true;if(h.length){Ext.require(h,c);return}}if(a){for(p=0,v=u.length;p<v;++p){if(Ext.isString(f=u[p])){u[p]=Ext.ClassManager.get(f)}}}else if(u){for(d in u){if(Ext.isString(f=u[d])){u[d]=Ext.ClassManager.get(f)}}}f=r.get(i);delete t.override;delete t.compatibility;delete t.requires;delete t.uses;Ext.override(f,t);r.triggerCreated(e);if(o){Ext["Loader"].addUsedClasses(o)}if(n){n.call(f,f)}};r.triggerExists(e,2);if(!f||Ext.checkVersion(f)){r.onCreated(c,r,i)}return r},instantiateByAlias:function(){var e=arguments[0],t=n.call(arguments),r=this.getNameByAlias(e);if(!r){throw new Error("[Ext.createByAlias] Unrecognized alias: "+e)}t[0]=r;return Ext.create.apply(Ext,t)},instantiate:function(){Ext.log.warn("Ext.ClassManager.instantiate() is deprecated.  Use Ext.create() instead.");return Ext.create.apply(Ext,arguments)},dynInstantiate:function(e,t){t=r(t,true);t.unshift(e);return Ext.create.apply(Ext,t)},getInstantiator:function(e){var t=this.instantiators,n,r,i;n=t[e];if(!n){r=e;i=[];for(r=0;r<e;r++){i.push("a["+r+"]")}n=t[e]=new Function("c","a","return new c("+i.join(",")+")");n.displayName="Ext.create"+e}return n},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,n,r,i){if(!r){r="last"}if(!n){n=[e]}this.postprocessors[e]={name:e,properties:n||false,fn:t};this.setDefaultPostprocessorPosition(e,r,i);return this},setDefaultPostprocessors:function(e){this.defaultPostprocessors=r(e);return this},setDefaultPostprocessorPosition:function(e,t,n){var r=this.defaultPostprocessors,i;if(typeof t==="string"){if(t==="first"){r.unshift(e);return this}else if(t==="last"){r.push(e);return this}t=t==="after"?1:-1}i=Ext.Array.indexOf(r,n);if(i!==-1){Ext.Array.splice(r,Math.max(0,i+t),0,e)}return this}});o.registerPostprocessor("alias",function(e,n,r){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPostProcessor",arguments);var i=Ext.Array.from(r.alias),s,o;for(s=0,o=i.length;s<o;s++){t=i[s];this.addAlias(n,t)}},["xtype","alias"]);o.registerPostprocessor("singleton",function(e,t,n,r){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#singletonPostProcessor",arguments);if(n.singleton){r.call(this,e,new t,n)}else{return true}return false});o.registerPostprocessor("alternateClassName",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var r=n.alternateClassName,i,s,o;if(!(r instanceof Array)){r=[r]}for(i=0,s=r.length;i<s;i++){o=r[i];if(typeof o!=="string"){throw new Error("[Ext.define] Invalid alternate of: '"+o+"' for class: '"+e+"'; must be a valid string")}this.set(o,t)}});o.registerPostprocessor("debugHooks",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#debugHooks",arguments);if(Ext.isDebugEnabled(t.$className,n.debugHooks.$enabled)){delete n.debugHooks.$enabled;Ext.override(t,n.debugHooks)}var r=t.isInstance?t.self:t;delete r.prototype.debugHooks});o.registerPostprocessor("deprecated",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#deprecated",arguments);var r=t.isInstance?t.self:t;r.addDeprecations(n.deprecated);delete r.prototype.deprecated});Ext.apply(Ext,{create:function(){var e=arguments[0],t=typeof e,r=n.call(arguments,1),i;if(t==="function"){i=e}else{if(t!=="string"&&r.length===0){r=[e];if(!(e=e.xclass)){e=r[0].xtype;if(e){e="widget."+e}}}if(typeof e!=="string"||e.length<1){throw new Error("[Ext.create] Invalid class name or alias '"+e+"' specified, must be a non-empty string")}e=o.resolveName(e);i=o.get(e)}if(!i){Ext.log.warn("[Ext.Loader] Synchronously loading '"+e+"'; consider adding "+"Ext.require('"+e+"') above Ext.onReady");Ext.syncRequire(e);i=o.get(e)}if(!i){throw new Error("[Ext.create] Unrecognized class name / alias: "+e)}if(typeof i!=="function"){throw new Error("[Ext.create] Singleton '"+e+"' cannot be instantiated.")}return o.getInstantiator(r.length)(i,r)},widget:function(e,t){var n=e,r,i,s;if(typeof n!=="string"){t=e;n=t.xtype;i=t.xclass}else{t=t||{}}if(t.isComponent){return t}if(!i){r="widget."+n;i=o.getNameByAlias(r)}if(i){s=o.get(i)}if(!s){return Ext.create(i||r,t)}return new s(t)},createByAlias:t(o,"instantiateByAlias"),define:function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"ClassManager#define",arguments);if(t.override){o.classState[e]=20;return o.createOverride.apply(o,arguments)}o.classState[e]=10;return o.create.apply(o,arguments)},undefine:function(e){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#undefine",arguments);var t=o.classes,n,r,i,s;delete o.namespaceParseCache[e];delete t[e];delete o.existCache[e];delete o.classState[e];o.removeName(e);n=o.parseNamespace(e);r=n.length-1;i=n[0];for(s=1;s<r;s++){i=i[n[s]];if(!i){return}}try{delete i[n[r]]}catch(u){i[n[r]]=undefined}},getClassName:t(o,"getName"),getDisplayName:function(e){if(e){if(e.displayName){return e.displayName}if(e.$name&&e.$class){return Ext.getClassName(e.$class)+"#"+e.$name}if(e.$className){return e.$className}}return"Anonymous"},getClass:t(o,"getClass"),namespace:t(o,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;e.registerPreprocessor("className",function(e,t){if("$className"in t){e.$className=t.$className;e.displayName=e.$className}Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classNamePreprocessor",arguments)},true,"first");e.registerPreprocessor("alias",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor",arguments);var n=e.prototype,i=r(t.xtype),s=r(t.alias),o="widget.",u=o.length,a=Array.prototype.slice.call(n.xtypesChain||[]),f=Ext.merge({},n.xtypesMap||{}),l,c,h,p;for(l=0,c=s.length;l<c;l++){h=s[l];if(typeof h!=="string"||h.length<1){throw new Error("[Ext.define] Invalid alias of: '"+h+"' for class: '"+d+"'; must be a valid string")}if(h.substring(0,u)===o){p=h.substring(u);Ext.Array.include(i,p)}}e.xtype=t.xtype=i[0];t.xtypes=i;for(l=0,c=i.length;l<c;l++){p=i[l];if(!f[p]){f[p]=true;a.push(p)}}t.xtypesChain=a;t.xtypesMap=f;Ext.Function.interceptAfter(t,"onClassCreated",function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments);var t=n.mixins,r,s;for(r in t){if(t.hasOwnProperty(r)){s=t[r];i=s.xtypes;if(i){for(l=0,c=i.length;l<c;l++){p=i[l];if(!f[p]){f[p]=true;a.push(p)}}}}}});for(l=0,c=i.length;l<c;l++){p=i[l];if(typeof p!=="string"||p.length<1){throw new Error("[Ext.define] Invalid xtype of: '"+p+"' for class: '"+d+"'; must be a valid non-empty string")}Ext.Array.include(s,o+p)}t.alias=s},["xtype","alias"]);if(Ext.manifest){var u=Ext.manifest,a=u.classes,f=u.paths,l={},c={},h,p,d,v,m;if(f){if(u.bootRelative){m=Ext.Boot.baseUrl;for(v in f){if(f.hasOwnProperty(v)){f[v]=m+f[v]}}}o.setPath(f)}if(a){for(h in a){c[h]=[];l[h]=[];p=a[h];if(p.alias){l[h]=p.alias}if(p.alternates){c[h]=p.alternates}}}o.addAlias(l);o.addAlternate(c)}return o}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);Ext.env||(Ext.env={});Ext.env.Browser=function(e,t){var n=this,r=n.browserPrefixes,i=n.enginePrefixes,s=e.match(new RegExp("((?:"+Ext.Object.getValues(r).join(")|(?:")+"))([\\w\\._]+)")),o=e.match(new RegExp("((?:"+Ext.Object.getValues(i).join(")|(?:")+"))([\\w\\._]+)")),u=n.browserNames,a=u.other,f=n.engineNames,l=f.other,c="",h="",p="",d=false,v,m,g,y,b;n.userAgent=e;if(s){a=u[Ext.Object.getKey(r,s[1])];if(a==="Safari"&&/^Opera/.test(e)){a="Opera"}c=new Ext.Version(s[2])}if(o){l=f[Ext.Object.getKey(i,o[1])];h=new Ext.Version(o[2])}if(l=="Trident"&&a!="IE"){a="IE";var w=e.match(/.*rv:(\d+.\d+)/);if(w&&w.length){w=w[1];c=new Ext.Version(w)}}if(e.match(/FB/)&&a=="Other"){a=u.safari;l=f.webkit}if(e.match(/Android.*Chrome/g)){a="ChromeMobile"}if(e.match(/OPR/)){a="Opera";s=e.match(/OPR\/(\d+.\d+)/);c=new Ext.Version(s[1])}Ext.apply(this,{engineName:l,engineVersion:h,name:a,version:c});this.setFlag(a,true,t);if(c){p=c.getMajor()||"";if(n.is.IE){p=parseInt(p,10);g=document.documentMode;if(g==7||p==7&&g!=8&&g!=9&&g!=10){p=7}else if(g==8||p==8&&g!=8&&g!=9&&g!=10){p=8}else if(g==9||p==9&&g!=7&&g!=8&&g!=10){p=9}else if(g==10||p==10&&g!=7&&g!=8&&g!=9){p=10}else if(g==11||p==11&&g!=7&&g!=8&&g!=9&&g!=10){p=11}b=Math.max(p,11);for(v=7;v<=b;++v){m="isIE"+v;if(p<=v){Ext[m+"m"]=true}if(p===v){Ext[m]=true}if(p>=v){Ext[m+"p"]=true}}}if(n.is.Opera&&parseInt(p,10)<=12){Ext.isOpera12m=true}Ext.chromeVersion=Ext.isChrome?p:0;Ext.firefoxVersion=Ext.isFirefox?p:0;Ext.ieVersion=Ext.isIE?p:0;Ext.operaVersion=Ext.isOpera?p:0;Ext.safariVersion=Ext.isSafari?p:0;Ext.webKitVersion=Ext.isWebKit?p:0;this.setFlag(a+p,true,t);this.setFlag(a+c.getShortVersion())}for(v in u){if(u.hasOwnProperty(v)){y=u[v];this.setFlag(y,a===y)}}this.setFlag(y);if(h){this.setFlag(l+(h.getMajor()||""));this.setFlag(l+h.getShortVersion())}for(v in f){if(f.hasOwnProperty(v)){y=f[v];this.setFlag(y,l===y,t)}}this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined"){d=true;this.setFlag("PhoneGap");this.setFlag("Cordova")}else if(!!window.isNK){d=true;this.setFlag("Sencha")}if(/(Glass)/i.test(e)){this.setFlag("GoogleGlass")}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(e)){d=true}this.setFlag("WebView",d);this.isStrict=Ext.isStrict=document.compatMode=="CSS1Compat";this.isSecure=/^https/i.test(window.location.protocol);this.identity=a+p+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},browserPrefixes:{ie:"MSIE ",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(e){return!!this.is[e]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(e,t,n){if(typeof t=="undefined"){t=true}this.is[e]=t;this.is[e.toLowerCase()]=t;if(n){Ext["is"+e]=t}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(e){var t=this.propertyPrefixes[this.engineName];if(t.length>0){return t+Ext.String.capitalize(e)}return e},getPreferredTranslationMethod:function(e){if(typeof e=="object"&&"translationMethod"in e&&e.translationMethod!=="auto"){return e.translationMethod}else{if(this.is.AndroidStock2||this.is.IE){return"scrollposition"}else{return"csstransform"}}}};(function(e){Ext.browser=new Ext.env.Browser(e,true);Ext.userAgent=e.toLowerCase()})(Ext.global.navigator.userAgent);Ext.env.OS=function(e,t,n){var r=this,i=r.names,s=r.prefixes,o,u="",a=r.is,f,l,c,h,p;n=n||Ext.browser;for(f in s){if(s.hasOwnProperty(f)){l=s[f];c=e.match(new RegExp("(?:"+l+")([^\\s;]+)"));if(c){o=i[f];p=c[1];if(p&&p=="HTC_"){u=new Ext.Version("2.3")}else if(p&&p=="Silk/"){u=new Ext.Version("2.3")}else{u=new Ext.Version(c[c.length-1])}break}}}if(!o){o=i[(e.toLowerCase().match(/mac|win|linux/)||["other"])[0]];u=new Ext.Version("")}this.name=o;this.version=u;if(t){this.setFlag(t.replace(/ simulator$/i,""))}this.setFlag(o);if(u){this.setFlag(o+(u.getMajor()||""));this.setFlag(o+u.getShortVersion())}for(f in i){if(i.hasOwnProperty(f)){h=i[f];if(!a.hasOwnProperty(o)){this.setFlag(h,o===h)}}}if(this.name=="iOS"&&window.screen.height==568){this.setFlag("iPhone5")}if(n.is.Safari||n.is.Silk){if(this.is.Android2||this.is.Android3||n.version.shortVersion==501){n.setFlag("AndroidStock");n.setFlag("AndroidStock2")}if(this.is.Android4){n.setFlag("AndroidStock");n.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,names:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chrome:"ChromeOS",other:"Other"},prefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chrome:"CrOS "},is:function(e){return!!this[e]},name:null,version:null,setFlag:function(e,t){if(typeof t=="undefined"){t=true}if(this.flags){this.flags[e]=t}this.is[e]=t;this.is[e.toLowerCase()]=t;return this}};(function(){var e=Ext.global.navigator,t=e.userAgent,n=Ext.env.OS,r=Ext.is||(Ext.is={}),i,s,o;n.prototype.flags=r;Ext.os=i=new n(t,e.platform);s=i.name;Ext["is"+s]=true;Ext.isMac=r.Mac=r.MacOS;var u=window.location.search.match(/deviceType=(Tablet|Phone)/),a=window.deviceType;if(u&&u[1]){o=u[1]}else if(a==="iPhone"){o="Phone"}else if(a==="iPad"){o="Tablet"}else{if(!i.is.Android&&!i.is.iOS&&!i.is.WindowsPhone&&/Windows|Linux|MacOS/.test(s)){o="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else if(i.is.iPad||i.is.RIMTablet||i.is.Android3||Ext.browser.is.Silk||i.is.Android4&&t.search(/mobile/i)==-1){o="Tablet"}else{o="Phone"}}i.setFlag(o,true);i.deviceType=o;delete n.prototype.flags})();Ext.feature={has:function(e){return!!this.has[e]},testElements:{},getTestElement:function(e,t){if(e===undefined){e="div"}else if(typeof e!=="string"){return e}if(t){return document.createElement(e)}if(!this.testElements[e]){this.testElements[e]=document.createElement(e)}return this.testElements[e]},isStyleSupported:function(e,t){var n=this.getTestElement(t).style,r=Ext.String.capitalize(e);if(typeof n[e]!=="undefined"||typeof n[Ext.browser.getStylePrefix(e)+r]!=="undefined"){return true}return false},isStyleSupportedWithoutPrefix:function(e,t){var n=this.getTestElement(t).style;if(typeof n[e]!=="undefined"){return true}return false},isEventSupported:function(e,t){if(t===undefined){t=window}var n=this.getTestElement(t),r="on"+e.toLowerCase(),i=r in n;if(!i){if(n.setAttribute&&n.removeAttribute){n.setAttribute(r,"");i=typeof n[r]==="function";if(typeof n[r]!=="undefined"){n[r]=undefined}n.removeAttribute(r)}}return i},getStyle:function(e,t){var n=e.ownerDocument.defaultView,r=(n?n.getComputedStyle(e,null):e.currentStyle)||e.style;return r[t]},getSupportedPropertyName:function(e,t){var n=Ext.browser.getVendorProperyName(t);if(n in e){return n}else if(t in e){return t}return null},detect:function(e){var t=this,n=document,r=t.toRun||t.tests,i=r.length,s=n.createElement("div"),o=[],u=Ext.supports,a=t.has,f,l,c,h;if(!Ext.theme){Ext.theme={name:"Default"}}Ext.theme.is={};Ext.theme.is[Ext.theme.name]=true;s.innerHTML='<div style="height:30px;width:50px;">'+'<div style="height:20px;width:20px;"></div>'+"</div>"+'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">'+'<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>'+"</div>"+'<div style="position: absolute; left: 10%; top: 10%;"></div>'+'<div style="float:left; background-color:transparent;"></div>';if(e){n.body.appendChild(s)}c=t.preDetected[Ext.browser.identity]||[];while(i--){l=r[i];h=c[i];f=l.name;if(h===undefined){if(!e&&l.ready){o.push(l);continue}h=l.fn.call(t,n,s)}u[f]=a[f]=h}if(e){n.body.removeChild(s)}t.toRun=o},report:function(){var e=[],t=this.tests.length,n;for(n=0;n<t;++n){e.push(this.has[this.tests[n].name]?1:0)}Ext.log(Ext.browser.identity+": ["+e.join(",")+"]")},preDetected:{},tests:[{name:"CSSPointerEvents",fn:function(e){return"pointerEvents"in e.documentElement.style}},{name:"CSS3BoxShadow",fn:function(e){return"boxShadow"in e.documentElement.style||"WebkitBoxShadow"in e.documentElement.style||"MozBoxShadow"in e.documentElement.style}},{name:"ClassList",fn:function(e){return!!e.documentElement.classList}},{name:"Canvas",fn:function(){var e=this.getTestElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}},{name:"Svg",fn:function(e){return!!(e.createElementNS&&!!e.createElementNS("http:/"+"/www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var e=this.getTestElement(),t=false;e.innerHTML="<!--[if vml]><br><![endif]-->";t=e.childNodes.length===1;e.innerHTML="";return t}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"Touch",fn:function(){var e=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return this.isEventSupported("touchend")&&e!==1||e>1}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},{name:"CreateContextualFragment",fn:function(){var e=!!document.createRange?document.createRange():false;return e&&!!e.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")&&!Ext.browser.is.AndroidStock2}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&window["localStorage"]!==null){localStorage.setItem("sencha-localstorage-test","test success");localStorage.removeItem("sencha-localstorage-test");return true}}catch(e){}return false}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var e=new XMLHttpRequest;return e&&"upload"in e&&"onprogress"in e.upload}return false}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"ProperHBoxStretching",ready:true,fn:function(){var e=document.createElement("div"),t=e.appendChild(document.createElement("div")),n=t.appendChild(document.createElement("div")),r;e.setAttribute("style","width: 100px; height: 100px; position: relative;");t.setAttribute("style","position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;");n.setAttribute("style","width: 200px; height: 50px;");document.body.appendChild(e);r=t.offsetWidth;document.body.removeChild(e);return r>100}},{name:"matchesSelector",fn:function(){var e=document.documentElement,t="matches",n="webkitMatchesSelector",r="msMatchesSelector",i="mozMatchesSelector";return e[t]?t:e[n]?n:e[r]?r:e[i]?i:null}},{name:"RightMargin",ready:true,fn:function(e,t){var n=e.defaultView;return!(n&&n.getComputedStyle(t.firstChild.firstChild,null).marginRight!="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{name:"TransparentColor",ready:true,fn:function(e,t,n){n=e.defaultView;return!(n&&n.getComputedStyle(t.lastChild,null).backgroundColor!="transparent")}},{name:"ComputedStyle",ready:true,fn:function(e,t,n){n=e.defaultView;return n&&n.getComputedStyle}},{name:"Float",fn:function(e){return"cssFloat"in e.documentElement.style}},{name:"CSS3BorderRadius",ready:true,fn:function(e){var t=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],n=false,r;for(r=0;r<t.length;r++){if(e.documentElement.style[t[r]]!==undefined){n=true}}return n&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(e,t){var n="background-image:",r="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",i="linear-gradient(left top, black, white)",s="-moz-"+i,o="-ms-"+i,u="-o-"+i,a=[n+r,n+i,n+s,n+o,n+u];t.style.cssText=a.join(";");return(""+t.style.backgroundImage).indexOf("gradient")!==-1&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(e){return"onmouseenter"in e.documentElement&&"onmouseleave"in e.documentElement}},{name:"MouseWheel",fn:function(e){return"onmousewheel"in e.documentElement}},{name:"Opacity",fn:function(e,t){if(Ext.isIE8){return false}t.firstChild.style.cssText="opacity:0.73";return t.firstChild.style.opacity=="0.73"}},{name:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{name:"Direct2DBug",fn:function(e){return Ext.isString(e.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(e){return"getBoundingClientRect"in e.documentElement}},{name:"RotatedBoundingClientRect",ready:true,fn:function(e){var t=e.body,n=false,r=this.getTestElement(),i=r.style;if(r.getBoundingClientRect){i.WebkitTransform=i.MozTransform=i.msTransform=i.OTransform=i.transform="rotate(90deg)";i.width="100px";i.height="30px";t.appendChild(r);n=r.getBoundingClientRect().height!==100;t.removeChild(r)}return n}},{name:"IncludePaddingInWidthCalculation",ready:true,fn:function(e,t){return t.childNodes[1].firstChild.offsetWidth==210}},{name:"IncludePaddingInHeightCalculation",ready:true,fn:function(e,t){return t.childNodes[1].firstChild.offsetHeight==210}},{name:"TextAreaMaxLength",fn:function(e){return"maxlength"in e.createElement("textarea")}},{name:"GetPositionPercentage",ready:true,fn:function(e,t){return Ext.feature.getStyle(t.childNodes[2],"left")=="10%"}},{name:"PercentageHeightOverflowBug",ready:true,fn:function(e){var t=false,n,r;if(Ext.getScrollbarSize().height){r=this.getTestElement();n=r.style;n.height="50px";n.width="50px";n.overflow="auto";n.position="absolute";r.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");e.body.appendChild(r);if(r.firstChild.offsetHeight===50){t=true}e.body.removeChild(r)}return t}},{name:"xOriginBug",ready:true,fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll">'+'<div id="b2" style="position:relative;width:100%;height:20px;"></div>'+'<div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div>'+"</div>";var n=document.getElementById("b1").getBoundingClientRect(),r=document.getElementById("b2").getBoundingClientRect(),i=document.getElementById("b3").getBoundingClientRect();return r.left!==n.left&&i.right!==n.right}},{name:"ScrollWidthInlinePaddingBug",ready:true,fn:function(e){var t=false,n,r;r=e.createElement("div");n=r.style;n.height="50px";n.width="50px";n.padding="10px";n.overflow="hidden";n.position="absolute";r.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';e.body.appendChild(r);if(r.scrollWidth===70){t=true}e.body.removeChild(r);return t}},{name:"rtlVertScrollbarOnRight",ready:true,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll">'+'<div style="width:20px;height:200px;"></div>'+"</div>";var n=t.firstChild,r=n.firstChild;return r.offsetLeft+r.offsetWidth!==n.offsetLeft+n.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:true,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto">'+'<div style="width:95px;height:200px;"></div>'+"</div>";var n=t.firstChild;return n.clientHeight===n.offsetHeight}},{identity:"defineProperty",fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return false}return true}},{identify:"nativeXhr",fn:function(){if(typeof XMLHttpRequest!=="undefined"){return true}XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return null}};return false}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera&&Ext.operaVersion<12)}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var e=document.documentMode;return"onhashchange"in window&&(e===undefined||e>7)}},{name:"FixedTableWidthBug",ready:true,fn:function(){if(Ext.isIE8){return false}var e=document.createElement("div"),t=document.createElement("div"),n;e.setAttribute("style","display:table;table-layout:fixed;");t.setAttribute("style","display:table-cell;min-width:50px;");e.appendChild(t);document.body.appendChild(e);e.offsetWidth;e.style.width="25px";n=e.offsetWidth;document.body.removeChild(e);return n===50}},{name:"FocusinFocusoutEvents",fn:function(){return!Ext.isGecko}}]};Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,events:[],firing:false,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var e=Ext.env.Ready,t=document;if(!e.bound){if(t.readyState=="complete"){e.onReadyEvent({type:t.readyState||"body"})}else{e.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){e.bound=2;t.addEventListener("deviceready",e.onReadyEvent,false)}t.addEventListener("DOMContentLoaded",e.onReadyEvent,false);window.addEventListener("load",e.onReadyEvent,false)}}},block:function(){++this.blocks;Ext.isReady=false},fireReady:function(){var e=Ext.env.Ready;if(!e.state){Ext._readyTime=Ext.now();Ext.isDomReady=true;e.state=1;Ext.feature.detect(true);if(!e.delay){e.handleReady()}else if(navigator.standalone){e.timer=Ext.defer(function(){e.timer=null;e.handleReadySoon()},1)}else{e.handleReadySoon()}}},handleReady:function(){var e=this;if(e.state===1){e.state=2;Ext._beforeReadyTime=Ext.now();e.invokeAll();Ext._afterReadytime=Ext.now()}},handleReadySoon:function(e){var t=this;if(!t.timer){t.timer=Ext.defer(function(){t.timer=null;t.handleReady()},e||t.delay)}},invoke:function(e){var t=e.delay;if(t){Ext.defer(function(){e.fn.call(e.scope)},t)}else{e.fn.call(e.scope)}},invokeAll:function(){var e=this,t=e.listeners,n;if(!e.blocks){Ext.isReady=true}e.firing=true;while(t.length){if(e.sortGeneration!==e.generation){e.sortGeneration=e.generation;t.sort(e.sortFn)}n=t.pop();if(e.blocks&&!n.dom){t.push(n);break}e.invoke(n)}e.firing=false},makeListener:function(e,t,n){var r={fn:e,id:++this.nextId,scope:t,dom:false,priority:0};if(n){Ext.apply(r,n)}r.phase=r.dom?0:1;return r},on:function(e,t,n){var r=Ext.env.Ready,i=r.makeListener(e,t,n);if(r.state===2&&!r.firing&&(i.dom||!r.blocks)){r.invoke(i)}else{r.listeners.push(i);++r.generation;if(!r.bound){r.bind()}}},onReadyEvent:function(e){var t=Ext.env.Ready;if(Ext.elevateFunction){Ext.elevateFunction(t.doReadyEvent,t,arguments)}else{t.doReadyEvent(e)}},doReadyEvent:function(e){var t=this;if(e&&e.type){t.events.push(e)}if(t.bound>0){t.unbind();t.bound=-1}if(!t.state){t.fireReady()}},sortFn:function(e,t){return-(e.phase-t.phase||t.priority-e.priority||e.id-t.id)},unblock:function(){var e=this;if(e.blocks){if(!--e.blocks){if(e.state===2&&!e.firing){e.invokeAll()}}}},unbind:function(){var e=this,t=document;if(e.bound>1){t.removeEventListener("deviceready",e.onReadyEvent,false)}t.removeEventListener("DOMContentLoaded",e.onReadyEvent,false);window.removeEventListener("load",e.onReadyEvent,false)}};(function(){var e=Ext.env.Ready;if(Ext.isIE9m){Ext.apply(e,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var t=true;try{document.documentElement.doScroll("left")}catch(n){t=false}if(t&&document.body){e.onReadyEvent({type:"doScroll"})}else{e.scrollTimer=Ext.defer(e.pollScroll,20)}return t},bind:function(){if(e.bound){return}var t=document,n;try{n=window.frameElement===undefined}catch(r){}if(!n||!t.documentElement.doScroll){e.pollScroll=Ext.emptyFn}else if(e.pollScroll()){return}if(t.readyState=="complete"){e.onReadyEvent({type:"already "+(t.readyState||"body")})}else{t.attachEvent("onreadystatechange",e.onReadyStateChange);window.attachEvent("onload",e.onReadyEvent);e.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",e.onReadyStateChange);window.detachEvent("onload",e.onReadyEvent);if(Ext.isNumber(e.scrollTimer)){clearTimeout(e.scrollTimer);e.scrollTimer=null}},onReadyStateChange:function(){var t=document.readyState;if(e.readyStatesRe.test(t)){e.onReadyEvent({type:t})}}})}Ext.onDocumentReady=function(t,n,r){var i={dom:true};if(r){Ext.apply(i,r)}e.on(t,n,i)};Ext.onReady=function(t,n,r){e.on(t,n,r)};e.bind()})();Ext.Loader=new function(){var e=this,t=Ext.ClassManager,n=Ext.Boot,r=Ext.Class,i=Ext.env.Ready,s=Ext.Function.alias,o=["extend","mixins","requires"],u={},a=[],f=[],l=[],c={},h={},p={enabled:true,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",paths:t.paths,preserveScripts:true,scriptCharset:undefined},d={disableCaching:true,disableCachingParam:true,preserveScripts:true,scriptChainDelay:"loadDelay"};Ext.apply(e,{isInHistory:u,isLoading:false,history:a,config:p,readyListeners:f,optionalRequires:l,requiresMap:c,hasFileLoadError:false,scriptsLoading:0,classesLoading:[],syncModeEnabled:false,missingQueue:h,init:function(){var n=document.getElementsByTagName("script"),r=n[n.length-1].src,s=r.substring(0,r.lastIndexOf("/")+1),o=Ext._classPathMetadata,u=Ext.Microloader,a=Ext.manifest,f,l,c,h,p;if(r.indexOf("packages/sencha-core/src/")!==-1){s=s+"../../"}else if(r.indexOf("/core/src/class/")!==-1){s=s+"../../../"}if(!t.getPath("Ext")){t.setPath("Ext",s+"src")}if(o){Ext._classPathMetadata=null;e.addClassPathMappings(o)}if(a){f=a.loadOrder;l=Ext.Boot.baseUrl;if(f&&a.bootRelative){for(c=f.length,h=0;h<c;h++){p=f[h];p.path=l+p.path}}}if(u){i.block();u.onMicroloaderReady(function(){i.unblock()})}},setConfig:Ext.Function.flexSetter(function(t,r){if(t==="paths"){e.setPath(r)}else{p[t]=r;var i=d[t];if(i){n.setConfig(i===true?t:i,r)}}return e}),getConfig:function(e){return e?p[e]:p},setPath:function(){t.setPath.apply(t,arguments);return e},addClassPathMappings:function(n){t.setPath(n);return e},addBaseUrlClassPathMappings:function(e){for(var t in e){e[t]=n.baseUrl+e[t]}Ext.Loader.addClassPathMappings(e)},getPath:function(e){return t.getPath(e)},require:function(n,r,i,s){if(s){return e.exclude(s).require(n,r,i)}var o=t.getNamesByExpression(n);return e.load(o,r,i)},syncRequire:function(){var t=e.syncModeEnabled;e.syncModeEnabled=true;var n=e.require.apply(e,arguments);e.syncModeEnabled=t;return n},exclude:function(n){var r=t.select({require:function(t,n,r){return e.load(t,n,r)},syncRequire:function(t,n,r){var i=e.syncModeEnabled;e.syncModeEnabled=true;var s=e.load(t,n,r);e.syncModeEnabled=i;return s}});r.exclude(n);return r},load:function(n,r,i){if(r){if(r.length){r=e.makeLoadCallback(n,r)}r=r.bind(i||Ext.global)}var s=[],o=n.length,u,a,f,l=[],c=t.classState;for(a=0;a<o;++a){u=t.resolveName(n[a]);if(!t.isCreated(u)){s.push(u);h[u]=e.getPath(u);if(!c[u]){l.push(h[u])}}}f=s.length;if(f){e.missingCount+=f;Ext.Array.push(e.classesLoading,s);t.onExists(function(){Ext.Array.remove(e.classesLoading,s);Ext.each(s,function(t){Ext.Array.remove(e.classesLoading,t)});if(r){Ext.callback(r,i,arguments)}e.checkReady()},e,s);if(!p.enabled){Ext.Error.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. "+"Missing required class"+(s.length>1?"es":"")+": "+s.join(", "))}if(l.length){e.loadScripts({url:l,_classNames:s})}else{e.checkReady()}}else{if(r){r.call(i)}e.checkReady()}if(e.syncModeEnabled){if(o===1){return t.get(n[0])}}return e},makeLoadCallback:function(e,n){return function(){var r=[],i=e.length;while(i-->0){r[i]=t.get(e[i])}return n.apply(this,r)}},onLoadFailure:function(){var t=this,n=t.onError;e.hasFileLoadError=true;--e.scriptsLoading;if(n){n.call(t.userScope,t)}else{Ext.log.error("[Ext.Loader] Some requested files failed to load.")}e.checkReady()},onLoadSuccess:function(){var t=this,n=t.onLoad;--e.scriptsLoading;if(n){n.call(t.userScope,t)}e.checkReady()},reportMissingClasses:function(){if(!e.syncModeEnabled&&!e.scriptsLoading&&e.isLoading&&!e.hasFileLoadError){var t=[],n=[];for(var r in h){t.push(r);n.push(h[r])}if(t.length){throw new Error("The following classes are not declared even if their files have been "+"loaded: '"+t.join("', '")+"'. Please check the source code of their "+"corresponding files for possible typos: '"+n.join("', '"))}}},onReady:function(t,n,r,s){if(r){i.on(t,n,s)}else{var o=i.makeListener(t,n,s);if(e.isLoading){f.push(o)}else{i.invoke(o)}}},addUsedClasses:function(t){var n,r,i;if(t){t=typeof t==="string"?[t]:t;for(r=0,i=t.length;r<i;r++){n=t[r];if(typeof n==="string"&&!Ext.Array.contains(l,n)){l.push(n)}}}return e},triggerReady:function(){var t,n=l;if(e.isLoading&&n.length){l=[];e.require(n)}else{e.isLoading=false;f.sort(i.sortFn);while(f.length&&!e.isLoading){t=f.pop();i.invoke(t)}i.unblock()}},historyPush:function(t){if(t&&!u[t]){u[t]=true;a.push(t)}return e},loadScripts:function(t){var r=Ext.manifest,i=r&&r.loadOrder,s=r&&r.loadOrderMap,o;++e.scriptsLoading;if(i&&!s){r.loadOrderMap=s=n.createLoadOrderMap(i)}e.checkReady();o=Ext.apply({loadOrder:i,loadOrderMap:s,charset:p.scriptCharset,success:e.onLoadSuccess,failure:e.onLoadFailure,sync:e.syncModeEnabled,_classNames:[]},t);o.userScope=o.scope;o.scope=o;n.load(o)},loadScriptsSync:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=true;e.loadScripts({url:t});e.syncModeEnabled=n},loadScriptsSyncBasePrefix:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=true;e.loadScripts({url:t,prependBaseUrl:true});e.syncModeEnabled=n},loadScript:function(t){var n=typeof t==="string",r=t instanceof Array,i=!r&&!n,s=i?t.url:t,o=i&&t.onError,u=i&&t.onLoad,a=i&&t.scope,f={url:s,scope:a,onLoad:u,onError:o,_classNames:[]};e.loadScripts(f)},flushMissingQueue:function(){var e,n,r=0,i=0;for(e in h){r++;n=h[e];if(t.isCreated(e)){delete h[e]}else if(t.existCache[e]===2){delete h[e]}else{++i}}this.missingCount=i},checkReady:function(){var t=e.isLoading,n;e.flushMissingQueue();n=e.missingCount+e.scriptsLoading;if(n&&!t){i.block();e.isLoading=!!n}else if(!n&&t){e.triggerReady()}}});Ext.require=s(e,"require");Ext.syncRequire=s(e,"syncRequire");Ext.exclude=s(e,"exclude");r.registerPreprocessor("loader",function(n,r,i,s){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.Loader#loaderPreprocessor",arguments);var u=this,a=[],f,l=t.getName(n),h,p,d,v,m,g,y,b;for(h=0,d=o.length;h<d;h++){g=o[h];if(r.hasOwnProperty(g)){y=r[g];if(typeof y=="string"){a.push(y)}else if(y instanceof Array){for(p=0,v=y.length;p<v;p++){m=y[p];if(typeof m=="string"){a.push(m)}}}else if(typeof y!="function"){for(p in y){if(y.hasOwnProperty(p)){m=y[p];if(typeof m=="string"){a.push(m)}}}}}}if(a.length===0){return}if(l){c[l]=a}var w=[],E;if(l){b=e.requiredByMap||(e.requiredByMap={});for(h=0,d=a.length;h<d;h++){f=a[h];(b[f]||(b[f]=[])).push(l)}E=function(e){w.push(e);if(c[e]){if(Ext.Array.contains(c[e],l)){Ext.Error.raise("Circular requirement detected! '"+l+"' and '"+w[1]+"' mutually require each other. Path: "+w.join(" -> ")+" -> "+w[0])}for(h=0,d=c[e].length;h<d;h++){E(c[e][h])}}};E(l)}(l?e.exclude(l):e).require(a,function(){for(h=0,d=o.length;h<d;h++){g=o[h];if(r.hasOwnProperty(g)){y=r[g];if(typeof y=="string"){r[g]=t.get(y)}else if(y instanceof Array){for(p=0,v=y.length;p<v;p++){m=y[p];if(typeof m=="string"){r[g][p]=t.get(m)}}}else if(typeof y!="function"){for(var e in y){if(y.hasOwnProperty(e)){m=y[e];if(typeof m=="string"){r[g][e]=t.get(m)}}}}}}s.call(u,n,r,i)});return false},true,"after","className");t.registerPostprocessor("uses",function(t,n,r){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.Loader#usesPostprocessor",arguments);var i=Ext.manifest,s=i&&i.loadOrder,o=i&&i.classes,u,a,f,l,c,h;if(s){a=o[t];if(a&&!isNaN(c=a.idx)){f=s[c];u=f.uses;h={};for(l=u.length,c=0;c<l;c++){h[u[c]]=true}u=Ext.Boot.getPathsFromIndexes(h,s,true);if(u.length>0){e.loadScripts({url:u,sequential:true})}}}if(r.uses){u=r.uses;e.addUsedClasses(u)}});t.onCreated(e.historyPush);e.init()};Ext._endTime=(new Date).getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(e,t,n,r,i){var s=this.lateBindingMap,o=this.getAll(r),u=o.length,a=typeof e==="string",f,l,c,h;if(a&&t&&t.isIdentifiable){c=t.getId();f=s[c];if(f){if(f[e]){return false}else{f[e]=true}}else{s[c]=f={};f[e]=true}}else{if(u>0){while(u--){l=o[u];if(l.fn===e&&l.scope===t){l.options=n;return false}}}}if(!a){h=Ext._namedScopes[t];if(h&&h.isController){Ext.Error.raise("Cannot resolve scope 'controller' for '"+n.type+"' listener declared on Observable: '"+i.id+"'")}t=t&&!h?t:i}l=this.create(e,t,n,r,i);if(a&&(!t||t in Ext._namedScopes)){l.boundFn=this.bindDynamicScope(i,e,t);l.isLateBinding=false}if(n&&n.prepend){delete n.prepend;o.unshift(l)}else{o.push(l)}this.length++;return true},bindDynamicScope:function(e,t,n){return function(){var r=e.resolveListenerScope(n);if(typeof r[t]!=="function"){Ext.Error.raise("No such method "+t+" on "+r.$className)}return r[t].apply(r,arguments)}},getAt:function(e,t){return this.getAll(t)[e]},getAll:function(e){return this.listeners[e||this.currentOrder]},count:function(e){return this.getAll(e).length},create:function(e,t,n,r,i){n=n||{};return{stack:this,fn:e,firingFn:false,boundFn:false,isLateBinding:typeof e==="string",scope:t,options:n,order:r,observable:i,type:n.type}},remove:function(e,t,n){var r=this.getAll(n),i=r.length,s=false,o=this.lateBindingMap,u,a;if(i>0){while(i--){u=r[i];if(u.fn===e&&u.scope===t){r.splice(i,1);s=true;this.length--;if(t&&t.isIdentifiable&&typeof e==="string"){a=t.getId();if(o[a]&&o[a][e]){delete o[a][e]}}break}}}return s}});Ext.define("Ext.event.Controller",{isFiring:false,listenerStack:null,constructor:function(e){this.firingListeners=[];this.firingArguments=[];this.dispatcher=e;return this},setInfo:function(e){this.info=e},getInfo:function(){return this.info},setListenerStacks:function(e){this.listenerStacks=e},fire:function(e,t){var n=this.listenerStacks,r=this.firingListeners,i=this.firingArguments,s=r.push,o=n.length,u,a,f,l,c=false,h=false,p;r.length=0;if(t){if(t.order!=="after"){c=true}else{h=true}}if(o===1){u=n[0].listeners;a=u.before;f=u.current;l=u.after;if(a.length>0){s.apply(r,a)}if(c){s.call(r,t)}if(f.length>0){s.apply(r,f)}if(h){s.call(r,t)}if(l.length>0){s.apply(r,l)}}else{for(p=0;p<o;p++){a=n[p].listeners.before;if(a.length>0){s.apply(r,a)}}if(c){s.call(r,t)}for(p=0;p<o;p++){f=n[p].listeners.current;if(f.length>0){s.apply(r,f)}}if(h){s.call(r,t)}for(p=0;p<o;p++){l=n[p].listeners.after;if(l.length>0){s.apply(r,l)}}}if(r.length===0){return this}if(!e){e=[]}i.length=0;i.push.apply(i,e);i.push(null,this);this.doFire();return this},doFire:function(){var e=this,t=e.firingListeners,n=e.firingArguments,r=n[1],i=n.length-2,s=t[0].observable,o=e.info,u,a,f,l,c,h,p,d,v,m,g,y,b,w;if(s&&s.isElement){u=n[0];if(u&&!u.isEvent){u=null}}e.isPausing=e.isPaused=e.isStopped=false;e.isFiring=true;for(a=0,f=t.length;a<f;a++){l=t[a];c=l.options;h=l.fn;p=l.firingFn;d=l.boundFn;v=l.isLateBinding;m=l.scope;if(v&&d&&d!==m[h]){d=false;p=false}if(!d){if(v){d=m[h];if(!d){continue}}else{d=h}l.boundFn=d}if(u){b=l.type;if(b){n[0]=u.chain({type:b})}Ext.EventObject=n[0]}if(!p){p=d;if(c.delay){p=Ext.Function.createDelayed(p,c.delay,m)}else if(c.buffer){p=Ext.Function.createBuffered(p,c.buffer,m)}else if(c.onFrame){p=Ext.Function.createAnimationFrame(p,m)}l.firingFn=p}n[i]=c;g=n;if(c.args){g=c.args.concat(g)}if(c.delegate&&e.info.targetType==="element"){n[1]=Ext.fly(r).findParent(o.target,r)}if(c.single){e.dispatcher.removeListener(o.targetType,o.target,o.eventName,h,m,c,l.order,l.observable)}w=c.beforeFn;if(w){y=w.apply(Ext.global,g)!==false;if(y!==false){y=p.apply(m,g)}}else{y=p.apply(m,g)}if(c.delegate){n[1]=r}if(y===false){e.stop()}if(e.isStopped){break}if(e.isPausing){e.isPaused=true;t.splice(0,a+1);return}if(u){n[0]=u}}e.isFiring=false;e.listenerStacks=null;t.length=n.length=0;e.connectingController=null},connect:function(e){this.connectingController=e},resume:function(){var e=this.connectingController;this.isPausing=false;if(this.isPaused&&this.firingListeners.length>0){this.isPaused=false;this.doFire()}if(e){e.resume()}return this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var e=this.connectingController;this.isStopped=true;if(e){this.connectingController=null;e.stop()}this.isFiring=false;this.listenerStacks=null;return this},pause:function(){var e=this.connectingController;this.isPausing=true;if(e){e.pause()}return this}});Ext.define("Ext.event.Dispatcher",{requires:["Ext.event.ListenerStack","Ext.event.Controller"],statics:{getInstance:function(){if(!this.instance){this.instance=new this}return this.instance},setInstance:function(e){this.instance=e;return this}},baseHasListeners:{_decr_:function(e){if(!--this[e]){delete this[e]}},_incr_:function(e){if(this.hasOwnProperty(e)){++this[e]}else{this[e]=1}}},hasListeners:{},config:{publishers:{}},wildcard:"*",constructor:function(e){this.listenerStacks={};this.captureListenerStacks={};this.directListenerStacks={};this.activePublishers={};this.publishersCache={};this.noActivePublishers=[];this.controller=null;this.initConfig(e);return this},getListenerStack:function(e,t,n,r){return this.doGetListenerStack(this.listenerStacks,e,t,n,r)},getCaptureListenerStack:function(e,t,n,r){return this.doGetListenerStack(this.captureListenerStacks,e,t,n,r)},getDirectListenerStack:function(e,t,n,r){return this.doGetListenerStack(this.directListenerStacks,e,t,n,r)},doGetListenerStack:function(e,t,n,r,i){var s=e[t],o;if(!s){if(i){e[t]=s={}}else{return null}}s=s[n];if(!s){if(i){e[t][n]=s={}}else{return null}}o=s[r];if(!o){if(i){s[r]=o=new Ext.event.ListenerStack}else{return null}}return o},getController:function(e,t,n,r){var i=this,s=i.controller,o={targetType:e,target:t,eventName:n};if(!s){i.controller=s=new Ext.event.Controller(i)}if(s.isFiring){s=new Ext.event.Controller(i)}s.setInfo(o);if(r&&s!==r){s.connect(r)}return s},applyPublishers:function(e){var t,n;this.publishersCache={};for(t in e){if(e.hasOwnProperty(t)){n=e[t];this.registerPublisher(n)}}return e},registerPublisher:function(e){var t=this.activePublishers,n=e.getTargetType(),r=t[n];if(!r){t[n]=r=[]}r.push(e);e.setDispatcher(this);return this},getCachedActivePublishers:function(e,t){var n=this.publishersCache,r;if((r=n[e])&&(r=r[t])){return r}return null},cacheActivePublishers:function(e,t,n){var r=this.publishersCache;if(!r[e]){r[e]={}}r[e][t]=n;return n},getActivePublishers:function(e,t){var n=this.getCachedActivePublishers(e,t),r,i,s,o,u;if(n){return n}r=this.activePublishers[e];if(r){n=[];for(s=0,o=r.length;s<o;s++){u=r[s];if(u.handles(t)){n.push(u)}}if(!n.length&&e==="element"){i=this.getPublisher("dom");if(i){n.push(i)}}}else{n=this.noActivePublishers}return this.cacheActivePublishers(e,t,n)},hasListener:function(e,t,n){var r=this.getListenerStack(e,t,n),i=this.getCaptureListenerStack(e,t,n),s=false;if(r){s=r.count()>0}if(!s&&e==="element"){s=i.count()>0}return s},getHasListeners:function(e,t){var n=this.hasListeners,r=t&&t.hasListeners;if(!r){r=n[e]||(n[e]=Ext.Object.chain(this.baseHasListeners));if(t){t.hasListeners=r=Ext.Object.chain(r)}}return r},addListener:function(e,t,n,r,i,s,o,u){s=s||{};var a=this.getActivePublishers(e,n),f=a.length,l,c;c=this.doAddListener(e,t,n,r,i,s,o,u);if(c){for(l=0;l<f;l++){a[l].subscribe(t,n,s,u)}}return c},doAddListener:function(e,t,n,r,i,s,o,u){s=s||{};var a=this,f,l;if(e==="element"){if(s.capture){f=a.getCaptureListenerStack(e,t,n,true)}else{l=a.getPublisher("dom");if(s.delegated===false||l.directEvents[n]||!l.isTargetWin&&t==="#ext-window"){f=a.getDirectListenerStack(e,t,n,true)}}}if(!f){f=a.getListenerStack(e,t,n,true)}a.getHasListeners(e,u)._incr_(n);return f.add(r,i,s,o,u)},removeListener:function(e,t,n,r,i,s,o,u){s=s||{};var a=this.getActivePublishers(e,n),f=a.length,l,c;c=this.doRemoveListener(e,t,n,r,i,s,o,u);if(c){for(l=0;l<f;l++){a[l].unsubscribe(t,n,null,s,u)}}return c},doRemoveListener:function(e,t,n,r,i,s,o,u){s=s||{};var a=this,f,l;if(e==="element"){if(s.capture){f=a.getCaptureListenerStack(e,t,n)}else{l=a.getPublisher("dom");if(s.delegated===false||l.directEvents[n]||!l.isTargetWin&&t==="#ext-window"){f=a.getDirectListenerStack(e,t,n)}}}if(!f){f=a.getListenerStack(e,t,n)}if(f&&f.remove(r,i,o)){a.getHasListeners(e,u)._decr_(n);return true}return false},clearListeners:function(e,t,n){var r=this,i=r.listenerStacks[e],s=r.captureListenerStacks[e],o;if(i){r.doClearListeners(i,e,t,{},n)}if(s){r.doClearListeners(s,e,t,{capture:true},n)}if(n){o=r.directListenerStacks[e];if(o){r.doClearListeners(o,e,t,{delegated:false},n)}}},doClearListeners:function(e,t,n,r,i){var s=this,o=e[n],u=s.getHasListeners(t,i),a,f,l,c;if(o){for(a in o){c=s.getActivePublishers(t,a);for(f=0,l=c.length;f<l;f++){c[f].unsubscribe(n,a,true,r,i)}if(!(u[a]-=o[a].length)){delete u[a]}}delete e[n]}},dispatchEvent:function(e,t,n){var r=this.getActivePublishers(e,n),i=r.length,s;if(i>0){for(s=0;s<i;s++){r[s].notify(t,n)}}return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(e,t,n,r,i,s,o){var u=o?this.getCaptureListenerStack(e,t,n):this.getListenerStack(e,t,n,o),a=this.getWildcardListenerStacks(e,t,n,o),f;if(!u||!u.length){if(!a.length&&!i){return}}else{a.push(u)}f=this.getController(e,t,n,s);f.setListenerStacks(a);f.fire(r,i);return!f.isInterrupted()},dispatchDirectEvent:function(e,t,n,r){var i=this.getDirectListenerStack(e,t,n),s;if(i&&i.length){s=this.getController(e,t,n);s.setListenerStacks([i]);s.fire(r);return!s.isInterrupted()}},getWildcardListenerStacks:function(e,t,n,r){var i=[],s=this.wildcard,o=n!==s,u=t!==s,a;if(o&&(a=this.getListenerStack(e,t,s,r))){i.push(a)}if(u&&(a=this.getListenerStack(e,s,n,r))){i.push(a)}return i},getPublisher:function(e){return this.getPublishers()[e]},destroy:function(){var e=this.getPublishers(),t;for(t in e){e[t].destroy()}}});Ext.define("Ext.Mixin",function(e){return{statics:{addHook:function(e,t,n,r){var i=Ext.isFunction(e),s=function(){var t=arguments,n=i?e:r[e],s=this.callParent(t);n.apply(this,t);return s},o=t.hasOwnProperty(n)&&t[n];if(i){e.$previous=Ext.emptyFn}s.$name=n;s.$owner=t.self;if(o){s.$previous=o.$previous;o.$previous=s}else{t[n]=s}}},onClassExtended:function(t,n){var r=n.mixinConfig,i=n.xhooks,s=t.superclass,o=n.onClassMixedIn,u,a,f,l;if(i){delete n.xhooks;(r||(n.mixinConfig=r={})).on=i}if(r){u=s.mixinConfig;if(u){n.mixinConfig=r=Ext.merge({},u,r)}n.mixinId=r.id;if(r.beforeHooks){Ext.Error.raise('Use of "beforeHooks" is deprecated - use "before" instead')}if(r.hooks){Ext.Error.raise('Use of "hooks" is deprecated - use "after" instead')}if(r.afterHooks){Ext.Error.raise('Use of "afterHooks" is deprecated - use "after" instead')}a=r.before;f=r.after;i=r.on;l=r.extended}if(a||f||i||l){n.onClassMixedIn=function(t){var n=this.prototype,r=t.prototype,s;if(a){Ext.Object.each(a,function(e,r){t.addMember(e,function(){if(n[r].apply(this,arguments)!==false){return this.callParent(arguments)}})})}if(f){Ext.Object.each(f,function(e,r){t.addMember(e,function(){var e=this.callParent(arguments);n[r].apply(this,arguments);return e})})}if(i){for(s in i){e.addHook(i[s],r,s,n)}}if(l){t.onExtended(function(){var e=Ext.Array.slice(arguments,0);e.unshift(t);return l.apply(this,e)},this)}if(o){o.apply(this,arguments)}}}}}});Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:true,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var e=this.id,t,n,r,i,s;if(!(e||e===0)){t=this.self.prototype;n=this.defaultIdSeparator;i=Ext.mixin.Identifiable.uniqueIds;if(!t.hasOwnProperty("identifiablePrefix")){r=this.xtype;if(r){s=this.defaultIdPrefix+r.replace(this.idCleanRegex,n)+n}else if(!(s=t.$className)){s=this.defaultIdPrefix+"anonymous"+n}else{s=s.replace(this.idCleanRegex,n).toLowerCase()+n}t.identifiablePrefix=s}s=this.identifiablePrefix;if(!i.hasOwnProperty(s)){i[s]=0}e=this.id=s+ ++i[s]}this.getUniqueId=this.getOptimizedId;return e},setId:function(e){this.id=e},getId:function(){var e=this.id;if(!e){e=this.getUniqueId()}this.getId=this.getOptimizedId;return e}});Ext.define("Ext.mixin.Observable",{requires:["Ext.event.Dispatcher"],extend:"Ext.Mixin",mixins:["Ext.mixin.Identifiable"],mixinConfig:{id:"observable",after:{destroy:"destroy"}},isObservable:true,observableType:"observable",validIdRe:Ext.validIdRe,observableIdPrefix:"#",listenerOptionsRegex:/^(?:scope|order|delegate|single|delay|buffer|args|prepend|destroyable)$/,eventFiringSuspended:0,config:{listeners:{$value:null,merge:function(e,t,n){var r=e,i,s;if(n.isInstance){if(n._hasDeclaredListeners){r=[n.self.getDeclaredListeners(),e]}}else{if(!n.listeners){n.listeners=n.getDeclaredListeners()}if(e){i=e.scope;if(!i){e.scope="self"}else{s=Ext._namedScopes[i];if(s&&s.isController){e.scope="self.controller"}}n.prototype._hasDeclaredListeners=true;n.listeners.push(e)}}return r}},bubbleEvents:null},inheritableStatics:{getDeclaredListeners:function(){var e=this,t=e.superclass,n=e.listeners,r=e.prototype,i,s,o;if(!n){n=e.listeners=[];if(t.isObservable){n.push(t.self.getDeclaredListeners())}if(r.hasOwnProperty("mixins")){i=r.mixins;for(s in i){o=i[s];if(o.isObservable){n.push(o.self.getDeclaredListeners())}}}}return n}},afterClassMixedIn:function(e){var t=e.prototype,n=t.listeners;if(n){delete t.listeners;e.getConfigurator().add({listeners:n})}},constructor:function(e){var t=this;t.initConfig(e);t.getEventDispatcher().getHasListeners(t.observableType,t)},applyListeners:function(e){if(e){if(e instanceof Array){Ext.each(e,this.applyListeners,this)}else{this.addListener(e)}}return e},resolveListenerScope:function(e){if(e==="controller"){Ext.Error.raise('scope: "controller" can only be specified on classes that derive from Ext.Component or Ext.Widget')}if(e==="this"){e=null}return e||this},applyBubbleEvents:function(e){if(e){this.enableBubble(e)}},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){var e=this,t,n;if(!e.observableId){t=e.getUniqueId();n=e.validIdRe;if(n&&!n.test(t)){Ext.Error.raise('Invalid unique id "'+t+'" for object of type '+e.$className)}e.observableId=e.observableIdPrefix+t;e.getObservableId=e.getOptimizedObservableId}return e.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},createEventDispatcher:function(){var e=this,t;e.eventDispatcher=t=Ext.event.Dispatcher.getInstance();e.getEventDispatcher=e.getOptimizedEventDispatcher;e.getListeners();e.getBubbleEvents();return t},getEventDispatcher:function(){var e=this.eventDispatcher;if(!e){e=this.createEventDispatcher()}return e},getManagedListeners:function(e,t){var n=e.getUniqueId(),r=this.managedListeners;if(!r){this.managedListeners=r={}}if(!r[n]){r[n]={};e.doAddListener("destroy","clearManagedListeners",this,{single:true,args:[e]})}if(!r[n][t]){r[n][t]=[]}return r[n][t]},getUsedSelectors:function(){var e=this.usedSelectors;if(!e){e=this.usedSelectors=[];e.$map={}}return e},fireEvent:function(e){var t=Array.prototype.slice.call(arguments,1);return this.doFireEvent(e,t)},fireEventArgs:function(e,t){return this.doFireEvent(e,t)},fireAction:function(e,t,n,r,i,s){var o=typeof n,u;if(t===undefined){t=[]}if(o!=="undefined"){u={fn:n,isLateBinding:o==="string",scope:r||this,options:i||{},order:s}}return this.doFireEvent(e,t,u)},doFireEvent:function(e,t,n,r){var i=this,s=i.eventQueue,o=Ext.$eventNameMap,u=i.suspendedEvents,a=true;e=o[e]||(o[e]=e.toLowerCase());if(i.eventFiringSuspended||u&&u[e]){if(s){s.push([e,t,n,r])}}else{a=i.getEventDispatcher().dispatchEvent(i.observableType,i.getObservableId(),e,t,n,r)}return a},doAddListener:function(e,t,n,r,i){var s=this,o=n&&n!==s&&n.isIdentifiable,u=s.getUsedSelectors(),a=u.$map,f=s.getObservableId(),l,c,h;if(!r){r={}}if(!r.type){r.type=e}if(!n&&typeof t==="function"){n=s}if(r.delegate){h=r.delegate;f+=" "+h}if(!(f in a)){a[f]=true;u.push(f)}l=s.addDispatcherListener(f,e,t,n,r,i);if(l&&o){c=s.getManagedListeners(n,e);c.push({delegate:h,scope:n,fn:t,order:i})}return l},addDispatcherListener:function(e,t,n,r,i,s){return this.getEventDispatcher().addListener(this.observableType,e,t,n,r,i,s,this)},doRemoveListener:function(e,t,n,r,i){var s=this,o=n&&n!==s&&n.isIdentifiable,u=s.getObservableId(),a,f,l,c,h,p;if(!r){r={}}if(!n&&typeof t==="function"){n=s}if(r.delegate){p=r.delegate;u+=" "+p}a=s.removeDispatcherListener(u,e,t,n,r,i);if(a&&o){f=s.getManagedListeners(n,e);for(l=0,c=f.length;l<c;l++){h=f[l];if(h.fn===t&&h.scope===n&&h.delegate===p&&h.order===i){f.splice(l,1);break}}}return a},removeDispatcherListener:function(e,t,n,r,i,s){return this.getEventDispatcher().removeListener(this.observableType,e,t,n,r,i,s,this)},clearManagedListeners:function(e){var t=this,n=t.managedListeners,r,i,s,o,u,a,f,l;if(!n){return t}if(e){if(typeof e!=="string"){r=e.getUniqueId()}else{r=e}i=n[r];for(o in i){if(i.hasOwnProperty(o)){s=i[o];for(u=0,a=s.length;u<a;u++){f=s[u];l={};if(f.delegate){l.delegate=f.delegate}if(t.doRemoveListener(o,f.fn,f.scope,l,f.order)){u--;a--}}}}delete n[r];return t}for(r in n){if(n.hasOwnProperty(r)){t.clearManagedListeners(r)}}},changeListener:function(e,t,n,r,i,s){var o=this,u=Ext.$eventNameMap,a,f,l,c,h,p,d,v,m,g,y,b,w,E;if(typeof n!=="undefined"){if(typeof t!=="string"){for(y=0,b=t.length;y<b;y++){m=t[y];m=u[m]||(u[m]=m.toLowerCase());e.call(o,m,n,r,i,s)}return o}t=u[t]||(u[t]=t.toLowerCase());if(i){i=Ext.Object.chain(i)}e.call(o,t,n,r,i,s)}else if(Ext.isArray(t)){f=t;for(y=0,b=f.length;y<b;y++){w=f[y];t=w.event;t=u[t]||(u[t]=t.toLowerCase());e.call(o,t,w.fn,w.scope,w,w.order)}}else if(t){l=o.listenerOptionsRegex;i=t;a=[];f=[];c={};s=i.order;r=i.scope;p=Ext._namedScopes;d=r&&p[r];h=d&&d.isSelf;for(m in i){g=i[m];if(!l.test(m)){m=u[m]||(u[m]=m.toLowerCase());E=typeof g;if(E!=="string"&&E!=="function"){v=g.scope;if(v&&h){d=p[v];if(d&&d.isController){v="self.controller"}}e.call(this,m,g.fn,v||r,g,g.order||s);continue}a.push(m);f.push(g)}else{c[m]=g}}for(y=0,b=a.length;y<b;y++){e.call(o,a[y],f[y],r,c,s)}}return o},addListener:function(e,t,n,r,i){var s=this,o,u;if(r){o=r.destroyable}else if(typeof e==="object"){o=e.destroyable}u=s.changeListener(s.doAddListener,e,t,n,r,i);if(o){u=new Ext.mixin.Observable.$ListenerRemover(s,e,t,n,r,i)}return u},toggleListener:function(e,t,n,r,i,s){return this.changeListener(e?this.doAddListener:this.doRemoveListener,t,n,r,i,s)},addBeforeListener:function(e,t,n,r){return this.addListener(e,t,n,r,"before")},addAfterListener:function(e,t,n,r){return this.addListener(e,t,n,r,"after")},removeListener:function(e,t,n,r,i){return this.changeListener(this.doRemoveListener,e,t,n,r,i)},removeBeforeListener:function(e,t,n,r){return this.removeListener(e,t,n,r,"before")},removeAfterListener:function(e,t,n,r){return this.removeListener(e,t,n,r,"after")},clearListeners:function(){var e=this,t=e.getUsedSelectors(),n=e.getEventDispatcher(),r,i,s;for(r=0,i=t.length;r<i;r++){s=t[r];n.clearListeners(e.observableType,s,e)}},hasListener:function(e){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),e)},isSuspended:function(e){var t=Ext.$eventNameMap,n=this.suspendedEvents;if(e){e=t[e]||(t[e]=e.toLowerCase())}return!!(this.eventFiringSuspended||n&&n[e])},suspendEvents:function(e){++this.eventFiringSuspended;if(e&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var e=arguments,t=this.suspendedEvents,n=Ext.$eventNameMap,r=e.length,i,s;if(!t){t=this.suspendedEvents={}}for(i=0;i<r;i++){s=e[i];s=n[s]||(n[s]=s.toLowerCase());if(!(s in t)){t[s]=0}++t[s]}},resumeEvents:function(e){var t=this,n=t.eventQueue||[],r=t.suspendedEvents,i,s,o;if(t.eventFiringSuspended&&!--t.eventFiringSuspended){if(!e){for(s=0,o=n.length;s<o;s++){i=n[s];if(!(r&&r[i[0]])){t.doFireEvent.apply(t,i)}}}t.eventQueue=null}},resumeEvent:function(){var e=this,t=arguments,n=e.suspendedEvents,r=Ext.$eventNameMap,i=t.length,s,o;for(s=0;s<i;s++){o=t[s];o=r[o]||(r[o]=o.toLowerCase());if(n&&n[o]){--n[o]}}if(!e.eventFiringSuspended){e.resumeEvents()}},relayEvents:function(e,t,n){var r=Ext.$eventNameMap,i,s,o,u;if(typeof n==="undefined"){n=""}n=n.toLowerCase();if(typeof t==="string"){t=[t]}if(Ext.isArray(t)){for(i=0,s=t.length;i<s;i++){o=t[i];o=r[o]||(r[o]=o.toLowerCase());u=n+o;e.addListener(o,this.createEventRelayer(u),this)}}else{for(o in t){if(t.hasOwnProperty(o)){o=r[o]||(r[o]=o.toLowerCase());u=n+t[o];e.addListener(o,this.createEventRelayer(u),this)}}}return this},relayEvent:function(e,t,n,r,i){var s=typeof t,o=e[e.length-1],u=o.getInfo().eventName,a;e=Array.prototype.slice.call(e,0,-2);e[0]=this;if(s!=="undefined"){a={fn:t,scope:n||this,options:r||{},order:i,isLateBinding:s==="string"}}return this.doFireEvent(u,e,a,o)},createEventRelayer:function(e){return function(){return this.doFireEvent(e,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(e){var t=this.isBubblingEnabled,n=Ext.$eventNameMap,r,i,s;if(!t){t=this.isBubblingEnabled={}}if(typeof e==="string"){e=Ext.Array.clone(arguments)}for(r=0,i=e.length;r<i;r++){s=e[r];s=n[s]||(n[s]=s.toLowerCase());if(!t[s]){t[s]=true;this.addListener(s,this.createEventBubbler(s),this)}}},createEventBubbler:function(e){return function t(){var n="getBubbleTarget"in this?this.getBubbleTarget():null;if(n&&n!==this&&n.isObservable){n.fireAction(e,Array.prototype.slice.call(arguments,0,-2),t,n,null,"after")}}},getBubbleTarget:function(){return false},destroy:function(){var e=this;if(e.observableId){e.fireEvent("destroy",e);e.clearListeners();e.clearManagedListeners()}},deprecated:{"2.0":{methods:{addEvents:null,addManagedListener:function(){var e=arguments[0];e.addListener.apply(e,Ext.Array.slice(arguments,1))},removeManagedListener:function(){var e=arguments[0];e.removeListener.apply(e,Ext.Array.slice(arguments,1))},mon:function(){var e=arguments[0];e.addListener.apply(e,Ext.Array.slice(arguments,1))},mun:function(){var e=arguments[0];e.removeListener.apply(e,Ext.Array.slice(arguments,1))}}}}},function(e){var t=function(e){if(e instanceof t){return e}this.observable=e;this.args=Array.prototype.slice.call(arguments,1)};t.prototype.destroy=function(){var e=this.observable;e.un.apply(e,this.args)};e.$ListenerRemover=t;e.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"})});Ext.define("Ext.util.HashMap",{mixins:["Ext.mixin.Observable"],generation:0,config:{keyFn:null},constructor:function(e){var t=this,n;t.mixins.observable.constructor.call(t,e);t.clear(true);n=t.getKeyFn();if(n){t.getKey=n}},getCount:function(){return this.length},getData:function(e,t){if(t===undefined){t=e;e=this.getKey(t)}return[e,t]},getKey:function(e){return e.id},add:function(e,t){var n=this;if(arguments.length===1){t=e;e=n.getKey(t)}if(n.containsKey(e)){return n.replace(e,t)}n.map[e]=t;++n.length;n.generation++;if(n.hasListeners.add){n.fireEvent("add",n,e,t)}return t},replace:function(e,t){var n=this,r=n.map,i;if(arguments.length===1){t=e;e=n.getKey(t)}if(!n.containsKey(e)){n.add(e,t)}i=r[e];r[e]=t;n.generation++;if(n.hasListeners.replace){n.fireEvent("replace",n,e,t,i)}return t},remove:function(e){var t=this.findKey(e);if(t!==undefined){return this.removeAtKey(t)}return false},removeAtKey:function(e){var t=this,n;if(t.containsKey(e)){n=t.map[e];delete t.map[e];--t.length;t.generation++;if(t.hasListeners.remove){t.fireEvent("remove",t,e,n)}return true}return false},get:function(e){var t=this.map;return t.hasOwnProperty(e)?t[e]:undefined},clear:function(e){var t=this;if(e||t.generation){t.map={};t.length=0;t.generation=e?0:t.generation+1}if(e!==true&&t.hasListeners.clear){t.fireEvent("clear",t)}return t},containsKey:function(e){var t=this.map;return t.hasOwnProperty(e)&&t[e]!==undefined},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(e){var t=[],n,r=this.map;for(n in r){if(r.hasOwnProperty(n)){t.push(e?n:r[n])}}return t},each:function(e,t){var n=Ext.apply({},this.map),r,i=this.length;t=t||this;for(r in n){if(n.hasOwnProperty(r)){if(e.call(t,r,n[r],i)===false){break}}}return this},clone:function(){var e=new this.self(this.initialConfig),t=this.map,n;e.suspendEvents();for(n in t){if(t.hasOwnProperty(n)){e.add(n,t[n])}}e.resumeEvents();return e},findKey:function(e){var t,n=this.map;for(t in n){if(n.hasOwnProperty(t)&&n[t]===e){return t}}return undefined}});Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(e){Ext.apply(this,e||{});this.all=new Ext.util.HashMap;this.types={}},get:function(e){return this.all.get(e)},register:function(e){var t=this.all.getKey(e);if(t===undefined){Ext.Error.raise("Key is undefined. Please ensure the item has a key before registering the item.")}if(this.all.containsKey(t)){Ext.Error.raise('Registering duplicate id "'+t+'" with '+this.$className)}this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){this.types[e]=t;t[this.typeName]=e},isRegistered:function(e){return this.types[e]!==undefined},create:function(e,t){var n=e[this.typeName]||e.type||t,r=this.types[n];if(r===undefined){Ext.Error.raise("The '"+n+"' type has not been registered with this manager")}return new r(e)},onAvailable:function(e,t,n){var r=this.all,i,s;if(r.containsKey(e)){i=r.get(e);t.call(n||i,i)}else{s=function(i,o,u){if(o==e){t.call(n||u,u);r.un("add",s)}};r.on("add",s)}},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(e,t,n){var r;r=this.liveConnections[Number(e)];if(r){r.onFlashStateChange(t,n)}else{Ext.warn.log("onFlashStateChange for unknown connection ID: "+e)}},registerConnection:function(e){var t=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[t]=e;return t},injectFlashPlugin:function(){var e=this,t,n;e.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});t=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");n="/plugins/flash/FlashPlugin.swf";n=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/");if(Ext.flashPluginPath){n=Ext.flashPluginPath}Ext.Loader.loadScript({url:t,onLoad:function(){var e="11.4.0";var t="playerProductInstall.swf";var r={};var i={};i.quality="high";i.bgcolor="#ffffff";i.allowscriptaccess="sameDomain";i.allowfullscreen="true";var s={};s.id="ext-flash-polyfill";s.name="polyfill";s.align="middle";swfobject.embedSWF(n,"ext-flash-polyfill","0","0",e,t,r,i,s)},onError:function(){Ext.Error.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:e});Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(e){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var t=this;Ext.apply(t,e);t.requestHeaders={}},abort:function(){var e=this;if(e.readyState==4){Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url);return}e.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",e.onFlashReady,e);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(e.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]},getAllResponseHeaders:function(){var e=[];Ext.Object.each(this.responseHeaders,function(t,n){e.push(t+": "+n)});return e.join("\r\n")},getResponseHeader:function(e){var t=this.responseHeaders;return t&&t[e]||null},open:function(e,t,n,r,i){var s=this;s.method=e;s.url=t;s.async=n!==false;s.user=r;s.password=i;if(!s.async){Ext.Error.raise("Binary posts are only supported in async mode: "+t)}if(s.method!="POST"){Ext.log.warn("Binary data can only be sent as a POST request: "+t)}},overrideMimeType:function(e){this.mimeType=e},send:function(e){var t=this;t.body=e;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener("flashready",t.onFlashReady,t)}else{this.onFlashReady()}},onFlashReady:function(){var e=this,t,n;e.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(e);t={method:e.method,url:e.url,user:e.user,password:e.password,mimeType:e.mimeType,requestHeaders:e.requestHeaders,body:e.body,javascriptId:e.javascriptId};n=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(t)},setReadyState:function(e){var t=this;if(t.readyState!=e){t.readyState=e;t.onreadystatechange()}},setRequestHeader:function(e,t){this.requestHeaders[e]=t},onreadystatechange:Ext.emptyFn,parseData:function(e){var t=this;this.status=e.status||0;t.responseHeaders={};if(t.mimeType){t.responseHeaders["content-type"]=t.mimeType}if(e.reason=="complete"){this.responseBytes=e.data;t.responseHeaders["content-length"]=e.data.length}else if(e.reason=="error"||e.reason=="securityError"){this.statusText=e.text;t.responseHeaders["content-length"]=0}else{Ext.Error.raise("Unkown reason code in data: "+e.reason)}},onFlashStateChange:function(e,t){var n=this;if(e==4){n.parseData(t);delete Ext.data.flash.BinaryXhr.liveConnections[n.javascriptId]}n.setReadyState(e)}});Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.mixin.Observable"},requires:["Ext.data.flash.BinaryXhr"],statics:{requestId:0},config:{url:null,async:true,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,extraParams:null,autoAbort:false,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest"},constructor:function(e){this.mixins.observable.constructor.call(this,e);this.requests={}},request:function(e){e=e||{};var t=this,n=e.scope||window,r=e.username||t.getUsername(),i=e.password||t.getPassword()||"",s,o,u,a,f,l;if(t.fireEvent("beforerequest",t,e)!==false){o=t.setOptions(e,n);if(t.isFormUpload(e)){t.upload(e.form,o.url,o.data,e);return null}if(e.autoAbort||t.getAutoAbort()){t.abort()}s=e.async!==false?e.async||t.getAsync():false;l=t.openRequest(e,o,s,r,i);f=t.getIsXdr();if(!f){a=t.setupHeaders(l,e,o.data,o.params)}u={id:++Ext.data.Connection.requestId,xhr:l,headers:a,options:e,async:s,binary:e.binary||t.getBinary(),timeout:Ext.defer(function(){u.timedout=true;t.abort(u)},e.timeout||t.getTimeout())};t.requests[u.id]=u;t.latestId=u.id;if(s){if(!f){l.onreadystatechange=Ext.Function.bind(t.onStateChange,t,[u])}}if(f){t.processXdrRequest(u,l)}l.send(o.data);if(!s){return t.onComplete(u)}return u}else{Ext.callback(e.callback,e.scope,[e,undefined,undefined]);return null}},processXdrRequest:function(e,t){var n=this;delete e.headers;e.contentType=e.options.contentType||n.getDefaultXdrContentType();t.onload=Ext.Function.bind(n.onStateChange,n,[e,true]);t.onerror=t.ontimeout=Ext.Function.bind(n.onStateChange,n,[e,false])},processXdrResponse:function(e,t){e.getAllResponseHeaders=function(){return[]};e.getResponseHeader=function(){return""};e.contentType=t.contentType||this.getDefaultXdrContentType()},upload:function(e,t,n,r){e=Ext.getDom(e);r=r||{};var i=Ext.id(),s=document.createElement("iframe"),o=[],u="multipart/form-data",a={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},f=function(t,n){l=document.createElement("input");Ext.fly(l).set({type:"hidden",value:n,name:t});e.appendChild(l);o.push(l)},l,c,h,p,d,v,m,g;Ext.fly(s).set({id:i,name:i,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(s);if(document.frames){document.frames[i].name=i}Ext.fly(e).set({target:i,method:"POST",enctype:u,encoding:u,action:t||a.action});if(n){c=Ext.Object.fromQueryString(n)||{};for(p in c){if(c.hasOwnProperty(p)){h=c[p];if(Ext.isArray(h)){d=h.length;for(v=0;v<d;v++){f(p,h[v])}}else{f(p,h)}}}}Ext.get(s).on({load:Ext.Function.bind(this.onUploadComplete,this,[s,r]),single:!Ext.isOpera});e.submit();Ext.fly(e).set(a);for(m=o.length,g=0;g<m;g++){Ext.removeNode(o[g])}},onUploadComplete:function(e,t){var n=this,r={responseText:"",responseXML:null},i,s,o,u;try{o=e&&(e.contentWindow.document||e.contentDocument)||(window.frames[e.id]||{}).document;if(o){if(Ext.isOpera&&o.location==Ext.SSL_SECURE_URL){return}if(o.body){if((u=o.body.firstChild)&&/pre/i.test(u.tagName)){r.responseText=u.textContent||u.innerText}else if(u=o.getElementsByTagName("textarea")[0]){r.responseText=u.value}else{r.responseText=o.body.textContent||o.body.innerText}}r.responseXML=o.XMLDocument||o;i=t.success;s=true}else{Ext.Error.raise("Could not acquire a suitable connection for the file upload service.")}}catch(a){r.responseText='{success:false,message:"'+Ext.String.trim(a.message||a.description)+'"}';i=t.failure;s=false}n.fireEvent(s?"requestcomplete":"requestexception",n,r,t);Ext.callback(i,t.scope,[r,t]);Ext.callback(t.callback,t.scope,[t,s,r]);Ext.defer(Ext.removeNode,100,Ext,[e])},isFormUpload:function(e){var t=this.getForm(e);if(t){return e.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype"))}return false},getForm:function(e){var t=e.form||null;if(t){t=Ext.getDom(t)}return t},setOptions:function(e,t){var n=this,r=e.params||{},i=n.getExtraParams(),s=e.urlParams,o=e.url||n.getUrl(),u=e.jsonData,a,f,l;if(Ext.isFunction(r)){r=r.call(t,e)}if(Ext.isFunction(o)){o=o.call(t,e)}o=this.setupUrl(e,o);if(!o){Ext.Error.raise({options:e,msg:"No URL specified"})}l=e.rawData||e.binaryData||e.xmlData||u||null;if(u&&!Ext.isPrimitive(u)){l=Ext.encode(l)}if(e.binaryData){if(!Ext.isArray(e.binaryData)){Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof e.binaryData)}if(n.nativeBinaryPostSupport()){l=new Uint8Array(e.binaryData);if(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko){l=l.buffer}}}if(Ext.isObject(r)){r=Ext.Object.toQueryString(r)}if(Ext.isObject(i)){i=Ext.Object.toQueryString(i)}r=r+(i?(r?"&":"")+i:"");s=Ext.isObject(s)?Ext.Object.toQueryString(s):s;r=this.setupParams(e,r);a=(e.method||n.getMethod()||(r||l?"POST":"GET")).toUpperCase();this.setupMethod(e,a);f=e.disableCaching!==false?e.disableCaching||n.getDisableCaching():false;if(a==="GET"&&f){o=Ext.urlAppend(o,(e.disableCachingParam||n.getDisableCachingParam())+"="+(new Date).getTime())}if((a=="GET"||l)&&r){o=Ext.urlAppend(o,r);r=null}if(s){o=Ext.urlAppend(o,s)}return{url:o,method:a,data:l||r||null}},setupUrl:function(e,t){var n=this.getForm(e);if(n){t=t||n.action}return t},setupParams:function(e,t){var n=this.getForm(e),r;if(n&&!this.isFormUpload(e)){r=Ext.Element.serializeForm(n);t=t?t+"&"+r:r}return t},setupMethod:function(e,t){if(this.isFormUpload(e)){return"POST"}return t},setupHeaders:function(e,t,n,r){var i=this,s=Ext.apply({},t.headers||{},i.getDefaultHeaders()||{}),o=i.getDefaultPostHeader(),u=t.jsonData,a=t.xmlData,f="Content-Type",l=Ext.isDefined(t.useDefaultXhrHeader)?t.useDefaultXhrHeader:i.getUseDefaultXhrHeader(),c,h;if(!s.hasOwnProperty(f)&&(n||r)){if(n){if(t.rawData){o="text/plain"}else{if(a&&Ext.isDefined(a)){o="text/xml"}else if(u&&Ext.isDefined(u)){o="application/json"}}}s[f]=o}if(l&&!s["X-Requested-With"]){s["X-Requested-With"]=i.getDefaultXhrHeader()}if(s[f]===undefined||s[f]===null){delete s[f]}try{for(c in s){if(s.hasOwnProperty(c)){h=s[c];e.setRequestHeader(c,h)}}}catch(p){i.fireEvent("exception",c,h)}return s},newRequest:function(e){var t=this,n;if(e.binaryData){if(t.nativeBinaryPostSupport()){n=t.getXhrInstance()}else{n=new Ext.data.flash.BinaryXhr}}else if((e.cors||t.getCors())&&Ext.isIE&&Ext.ieVersion<=9){n=t.getXdrInstance();t.setIsXdr(true)}else{n=t.getXhrInstance()}return n},openRequest:function(e,t,n,r,i){var s=this,o=s.newRequest(e);if(r){o.open(t.method,t.url,n,r,i)}else{if(s.getIsXdr()){o.open(t.method,t.url)}else{o.open(t.method,t.url,n)}}if(e.binary||s.getBinary()){if(window.Uint8Array){o.responseType="arraybuffer"}else if(o.overrideMimeType){o.overrideMimeType("text/plain; charset=x-user-defined")}else if(!Ext.isIE){Ext.log.warn("Your browser does not support loading binary data using Ajax.")}}if(e.withCredentials||s.getWithCredentials()){o.withCredentials=true}return o},getXdrInstance:function(){var e;if(Ext.ieVersion>=8){e=new XDomainRequest}else{Ext.Error.raise({msg:"Your browser does not support CORS"})}return e},getXhrInstance:function(){var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=0,n=e.length,r;for(;t<n;++t){try{r=e[t];r();break}catch(i){}}return r}(),isLoading:function(e){if(!e){e=this.getLatest()}if(!(e&&e.xhr)){return false}var t=e.xhr.readyState,n=Ext.data.flash&&Ext.data.flash.BinaryXhr;return e.xhr instanceof n&&t!=4||!(t===0||t==4)},abort:function(e){var t=this,n;if(!e){e=t.getLatest()}if(e&&t.isLoading(e)){n=e.xhr;try{n.onreadystatechange=null}catch(r){n.onreadystatechange=Ext.emptyFn}n.abort();t.clearTimeout(e);if(!e.timedout){e.aborted=true}t.onComplete(e);t.cleanup(e)}},abortAll:function(){var e=this.requests,t;for(t in e){if(e.hasOwnProperty(t)){this.abort(e[t])}}},getLatest:function(){var e=this.latestId,t;if(e){t=this.requests[e]}return t||null},onStateChange:function(e,t){var n=this,r=Ext.GlobalEvents;if(e.xhr&&e.xhr.readyState==4||n.isXdr){n.clearTimeout(e);n.onComplete(e,t);n.cleanup(e);if(r.hasListeners.idle){r.fireEvent("idle")}}},clearTimeout:function(e){clearTimeout(e.timeout);delete e.timeout},cleanup:function(e){e.xhr=null;delete e.xhr},onComplete:function(e,t){var n=this,r=e.options,i,s,o,u;try{i=e.xhr;s=n.parseStatus(i.status);if(s.success){s.success=i.readyState===4}}catch(a){s={success:false,isException:false}}o=n.isXdr?t:s.success;if(o){u=n.createResponse(e);n.fireEvent("requestcomplete",n,u,r);Ext.callback(r.success,r.scope,[u,r])}else{if(s.isException||e.aborted||e.timedout){u=n.createException(e)}else{u=n.createResponse(e)}n.fireEvent("requestexception",n,u,r);Ext.callback(r.failure,r.scope,[u,r])}Ext.callback(r.callback,r.scope,[r,o,u]);delete n.requests[e.id];return u},parseStatus:function(e){e=e==1223?204:e;var t=e>=200&&e<300||e==304,n=false;if(!t){switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=true;break}}return{success:t,isException:n}},createResponse:function(e){var t=this,n=e.xhr,r=t.getIsXdr(),i={},s=r?[]:n.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),o=s.length,u,a,f,l,c;while(o--){u=s[o];a=u.indexOf(":");if(a>=0){f=u.substr(0,a).toLowerCase();if(u.charAt(a+1)==" "){++a}i[f]=u.substr(a+1)}}e.xhr=null;delete e.xhr;l={request:e,requestId:e.id,status:n.status,statusText:n.statusText,getResponseHeader:function(e){return i[e.toLowerCase()]},getAllResponseHeaders:function(){return i}};if(r){t.processXdrResponse(l,n)}if(e.binary){l.responseBytes=t.getByteArray(n)}else{l.responseText=n.responseText;l.responseXML=n.responseXML}n=null;return l},createException:function(e){return{request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",aborted:e.aborted,timedout:e.timedout}},getByteArray:function(e){var t=e.response,n=e.responseBody,r=Ext.data.flash&&Ext.data.flash.BinaryXhr,i,s,o,u;if(e instanceof r){i=e.responseBytes}else if(window.Uint8Array){i=t?new Uint8Array(t):[]}else if(Ext.isIE9p){try{i=(new VBArray(n)).toArray()}catch(a){i=[]}}else if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(e.responseBody,i=[])}else{i=[];s=e.responseText;o=s.length;for(u=0;u<o;u++){i.push(s.charCodeAt(u)&255)}}return i},injectVBScript:function(){var e=document.createElement("script");e.type="text/vbscript";e.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(e);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}});Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:true,autoAbort:false});Ext.define("Ext.AnimationQueue",{singleton:true,constructor:function(){this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=false;this.isIdle=true;this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},start:function(e,t,n){this.queue.push(arguments);if(!this.isRunning){if(this.hasOwnProperty("idleTimer")){clearTimeout(this.idleTimer);delete this.idleTimer}if(this.hasOwnProperty("idleQueueTimer")){clearTimeout(this.idleQueueTimer);delete this.idleQueueTimer}this.isIdle=false;this.isRunning=true;this.startCountTime=Ext.now();this.count=0;this.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){if(!this.isRunning){return}var e=this.runningQueue,t,n;this.lastRunTime=Ext.now();this.frameStartTime=Ext.now();e.push.apply(e,this.queue);for(t=0,n=e.length;t<n;t++){this.invoke(e[t])}e.length=0;var r=this.frameStartTime,i=this.startCountTime,s=r-i,o=++this.count;if(s>=200){this.onFpsChanged(o*1e3/s,o,s);this.startCountTime=r;this.count=0}this.doIterate()},onFpsChanged:Ext.emptyFn,onStop:Ext.emptyFn,doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(e,t,n){if(!this.isRunning){return}var r=this.queue,i=r.length,s,o;for(s=0;s<i;s++){o=r[s];if(o[0]===e&&o[1]===t&&o[2]===n){r.splice(s,1);s--;i--}}if(i===0){this.doStop();this.onStop();this.isRunning=false;this.idleTimer=Ext.defer(this.whenIdle,100,this)}},onIdle:function(e,t,n){var r=this.idleQueue,i,s,o;for(i=0,s=r.length;i<s;i++){o=r[i];if(e===o[0]&&t===o[1]&&n===o[2]){return}}r.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(e,t,n){var r=this.idleQueue,i,s,o;for(i=0,s=r.length;i<s;i++){o=r[i];if(e===o[0]&&t===o[1]&&n===o[2]){r.splice(i,1);return true}}return false},queueTask:function(e,t,n){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(e,t,n){var r=this.taskQueue,i,s,o;for(i=0,s=r.length;i<s;i++){o=r[i];if(e===o[0]&&t===o[1]&&n===o[2]){r.splice(i,1);i--;s--}}},invoke:function(e){var t=e[0],n=e[1],r=e[2];t=typeof t=="string"?n[t]:t;if(Ext.isArray(r)){t.apply(n,r)}else{t.call(n,r)}},whenIdle:function(){this.isIdle=true;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty("idleQueueTimer")){this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var e=this.idleQueue,t;if(e.length>0){t=e.shift();this.invoke(t);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty("taskQueueTimer")){this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var e=this.taskQueue,t;if(e.length>0){t=e.shift();this.invoke(t);this.processTaskQueue()}},showFps:function(){Ext.onReady(function(){Ext.Viewport.add([{xtype:"component",bottom:50,left:0,width:50,height:20,html:"Average",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__averageFps",xtype:"component",bottom:0,left:0,width:50,height:50,html:"0",style:"background-color: red; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:50,width:50,height:20,html:"Min (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__minFps",xtype:"component",bottom:0,left:50,width:50,height:50,html:"0",style:"background-color: orange; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:100,width:50,height:20,html:"Max (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__maxFps",xtype:"component",bottom:0,left:100,width:50,height:50,html:"0",style:"background-color: yellow; color: black; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:150,width:50,height:20,html:"Current",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__currentFps",xtype:"component",bottom:0,left:150,width:50,height:50,html:"0",style:"background-color: green; color: white; text-align: center; line-height: 50px;"}]);Ext.AnimationQueue.resetFps()})},resetFps:function(){var e=Ext.getCmp("__currentFps"),t=Ext.getCmp("__averageFps"),n=Ext.getCmp("__minFps"),r=Ext.getCmp("__maxFps"),i=1e3,s=0,o=0,u=0;Ext.AnimationQueue.onFpsChanged=function(a){o++;if(!(o%10)){i=1e3;s=0}u+=a;i=Math.min(i,a);s=Math.max(s,a);e.setHtml(Math.round(a));t.setHtml(Math.round(u/o));n.setHtml(Math.round(i));r.setHtml(Math.round(s))}}},function(){var e=window.location.search.substr(1),t=e.split("&");if(Ext.Array.contains(t,"showfps")){Ext.AnimationQueue.showFps()}});Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:true,count:0,typeName:"xtype",constructor:function(e){Ext.apply(this,e||{});this.all={};this.references={};this.onAvailableCallbacks={}},create:function(e,t){if(typeof e=="string"){return Ext.widget(e)}if(e.isComponent){return e}if("xclass"in e){return Ext.create(e.xclass,e)}return Ext.widget(e.xtype||t,e)},get:function(e){return this.all[e]},register:function(e){var t=this,n=t.all,r=e.getId(),i=t.onAvailableCallbacks;if(r===undefined){Ext.Error.raise("Component id is undefined. Please ensure the component has an id.")}if(r in n){Ext.Error.raise('Registering duplicate component id "'+r+'"')}n[r]=e;if(e.reference){t.references[r]=e}++t.count;i=i&&i[r];if(i&&i.length){t.notifyAvailable(e)}},unregister:function(e){var t=e.getId();if(e.reference){delete this.references[t]}delete this.all[t];this.count--},markReferencesDirty:function(){this.referencesDirty=true},fixReferences:function(){var e=this,t=e.references,n;if(e.referencesDirty){for(n in t){if(t.hasOwnProperty(n)){t[n].fixReference()}}e.referencesDirty=false}},onAvailable:function(e,t,n){var r=this,i=r.onAvailableCallbacks,s=r.all,o;if(e in s){o=s[e];t.call(n||o,o)}else if(e){if(!Ext.isArray(i[e])){i[e]=[]}i[e].push(function(e){t.call(n||e,e)})}},notifyAvailable:function(e){var t=this.onAvailableCallbacks[e&&e.getId()]||[];while(t.length){t.shift()(e)}},each:function(e,t){return Ext.Object.each(this.all,e,t)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(e){return Ext.ComponentManager.get(e)}});Ext.ns("Ext.util").Operators={"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&e.indexOf(t)!==-1},"%=":function(e,t){return e%t===0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&(" "+e+" ").indexOf(" "+t+" ")!=-1}};Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",config:{maxSize:null},add:function(e,t){var n=this,r=n.findKey(t),i;if(r){n.unlinkEntry(i=n.map[r]);i.prev=n.last;i.next=null}else{i={prev:n.last,next:null,key:e,value:t}}if(n.last){n.last.next=i}else{n.first=i}n.last=i;n.callParent([e,i]);n.prune();return t},insertBefore:function(e,t,n){var r=this,i,s;if(n=this.map[this.findKey(n)]){i=r.findKey(t);if(i){r.unlinkEntry(s=r.map[i])}else{s={prev:n.prev,next:n,key:e,value:t}}if(n.prev){s.prev.next=s}else{r.first=s}s.next=n;n.prev=s;r.prune();return t}else{return r.add(e,t)}},get:function(e){var t=this.map[e];if(t){if(t.next){this.moveToEnd(t)}return t.value}},removeAtKey:function(e){this.unlinkEntry(this.map[e]);return this.callParent(arguments)},clear:function(e){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(e){if(e){if(e.next){e.next.prev=e.prev}else{this.last=e.prev}if(e.prev){e.prev.next=e.next}else{this.first=e.next}e.prev=e.next=null}},moveToEnd:function(e){this.unlinkEntry(e);if(e.prev=this.last){this.last.next=e}else{this.first=e}this.last=e},getArray:function(e){var t=[],n=this.first;while(n){t.push(e?n.key:n.value);n=n.next}return t},each:function(e,t,n){var r=this,i=n?r.last:r.first,s=r.length;t=t||r;while(i){if(e.call(t,i.key,i.value,s)===false){break}i=n?i.prev:i.next}return r},findKey:function(e){var t,n=this.map;for(t in n){if(n.hasOwnProperty(t)&&n[t].value===e){return t}}return undefined},clone:function(){var e=new this.self(this.initialConfig),t=this.map,n;e.suspendEvents();for(n in t){if(t.hasOwnProperty(n)){e.add(n,t[n].value)}}e.resumeEvents();return e},prune:function(){var e=this,t=e.getMaxSize(),n=t?e.length-t:0;if(n>0){for(;e.first&&n;n--){e.removeAtKey(e.first.key)}}}});Ext.define("Ext.ComponentQuery",{singleton:true,requires:["Ext.ComponentManager","Ext.util.Operators","Ext.util.LruCache"]},function(){var e=this,t=Ext.util.Operators,n=/(\d*)n\+?(\d*)/,r=/\D/,i=/^(\s)+/,s=/\\(.)/g,o=new Ext.util.LruCache({maxSize:100}),u=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),a=function(e,t){return t.method.apply(this,[e].concat(t.args))},f=function(e,t){var n=[],r=0,i=e.length,s,o=t!==">";for(;r<i;r++){s=e[r];if(s.getRefItems){n=n.concat(s.getRefItems(o))}}return n},l=function(e){var t=[],n=0,r=e.length,i;for(;n<r;n++){i=e[n];while(!!(i=i.getRefOwner())){t.push(i)}}return t},c=function(e,t,n){if(t==="*"){return e.slice()}else{var r=[],i=0,s=e.length,o;for(;i<s;i++){o=e[i];if(o.isXType(t,n)){r.push(o)}}return r}},h=function(e,n,r,i){var s=[],o=0,u=e.length,a,f,l,c,h,p;if(n.charAt(0)==="@"){a=true;n=n.substr(1)}if(n.charAt(0)==="?"){a=true;f=true;n=n.substr(1)}for(;o<u;o++){l=e[o];if(!a||l.hasOwnProperty(n)){c=l[n];if(f){s.push(l)}else if(r==="~="){if(c){if(!Ext.isArray(c)){c=c.split(" ")}for(h=0,p=c.length;h<p;h++){if(t[r](Ext.coerce(c[h],i),i)){s.push(l);break}}}}else if(r==="/="){if(l[n]!==undefined&&i.test(l[n])){s.push(l)}}else if(!i?!!l[n]:t[r](Ext.coerce(c,i),i)){s.push(l)}}}return s},p=function(e,t){var n=[],r=0,i=e.length,s;for(;r<i;r++){s=e[r];if(s.getItemId()===t){n.push(s)}}return n},d=function(t,n,r){return e.pseudos[n](t,r)},v=/^(\s?([>\^])\s?|\s|$)/,m=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,g=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:c,argTransform:function(e){var t=e[0];Ext.log.warn('"'+t+'" ComponentQuery selector style is deprecated,'+' use "'+t.replace(/^\./,"")+'" without the leading dot instead');if(e[1]!==undefined){e[1]=e[1].replace(s,"$1")}return e.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:h,argTransform:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],u=e[4],a;if(u!==undefined){u=u.replace(s,"$1");var f=Ext.String.format,l="ComponentQuery selector '{0}' has an unescaped ({1}) character at the {2} "+"of the attribute value pattern. Usually that indicates an error "+"where the opening quote is not followed by the closing quote. "+"If you need to match a ({1}) character at the {2} of the attribute "+"value, escape the quote character in your pattern: (\\{1})",c;if(c=/^(['"]).*?[^'"]$/.exec(u)){Ext.log.warn(f(l,t,c[1],"beginning"))}else if(c=/^[^'"].*?(['"])$/.exec(u)){Ext.log.warn(f(l,t,c[1],"end"))}}if(r==="/="){a=o.get(u);if(a){u=a}else{u=o.add(u,new RegExp(u))}}return[n,r,u]}},{re:/^#((?:\\\.|[\w\-])+)/,method:p},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:d,argTransform:function(e){if(e[2]!==undefined){e[2]=e[2].replace(s,"$1")}return e.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:u}];e.Query=Ext.extend(Object,{constructor:function(e){e=e||{};Ext.apply(this,e)},execute:function(e){var t=this.operations,n=[],r,i,s;for(i=0,s=t.length;i<s;i++){r=t[i];n=n.concat(this._execute(e,r))}return n},_execute:function(e,t){var n=0,r=t.length,i,s;if(!e){s=Ext.ComponentManager.getAll()}else if(Ext.isIterable(e)){s=e}else if(e.isMixedCollection){s=e.items}for(;n<r;n++){i=t[n];if(i.mode==="^"){s=l(s||[e])}else if(i.mode){s=f(s||[e],i.mode)}else{s=a(s||f([e]),i)}if(n===r-1){return s}}return[]},is:function(e){var t=this.operations,n=false,r=t.length,i,s;if(r===0){return true}for(s=0;s<r;s++){i=t[s];n=this._is(e,i);if(n){return n}}return false},_is:function(e,t){var n=t.length,r=[e],i,s,o,u,c,h,p;for(s=n-1;s>=0;--s){i=t[s];u=i.mode;if(u){if(u==="^"){r=f(r," ")}else if(u===">"){h=[];for(o=0,n=r.length;o<n;++o){p=r[o].getRefOwner();if(p){h.push(p)}}r=h}else{r=l(r)}if(r.length===0){return false}}else{r=a(r,i);if(r.length===0){return false}}}return true},getMatches:function(e,t){var n=t.length,r;for(r=0;r<n;++r){e=a(e,t[r]);if(e.length===0){break}}return e},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(this,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(e,t){var n=Ext.ComponentQuery,r=0,i=e.length,s=[],o=-1,u;for(;r<i;++r){u=e[r];if(!n.is(u,t)){s[++o]=u}}return s},first:function(e){var t=[];if(e.length>0){t.push(e[0])}return t},last:function(e){var t=e.length,n=[];if(t>0){n.push(e[t-1])}return n},focusable:function(e){var t=e.length,n=[],r=0,i;for(;r<t;r++){i=e[r];if(i.isFocusable()){n.push(i)}}return n},"nth-child":function(e,t){var i=[],s=n.exec(t=="even"&&"2n"||t=="odd"&&"2n+1"||!r.test(t)&&"n+"+t||t),o=(s[1]||1)-0,u=s[2]-0,a,f,l;for(a=0;f=e[a];a++){l=a+1;if(o==1){if(u==0||l==u){i.push(f)}}else if((l+u)%o==0){i.push(f)}}return i}},query:function(e,t){if(!e){return Ext.ComponentManager.all.getArray()}var n=[],r=[],i={},s=this.cache.get(e),o,u,a;if(!s){s=this.cache.add(e,this.parse(e))}n=s.execute(t);if(s.isMultiMatch()){o=n.length;for(a=0;a<o;a++){u=n[a];if(!i[u.id]){r.push(u);i[u.id]=true}}n=r}return n},visitPreOrder:function(e,t,n,r,i){this._visit(true,e,t,n,r,i)},visitPostOrder:function(e,t,n,r,i){this._visit(false,e,t,n,r,i)},_visit:function(e,t,n,r,i,s){var o=this,u=o.cache.get(t),a=[n],f,l=0,c,h;if(!u){u=o.cache.add(t,o.parse(t))}h=u.is(n);if(n.getRefItems){f=n.getRefItems();l=f.length}if(s){Ext.Array.push(a,s)}if(e){if(h){if(r.apply(i||n,a)===false){return false}}}for(c=0;c<l;c++){if(o._visit.call(o,e,t,f[c],r,i,s)===false){return false}}if(!e){if(h){if(r.apply(i||n,a)===false){return false}}}},is:function(e,t){if(!t){return true}var n=this.cache.get(t);if(!n){n=this.cache.add(t,this.parse(t))}return n.is(e)},parse:function(t){var n=[],r,i,s,o;r=Ext.splitAndUnescape(t,",");for(s=0,o=r.length;s<o;s++){i=Ext.String.trim(r[s]);if(i===""){Ext.Error.raise('Invalid ComponentQuery selector: ""')}n.push(this._parse(i))}return new e.Query({operations:n})},_parse:function(e){var t=[],n=Ext.String.trim,r=g.length,o,u,a,f,l,h,d,y,b,w,E;while(e&&o!==e){o=e;u=e.match(m);if(u){f=u[1];a=n(u[2]).replace(s,"$1");if(f==="#"){t.push({method:p,args:[a]})}else{t.push({method:c,args:[a,Boolean(u[3])]})}e=e.replace(u[0],"").replace(i,"$1")}while(!(l=e.match(v))){for(y=0;e&&y<r;y++){b=g[y];h=e.match(b.re);w=b.method;d=b.argTransform;if(h){if(d){E=d(h)}else{E=h.slice(1)}t.push({method:Ext.isString(b.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[w].concat(h.slice(1)))):b.method,args:E});e=e.replace(h[0],"").replace(i,"$1");break}if(y===r-1){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(l[1]){t.push({mode:l[2]||l[1]});e=e.replace(l[0],"").replace(i,"")}}return t}})});Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:["Ext.mixin.Observable"],statics:{generateSetter:function(e){var t=e.names,n=e.name,r=t.internal,i=t.apply,s=t.changeEvent,o=t.doSet;return function(e){var u=this,a=u.$configPrefixed?r:n,f=u.initialized,l,c=u[i];if(c){e=c.call(u,e,u[a]);if(e===undefined){return u}}l=u[a];if(e!==l){if(f){u.fireAction(s,[u,e,l],u.doSet,u,{nameMap:t})}else{u[a]=e;if(u[o]){u[o](e,l)}}}return this}}},initialized:false,constructor:function(e){this.mixins.observable.constructor.call(this,e);this.initialized=true},doSet:function(e,t,n,r){var i=r.nameMap;e[i.internal]=t;if(e[i.doSet]){e[i.doSet].call(this,t,n)}},onClassExtended:function(e,t){if(!t.hasOwnProperty("eventedConfig")){return}var n=t.config,r=t.eventedConfig,i="eventedSetter",s,o;if(n){Ext.applyIf(n,r)}else{e.addConfig(r)}for(s in r){if(r.hasOwnProperty(s)){o=Ext.Config.get(s);t[o.names.set]=o[i]||(o[i]=this.generateSetter(o))}}}});Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,getAnchorToXY:function(){Ext.Error.raise("getAnchorToXY is not implemented in "+this.$className)},getBorderPadding:function(){Ext.Error.raise("getBorderPadding is not implemented in "+this.$className)},getLocalX:function(){Ext.Error.raise("getLocalX is not implemented in "+this.$className)},getLocalXY:function(){Ext.Error.raise("getLocalXY is not implemented in "+this.$className)},getLocalY:function(){Ext.Error.raise("getLocalY is not implemented in "+this.$className)},getX:function(){Ext.Error.raise("getX is not implemented in "+this.$className)},getXY:function(){Ext.Error.raise("getXY is not implemented in "+this.$className)},getY:function(){Ext.Error.raise("getY is not implemented in "+this.$className)},setLocalX:function(){Ext.Error.raise("setLocalX is not implemented in "+this.$className)},setLocalXY:function(){Ext.Error.raise("setLocalXY is not implemented in "+this.$className)},setLocalY:function(){Ext.Error.raise("setLocalY is not implemented in "+this.$className)},setX:function(){Ext.Error.raise("setX is not implemented in "+this.$className)},setXY:function(){Ext.Error.raise("setXY is not implemented in "+this.$className)},setY:function(){Ext.Error.raise("setY is not implemented in "+this.$className)},adjustForConstraints:function(e,t){var n=this.getConstrainVector(t,e);if(n){e[0]+=n[0];e[1]+=n[1]}return e},alignTo:function(e,t,n,r){var i=this,s=i.el;return i.setXY(i.getAlignToXY(e,t,n),s.anim&&!!r?s.anim(r):false)},calculateAnchorXY:function(e,t,n,r){var i=this,s=i.el,o=document,u=s.dom===o.body||s.dom===o,a=Math.round,f,l,c;e=(e||"tl").toLowerCase();r=r||{};l=r.width||(u?Ext.Element.getViewportWidth():i.getWidth());c=r.height||(u?Ext.Element.getViewportHeight():i.getHeight());switch(e){case"tl":f=[0,0];break;case"bl":f=[0,c];break;case"tr":f=[l,0];break;case"c":f=[a(l*.5),a(c*.5)];break;case"t":f=[a(l*.5),0];break;case"l":f=[0,a(c*.5)];break;case"r":f=[l,a(c*.5)];break;case"b":f=[a(l*.5),c];break;case"tc":f=[a(l*.5),0];break;case"bc":f=[a(l*.5),c];break;case"br":f=[l,c]}return[f[0]+t,f[1]+n]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(e,t,n){var r=this,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;e=Ext.get(e.el||e);if(!e||!e.dom){Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"})}n=n||[0,0];t=(!t||t=="?"?"tl-bl?":!/-/.test(t)&&t!==""?"tl-"+t:t||"tl-bl").toLowerCase();t=r.convertPositionSpec(t);o=t.match(r._alignRe);if(!o){Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",el:e,position:t,offset:n,msg:'Attemmpted to align an element with an invalid position: "'+t+'"'})}v=o[1];m=o[2];d=!!o[3];u=r.getAnchorXY(v,true);a=r.getAnchorToXY(e,m,false);E=a[0]-u[0]+n[0];S=a[1]-u[1]+n[1];if(d){i=r.constrainTo||r.container||r.el.parent();i=Ext.get(i.el||i);s=i.getViewRegion();s.right=s.left+i.el.dom.clientWidth;f=r.getWidth();l=r.getHeight();c=e.getRegion();g=v.charAt(0);y=v.charAt(v.length-1);b=m.charAt(0);w=m.charAt(m.length-1);h=E<c.right&&E+f>=c.left&&(g=="t"&&b=="b"||g=="b"&&b=="t");p=S<c.bottom&&S+l>=c.top&&(y=="r"&&w=="l"||y=="l"&&w=="r");if(E+f>s.right){if(p){E=c.left-f;p=false}else{E=s.right-f}}if(E<s.left){E=p?c.right:s.left}if(S+l>s.bottom){if(h){S=c.top-l;h=false}else{S=s.bottom-l}}if(S<s.top){S=h?c.bottom:s.top}}return[E,S]},getAnchorXY:function(e,t,n){var r=this,i=r.getXY(),s=r.el,o=document,u=s.dom==o.body||s.dom==o,a=s.getScroll(),f=u?a.left:t?0:i[0],l=u?a.top:t?0:i[1];return r.calculateAnchorXY(e,f,l,n)},getBox:function(e,t){var n=this,r=t?n.getLocalXY():n.getXY(),i=r[0],s=r[1],o=n.getWidth(),u=n.getHeight(),a,f,l;if(e){a=n.getBorderPadding();f=a.beforeX;l=a.beforeY;i+=f;s+=l;o-=f+a.afterX;u-=l+a.afterY}return{x:i,left:i,0:i,y:s,top:s,1:s,width:o,height:u,right:i+o,bottom:s+u}},calculateConstrainedPosition:function(e,t,n,r){var i=this,s,o=i.floatParent,u=o?o.getTargetEl():null,a,f,l,c=false;if(n&&o){a=u.getXY();f=u.getBorderPadding();a[0]+=f.beforeX;a[1]+=f.beforeY;if(t){l=[t[0]+a[0],t[1]+a[1]]}}else{l=t}e=e||i.constrainTo||u||i.container||i.el.parent();s=i.getConstrainVector(e,l,r);c=t||i.getPosition(n);if(s){c[0]+=s[0];c[1]+=s[1]}return c},getConstrainVector:function(e,t,n){var r=this.getRegion(),i=[0,0],s=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():undefined,o=false,u,a=this.constraintInsets;if(!(e instanceof Ext.util.Region)){e=Ext.get(e.el||e);u=e.getViewSize();e=e.getViewRegion();e.right=e.left+u.width;e.bottom=e.top+u.height}if(a){a=Ext.isObject(a)?a:Ext.Element.parseBox(a);e.adjust(a.top,a.right,a.bottom,a.length)}if(t){r.translateBy(t[0]-r.x,t[1]-r.y)}if(n){r.right=r.left+n[0];r.bottom=r.top+n[1]}if(s){e.adjust(s[0],-s[1],-s[2],s[3])}if(r.right>e.right){o=true;i[0]=e.right-r.right}if(r.left+i[0]<e.left){o=true;i[0]=e.left-r.left}if(r.bottom>e.bottom){o=true;i[1]=e.bottom-r.bottom}if(r.top+i[1]<e.top){o=true;i[1]=e.top-r.top}return o?i:false},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e.el||e).getXY();return[t[0]-n[0],t[1]-n[1]]},getRegion:function(){var e=this.getBox();return new Ext.util.Region(e.top,e.right,e.bottom,e.left)},getViewRegion:function(){var e=this,t=e.el,n=t.dom.nodeName==="BODY",r,i,s,o,u,a,f;if(n){i=t.getScroll();u=i.left;o=i.top;a=Ext.Element.getViewportWidth();f=Ext.Element.getViewportHeight()}else{r=e.getBorderPadding();s=e.getXY();u=s[0]+r.beforeX;o=s[1]+r.beforeY;a=e.getWidth(true);f=e.getHeight(true)}return new Ext.util.Region(o,u+a,o+f,u)},move:function(e,t,n){var r=this,i=r.getXY(),s=i[0],o=i[1],u=[s-t,o],a=[s+t,o],f=[s,o-t],l=[s,o+t],c={l:u,left:u,r:a,right:a,t:f,top:f,up:f,b:l,bottom:l,down:l};e=e.toLowerCase();r.setXY([c[e][0],c[e][1]],n)},setBox:function(e){var t=this,n,r;if(e.isRegion){e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}t.constrainBox(e);n=e.x;r=e.y;t.setSize(e.width,e.height);t.setXY([n,r]);t.afterSetPosition(n,r);return t},constrainBox:function(e){var t=this,n,r,i;if(t.constrain||t.constrainHeader){r="x"in e?e.x:e.left;i="y"in e?e.y:e.top;n=t.calculateConstrainedPosition(null,[r,i],false,[e.width,e.height]);if(n){e.x=n[0];e.y=n[1]}}},translatePoints:function(e,t){var n=this.translateXY(e,t);return{left:n.x,top:n.y}},translateXY:function(e,t){var n=this,r=n.el,i=r.getStyle(n._positionTopLeft),s=i.position==="relative",o=parseFloat(i.left),u=parseFloat(i.top),a=n.getXY();if(Ext.isArray(e)){t=e[1];e=e[0]}if(isNaN(o)){o=s?0:r.dom.offsetLeft}if(isNaN(u)){u=s?0:r.dom.offsetTop}o=typeof e==="number"?e-a[0]+o:undefined;u=typeof t==="number"?t-a[1]+u:undefined;return{x:o,y:u}}});Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(e,t,n,r,i,s){var o=this,u=!Ext.isEmpty(i),a=function(){o.alignTo(e,t,n,r);Ext.callback(s,o)},f=o.getAnchor();o.removeAnchor();Ext.apply(f,{fn:a,scroll:u});Ext.on("resize",a,null);if(u){Ext.getWin().on("scroll",a,null,{buffer:!isNaN(i)?i:50})}a();return o},getAnchor:function(){var e=this.el,t,n;if(!e.dom){return}t=e.getData();n=t._anchor;if(!n){n=t._anchor={}}return n},removeAnchor:function(){var e=this.getAnchor();if(e&&e.fn){Ext.un("resize",e.fn);if(e.scroll){Ext.getWin().on("scroll",e.fn)}delete e.fn}return this},setBox:function(e,t){var n=this;if(e.isRegion){e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}if(t){n.constrainBox(e);n.animate(Ext.applyIf({to:e,listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[e.x,e.y])}},t))}else{n.callParent([e])}return n}});Ext.define("Ext.dom.Element",function(e){var t=window,n=document,r="ext-window",i="ext-document",s="width",o="height",u="min-width",a="min-height",f="max-width",l="max-height",c="top",h="right",p="bottom",d="left",v="visibility",m="hidden",g="display",y="none",b="z-index",w="position",E="relative",S="static",x="-",T=/\w/g,N=/\s+/,C=/[\s]+/,k=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,L=/table-row|table-.*-group/,A={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},O={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},M={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},_=[O.l,O.r,O.t,O.b],D=[A.l,A.r,A.t,A.b],P=/\d+$/,H=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,B="px",j=/(-[a-z])/gi,F=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,I=/^\d+(?:\.\d*)?px$/i,q={},R=function(e,t){return t.charAt(1).toUpperCase()},U=Ext.baseCSSPrefix+"hidden-visibility",z=Ext.baseCSSPrefix+"hidden-display",W=Ext.baseCSSPrefix+"hidden-offsets",X=Ext.baseCSSPrefix+"no-touch-scroll",V={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},$;return{alternateClassName:"Ext.Element",mixins:{positionable:"Ext.util.Positionable",observable:"Ext.mixin.Observable"},requires:[],uses:["Ext.dom.Helper","Ext.dom.CompositeElement","Ext.dom.Fly"],observableType:"element",isElement:true,skipGarbageCollection:true,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,listenerOptionsRegex:/^(?:scope|order|delegate|delegated|single|delay|buffer|args|prepend|capture|destroyable|translate)$/,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(e,t){var r=this,i;if(typeof e==="string"){e=n.getElementById(e)}if(!e){Ext.Error.raise("Invalid domNode reference or an id of an existing domNode: "+e);return null}if(Ext.cache[e.id]){Ext.Error.raise("Element cache already contains an entry for id '"+e.id+"'.  Use Ext.get() to create or retrieve Element instances.")}r.dom=e;i=e.id;if(i){r.id=i}else{i=e.id=r.getUniqueId()}if(!r.validIdRe.test(r.id)){Ext.Error.raise('Invalid Element "id": "'+r.id+'"')}r.el=r;if(!t){Ext.cache[i]=r}r.mixins.observable.constructor.call(r)},inheritableStatics:{cache:Ext.cache={},VISIBILITY:1,DISPLAY:2,OFFSETS:3,unitRe:H,useDelegatedEvents:true,validNodeTypes:{1:1,9:1},addUnits:function(e,t){if(typeof e==="number"){return e+(t||B)}if(e===""||e==="auto"||e==null){return e||""}if(P.test(e)){return e+(t||B)}if(!H.test(e)){Ext.Logger.warn("Warning, size detected ("+e+") not a valid property value on Element.addUnits.");return e||""}return e},create:function(e,t){var r=this,i=V.hidden,s,o,u,a,f,l,c,h;if(!e){e={}}if(e.isElement){return t?e.dom:e}else if("nodeType"in e){return t?e:Ext.get(e)}if(typeof e==="string"){return n.createTextNode(e)}u=e.tag;if(!u){u="div"}if(e.namespace){s=n.createElementNS(e.namespace,u)}else{s=n.createElement(u)}o=s.style;if(e[i]){h=e.className;h=h==null?"":h+" ";e.className=h+z;delete e[i]}for(f in e){if(f!=="tag"){a=e[f];switch(f){case V.style:if(typeof a==="string"){s.setAttribute(f,a)}else{for(l in a){if(a.hasOwnProperty(l)){o[l]=a[l]}}}break;case V.className:case V.cls:s.className=a;break;case V.classList:s.className=a.join(" ");break;case V.text:s.textContent=a;break;case V.html:s.innerHTML=a;break;case V.children:for(l=0,c=a.length;l<c;l++){s.appendChild(r.create(a[l],true))}break;default:if(a!=null){s.setAttribute(f,a)}}}}if(t){return s}else{return r.get(s)}},detach:function(){var e=this.dom;if(e&&e.parentNode&&e.tagName!=="BODY"){e.parentNode.removeChild(e)}return this},fly:function(e,t){return Ext.fly(e,t)},fromPoint:function(e,t){return Ext.get(n.elementFromPoint(e,t))},get:function(s){function v(e){Ext.Error.raise("DOM element with id "+e+" in Element cache is not the same as element in the DOM. "+"Make sure to clean up Element instances using destroy()")}var o=this,u=Ext.cache,a,f,l,c,h,p,d;if(!s){return null}if(s.isFly){s=s.dom;h=s._extData}if(typeof s==="string"){l=s;if(u.hasOwnProperty(l)){c=u[l];if(c.skipGarbageCollection||!Ext.isGarbage(c.dom)){f=Ext.getElementById?Ext.getElementById(l):n.getElementById(l);if(f&&f!==c.dom){v(l)}return c}else{c.destroy()}}if(l===r){return e.get(t)}else if(l===i){return e.get(n)}f=Ext.getElementById?Ext.getElementById(l):n.getElementById(l);if(f){return new e(f)}}if(s===n){if(!o.docEl){n.id=i;o.docEl=new e(n,true)}return o.docEl}else if(s==t){if(!o.winEl){t.id=r;o.winEl=new e(t,true)}return o.winEl}a=s.nodeType;if(o.validNodeTypes[a]||!a&&s.window===s){l=s.id;if(u.hasOwnProperty(l)){c=u[l];if(c.skipGarbageCollection||s===c.dom||!Ext.isGarbage(c.dom)){if(s!==c.dom){v(l)}return c}else{c.destroy()}}return new e(s)}if(s.isElement){return s}if(s.isComposite){return s}if(Ext.isIterable(s)){return o.select(s)}return null},getActiveElement:function(){var e=n.activeElement;if(!e||!e.focus){e=n.body}return e},getDocumentHeight:function(){return Math.max(!Ext.isStrict?n.body.scrollHeight:n.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?n.body.scrollWidth:n.documentElement.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return t.orientation==0?"portrait":"landscape"}return t.innerHeight>t.innerWidth?"portrait":"landscape"},getViewportHeight:function(){return t.innerHeight},getViewportWidth:function(){return t.innerWidth},getViewSize:function(){return{width:e.getViewportWidth(),height:e.getViewportHeight()}},normalize:function(e){return q[e]||(q[e]=e.replace(j,R))},parseBox:function(e){e=e||0;var t=typeof e,n,r;if(t==="number"){return{top:e,right:e,bottom:e,left:e}}else if(t!=="string"){return e}n=e.split(" ");r=n.length;if(r===1){n[1]=n[2]=n[3]=n[0]}else if(r===2){n[2]=n[0];n[3]=n[1]}else if(r===3){n[3]=n[1]}return{top:parseFloat(n[0])||0,right:parseFloat(n[1])||0,bottom:parseFloat(n[2])||0,left:parseFloat(n[3])||0}},parseStyles:function(e){var t={},n;if(e){F.lastIndex=0;while(n=F.exec(e)){t[n[1]]=n[2]||""}}return t},select:function(e,t,r){return Ext.fly(r||n).select(e,t)},query:function(e,t,r){return Ext.fly(r||n).query(e,t)},unitizeBox:function(e,t){var n=this;e=n.parseBox(e);return n.addUnits(e.top,t)+" "+n.addUnits(e.right,t)+" "+n.addUnits(e.bottom,t)+" "+n.addUnits(e.left,t)},serializeForm:function(e){var t=e.elements||(n.forms[e]||Ext.getDom(e)).elements,r=false,i=encodeURIComponent,s="",o=t.length,u,a,f,l,c,h,p,d,v;for(h=0;h<o;h++){u=t[h];a=u.name;f=u.type;l=u.options;if(!u.disabled&&a){if(/select-(one|multiple)/i.test(f)){d=l.length;for(p=0;p<d;p++){v=l[p];if(v.selected){c=v.hasAttribute("value");s+=Ext.String.format("{0}={1}&",i(a),i(c?v.value:v.text))}}}else if(!/file|undefined|reset|button/i.test(f)){if(!(/radio|checkbox/i.test(f)&&!u.checked)&&!(f=="submit"&&r)){s+=i(a)+"="+i(u.value)+"&";r=/submit/i.test(f)}}}}return s.substr(0,s.length-1)}},addCls:function(e,t,n){var r=this,i,s,o,u,a,f,l,c=r.getData();if(!e){return r}if(!c.isSynchronized){r.synchronize()}s=r.dom;o=c.classMap;u=c.classList;t=t?t+x:"";n=n?x+n:"";if(typeof e==="string"){e=e.split(N)}for(a=0,f=e.length;a<f;a++){l=t+e[a]+n;if(!o[l]){o[l]=true;u.push(l);i=true}}if(i){s.className=u.join(" ")}return r},addStyles:function(e,t){var n=0,r=(e||"").match(T),i,s=r.length,o,u=[];if(s===1){n=Math.abs(parseFloat(this.getStyle(t[r[0]]))||0)}else if(s){for(i=0;i<s;i++){o=r[i];u.push(t[o])}u=this.getStyle(u);for(i=0;i<s;i++){o=r[i];n+=parseFloat(u[t[o]])||0}}return n},addUnits:function(t,n){return e.addUnits(t,n)},adjustDirect2DDimension:function(e){var t=this,n=t.dom,r=t.getStyle("display"),i=n.style.display,o=n.style.position,u=e===s?0:1,a=n.currentStyle,f;if(r==="inline"){n.style.display="inline-block"}n.style.position=r.match(L)?"absolute":"static";f=(parseFloat(a[e])||parseFloat(a.msTransformOrigin.split(" ")[u])*2)%1;n.style.position=o;if(r==="inline"){n.style.display=i}return f},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(e,t){var n=this,r,i,s;if(e.nodeType||e.dom||typeof e==="string"){e=Ext.getDom(e);n.dom.appendChild(e);return!t?Ext.get(e):e}else if(e.length){r=Ext.fly(document.createDocumentFragment());i=e.length;for(s=0;s<i;s++){r.appendChild(e[s],t)}n.dom.appendChild(r.dom);return t?r.dom:r}else{return n.createChild(e,null,t)}},appendTo:function(e){Ext.getDom(e).appendChild(this.dom);return this},applyStyles:function(t){if(t){if(typeof t==="function"){t=t.call()}if(typeof t==="string"){t=e.parseStyles(t)}if(typeof t==="object"){this.setStyle(t)}}return this},blur:function(){var e=this,t=e.dom;if(t!==n.body){try{t.blur()}catch(r){}return e}else{return e.focus(undefined,t)}},center:function(e){return this.alignTo(e||n,"c-c")},child:function(e,t){var n=this,r=Ext.get(n).id;return n.selectNode(Ext.makeIdSelector(r)+" > "+e,!!t)},createChild:function(e,t,n){e=e||{tag:"div"};if(t){return Ext.DomHelper.insertBefore(t,e,n!==true)}else{return Ext.DomHelper.append(this.dom,e,n!==true)}},createShim:function(){var e=n.createElement("iframe"),t;e.frameBorder="0";e.className=Ext.baseCSSPrefix+"shim";e.src=Ext.SSL_SECURE_URL;e.setAttribute("role","presentation");e.setAttribute("tabindex",-1);t=Ext.get(this.dom.parentNode.insertBefore(e,this.dom));return t},contains:function(e){if(!e){return false}var t=this,n=Ext.getDom(e);return n===t.dom||t.isAncestor(n)},destroy:function(){var e=this,r=e.dom;if(e.isDestroyed){Ext.Logger.warn('Cannot destroy Element "'+e.id+'". Already destroyed.');return}if(r){if(r.tagName==="BODY"){Ext.Error.raise("Cannot destroy body element.")}else if(r===n){Ext.Error.raise("Cannot destroy document object.")}else if(r===t){Ext.Error.raise("Cannot destroy window object")}}if(!e.isFly){e.clearListeners();delete Ext.cache[e.id];e.isDestroyed=true}if(r){if(r.parentNode){r.parentNode.removeChild(r)}r._extData=e.dom=null}},detach:function(){var e=this.dom;if(e&&e.parentNode&&e.tagName!=="BODY"){e.parentNode.removeChild(e)}return this},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(e){e.preventDefault()},destroyable:true,delegated:false})},disableTouchScroll:function(){this.addCls(X);this.on({touchmove:function(e){e.preventDefault()},translate:false})},doAddListener:function(t,n,r,i){var s=this,o,u,a,f;if(!s.blockedEvents[t]){u=s.mixins.observable.doAddListener;i=i||{};if(s.longpressEvents[t]){s.disableTouchContextMenu()}if(s.normalizeEvent){o=s.normalizeEvent(t);if(o){t=o.eventName;i.beforeFn=o.normalizeFn}}if(e.useDelegatedEvents===false){i.delegated=i.delegated||false}if(i.translate!==false){a=s.additiveEvents[t];if(a){i.type=t;t=a;u.apply(s,arguments)}f=s.eventMap[t];if(f){i.type=i.type||t;t=f}}u.apply(s,arguments);delete i.type}return s},doRemoveListener:function(t,n,r,i){var s=this,o,u,a,f;if(!s.blockedEvents[t]){u=s.mixins.observable.doRemoveListener;i=i||{};if(s.longpressEvents[t]){f=this._contextMenuListenerRemover;if(f){f.destroy()}}if(s.normalizeEvent){o=s.normalizeEvent(t);if(o){t=o.eventName}}if(e.useDelegatedEvents===false){i.delegated=i.delegated||false}if(i.translate!==false){a=s.additiveEvents[t];if(a){t=a;u.apply(s,arguments)}t=s.eventMap[t]||t}u.apply(s,arguments)}return s},doReplaceWith:function(e){var t=this.dom;t.parentNode.replaceChild(Ext.getDom(e),t)},down:function(e,t){return this.selectNode(e,!!t)},findParent:function(e,t,r){var i=this,s=i.dom,o=n.documentElement,u=0;t=t||50;if(isNaN(t)){t=Number.MAX_VALUE}while(s&&s.nodeType===1&&u<t&&s!==o){if(Ext.fly(s).is(e)){return r?Ext.get(s):s}u++;s=s.parentNode}return null},findParentNode:function(e,t,n){var r=Ext.fly(this.dom.parentNode);return r?r.findParent(e,t,n):null},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},focus:function(e,t){var n=this;t=t||n.dom;try{if(Number(e)){Ext.defer(n.focus,e,n,[null,t])}else{Ext.GlobalEvents.fireEvent("beforefocus",t);t.focus()}}catch(r){}return n},getAnchorToXY:function(e,t,n,r){return e.getAnchorXY(t,n,r)},getAttribute:function(e,t){var n=this.dom;return t?n.getAttributeNS(t,e)||n.getAttribute(t+":"+e):n.getAttribute(e)||n[e]||null},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getById:function(e,t){var r=n.getElementById(e)||this.dom.querySelector(Ext.makeIdSelector(e));return t?r:r?Ext.get(r):null},getBorderPadding:function(){var e=this.getStyle(_),t=this.getStyle(D);return{beforeX:(parseFloat(t[A.l])||0)+(parseFloat(e[O.l])||0),afterX:(parseFloat(t[A.r])||0)+(parseFloat(e[O.r])||0),beforeY:(parseFloat(t[A.t])||0)+(parseFloat(e[O.t])||0),afterY:(parseFloat(t[A.b])||0)+(parseFloat(e[O.b])||0)}},getBorderWidth:function(e){return this.addStyles(e,A)},getData:function(){var e=this.dom;return e._extData||(e._extData={})},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(e,t){var n=this,r=n.isStyle("display","none"),i,s;if(r){return 0}i=n.dom.offsetHeight;if(Ext.supports.Direct2DBug){s=n.adjustDirect2DDimension(o);if(t){i+=s}else if(s>0&&s<.5){i++}}if(e){i-=n.getBorderWidth("tb")+n.getPadding("tb")}return i<0?0:i},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e=this,t,n=e.getStyle("left");if(!n||n==="auto"){n=0}else if(I.test(n)){n=parseFloat(n)}else{n=e.getX();t=e.dom.offsetParent;if(t){n-=Ext.fly(t).getX()}}return n},getLocalXY:function(){var e=this,t,n=e.getStyle(["left","top"]),r=n.left,i=n.top;if(!r||r==="auto"){r=0}else if(I.test(r)){r=parseFloat(r)}else{r=e.getX();t=e.dom.offsetParent;if(t){r-=Ext.fly(t).getX()}}if(!i||i==="auto"){i=0}else if(I.test(i)){i=parseFloat(i)}else{i=e.getY();t=e.dom.offsetParent;if(t){i-=Ext.fly(t).getY()}}return[r,i]},getLocalY:function(){var e=this,t,n=e.getStyle("top");if(!n||n==="auto"){n=0}else if(I.test(n)){n=parseFloat(n)}else{n=e.getY();t=e.dom.offsetParent;if(t){n-=Ext.fly(t).getY()}}return n},getMargin:function(e){var t=this,n={t:"top",l:"left",r:"right",b:"bottom"},r,i,s;if(!e){s=[];for(r in M){s.push(M[r])}i=t.getStyle(M);if(i&&typeof i==="object"){for(r in M){i[n[r]]=parseFloat(i[M[r]])||0}}return i}else{return t.addStyles(e,M)}},getPadding:function(e){return this.addStyles(e,O)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},getStyle:function(t,n){var r=this,i=r.dom,s=typeof t!=="string",o=r.styleHooks,u=t,a=u,f=1,l,c,h,p,d,v,m;if(s){h={};u=a[0];m=0;if(!(f=a.length)){return h}}if(!i||i.documentElement){return h||""}l=i.style;if(n){v=l}else{v=i.ownerDocument.defaultView.getComputedStyle(i,null);if(!v){n=true;v=l}}do{p=o[u];if(!p){o[u]=p={name:e.normalize(u)}}if(p.get){d=p.get(i,r,n,v)}else{c=p.name;d=v[c]}if(!s){return d}h[u]=d;u=a[++m]}while(m<f);return h},getStyleValue:function(e){return this.dom.style.getPropertyValue(e)},getTop:function(e){return e?this.getLocalY():this.getY()},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},getViewSize:function(){var t=this.dom;if(t===n||t===n.body){return{width:e.getViewportWidth(),height:e.getViewportHeight()}}else{return{width:t.clientWidth,height:t.clientHeight}}},getVisibilityMode:function(){var t=this,n=t.getData(),r=n.visibilityMode;if(r===undefined){n.visibilityMode=r=e.DISPLAY}return r},getWidth:function(e,t){var n=this,r=n.dom,i=n.isStyle("display","none"),o,u,a;if(i){return 0}if(Ext.supports.BoundingClientRect){o=r.getBoundingClientRect();u=n.vertical&&!Ext.supports.RotatedBoundingClientRect?o.bottom-o.top:o.right-o.left;u=t?u:Math.ceil(u)}else{u=r.offsetWidth}if(Ext.supports.Direct2DBug&&!n.vertical){a=n.adjustDirect2DDimension(s);if(t){u+=a}else if(a>0&&a<.5){u++}}if(e){u-=n.getBorderWidth("lr")+n.getPadding("lr")}return u<0?0:u},getX:function(){return this.getXY()[0]},getXY:function(){var e=Math.round,t=this.dom,r=0,i=0,s;if(t!==n&&t!==n.body){try{s=t.getBoundingClientRect()}catch(o){s={left:0,top:0}}r=e(s.left);i=e(s.top)}return[r,i]},getY:function(){return this.getXY()[1]},hasCls:function(e){var t=this.getData();if(!t.isSynchronized){this.synchronize()}return t.classMap.hasOwnProperty(e)},hide:function(){this.setVisible(false);return this},insertAfter:function(e){e=Ext.getDom(e);e.parentNode.insertBefore(this.dom,e.nextSibling);return this},insertBefore:function(e){e=Ext.getDom(e);e.parentNode.insertBefore(this.dom,e);return this},insertFirst:function(e,t){e=e||{};if(e.nodeType||e.dom||typeof e==="string"){e=Ext.getDom(e);this.dom.insertBefore(e,this.dom.firstChild);return!t?Ext.get(e):e}else{return this.createChild(e,this.dom.firstChild,t)}},insertHtml:function(e,t,n){var r=Ext.DomHelper.insertHtml(e,this.dom,t);return n?Ext.get(r):r},insertSibling:function(e,t,n){var r=this,i=Ext.DomHelper,s=(t||"before").toLowerCase()==="after",o,u,a,f;if(Ext.isIterable(e)){a=e.length;u=Ext.fly(document.createDocumentFragment());if(Ext.isArray(e)){for(f=0;f<a;f++){o=u.appendChild(e[f],n)}}else{for(f=0;f<a;f++){u.dom.appendChild(o=e[0])}if(n===false){o=Ext.get(o)}}r.dom.parentNode.insertBefore(u.dom,s?r.dom.nextSibling:r.dom);return o}e=e||{};if(e.nodeType||e.dom){o=r.dom.parentNode.insertBefore(Ext.getDom(e),s?r.dom.nextSibling:r.dom);if(!n){o=Ext.get(o)}}else{if(s&&!r.dom.nextSibling){o=i.append(r.dom.parentNode,e,!n)}else{o=i[s?"insertAfter":"insertBefore"](r.dom,e,!n)}}return o},is:function(e){var t=this.dom,n;if(!e){n=true}else if(!t.tagName){n=false}else if(Ext.isFunction(e)){n=e(t)}else{n=t[Ext.supports.matchesSelector](e)}return n},isAncestor:function(e){var t=false,n=this.dom,r=Ext.getDom(e);if(n&&r){if(n.contains){return n.contains(r)}else if(n.compareDocumentPosition){return!!(n.compareDocumentPosition(r)&16)}else{while(r=r.parentNode){t=r===n||t}}}return t},isPainted:function(){return!Ext.browser.is.IE?function(){var e=this.dom;return Boolean(e&&e.offsetParent)}:function(){var e=this.dom;return Boolean(e&&e.offsetHeight!==0&&e.offsetWidth!==0)}}(),isStyle:function(e,t){return this.getStyle(e)===t},isVisible:function(e){var t=this.dom,n;if(!t){return false}if(!$){$=new Ext.dom.Fly}for(n=t.ownerDocument.documentElement;t!==n;t=t.parentNode){if(!t||t.nodeType===11||$.attach(t).isStyle(v,m)||$.isStyle(g,y)){return false}if(!e){break}}return true},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,n,r){var i=this.dom,s;if(!i){return null}s=i[t];while(s){if(s.nodeType===1&&(!n||Ext.fly(s,"_matchNode").is(n))){return!r?Ext.get(s):s}s=s[e]}return null},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},position:function(e,t,n,r){var i=this;if(!e&&i.isStyle(w,S)){i.setStyle(w,E)}else if(e){i.setStyle(w,e)}if(t){i.setStyle(b,t)}if(n||r){i.setXY([n||false,r||false])}},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},query:function(e,t,n){var r=this.dom,i,s,o,u,a,f,l;if(!r){return null}t=t!==false;e=e.split(",");if(!n){i=[]}for(f=0,s=e.length;f<s;f++){if(typeof e[f]==="string"){if(n){u=r.querySelector(e[f]);return t?u:Ext.get(u)}a=r.querySelectorAll(e[f]);for(l=0,o=a.length;l<o;l++){i.push(t?a[l]:Ext.get(a[l]))}}}return i},radioCls:function(e){var t=this.dom.parentNode.childNodes,n;e=Ext.isArray(e)?e:[e];for(var r=0,i=t.length;r<i;r++){n=t[r];if(n&&n.nodeType===1){Ext.fly(n).removeCls(e)}}return this.addCls(e)},redraw:function(){var e=this.dom,t=e.style;t.display="none";e.offsetHeight;t.display=""},remove:function(){this.destroy()},removeChild:function(e){this.dom.removeChild(Ext.getDom(e));return this},removeCls:function(e,t,n){var r=this,i,s,o,u,a,f,l,c=r.getData();if(!e){return r}if(!c.isSynchronized){r.synchronize()}if(!n){n=""}s=r.dom;o=c.classMap;u=c.classList;t=t?t+x:"";n=n?x+n:"";if(typeof e==="string"){e=e.split(N)}for(a=0,f=e.length;a<f;a++){l=t+e[a]+n;if(o[l]){delete o[l];Ext.Array.remove(u,l);i=true}}if(i){s.className=u.join(" ")}return r},repaint:function(){var e=this;e.addCls(Ext.baseCSSPrefix+"repaint");Ext.defer(function(){if(e.dom){Ext.fly(e.dom).removeCls(Ext.baseCSSPrefix+"repaint")}},1);return e},replace:function(e,t){e=Ext.getDom(e);var n=e.parentNode,r=e.id,i=this.dom;if(!n){Ext.Error.raise('Cannot replace element "'+r+'". It is not attached to a parent node.')}if(t!==false&&r&&Ext.cache[r]){n.insertBefore(i,e);Ext.get(e).destroy()}else{n.replaceChild(i,e)}return this},replaceCls:function(e,t,n,r){var i=this,s,o,u,a,f,l,c=i.getData();if(!e&&!t){return i}e=e||[];t=t||[];if(!c.isSynchronized){i.synchronize()}if(!r){r=""}s=i.dom;o=c.classMap;u=c.classList;n=n?n+x:"";r=r?x+r:"";if(typeof e==="string"){e=e.split(N)}if(typeof t==="string"){t=t.split(N)}for(a=0,f=e.length;a<f;a++){l=n+e[a]+r;if(o[l]){delete o[l];Ext.Array.remove(u,l)}}for(a=0,f=t.length;a<f;a++){l=n+t[a]+r;if(!o[l]){o[l]=true;u.push(l)}}s.className=u.join(" ");return i},replaceWith:function(e){var t=this,n=t.dom,r=n.parentNode,i=Ext.cache,s;t.clearListeners();if(e.nodeType||e.dom||typeof e==="string"){e=Ext.get(e);s=r.insertBefore(e.dom,n)}else{s=Ext.DomHelper.insertBefore(n,e)}r.removeChild(n);t.dom=s;if(!t.isFly){delete i[t.id];i[t.id=Ext.id(s)]=t}return t},resolveListenerScope:function(e){var t=this.component;return t?t.resolveListenerScope(e):this},select:function(e,t){var n,r;if(typeof e==="string"){r=this.query(e,!t)}else if(e.length===undefined){Ext.Error.raise("Invalid selector specified: "+e)}else{r=e;n=true}return t?new Ext.CompositeElement(r,!n):new Ext.CompositeElementLite(r,true)},selectNode:function(e,t){return this.query(e,t,true)},set:function(e,t){var n=this,r=n.dom,i,s;for(i in e){if(e.hasOwnProperty(i)){s=e[i];if(i==="style"){n.applyStyles(s)}else if(i==="cls"){r.className=s}else if(t!==false){if(s===undefined){r.removeAttribute(i)}else{r.setAttribute(i,s)}}else{r[i]=s}}}return n},setBottom:function(t){this.dom.style[p]=e.addUnits(t);return this},setBorder:function(e){var t=this,n=t.dom.style;if(e||e===0){e=t.self.unitizeBox(e===true?1:e);n.setProperty("border-width",e,"important")}else{n.removeProperty("border-top-width");n.removeProperty("border-right-width");n.removeProperty("border-bottom-width");n.removeProperty("border-left-width")}},setCls:function(e){var t=this,n=t.getData(),r=n.classMap,i,s,o;if(typeof e==="string"){e=e.split(N)}for(i=0,s=e.length;i<s;i++){o=e[i];if(!r[o]){r[o]=true}}n.classList=e.slice();t.dom.className=e.join(" ")},setHeight:function(t){this.dom.style[o]=e.addUnits(t);return this},setHtml:function(e){if(this.dom){this.dom.innerHTML=e}},setId:function(e){var t=this,n=t.id,r=Ext.cache;if(n){delete r[n]}t.dom.id=e;t.id=e;r[e]=t;return t},setLeft:function(t){this.dom.style[d]=e.addUnits(t);return this},setLocalX:function(e){var t=this.dom.style;t.right="auto";t.left=e===null?"auto":e+"px"},setLocalXY:function(e,t){var n=this.dom.style;n.right="auto";if(e&&e.length){t=e[1];e=e[0]}if(e===null){n.left="auto"}else if(e!==undefined){n.left=e+"px"}if(t===null){n.top="auto"}else if(t!==undefined){n.top=t+"px"}},setLocalY:function(e){this.dom.style.top=e===null?"auto":e+"px"},setMargin:function(e){var t=this,n=t.dom.style;if(e||e===0){e=t.self.unitizeBox(e===true?5:e);n.setProperty("margin",e,"important")}else{n.removeProperty("margin-top");n.removeProperty("margin-right");n.removeProperty("margin-bottom");n.removeProperty("margin-left")}},setMaxHeight:function(t){this.dom.style[l]=e.addUnits(t);return this},setMaxWidth:function(t){this.dom.style[f]=e.addUnits(t);return this},setMinHeight:function(t){this.dom.style[a]=e.addUnits(t);return this},setMinWidth:function(t){this.dom.style[u]=e.addUnits(t);return this},setPadding:function(e){var t=this,n=t.dom.style;if(e||e===0){e=t.self.unitizeBox(e===true?5:e);n.setProperty("padding",e,"important")}else{n.removeProperty("padding-top");n.removeProperty("padding-right");n.removeProperty("padding-bottom");n.removeProperty("padding-left")}},setRight:function(t){this.dom.style[h]=e.addUnits(t);return this},setSize:function(t,n){var r=this,i=r.dom.style;if(Ext.isObject(t)){n=t.height;t=t.width}i.width=e.addUnits(t);i.height=e.addUnits(n);return r},setSizeState:function(e){var t=this,n=["x-sized","x-unsized","x-stretched"],r=[true,false,null],i=r.indexOf(e),s;if(i!==-1){s=n[i];n.splice(i,1);t.addCls(s)}t.removeCls(n);return t},setStyle:function(t,n){var r=this,i=r.dom,s=r.styleHooks,o=i.style,u=t,a;if(typeof u==="string"){a=s[u];if(!a){s[u]=a={name:e.normalize(u)}}n=n==null?"":n;if(a.set){a.set(i,n,r)}else{o[a.name]=n}if(a.afterSet){a.afterSet(i,n,r)}}else{for(u in t){if(t.hasOwnProperty(u)){a=s[u];if(!a){s[u]=a={name:e.normalize(u)}}n=t[u];n=n==null?"":n;if(a.set){a.set(i,n,r)}else{o[a.name]=n}if(a.afterSet){a.afterSet(i,n,r)}}}}return r},setText:function(e){this.dom.textContent=e},setTop:function(t){this.dom.style[c]=e.addUnits(t);return this},setVisibility:function(e){var t=this.dom.style;if(e){t.removeProperty("visibility")}else{t.setProperty("visibility","hidden","important")}},setVisibilityMode:function(e){if(e!==1&&e!==2&&e!==3){Ext.Error.raise("visibilityMode must be one of the following: "+"Ext.Element.DISPLAY, Ext.Element.VISIBILITY, or Ext.Element.OFFSETS")}this.getData().visibilityMode=e;return this},setVisible:function(t){var n=this,r=n.getVisibilityMode(),i=t?"removeCls":"addCls";switch(r){case e.DISPLAY:n.removeCls([U,W]);n[i](z);break;case e.VISIBILITY:n.removeCls([z,W]);n[i](U);break;case e.OFFSETS:n.removeCls([U,z]);n[i](W);break}return n},setWidth:function(t){this.dom.style[s]=e.addUnits(t);return this},setX:function(e){return this.setXY([e,false])},setXY:function(e){var t=this,n=t.translatePoints(e),r=t.dom.style,i;t.position();r.right="auto";for(i in n){if(!isNaN(n[i])){r[i]=n[i]+"px"}}return t},setY:function(e){return this.setXY([false,e])},show:function(){this.setVisible(true);return this},swapCls:function(e,t,n,r){if(n===undefined){n=true}var i=this,s=n?e:t,o=n?t:e;if(o){i.removeCls(r?r+"-"+o:o)}if(s){i.addCls(r?r+"-"+s:s)}return i},synchronize:function(){var e=this,t=e.dom,n={},r=t.className,i,s,o,u,a=e.getData();if(r&&r.length>0){i=t.className.split(C);for(s=0,o=i.length;s<o;s++){u=i[s];n[u]=true}}else{i=[]}a.classList=i;a.classMap=n;a.isSynchronized=true;return e},toggleCls:function(e,t){if(typeof t!=="boolean"){t=!this.hasCls(e)}return t?this.addCls(e):this.removeCls(e)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var e="webkitTransform"in n.createElement("div").style?"webkitTransform":"transform";return function(t,n,r){this.dom.style[e]="translate3d("+(t||0)+"px, "+(n||0)+"px, "+(r||0)+"px)"}}(),unwrap:function(){var e=this.dom,t=e.parentNode,n;if(t){n=t.parentNode;n.insertBefore(e,t);n.removeChild(t)}else{n=document.createDocumentFragment();n.appendChild(e)}return this},up:function(e,t,n){return this.findParentNode(e,t,!n)},update:function(e){return this.setHtml(e)},wrap:function(e,t,n){var r=this,i=r.dom,s=Ext.DomHelper.insertBefore(i,e||{tag:"div"},true),o=s;if(n){o=s.selectNode(n)}o.appendChild(i);return t?s.dom:s},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(t){var n=this,r=n.dom,i=r.nodeName==="BODY",s=i?e.getViewportWidth():r.offsetWidth,o=i?e.getViewportHeight():r.offsetHeight,u=n.getXY(),a=u[1],f=u[0]+s,l=u[1]+o,c=u[0];if(t){return new Ext.util.Region(a,f,l,c)}else{return{left:c,top:a,width:s,height:o,right:f,bottom:l}}},getScrollParent:null,isDescendent:null,isTransparent:function(e){var t=this.getStyle(e);return t?k.test(t):false},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(e){var t=document,n=e.prototype,r=Ext.supports,i="pointerdown",s="pointermove",o="pointerup",u="pointercancel",a="MSPointerDown",f="MSPointerMove",l="MSPointerUp",c="MSPointerCancel",h="mousedown",p="mousemove",d="mouseup",v="mouseover",m="mouseout",g="mouseenter",y="mouseleave",b="touchstart",w="touchmove",E="touchend",S="touchcancel",x="click",T="dblclick",N="tap",C="doubletap",k=n.eventMap={},L=n.additiveEvents={},A=Ext.id;Ext.id=function(t,n){var r=Ext.getDom(t,true),i,s;if(!r){s=A(t,n)}else if(!(s=r.id)){s=A(null,n||e.prototype.identifiablePrefix);if(Ext.isSandboxed){i=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-");s=i+s}r.id=s}return s};if(r.PointerEvents){k[h]=i;k[p]=s;k[d]=o;k[b]=i;k[w]=s;k[E]=o;k[S]=u;k[x]=N;k[T]=C;k[v]="pointerover";k[m]="pointerout";k[g]="pointerenter";k[y]="pointerleave"}else if(r.MSPointerEvents){k[i]=a;k[s]=f;k[o]=l;k[u]=c;k[h]=a;k[p]=f;k[d]=l;k[b]=a;k[w]=f;k[E]=l;k[S]=c;k[x]=N;k[T]=C;k[v]="MSPointerOver";k[m]="MSPointerOut"}else if(r.TouchEvents){k[i]=b;k[s]=w;k[o]=E;k[u]=S;k[h]=b;k[p]=w;k[d]=E;k[x]=N;k[T]=C;if(Ext.isWebKit&&Ext.os.is.Desktop){k[b]=h;k[w]=p;k[E]=d;k[S]=d;L[h]=h;L[p]=p;L[d]=d;L[b]=b;L[w]=w;L[E]=E;L[S]=S;L[i]=h;L[s]=p;L[o]=d;L[u]=d}}else{k[i]=h;k[s]=p;k[o]=d;k[u]=d;k[b]=h;k[w]=p;k[E]=d;k[S]=d}n.getTrueXY=n.getXY;Ext.select=e.select;Ext.query=e.query;Ext.apply(Ext,{get:function(t){return e.get(t)},getDom:function(e){if(!e||!t){return null}return e.dom||(typeof e==="string"?Ext.getElementById(e):e)},getBody:function(){if(!Ext._bodyEl){if(!t.body){throw new Error("[Ext.getBody] document.body does not yet exist")}Ext._bodyEl=Ext.get(t.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(t.head||t.getElementsByTagName("head")[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(t)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(e){var t=e&&e.id,n=Ext.cache[t],r;if(n){n.destroy()}else if(e&&e.tagName.toUpperCase()!=="BODY"){r=e.parentNode;if(r){r.removeChild(e)}}}});Ext.isGarbage=function(e){return e&&e.nodeType===1&&e.tagName!=="BODY"&&e.tagName!=="HTML"&&(!e.parentNode||!e.offsetParent&&(Ext.isIE8?t.all[e.id]:t.getElementById(e.id))!==e&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(e)))}});Ext.define("Ext.dom.Fly",{extend:"Ext.dom.Element",alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:true,constructor:function(e){this.dom=e;this.el=this},attach:function(e){var t=this;if(!e){return t.detach()}t.dom=e;if(!Ext.cache[e.id]){t.getData().isSynchronized=false}return t},detach:function(){this.dom=null},addListener:(function(){Ext.Error.raise("Cannot use addListener() on Ext.dom.Fly instances. "+"Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")})||null,removeListener:(function(){Ext.Error.raise("Cannot use removeListener() on Ext.dom.Fly instances. "+"Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")})||null},function(e){var t={};e.cache=t;Ext.fly=function(n,r){var i=null,s=Ext.fly,o;r=r||s.caller&&s.caller.$name||"_global";n=Ext.getDom(n);if(n){o=n.nodeType;if(e.prototype.validNodeTypes[o]||!o&&n.window===n){i=Ext.cache[n.id];if(!i||i.dom!==n){i=t[r]||(t[r]=new e);i.dom=n;i.isSynchronized=false}}}return i}});Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],requires:["Ext.dom.Fly"],isComposite:true,isLite:true,statics:{importElementMethods:function(){var e=Ext.dom.Element,t=this.prototype;Ext.Object.each(e.prototype,function(e,n){if(typeof n==="function"&&!t[e]){t[e]=function(){return this.invoke(e,arguments)}}})}},constructor:function(e,t){if(t){this.elements=e||[]}else{this.elements=[];this.add(e)}},getElement:function(e){var t=this._fly||(this._fly=new Ext.dom.Fly);return t.attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n=this.elements,r,i;if(!e){return this}if(typeof e=="string"){e=Ext.fly(t||document).query(e)}else if(e.isComposite){e=e.elements}else if(!Ext.isIterable(e)){e=[e]}for(r=0,i=e.length;r<i;++r){n.push(this.transformElement(e[r]))}return this},invoke:function(e,t){var n=this,r=n.elements,i=r.length,s,o,u;if(u!==0){s=(n.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(u=0;u<i;u++){o=r[u];if(o){s[e].apply(n.getElement(o),t)}}}return n},item:function(e){var t=this.elements[e],n=null;if(t){n=this.getElement(t)}return n},slice:function(){return this.elements.slice.apply(this.elements,arguments)},each:function(e,t){var n=this,r=n.elements,i=r.length,s,o;for(s=0;s<i;s++){o=r[s];if(o){o=this.getElement(o);if(e.call(t||o,o,n,s)===false){break}}}return n},fill:function(e){var t=this;t.elements=[];t.add(e);return t},insert:function(e,t){Ext.Array.insert(this.elements,e,t)},filter:function(e){var t=this,n=t.elements,r=n.length,i=[],s=0,o=typeof e=="function",u,a;for(;s<r;s++){a=n[s];u=false;if(a){a=t.getElement(a);if(o){u=e.call(a,a,t,s)!==false}else{u=a.is(e)}if(u){i.push(t.transformElement(a))}}}t.elements=i;return t},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,n){var r=!isNaN(e)?e:this.indexOf(e),i;if(r>-1){t=Ext.getDom(t);if(n){i=this.elements[r];i.parentNode.insertBefore(t,i);Ext.removeNode(i)}Ext.Array.splice(this.elements,r,1,t)}return this},clear:function(e){var t=this,n=t.elements,r=n.length-1;if(e){for(;r>=0;r--){Ext.removeNode(n[r])}}this.elements=[]},addElements:function(e,t){if(!e){return this}if(typeof e==="string"){e=Ext.dom.Element.selectorFunction(e,t)}var n=this.elements,r=e.length,i;for(i=0;i<r;i++){n.push(Ext.get(e[i]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return this.indexOf(e)!=-1},removeElement:function(e,t){e=[].concat(e);var n=this,r=n.elements,i=e.length,s,o,u;for(u=0;u<i;u++){s=e[u];if(o=r[s]||r[s=n.indexOf(s)]){if(t){if(o.dom){o.destroy()}else{Ext.removeNode(o)}}Ext.Array.erase(r,s,1)}}return n},destroy:function(){return this.invoke("destroy",arguments)}},function(e){var t=e.prototype;e.importElementMethods();t.on=t.addListener});Ext.define("Ext.util.Filter",{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,operator:null,root:null},scope:null,$configStrict:false,statics:{createFilterFn:function(e){if(!e){return Ext.returnTrue}return function(t){var n=e.isCollection?e.items:e,r=n.length,i=true,s,o;for(s=0;i&&s<r;s++){o=n[s];if(!o.getDisabled()){i=o.filter(t)}}return i}},isInvalid:function(e){var t=e.value;if(!e.filterFn){if(!e.property){return"A Filter requires either a property or a filterFn to be set"}if(!(t||t===0||t===false||t===""&&e.exatchMatch)){if(!e.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}}return false}},constructor:function(e){var t=Ext.util.Filter.isInvalid(e);if(t){Ext.log.warn(t)}this.initConfig(e)},filter:function(e){var t=this,n=t._filterFn||t.getFilterFn();return n.call(t.scope||t,e)},getId:function(){var e=this._id;if(!e){e=this.getProperty();if(!e){e=Ext.id(null,"ext-filter-")}this._id=e}return e},getFilterFn:function(){var e=this,t=e._filterFn,n;if(!t){n=e.getOperator();if(n){t=e.operatorFns[n]}else{t=e.createRegexFilter()}e._filterFn=t}return t},createRegexFilter:function(){var e=this,t=!!e.getAnyMatch(),n=!!e.getExactMatch(),r=e.getValue(),i=Ext.String.createRegex(r,!t,!t&&n,!e.getCaseSensitive());return function(t){var n=e.getPropertyValue(t);return i?i.test(n):n==null}},getPropertyValue:function(e){var t=this._root,n=t==null?e:e[t];return n[this._property]},getState:function(){var e=this.getInitialConfig(),t={},n;for(n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}delete t.root;t.value=this.getValue();return t},getScope:function(){return this.scope},serialize:function(){var e=this.getState();delete e.id;return e}},function(){var e=this.prototype,t=e.operatorFns={"<":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)<t},"<=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)<=t},"=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)==t},">=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)>=t},">":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)>t},"!=":function(e){var t=this._value;return Ext.coerce(this.getPropertyValue(e),t)!=t},"in":function(e){var t=this._value;return Ext.Array.contains(t,Ext.coerce(this.getPropertyValue(e),t))},like:function(e){var t=this._value;return t&&Ext.coerce(this.getPropertyValue(e),t).toLowerCase().indexOf(t.toLowerCase())>-1}},n=function(){this._filterFn=null},r=["updateOperator","updateValue"],i;t["=="]=t["="];t.gt=t[">"];t.ge=t[">="];t.lt=t["<"];t.le=t["<="];t.eq=t["="];t.ne=t["!="];for(i=r.length;i-->0;){e[r[i]]=n}});Ext.util=Ext.util||{};Ext.util.DelayedTask=function(e,t,n,r,i){var s=this,o,u=function(){var r=Ext.GlobalEvents;clearInterval(s.id);s.id=null;e.apply(t,n||[]);if(i!==false&&r.hasListeners.idle){r.fireEvent("idle")}};r=typeof r==="boolean"?r:true;s.id=null;s.delay=function(i,a,f,l){if(r){s.cancel()}if(typeof i==="number"){o=i}e=a||e;t=f||t;n=l||n;if(!s.id){s.id=Ext.interval(u,o)}};s.cancel=function(){if(s.id){clearInterval(s.id);s.id=null}}};Ext.define("Ext.util.Event",function(){var e=Array.prototype.slice,t=Ext.Array.insert,n=Ext.Array.toArray,r={};return{requires:"Ext.util.DelayedTask",isEvent:true,suspended:0,noOptions:{},constructor:function(e,t){this.name=t;this.observable=e;this.listeners=[]},addListener:function(e,n,r,i){var s=this,o,u,a,f,l,c,h,p,d,v;if(typeof e!=="string"){n=n||s.observable}if(!e){Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"})}if(!s.isListening(e,n)){u=s.createListener(e,n,r,i);if(s.firing){s.listeners=s.listeners.slice(0)}o=s.listeners;p=h=o.length;a=r&&r.priority;l=s._highestNegativePriorityIndex;c=l!==undefined;if(a){f=a<0;if(!f||c){for(d=f?l:0;d<h;d++){v=o[d].o?o[d].o.priority||0:0;if(v<a){p=d;break}}}else{s._highestNegativePriorityIndex=p}}else if(c){p=l}if(!f&&p<=l){s._highestNegativePriorityIndex++}if(p===h){s.listeners[h]=u}else{t(s.listeners,p,[u])}}return u},createListener:function(e,t,n,r){var i=this,s=t in Ext._namedScopes,o={fn:e,scope:t,ev:i,caller:r,namedScope:s,defaultScope:s?t:undefined,lateBound:typeof e==="string"&&(!t||s)},u=e,a=true;if(n){o.o=n;if(n.single){u=i.createSingle(u,o,n,t);a=false}if(n.target){u=i.createTargeted(u,o,n,t,a);a=false}if(n.delay){u=i.createDelayed(u,o,n,t,a);a=false}if(n.buffer){u=i.createBuffered(u,o,n,t,a);a=false}}o.fireFn=u;o.allowLookup=a;return o},findListener:function(e,t){var n=this.listeners,r=n.length,i,s,o;while(r--){i=n[r];if(i){s=i.scope;o=i.lateBound&&!i.namedScope?undefined:t||this.observable;if(i.fn==e&&s==o){return r}}}return-1},isListening:function(e,t){return this.findListener(e,t)!==-1},removeListener:function(e,t){var n=this,r,i,s,o;if(e.fireFn){r=Ext.Array.indexOf(listeners,e)}else{r=n.findListener(e,t)}if(r!=-1){i=n.listeners[r];s=n._highestNegativePriorityIndex;if(n.firing){n.listeners=n.listeners.slice(0)}if(i.task){i.task.cancel();delete i.task}o=i.tasks&&i.tasks.length;if(o){while(o--){i.tasks[o].cancel()}delete i.tasks}n.listeners.splice(r,1);if(s){if(r<s){n._highestNegativePriorityIndex--}else if(r===s&&r===n.listeners.length){delete n._highestNegativePriorityIndex}}return true}return false},clearListeners:function(){var e=this.listeners,t=e.length;while(t--){this.removeListener(e[t].fn,e[t].scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fire:function(){var t=this,n=t.listeners,r=n.length,i,s,o,u,a;if(!t.suspended&&r>0){t.firing=true;o=arguments.length?e.call(arguments,0):[];a=o.length;for(s=0;s<r;s++){u=n[s];if(u.o){o[a]=u.o}if(u){i=t.getFireInfo(u);if(i.fn.apply(i.scope,o)===false){return t.firing=false}}}}t.firing=false;return true},getFireInfo:function(e,t){var n=this.observable,i=t?e.fn:e.fireFn,s=e.scope,o=e.caller,u;var a=i;if((t||e.allowLookup)&&e.lateBound){s=(o||n).resolveListenerScope(e.defaultScope);i=s[i]}else{if(e.allowLookup){u=Ext._namedScopes[s];if(u&&u.isController){Ext.Error.raise("Cannot resolve scope 'controller' for '"+e.ev.name+"' listener declared on Observable: '"+n.id+"'")}}s=s&&!u?s:n}r.fn=i;r.scope=s;if(!i){Ext.Error.raise('Unable to dynamically resolve method "'+a+'"')}return r},createTargeted:function(e,t,n,r,i){return function(){if(n.target===arguments[0]){var s;if(i){s=t.ev.getFireInfo(t,true);e=s.fn;r=s.scope}e.apply(r,arguments)}}},createBuffered:function(e,t,r,i,s){t.task=new Ext.util.DelayedTask;return function(){var u;if(s){u=t.ev.getFireInfo(t,true);e=u.fn;i=u.scope}t.task.delay(r.buffer,e,i,n(arguments))}},createDelayed:function(e,t,r,i,s){return function(){var u=new Ext.util.DelayedTask,a;if(s){a=t.ev.getFireInfo(t,true);e=a.fn;i=a.scope}if(!t.tasks){t.tasks=[]}t.tasks.push(u);u.delay(r.delay||10,e,i,n(arguments))}},createSingle:function(e,t,n,r){return function(){var e=t.ev,n=e.getFireInfo(t,true);if(e.removeListener(t.fn,r)&&e.observable){e.observable.hasListeners[e.name]--}n.fn.apply(n.scope,arguments)}}}});Ext.define("Ext.util.Observable",function(e){var t=Ext.emptyFn,n=[],r=Array.prototype,i=r.slice,s=Ext.$eventNameMap,o=function(e){if(e instanceof o){return e}this.observable=e;if(arguments[1].isObservable){this.managedListeners=true}this.args=i.call(arguments,1)};o.prototype.destroy=function(){var e=this.observable;e[this.managedListeners?"mun":"un"].apply(e,this.args)};return{mixinId:"observable",requires:["Ext.util.Event"],statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,t,n){var r=function(e,r){return t.apply(n,[e].concat(r))};this.captureArgs(e,r,n)},captureArgs:function(e,t,n){e.fireEventArgs=Ext.Function.createInterceptor(e.fireEventArgs,t,n)},observe:function(e,t){if(e){if(!e.isObservable){Ext.applyIf(e,new this);this.captureArgs(e.prototype,e.fireEventArgs,e)}if(Ext.isObject(t)){e.on(t)}}return e},prepareClass:function(t,n,r){var i=t.listeners=[],s=r||t.prototype,o=s.listeners,u=n?n.listeners:t.superclass.self.listeners,a,f,l;if(u){i.push(u)}if(o){f=o.scope;if(!f){o.scope="self"}else{l=Ext._namedScopes[f];if(l&&l.isController){o.scope="self.controller"}}i.push(o);s.listeners=null}if(!t.HasListeners){var c=function(){},h=t.superclass.HasListeners||n&&n.HasListeners||e.HasListeners;t.prototype.HasListeners=t.HasListeners=c;c.prototype=t.hasListeners=new h}}},isObservable:true,isUtilObservable:true,eventsSuspended:0,constructor:function(e){var t=this,n=t.self,r;if(e){Ext.apply(t,e)}t.hasListeners=new t.HasListeners;t.events=t.events||{};r=n.listeners;if(r&&!t._addDeclaredListeners(r)){n.listeners=null}if(t.listeners){t.on(t.listeners);t.listeners=null}if(t.bubbleEvents){t.enableBubble(t.bubbleEvents)}},onClassExtended:function(t){if(!t.HasListeners){e.prepareClass(t)}},eventOptionsRe:/^(?:scope|delay|buffer|onFrame|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|priority)$/,_addDeclaredListeners:function(e){var t=this;if(e instanceof Array){Ext.each(e,t._addDeclaredListeners,t)}else{t._addedDeclaredListeners=true;t.addListener(e)}return t._addedDeclaredListeners},addManagedListener:function(e,n,r,i,s,u){var a=this,f=a.managedListeners=a.managedListeners||[],l,c;if(typeof n!=="string"){c=arguments.length>4?s:n;s=n;for(n in s){if(s.hasOwnProperty(n)){l=s[n];if(!a.eventOptionsRe.test(n)){a.addManagedListener(e,n,l.fn||l,l.scope||s.scope||i,l.fn?l:c,true)}}}if(s&&s.destroyable){return new o(a,e,s)}}else{if(r!==t){f.push({item:e,ename:n,fn:r,scope:i,options:s});if(e.isUtilObservable){e.on(n,r,i,s,a)}else{e.on(n,r,i,s)}if(!u&&s&&s.destroyable){return new o(a,e,n,r,i)}}}},removeManagedListener:function(e,t,n,r){var i=this,s,o,u,a,f;if(typeof t!=="string"){s=t;for(t in s){if(s.hasOwnProperty(t)){o=s[t];if(!i.eventOptionsRe.test(t)){i.removeManagedListener(e,t,o.fn||o,o.scope||s.scope||r)}}}}else{u=i.managedListeners?i.managedListeners.slice():[];if(typeof n==="string"&&r&&r!=="this"&&r!=="controller"&&!u.length){i.resolveMethod(n,r)}for(f=0,a=u.length;f<a;f++){i.removeManagedListenerItem(false,u[f],e,t,n,r)}}},fireEvent:function(e){return this.fireEventArgs(e,i.call(arguments,1))},resolveListenerScope:function(e){if(e==="controller"){Ext.Error.raise('scope: "controller" can only be specified on classes that derive from Ext.Component or Ext.Widget')}if(e==="this"){e=null}return e||this},fireEventArgs:function(e,t){e=s[e]||(s[e]=e.toLowerCase());var r=this,i=r.events,o=i&&i[e],u=true;if(r.hasListeners[e]){u=r.doFireEvent(e,t||n,o?o.bubble:false)}return u},doFireEvent:function(e,t,n){var r=this,i,s,o=true;do{if(r.eventsSuspended){if(i=r.eventQueue){i.push([e,t])}return o}else{s=r.events&&r.events[e];if(s&&s!==true){if((o=s.fire.apply(s,t))===false){break}}}}while(n&&(r=r.getBubbleParent()));return o},getBubbleParent:function(){var e=this,t=e.getBubbleTarget&&e.getBubbleTarget();if(t&&t.isObservable){return t}return null},addListener:function(e,n,r,i,u){var a=this,f=0,l=Ext._namedScopes,c,h,p,d,v;if(typeof e!=="string"){i=e;r=i.scope;p=r&&l[r];d=p&&p.isSelf;for(e in i){c=i[e];if(!a.eventOptionsRe.test(e)){v=c.scope;if(v&&d){p=l[v];if(p&&p.isController){v="self.controller"}}a.addListener(e,c.fn||c,v||r,c.fn?c:i,u)}}if(i&&i.destroyable){return new o(a,i)}}else{p=l[r];e=s[e]||(s[e]=e.toLowerCase());h=(a.events||(a.events={}))[e];if(h&&h.isEvent){f=h.listeners.length}else{a.events[e]=h=new Ext.util.Event(a,e)}if(typeof n==="string"&&r&&!p){n=a.resolveMethod(n,r)}else{if(!(typeof n==="string"&&(!r||p))){Ext.Assert.isFunction(n,"No function passed for event "+a.$className+"."+e)}}if(n!==t){h.addListener(n,r,i,u);if(h.listeners.length!==f){a.hasListeners._incr_(e)}if(i&&i.destroyable){return new o(a,e,n,r,i)}}}},removeListener:function(e,t,n){var r=this,i=r.events,o,u,a;if(typeof e!=="string"){a=e;for(e in a){if(a.hasOwnProperty(e)){o=a[e];if(!r.eventOptionsRe.test(e)){r.removeListener(e,o.fn||o,o.scope||a.scope)}}}}else{e=s[e]||(s[e]=e.toLowerCase());u=i&&i[e];if(u&&u.isEvent){if(typeof t==="string"&&n&&n!=="this"&&n!=="controller"){t=r.resolveMethod(t,n)}if(u.removeListener(t,n)){r.hasListeners._decr_(e)}}}},clearListeners:function(){var e=this,t=e.events,n=e.hasListeners,r,i;if(t){for(i in t){if(t.hasOwnProperty(i)){r=t[i];if(r.isEvent){delete n[i];r.clearListeners()}}}}e.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var e=this,t=e.managedListeners||[],n=0,r=t.length;for(;n<r;n++){e.removeManagedListenerItem(true,t[n])}e.managedListeners=[]},removeManagedListenerItem:function(e,t,n,r,i,s){if(e||t.item===n&&t.ename===r&&(!i||t.fn===i)&&(!s||t.scope===s)){t.item.un(t.ename,t.fn,t.scope);if(!e){Ext.Array.remove(this.managedListeners,t)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},resolveMethod:function(e,t){if(!e){Ext.Error.raise("No function specified")}if(!t||!Ext.isObject(t)){Ext.Error.raise('Named method "'+e+'" requires a scope object')}if(!Ext.isFunction(t[e])){Ext.Error.raise('No method named "'+e+'" on '+(t.$className||"scope object"))}return t[e]},hasListener:function(e){e=s[e]||(s[e]=e.toLowerCase());return!!this.hasListeners[e]},isSuspended:function(e){var t=this.eventsSuspended>0,n=this.events;if(!t&&e&&n){e=n[e];if(e&&e.isEvent){return e.isSuspended()}}return t},suspendEvents:function(e){++this.eventsSuspended;if(e&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var e=this,t=e.events||(e.events={}),n=arguments.length,r,i,o;for(r=0;r<n;r++){o=arguments[r];o=s[o]||(s[o]=o.toLowerCase());i=t[o];if(!i||!i.isEvent){t[o]=i=new Ext.util.Event(e,o)}i.suspend()}},resumeEvent:function(){var e=this.events||0,t=e&&arguments.length,n,r;for(n=0;n<t;n++){r=e[arguments[n]];if(r&&r.resume){r.resume()}}},resumeEvents:function(e){var t=this,n=t.eventQueue,r,i;if(t.eventsSuspended&&!--t.eventsSuspended){delete t.eventQueue;if(!e&&n){r=n.length;for(i=0;i<r;i++){t.fireEventArgs.apply(t,n[i])}}}},relayEvents:function(e,t,n){var r=this,i=t.length,s=0,u,a={};for(;s<i;s++){u=t[s];a[u]=r.createRelayer(n?n+u:u)}r.mon(e,a,null,null,undefined);return new o(r,e,a)},createRelayer:function(e,t){var n=this;return function(){return n.fireEventArgs.call(n,e,t?i.apply(arguments,t):arguments)}},enableBubble:function(e){if(e){var t=this,n=typeof e=="string"?arguments:e,r=t.events||(t.events={}),i=r&&n.length,o,u,a;for(a=0;a<i;++a){o=n[a];o=s[o]||(s[o]=o.toLowerCase());u=r[o];if(!u||!u.isEvent){r[o]=u=new Ext.util.Event(t,o)}t.hasListeners._incr_(o);u.bubble=true}}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){function i(e){var t=(this.methodEvents=this.methodEvents||{})[e],n,r,i,s=this,o;if(!t){this.methodEvents[e]=t={};t.originalFn=this[e];t.methodName=e;t.before=[];t.after=[];o=function(e,t,o){if((r=e.apply(t||s,o))!==undefined){if(typeof r=="object"){if(r.returnValue!==undefined){n=r.returnValue}else{n=r}i=!!r.cancel}else if(r===false){i=true}else{n=r}}};this[e]=function(){var e=Array.prototype.slice.call(arguments,0),u,a,f;n=r=undefined;i=false;for(a=0,f=t.before.length;a<f;a++){u=t.before[a];o(u.fn,u.scope,e);if(i){return n}}if((r=t.originalFn.apply(s,e))!==undefined){n=r}for(a=0,f=t.after.length;a<f;a++){u=t.after[a];o(u.fn,u.scope,e);if(i){return n}}return n}}return t}var e=this,t=e.prototype,n=function(){},r=function(t){if(!t.HasListeners){var n=t.prototype;e.prepareClass(t,this);t.onExtended(function(t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);e.prepareClass(t,null,n)});if(n.onClassMixedIn){Ext.override(t,{onClassMixedIn:function(e){r.call(this,e);this.callParent(arguments)}})}else{n.onClassMixedIn=function(e){r.call(this,e)}}}};n.prototype={_decr_:function(e){if(!--this[e]){delete this[e]}},_incr_:function(e){if(this.hasOwnProperty(e)){++this[e]}else{this[e]=1}}};t.HasListeners=e.HasListeners=n;e.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});e.observeClass=e.observe;Ext.apply(t,{onClassMixedIn:r,beforeMethod:function(e,t,n){i.call(this,e).before.push({fn:t,scope:n})},afterMethod:function(e,t,n){i.call(this,e).after.push({fn:t,scope:n})},removeMethodListener:function(e,t,n){var r=this.getMethodEvent(e),i,s;for(i=0,s=r.before.length;i<s;i++){if(r.before[i].fn==t&&r.before[i].scope==n){Ext.Array.erase(r.before,i,1);return}}for(i=0,s=r.after.length;i<s;i++){if(r.after[i].fn==t&&r.after[i].scope==n){Ext.Array.erase(r.after,i,1);return}}},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(e,arguments)}})}})});Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(e,t){var n=this;if(arguments.length===1&&Ext.isObject(e)){n.initialConfig=e;Ext.apply(n,e)}else{n.allowFunctions=e===true;if(t){n.getKey=t}n.initialConfig={allowFunctions:n.allowFunctions,getKey:n.getKey}}n.items=[];n.map={};n.keys=[];n.indexMap={};n.length=0;n.mixins.observable.constructor.call(n)},allowFunctions:false,add:function(e,t){var n=this.length,r;if(arguments.length===1){r=this.insert(n,e)}else{r=this.insert(n,e,t)}return r},getKey:function(e){return e.id},replace:function(e,t){var n=this,r,i;if(arguments.length==1){t=arguments[0];e=n.getKey(t)}r=n.map[e];if(typeof e=="undefined"||e===null||typeof r=="undefined"){return n.add(e,t)}n.generation++;i=n.indexOfKey(e);n.items[i]=t;n.map[e]=t;if(n.hasListeners.replace){n.fireEvent("replace",e,r,t)}return t},updateKey:function(e,t){var n=this,r=n.map,i=n.indexOfKey(e),s=n.indexMap,o;if(i>-1){o=r[e];delete r[e];delete s[e];r[t]=o;s[t]=i;n.keys[i]=t;n.indexGeneration=++n.generation}},addAll:function(e){var t=this,n;if(arguments.length>1||Ext.isArray(e)){t.insert(t.length,arguments.length>1?arguments:e)}else{for(n in e){if(e.hasOwnProperty(n)){if(t.allowFunctions||typeof e[n]!="function"){t.add(n,e[n])}}}}},each:function(e,t){var n=Ext.Array.push([],this.items),r=0,i=n.length,s;for(;r<i;r++){s=n[r];if(e.call(t||s,s,r,i)===false){break}}},eachKey:function(e,t){var n=this.keys,r=this.items,i=0,s=n.length;for(;i<s;i++){e.call(t||window,n[i],r[i],i,s)}},findBy:function(e,t){var n=this.keys,r=this.items,i=0,s=r.length;for(;i<s;i++){if(e.call(t||window,r[i],n[i])){return r[i]}}return null},find:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")}return this.findBy.apply(this,arguments)},insert:function(e,t,n){var r;if(Ext.isIterable(t)){r=this.doInsert(e,t,n)}else{if(arguments.length>2){r=this.doInsert(e,[t],[n])}else{r=this.doInsert(e,[t])}r=r[0]}return r},doInsert:function(e,t,n){var r=this,i,s,o,u=t.length,a=u,f=r.hasListeners.add,l,c={},h,p,d;if(n!=null){r.useLinearSearch=true}else{n=t;t=new Array(u);for(o=0;o<u;o++){t[o]=this.getKey(n[o])}}r.suspendEvents();for(o=0;o<u;o++){i=t[o];s=r.indexOfKey(i);if(s!==-1){if(s<e){e--}r.removeAt(s)}if(i!=null){if(c[i]!=null){h=true;a--}c[i]=o}}r.resumeEvents();if(h){p=t;d=n;t=new Array(a);n=new Array(a);o=0;for(i in c){t[o]=p[c[i]];n[o]=d[c[i]];o++}u=a}l=e===r.length&&r.indexGeneration===r.generation;Ext.Array.insert(r.items,e,n);Ext.Array.insert(r.keys,e,t);r.length+=u;r.generation++;if(l){r.indexGeneration=r.generation}for(o=0;o<u;o++,e++){i=t[o];if(i!=null){r.map[i]=n[o];if(l){r.indexMap[i]=e}}if(f){r.fireEvent("add",e,n[o],i)}}return n},remove:function(e){var t=this,n,r;if(!t.useLinearSearch&&(n=t.getKey(e))){r=t.indexOfKey(n)}else{r=Ext.Array.indexOf(t.items,e)}return r===-1?false:t.removeAt(r)},removeAll:function(e){var t=this,n;if(e||t.hasListeners.remove){if(e){for(n=e.length-1;n>=0;--n){t.remove(e[n])}}else{while(t.length){t.removeAt(0)}}}else{t.length=t.items.length=t.keys.length=0;t.map={};t.indexMap={};t.generation++;t.indexGeneration=t.generation}},removeAt:function(e){var t=this,n,r;if(e<t.length&&e>=0){t.length--;n=t.items[e];Ext.Array.erase(t.items,e,1);r=t.keys[e];if(typeof r!="undefined"){delete t.map[r]}Ext.Array.erase(t.keys,e,1);if(t.hasListeners.remove){t.fireEvent("remove",n,r)}t.generation++;return n}return false},removeRange:function(e,t){var n=this,r,i,s,o,u,a;if(e<n.length&&e>=0){if(!t){t=1}o=Math.min(e+t,n.length);t=o-e;a=o===n.length;u=a&&n.indexGeneration===n.generation;for(s=e;s<o;s++){i=n.keys[s];if(i!=null){delete n.map[i];if(u){delete n.indexMap[i]}}}r=n.items[s-1];n.length-=t;n.generation++;if(u){n.indexGeneration=n.generation}if(a){n.items.length=n.keys.length=n.length}else{n.items.splice(e,t);n.keys.splice(e,t)}return r}return false},removeAtKey:function(e){var t=this,n=t.keys,r;if(e==null){for(r=n.length-1;r>=0;r--){if(n[r]==null){t.removeAt(r)}}}else{return t.removeAt(t.indexOfKey(e))}},getCount:function(){return this.length},indexOf:function(e){var t=this,n;if(e!=null){if(!t.useLinearSearch&&(n=t.getKey(e))){return this.indexOfKey(n)}return Ext.Array.indexOf(t.items,e)}return-1},indexOfKey:function(e){if(!this.map.hasOwnProperty(e)){return-1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[e]},rebuildIndexMap:function(){var e=this,t=e.indexMap={},n=e.keys,r=n.length,i;for(i=0;i<r;i++){t[n[i]]=i}e.indexGeneration=e.generation},get:function(e){var t=this,n=t.map[e],r=n!==undefined?n:typeof e=="number"?t.items[e]:undefined;return typeof r!="function"||t.allowFunctions?r:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t=this,n;if(e!=null){if(!t.useLinearSearch&&(n=t.getKey(e))){return this.map[n]!=null}return Ext.Array.indexOf(this.items,e)!==-1}return false},containsKey:function(e){return this.map.hasOwnProperty(e)},clear:function(){var e=this;if(e.generation){e.length=0;e.items=[];e.keys=[];e.map={};e.indexMap={};e.generation++;e.indexGeneration=e.generation}if(e.hasListeners.clear){e.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,n,r){var i=this.extractValues(e,t),s=i.length,o=0,u;n=n||0;r=r||r===0?r:s-1;for(u=n;u<=r;u++){o+=i[u]}return o},collect:function(e,t,n){var r=this.extractValues(e,t),i=r.length,s={},o=[],u,a,f;for(f=0;f<i;f++){u=r[f];a=String(u);if((n||!Ext.isEmpty(u))&&!s[a]){s[a]=true;o.push(u)}}return o},extractValues:function(e,t){var n=this.items;if(t){n=Ext.Array.pluck(n,t)}return Ext.Array.pluck(n,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var n=this,r=n.items,i=[],s=r.length,o,u;if(s<1){return i}if(e>t){u=true;o=e;e=t;t=o}if(e<0){e=0}if(t==null||t>=s){t=s-1}i=r.slice(e,t+1);if(u&&i.length){i.reverse()}return i},filter:function(e,t,n,r){var i=[];if(Ext.isString(e)){i.push(new Ext.util.Filter({property:e,value:t,anyMatch:n,caseSensitive:r}))}else if(Ext.isArray(e)||e instanceof Ext.util.Filter){i=i.concat(e)}return this.filterBy(Ext.util.Filter.createFilterFn(i))},filterBy:function(e,t){var n=this,r=new n.self(n.initialConfig),i=n.keys,s=n.items,o=s.length,u;r.getKey=n.getKey;for(u=0;u<o;u++){if(e.call(t||n,s[u],i[u])){r.add(i[u],s[u])}}r.useLinearSearch=n.useLinearSearch;return r},findIndex:function(e,t,n,r,i){if(Ext.isEmpty(t,false)){return-1}t=this.createValueMatcher(t,r,i);return this.findIndexBy(function(n){return n&&t.test(n[e])},null,n)},findIndexBy:function(e,t,n){var r=this,i=r.keys,s=r.items,o=n||0,u=s.length;for(;o<u;o++){if(e.call(t||r,s[o],i[o])){return o}}return-1},createValueMatcher:function(e,t,n,r){if(!e.exec){var i=Ext.String.escapeRegex;e=String(e);if(t===true){e=i(e)}else{e="^"+i(e);if(r===true){e+="$"}}e=new RegExp(e,n?"":"i")}return e},clone:function(){var e=this,t=new e.self(e.initialConfig);t.add(e.keys,e.items);t.useLinearSearch=e.useLinearSearch;return t}});Ext.define("Ext.util.Sorter",{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(e,t){t=t||0;return function(n,r){var i=e.isCollection?e.items:e,s=i.length,o,u;for(u=0;u<s;++u){o=i[u].sort(n,r);if(o){return o}}return t&&t(n,r)}}},multiplier:1,constructor:function(e){if(e&&!this.isGrouper){if(!e.property===!e.sorterFn){Ext.Error.raise("A Sorter requires either a property or a sorterFn.")}}this.initConfig(e)},getId:function(){var e=this._id;if(!e){e=this.getProperty();if(!e){e=Ext.id(null,"ext-sorter-")}this._id=e}return e},sort:function(e,t){return this.multiplier*this.sortFn(e,t)},sortFn:function(e,t){var n=this,r=n._transform,i=n._root,s=n._property,o,u;if(i){e=e[i];t=t[i]}o=e[s];u=t[s];if(r){o=r(o);u=r(u)}return o>u?1:o<u?-1:0},applyDirection:function(e){return e?e:"ASC"},updateDirection:function(e){this.multiplier=e.toUpperCase()==="DESC"?-1:1},updateProperty:function(e){if(e){delete this.sortFn}},updateSorterFn:function(e){this.sortFn=e},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){return{root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()}},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}});Ext.define("Ext.util.Sortable",{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],multiSortLimit:3,statics:{createComparator:function(e){return e&&e.length?function(t,n){var r=e[0].sort(t,n),i=e.length,s=1;for(;!r&&s<i;s++){r=e[s].sort.call(this,t,n)}return r}:function(){return 0}}},applySorters:function(e){var t=this,n=t.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(e){n.addAll(t.decodeSorters(e))}return n},sort:function(e,t,n,r){var i=this,s,o,u=i.getSorters();if(!u){i.setSorters(null);u=i.getSorters()}if(Ext.isArray(e)){r=n;n=t}else if(Ext.isObject(e)){e=[e];r=n;n=t}else if(Ext.isString(e)){s=u.get(e);if(!s){s={property:e,direction:t}}else if(t==null){s.toggle()}else{s.setDirection(t)}e=[s]}if(e&&e.length){e=i.decodeSorters(e);switch(n){case"multi":u.insert(0,e[0]);o=u.getCount()-i.multiSortLimit;if(o>0){u.removeRange(i.multiSortLimit,o)}break;case"prepend":u.insert(0,e);break;case"append":u.addAll(e);break;case undefined:case null:case"replace":u.clear();u.addAll(e);break;default:Ext.Error.raise('Sorter insertion point must be "multi", "prepend", "append" or "replace"')}}if(r!==false){i.fireEvent("beforesort",i,e);i.onBeforeSort(e);if(i.getSorterCount()){i.doSort(i.generateComparator())}}return e},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var e=this.getSorters().getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){if(!Ext.isArray(e)){if(e===undefined){e=[]}else{e=[e]}}var t=e.length,n=Ext.util.Sorter,r=this.getModel?this.getModel():this.model,i,s,o;for(o=0;o<t;o++){s=e[o];if(!(s instanceof n)){if(Ext.isString(s)){s={property:s}}Ext.applyIf(s,{root:this.sortRoot,direction:"ASC"});if(s.fn){s.sorterFn=s.fn}if(typeof s=="function"){s={sorterFn:s}}if(r&&!s.transform){i=r.getField(s.property);s.transform=i&&i.sortType!==Ext.identityFn?i.sortType:undefined}e[o]=new Ext.util.Sorter(s)}}return e},getFirstSorter:function(){var e=this.getSorters().items,t=e.length,n=0,r;for(;n<t;++n){r=e[n];if(!r.isGrouper){return r}}return null}},function(){this.prototype.createComparator=this.createComparator});Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var e=this;e.initConfig();e.callParent(arguments)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,n){var r=this,i,s,o=String(t).toUpperCase()=="DESC"?-1:1,u=[],a=r.keys,f=r.items,l;n=n||function(e,t){return e-t};for(i=0,s=f.length;i<s;i++){u[u.length]={key:a[i],value:f[i],index:i}}Ext.Array.sort(u,function(t,r){return n(t[e],r[e])*o||(t.index<r.index?-1:1)});for(i=0,s=u.length;i<s;i++){l=u[i];f[i]=l.value;a[i]=l.key;r.indexMap[l.key]=i}r.generation++;r.indexGeneration=r.generation;r.fireEvent("sort",r)},sortBy:function(e){var t=this,n=t.items,r,i=t.keys,s,o=n.length,u;for(u=0;u<o;u++){n[u].$extCollectionIndex=u}Ext.Array.sort(n,function(t,n){return e(t,n)||(t.$extCollectionIndex<n.$extCollectionIndex?-1:1)});for(u=0;u<o;u++){r=n[u];s=t.getKey(r);i[u]=s;t.indexMap[s]=u;delete n.$extCollectionIndex}t.generation++;t.indexGeneration=t.generation;t.fireEvent("sort",t,n,i)},findInsertionIndex:function(e,t){var n=this,r=n.items,i=0,s=r.length-1,o,u;if(!t){t=n.generateComparator()}while(i<=s){o=i+s>>1;u=t(e,r[o]);if(u>=0){i=o+1}else if(u<0){s=o-1}}return i},reorder:function(e){var t=this,n=t.items,r=0,i=n.length,s=[],o=[],u;t.suspendEvents();for(u in e){s[e[u]]=n[u]}for(r=0;r<i;r++){if(e[r]==undefined){o.push(n[r])}}for(r=0;r<i;r++){if(s[r]==undefined){s[r]=o.shift()}}t.clear();t.addAll(s);t.resumeEvents();t.fireEvent("sort",t)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var n=String(e).toUpperCase(),r=String(t).toUpperCase();return n>r?1:n<r?-1:0})}});Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;if(typeof e=="number"){t.interval=e}else if(e){Ext.apply(t,e)}t.tasks=[];t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);t.manager=this;return t},start:function(e){var t=this,n=Ext.Date.now();if(!e.pending){t.tasks.push(e);e.pending=true}e.stopped=false;e.taskStartTime=n;e.taskRunTime=e.fireOnStart!==false?0:e.taskStartTime;e.taskRunCount=0;if(!t.firing){if(e.fireOnStart!==false){t.startTimer(0,n)}else{t.startTimer(e.interval,n)}}return e},stop:function(e){if(!e.stopped){e.stopped=true;if(e.onStop){e.onStop.call(e.scope||e,e)}}return e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e99,onTick:function(){var e=this,t=e.tasks,n=Ext.Date.now(),r=1e99,i=t.length,s=Ext.GlobalEvents,o,u,a,f,l,c,h;e.timerId=null;e.firing=true;for(a=0;a<i||a<(i=t.length);++a){f=t[a];if(!(c=f.stopped)){o=f.taskRunTime+f.interval;if(o<=n){l=1;if(f.hasOwnProperty("fireIdleEvent")){h=f.fireIdleEvent}else{h=e.fireIdleEvent}try{l=f.run.apply(f.scope||f,f.args||[++f.taskRunCount])}catch(p){try{Ext.log({msg:p,level:"error"});if(f.onError){l=f.onError.call(f.scope||f,f,p)}}catch(d){}}f.taskRunTime=n;if(l===false||f.taskRunCount===f.repeat){e.stop(f);c=true}else{c=f.stopped;o=n+f.interval}}if(!c&&f.duration&&f.duration<=n-f.taskStartTime){e.stop(f);c=true}}if(c){f.pending=false;if(!u){u=t.slice(0,a)}}else{if(u){u.push(f)}if(r>o){r=o}}}if(u){e.tasks=u}e.firing=false;if(e.tasks.length){e.startTimer(r-n,Ext.Date.now())}if(h!==false&&s.hasListeners.idle){s.fireEvent("idle")}},startTimer:function(e,t){var n=this,r=t+e,i=n.timerId;if(i&&n.nextExpires-r>n.interval){clearTimeout(i);i=null}if(!i){if(e<n.interval){e=n.interval}n.timerId=Ext.defer(n.timerFn,e);n.nextExpires=r}}},function(){var e=this,t=e.prototype;t.destroy=t.stopAll;e.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(e){Ext.apply(this,e)},restart:function(e){if(e!==undefined){this.interval=e}this.manager.start(this)},start:function(e){if(this.stopped){this.restart(e)}},stop:function(){this.manager.stop(this)}});t=e.Task.prototype;t.destroy=t.stop});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(e){this.target=e;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}});Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(e,t,n){if(n==undefined){if(t==="x"){n=e.getX()}else if(t==="y"){n=e.getY()}else if(t==="scrollTop"){n=e.getScroll().top}else if(t==="scrollLeft"){n=e.getScroll().left}else if(t==="height"){n=e.getHeight()}else if(t==="width"){n=e.getWidth()}else{n=e.getStyle(t)}}return n},getAttr:function(e,t){var n=this.target;return[[n,this.getElVal(n,e,t)]]},setAttr:function(e){var t=this.target,n=e.length,r,i,s,o,u,a;for(o=0;o<n;o++){r=e[o].attrs;for(i in r){if(r.hasOwnProperty(i)){a=r[i].length;for(u=0;u<a;u++){s=r[i][u];this.setElVal(s[0],i,s[1])}}}}},setElVal:function(e,t,n){if(t==="x"){e.setX(n)}else if(t==="y"){e.setY(n)}else if(t==="scrollTop"){e.scrollTo("top",n)}else if(t==="scrollLeft"){e.scrollTo("left",n)}else if(t==="width"){e.setWidth(n)}else if(t==="height"){e.setHeight(n)}else{e.setStyle(t,n)}}});Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(e,t){var n={attrs:[],duration:[],easing:[]},r=e.length,i,s,o,u,a,f,l,c,h;for(l=0;l<r;l++){s=e[l];a=s.duration;u=s.easing;s=s.attrs;for(o in s){if(Ext.Array.indexOf(n.attrs,o)==-1){n.attrs.push(o.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));n.duration.push(a+"ms");n.easing.push(u)}}}i=n.attrs.join(",");a=n.duration.join(",");u=n.easing.join(", ");for(l=0;l<r;l++){s=e[l].attrs;for(o in s){h=s[o].length;for(c=0;c<h;c++){f=s[o][c];f[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":i);f[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a);f[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":u);f[0].setStyle(o,f[1]);if(t){f=f[0].dom.offsetWidth}else{f[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},f[0],{single:true})}}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:true,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-");this.callParent([e])},getAttr:function(e,t){var n=[],r=this.target,i=r.elements,s=i.length,o,u;for(o=0;o<s;o++){u=i[o];if(u){u=r.getElement(u);n.push([u,this.getElVal(u,e,t)])}}return n},setAttr:function(e){var t=this.target,n=e.length,r=t.elements,i=r.length,s,o,u,a,f,l,c,h;for(l=0;l<n;l++){u=e[l].attrs;for(a in u){if(u.hasOwnProperty(a)){h=u[a].length;for(c=0;c<h;c++){s=u[a][c][1];for(o=0;o<i;++o){el=r[o];if(el){el=t.getElement(el);this.setElVal(el,a,s)}}}}}}},remove:function(){this.target.destroy()}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(e,t){var n;switch(t){case"rotate":case"rotation":n=e.attr.rotation;return{x:n.x||0,y:n.y||0,degrees:n.degrees||0};case"scale":case"scaling":n=e.attr.scaling;return{x:n.x||1,y:n.y||1,cx:n.cx||0,cy:n.cy||0};case"translate":case"translation":n=e.attr.translation;return{x:n.x||0,y:n.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,t!=undefined?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t=e.length,n=[],r,i,s,o,u,a,f,l,c,h,p,d;for(l=0;l<t;l++){r=e[l].attrs;for(i in r){s=r[i];d=s.length;for(c=0;c<d;c++){u=s[c][0];o=s[c][1];if(i==="translate"||i==="translation"){f={x:o.x,y:o.y}}else if(i==="rotate"||i==="rotation"){h=o.x;if(isNaN(h)){h=null}p=o.y;if(isNaN(p)){p=null}f={degrees:o.degrees,x:h,y:p}}else if(i==="scale"||i==="scaling"){h=o.x;if(isNaN(h)){h=null}p=o.y;if(isNaN(p)){p=null}f={x:h,y:p,cx:o.cx,cy:o.cy}}else if(i==="width"||i==="height"||i==="x"||i==="y"){f=parseFloat(o)}else{f=o}a=Ext.Array.indexOf(n,u);if(a==-1){n.push([u,{}]);a=n.length-1}n[a][1][i]=f}}}t=n.length;for(l=0;l<t;l++){n[l][0].setAttributes(n[l][1])}this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(e,t){var n=[],r=[].concat(this.target.items),i=r.length,s,o;for(s=0;s<i;s++){o=r[s];n.push([o,t!=undefined?t:this.getFromPrim(o,e)])}return n}});Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,t!==undefined?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,n){var r=this,i=e.length,s,o,u,a,f,l,c,h,p,d,v={},m;for(a=0;a<i;a++){s=e[a].attrs;for(o in s){l=s[o].length;for(f=0;f<l;f++){u=s[o][f];m=v[r.setMethods[o]]||(v[r.setMethods[o]]={});m.target=u[0];m[o]=u[1]}}if(v.setPosition){u=v.setPosition;c=u.left===undefined?undefined:parseFloat(u.left);h=u.top===undefined?undefined:parseFloat(u.top);u.target.setPosition(c,h)}if(v.setPagePosition){u=v.setPagePosition;u.target.setPagePosition(u.x,u.y)}if(v.setSize){u=v.setSize;p=u.width===undefined?u.target.getWidth():parseFloat(u.width);d=u.height===undefined?u.target.getHeight():parseFloat(u.height);u.target.el.setSize(p,d);if(n||r.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(u.target.setSize,u.target,[p,d]),single:true})}}if(v.setOpacity){u=v.setOpacity;u.target.el.setStyle("opacity",u.opacity)}}}});Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);if(t){return t.fxDefaults}return{}},setFxDefaults:function(e,t){var n=this.targets.get(e);if(n){n.fxDefaults=Ext.apply(n.fxDefaults||{},t)}},stopAnimation:function(e){var t=this,n=t.getFxQueue(e),r=n.length;while(r){n[r-1].end();r--}},getActiveAnimation:function(e){var t=this.getFxQueue(e);return t&&!!t.length?t[0]:false},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e){return false}var t=this,n=t.fxQueue[e],r=t.targets.get(e);if(!r){return false}if(!n){t.fxQueue[e]=[];if(r.type!="element"){r.target.on("destroy",function(){t.fxQueue[e]=[]})}}return t.fxQueue[e]},queueFx:function(e){var t=this,n=e.target,r,i;if(!n){return}r=t.getFxQueue(n.getId());i=r.length;if(i){if(e.concurrent){e.paused=false}else{r[i-1].on("afteranimate",function(){e.paused=false})}}else{e.paused=false}e.on("afteranimate",function(){Ext.Array.remove(r,e);if(r.length===0){t.targets.remove(e.target)}if(e.remove){if(n.type=="element"){var i=Ext.get(n.id);if(i){i.destroy()}}}},t,{single:true});r.push(e)}});Ext.define("Ext.fx.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.util.TaskRunner","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){var e=this;e.items=new Ext.util.MixedCollection;e.targetArr={};e.mixins.queue.constructor.call(e);e.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:true,createTarget:function(e){var t=this,n=!t.forceJS&&Ext.supports.Transitions,r;t.useCSS3=n;if(e){if(e.tagName||Ext.isString(e)||e.isFly){e=Ext.get(e);r=new Ext.fx.target["Element"+(n?"CSS":"")](e)}else if(e.dom){r=new Ext.fx.target["Element"+(n?"CSS":"")](e)}else if(e.isComposite){r=new Ext.fx.target["CompositeElement"+(n?"CSS":"")](e)}else if(e.isSprite){r=new Ext.fx.target.Sprite(e)}else if(e.isCompositeSprite){r=new Ext.fx.target.CompositeSprite(e)}else if(e.isComponent){r=new Ext.fx.target.Component(e)}else if(e.isAnimTarget){return e}else{return null}t.targets.add(r);return r}else{return null}},addAnim:function(e){var t=this,n=t.items,r=t.task;n.add(e.id,e);if(!r&&n.length){r=t.task={run:t.runner,interval:t.interval,scope:t};t.taskRunner.start(r)}},removeAnim:function(e){var t=this,n=t.items,r=t.task;n.removeAtKey(e.id);if(r&&!n.length){t.taskRunner.stop(r);delete t.task}},runner:function(){var e=this,t=e.items.getRange(),n=0,r=t.length,i;e.targetArr={};e.timestamp=new Date;for(;n<r;n++){i=t[n];if(i.isReady()){e.startAnim(i)}}for(n=0;n<r;n++){i=t[n];if(i.isRunning()){e.runAnim(i)}else if(!e.useCSS3){}}e.applyPendingAttrs()},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e,t){if(!e){return}var n=this,r=n.useCSS3&&e.target.type=="element",i=n.timestamp-e.startTime,s=i>=e.duration,o,u;if(t){i=e.duration;s=true}o=this.collectTargetData(e,i,r,s);if(r){e.target.setAttr(o.anims[e.id].attributes,true);n.collectTargetData(e,e.duration,r,s);e.paused=true;o=e.target.target;if(e.target.isComposite){o=e.target.target.last()}u={};u[Ext.supports.CSS3TransitionEnd]=e.lastFrame;u.scope=e;u.single=true;o.on(u)}return o},jumpToEnd:function(e){var t=this.runAnim(e,true);this.applyAnimAttrs(t,t.anims[e.id])},collectTargetData:function(e,t,n,r){var i=e.target.getId(),s=this.targetArr[i];if(!s){s=this.targetArr[i]={id:i,el:e.target,anims:{}}}s.anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:r,attributes:[{duration:e.duration,easing:n&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]};return s},applyAnimAttrs:function(e,t){var n=t.anim;if(t.attributes&&n.isRunning()){e.el.setAttr(t.attributes,false,t.isLastFrame);if(t.isLastFrame){n.lastFrame()}}},applyPendingAttrs:function(){var e=this.targetArr,t,n,r,i,s;for(n in e){if(e.hasOwnProperty(n)){t=e[n];for(s in t.anims){if(t.anims.hasOwnProperty(s)){r=t.anims[s];i=r.anim;if(r.attributes&&i.isRunning()){t.el.setAttr(r.attributes,false,r.isLastFrame);if(r.isLastFrame){i.lastFrame()}}}}}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{});t.config=e;t.id=Ext.id(null,"ext-animator-");t.mixins.observable.constructor.call(t,e);t.timeline=[];t.createTimeline(t.keyframes);if(t.target){t.applyAnimator(t.target);Ext.fx.Manager.addAnim(t)}},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t=this,n=[],r=t.to||{},i=t.duration,s,o,u,a,f,l;for(f in e){if(e.hasOwnProperty(f)&&t.animKeyFramesRE.test(f)){l={attrs:Ext.apply(e[f],r)};if(f=="from"){f=0}else if(f=="to"){f=100}l.pct=parseInt(f,10);n.push(l)}}Ext.Array.sort(n,t.sorter);a=n.length;for(u=0;u<a;u++){s=n[u-1]?i*(n[u-1].pct/100):0;o=i*(n[u].pct/100);t.timeline.push({duration:o-s,attrs:n[u].attrs})}},applyAnimator:function(e){var t=this,n=[],r=t.timeline,i=r.length,s,o,u,a,f;if(t.fireEvent("beforeanimate",t)!==false){for(f=0;f<i;f++){s=r[f];a=s.attrs;o=a.easing||t.easing;u=a.damper||t.damper;delete a.easing;delete a.damper;s=new Ext.fx.Anim({target:e,easing:o,damper:u,duration:s.duration,paused:true,to:a});n.push(s)}t.animations=n;t.target=s.target;for(f=0;f<i-1;f++){s=n[f];s.nextAnim=n[f+1];s.on("afteranimate",function(){this.nextAnim.paused=false});s.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},t)}n[i-1].on("afteranimate",function(){this.lastFrame()},t)}},start:function(e){var t=this,n=t.delay,r=t.delayStart,i;if(n){if(!r){t.delayStart=e;return}else{i=e-r;if(i<n){return}else{e=new Date(r.getTime()+n)}}}if(t.fireEvent("beforeanimate",t)!==false){t.startTime=e;t.running=true;t.animations[t.keyframeStep].paused=false}},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++;if(n<t){e.startTime=new Date;e.currentIteration=n;e.keyframeStep=0;e.applyAnimator(e.target);e.animations[e.keyframeStep].paused=false}else{e.currentIteration=0;e.end()}},end:function(){var e=this;e.fireEvent("afteranimate",e,e.startTime,new Date-e.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(e,t,n,r,i,s){function h(e){return((a*e+u)*e+o)*e}function p(e,t){var n=d(e,t);return((c*n+l)*n+f)*n}function d(e,t){var n,r,i,s,f,l;for(i=e,l=0;l<8;l++){s=h(i)-e;if(Math.abs(s)<t){return i}f=(3*a*i+2*u)*i+o;if(Math.abs(f)<1e-6){break}i=i-s/f}n=0;r=1;i=e;if(i<n){return n}if(i>r){return r}while(n<r){s=h(i);if(Math.abs(s-e)<t){return i}if(e>s){n=i}else{r=i}i=(r-n)/2+n}return i}var o=3*t,u=3*(r-t)-o,a=1-o-u,f=3*n,l=3*(i-n)-f,c=1-f-l;return p(e,1/(200*s))},cubicBezier:function(e,t,n,r){var i=function(i){return Ext.fx.CubicBezier.cubicBezierAtTime(i,e,t,n,r,1)};i.toCSS3=function(){return"cubic-bezier("+[e,t,n,r].join(",")+")"};i.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-r,1-e,1-t)};return i}});Ext.require("Ext.fx.CubicBezier",function(){var e=Math,t=e.PI,n=e.pow,r=e.sin,i=e.sqrt,s=e.abs,o=1.70158;Ext.define("Ext.fx.Easing",{singleton:true,linear:Ext.identityFn,ease:function(e){var t=.07813-e/2,r=-.25,o=i(.0066+t*t),u=o-t,a=n(s(u),1/3)*(u<0?-1:1),f=-o-t,l=n(s(f),1/3)*(f<0?-1:1),c=a+l+.25;return n(1-c,2)*3*c*.1+(1-c)*3*c*c+c*c*c},easeIn:function(e){return n(e,1.7)},easeOut:function(e){return n(e,.48)},easeInOut:function(e){var t=.48-e/1.04,r=i(.1734+t*t),o=r-t,u=n(s(o),1/3)*(o<0?-1:1),a=-r-t,f=n(s(a),1/3)*(a<0?-1:1),l=u+f+.5;return(1-l)*3*l*l+l*l*l},backIn:function(e){return e*e*((o+1)*e-o)},backOut:function(e){e=e-1;return e*e*((o+1)*e+o)+1},elasticIn:function(e){if(e===0||e===1){return e}var i=.3,s=i/4;return n(2,-10*e)*r((e-s)*2*t/i)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625,n=2.75,r;if(e<1/n){r=t*e*e}else{if(e<2/n){e-=1.5/n;r=t*e*e+.75}else{if(e<2.5/n){e-=2.25/n;r=t*e*e+.9375}else{e-=2.625/n;r=t*e*e+.984375}}}return r}},function(){var e=Ext.fx.Easing.self,t=e.prototype;e.addMembers({"back-in":t.backIn,"back-out":t.backOut,"ease-in":t.easeIn,"ease-out":t.easeOut,"elastic-in":t.elasticIn,"elastic-out":t.elasticOut,"bounce-in":t.bounceIn,"bounce-out":t.bounceOut,"ease-in-out":t.easeInOut})})});Ext.define("Ext.fx.DrawPath",{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(e,t){t=String(t).toLowerCase();return t=="object"&&e===Object(e)||t=="undefined"&&typeof e==t||t=="null"&&e===null||t=="array"&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(e){if(!e){return null}var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[],r=this;if(r.is(e,"array")&&r.is(e[0],"array")){n=r.pathClone(e)}if(!n.length){String(e).replace(r.pathCommandRE,function(e,i,s){var o=[],u=i.toLowerCase();s.replace(r.pathValuesRE,function(e,t){t&&o.push(+t)});if(u=="m"&&o.length>2){n.push([i].concat(Ext.Array.splice(o,0,2)));u="l";i=i=="m"?"l":"L"}while(o.length>=t[u]){n.push([i].concat(Ext.Array.splice(o,0,t[u])));if(!t[u]){break}}})}n.toString=r.path2string;return n},pathClone:function(e){var t=[],n,r,i,s;if(!this.is(e,"array")||!this.is(e&&e[0],"array")){e=this.parsePathString(e)}for(i=0,s=e.length;i<s;i++){t[i]=[];for(n=0,r=e[i].length;n<r;n++){t[i][n]=e[i][n]}}t.toString=this.path2string;return t},pathToAbsolute:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array")){e=this.parsePathString(e)}var t=[],n=0,r=0,i=0,s=0,o=0,u=e.length,a,f,l,c;if(u&&e[0][0]=="M"){n=+e[0][1];r=+e[0][2];i=n;s=r;o++;t[0]=["M",n,r]}for(;o<u;o++){a=t[o]=[];f=e[o];if(f[0]!=f[0].toUpperCase()){a[0]=f[0].toUpperCase();switch(a[0]){case"A":a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];a[6]=+(f[6]+n);a[7]=+(f[7]+r);break;case"V":a[1]=+f[1]+r;break;case"H":a[1]=+f[1]+n;break;case"M":i=+f[1]+n;s=+f[2]+r;default:l=1;c=f.length;for(;l<c;l++){a[l]=+f[l]+(l%2?n:r)}}}else{l=0;c=f.length;for(;l<c;l++){t[o][l]=f[l]}}switch(a[0]){case"Z":n=i;r=s;break;case"H":n=a[1];break;case"V":r=a[1];break;case"M":f=t[o];c=f.length;i=f[c-2];s=f[c-1];default:f=t[o];c=f.length;n=f[c-2];r=f[c-1]}}t.toString=this.path2string;return t},interpolatePaths:function(e,t){var n=this,r=n.pathToAbsolute(e),i=n.pathToAbsolute(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(e,t){if(e[t].length>7){e[t].shift();var n=e[t];while(n.length){Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(n,0,6)))}Ext.Array.erase(e,t,1);l=Math.max(r.length,i.length||0)}},a=function(e,t,n,s,o){if(e&&t&&e[o][0]=="M"&&t[o][0]!="M"){Ext.Array.splice(t,o,0,["M",s.x,s.y]);n.bx=0;n.by=0;n.x=e[o][1];n.y=e[o][2];l=Math.max(r.length,i.length||0)}},f,l,c,h,p,d;for(f=0,l=Math.max(r.length,i.length||0);f<l;f++){r[f]=n.command2curve(r[f],s);u(r,f);i[f]=n.command2curve(i[f],o);u(i,f);a(r,i,s,o,f);a(i,r,o,s,f);c=r[f];h=i[f];p=c.length;d=h.length;s.x=c[p-2];s.y=c[p-1];s.bx=parseFloat(c[p-4])||s.x;s.by=parseFloat(c[p-3])||s.y;o.bx=parseFloat(h[d-4])||o.x;o.by=parseFloat(h[d-3])||o.y;o.x=h[d-2];o.y=h[d-1]}return[r,i]},command2curve:function(e,t){var n=this;if(!e){return["C",t.x,t.y,t.x,t.y,t.x,t.y]}if(e[0]!="T"&&e[0]!="Q"){t.qx=t.qy=null}switch(e[0]){case"M":t.X=e[1];t.Y=e[2];break;case"A":e=["C"].concat(n.arc2curve.apply(n,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x));t.qy=t.y+(t.y-(t.qy||t.y));e=["C"].concat(n.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1];t.qy=e[2];e=["C"].concat(n.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y);break}return e},quadratic2curve:function(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]},rotate:function(e,t,n){var r=Math.cos(n),i=Math.sin(n),s=e*r-t*i,o=e*i+t*r;return{x:s,y:o}},arc2curve:function(e,t,n,r,i,s,o,u,a,f){var l=this,c=Math.PI,h=l.radian,p=c*120/180,d=h*(+i||0),v=[],m=Math,g=m.cos,y=m.sin,b=m.sqrt,w=m.abs,E=m.asin,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q;if(!f){S=l.rotate(e,t,-d);e=S.x;t=S.y;S=l.rotate(u,a,-d);u=S.x;a=S.y;x=(e-u)/2;T=(t-a)/2;N=x*x/(n*n)+T*T/(r*r);if(N>1){N=b(N);n=N*n;r=N*r}C=n*n;k=r*r;L=(s==o?-1:1)*b(w((C*k-C*T*T-k*x*x)/(C*T*T+k*x*x)));A=L*n*T/r+(e+u)/2;O=L*-r*x/n+(t+a)/2;M=E(((t-O)/r).toFixed(7));_=E(((a-O)/r).toFixed(7));M=e<A?c-M:M;_=u<A?c-_:_;if(M<0){M=c*2+M}if(_<0){_=c*2+_}if(o&&M>_){M=M-c*2}if(!o&&_>M){_=_-c*2}}else{M=f[0];_=f[1];A=f[2];O=f[3]}D=_-M;if(w(D)>p){J=_;K=u;Q=a;_=M+p*(o&&_>M?1:-1);u=A+n*g(_);a=O+r*y(_);v=l.arc2curve(u,a,n,r,i,0,o,K,Q,[_,J,A,O])}D=_-M;P=g(M);H=y(M);B=g(_);j=y(_);F=m.tan(D/4);I=4/3*n*F;q=4/3*r*F;R=[e,t];U=[e+I*H,t-q*P];z=[u+I*j,a-q*B];W=[u,a];U[0]=2*R[0]-U[0];U[1]=2*R[1]-U[1];if(f){return[U,z,W].concat(v)}else{v=[U,z,W].concat(v).join().split(",");X=[];$=v.length;for(V=0;V<$;V++){X[V]=V%2?l.rotate(v[V-1],v[V],d).y:l.rotate(v[V],v[V+1],d).x}return X}}});Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.fx.DrawPath"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,n,r,i){n=typeof n=="number"?n:1;var s=this.unitRE,o=s.exec(e),u,a;if(o){e=o[1];a=o[2];if(!this.scrollRE.test(i)&&!a&&this.pixelDefaultsRE.test(i)){a="px"}}e=+e||0;o=s.exec(t);if(o){t=o[1];a=o[2]||a}t=+t||0;u=r!=null?r:e;return{from:e,delta:(t-u)*n,units:a}},get:function(e,t,n,r,i){var s=e.length,o=[],u,a,f,l,c;for(u=0;u<s;u++){if(r){a=r[u][1].from}if(Ext.isArray(e[u][1])&&Ext.isArray(t)){f=[];l=0;c=e[u][1].length;for(;l<c;l++){f.push(this.computeDelta(e[u][1][l],t[l],n,a,i))}o.push([e[u][0],f])}else{o.push([e[u][0],this.computeDelta(e[u][1],t,n,a,i)])}}return o},set:function(e,t){var n=e.length,r=[],i,s,o,u,a;for(i=0;i<n;i++){s=e[i][1];if(Ext.isArray(s)){o=[];a=0;u=s.length;for(;a<u;a++){o.push(s[a].from+s[a].delta*t+(s[a].units||0))}r.push([e[i][0],o])}else{r.push([e[i][0],s.from+s.delta*t+(s.units||0)])}}return r}},stringHandler:{computeDelta:function(e,t,n,r,i){return{from:e,delta:t}},get:function(e,t,n,r,i){var s=e.length,o=[],u,a,f,l,c;for(u=0;u<s;u++){o.push([e[u][0],this.computeDelta(e[u][1],t,n,a,i)])}return o},set:function(e,t){var n=e.length,r=[],i,s,o,u,a;for(i=0;i<n;i++){s=e[i][1];r.push([e[i][0],s.delta])}return r}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t=typeof t=="number"?t:1;var n=false,r=[this.hexRE,this.rgbRE,this.hex3RE],i=r.length,s,o,u,a;for(a=0;a<i;a++){u=r[a];o=a%2===0?16:10;s=u.exec(e);if(s&&s.length===4){if(a===2){s[1]+=s[1];s[2]+=s[2];s[3]+=s[3]}n={red:parseInt(s[1],o),green:parseInt(s[2],o),blue:parseInt(s[3],o)};break}}return n||e},computeDelta:function(e,t,n,r){e=this.parseColor(e);t=this.parseColor(t,n);var i=r?r:e,s=typeof i,o=typeof t;if(s=="string"||s=="undefined"||o=="string"||o=="undefined"){return t||i}return{from:e,delta:{red:Math.round((t.red-i.red)*n),green:Math.round((t.green-i.green)*n),blue:Math.round((t.blue-i.blue)*n)}}},get:function(e,t,n,r){var i=e.length,s=[],o,u;for(o=0;o<i;o++){if(r){u=r[o][1].from}s.push([e[o][0],this.computeDelta(e[o][1],t,n,u)])}return s},set:function(e,t){var n=e.length,r=[],i,s,o,u,a;for(i=0;i<n;i++){s=e[i][1];if(s){u=s.from;a=s.delta;s=typeof s=="object"&&"red"in s?"rgb("+s.red+", "+s.green+", "+s.blue+")":s;s=typeof s=="object"&&s.length?s[0]:s;if(typeof s=="undefined"){return[]}o=typeof s=="string"?s:"rgb("+[(u.red+Math.round(a.red*t))%256,(u.green+Math.round(a.green*t))%256,(u.blue+Math.round(a.blue*t))%256].join(",")+")";r.push([e[i][0],o])}}return r}},object:{interpolate:function(e,t){t=typeof t=="number"?t:1;var n={},r;for(r in e){n[r]=parseFloat(e[r])*t}return n},computeDelta:function(e,t,n,r){e=this.interpolate(e);t=this.interpolate(t,n);var i=r?r:e,s={},o;for(o in t){s[o]=t[o]-i[o]}return{from:e,delta:s}},get:function(e,t,n,r){var i=e.length,s=[],o,u;for(o=0;o<i;o++){if(r){u=r[o][1].from}s.push([e[o][0],this.computeDelta(e[o][1],t,n,u)])}return s},set:function(e,t){var n=e.length,r=[],i={},s,o,u,a,f;for(s=0;s<n;s++){a=e[s][1];o=a.from;u=a.delta;for(f in o){i[f]=o[f]+u[f]*t}r.push([e[s][0],i])}return r}},path:{computeDelta:function(e,t,n,r){n=typeof n=="number"?n:1;var i;e=+e||0;t=+t||0;i=r!=null?r:e;return{from:e,delta:(t-i)*n}},forcePath:function(e){if(!Ext.isArray(e)&&!Ext.isArray(e[0])){e=Ext.fx.DrawPath.parsePathString(e)}return e},get:function(e,t,n,r){var i=this.forcePath(t),s=[],o=e.length,u,a,f,l,c,h,p,d,v;for(f=0;f<o;f++){v=this.forcePath(e[f][1]);l=Ext.fx.DrawPath.interpolatePaths(v,i);v=l[0];i=l[1];u=v.length;d=[];for(h=0;h<u;h++){l=[v[h][0]];a=v[h].length;for(p=1;p<a;p++){c=r&&r[0][1][h][p].from;l.push(this.computeDelta(v[h][p],i[h][p],n,c))}d.push(l)}s.push([e[f][0],d])}return s},set:function(e,t){var n=e.length,r=[],i,s,o,u,a,f,l,c;for(i=0;i<n;i++){f=e[i][1];u=[];l=f.length;for(s=0;s<l;s++){a=[f[s][0]];c=f[s].length;for(o=1;o<c;o++){a.push(f[s][o].from+f[s][o].delta*t)}u.push(a.join(","))}r.push([e[i][0],u.join(",")])}return r}}}},function(){var e=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],t=e.length,n=0,r;for(;n<t;n++){r=e[n];this[r]=this.color}e=["cursor"];t=e.length;n=0;for(;n<t;n++){r=e[n];this[r]=this.stringHandler}});Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t=this,n;e=e||{};if(e.keyframes){return new Ext.fx.Animator(e)}Ext.apply(t,e);if(t.from===undefined){t.from={}}t.propHandlers={};t.config=e;t.target=Ext.fx.Manager.createTarget(t.target);t.easingFn=Ext.fx.Easing[t.easing];t.target.dynamic=t.dynamic;if(!t.easingFn){t.easingFn=String(t.easing).match(t.bezierRE);if(t.easingFn&&t.easingFn.length==5){n=t.easingFn;t.easingFn=Ext.fx.CubicBezier.cubicBezier(+n[1],+n[2],+n[3],+n[4])}}t.id=Ext.id(null,"ext-anim-");t.mixins.observable.constructor.call(t);Ext.fx.Manager.addAnim(t);if(e.autoEnd){t.running=true;t.jumpToEnd()}},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e=this,t=e.from,n=e.to,r=e.initialFrom||{},i={},s,o,u,a;for(a in n){if(n.hasOwnProperty(a)){s=e.target.getAttr(a,t[a]);o=n[a];if(!Ext.fx.PropertyHandler[a]){if(Ext.isObject(o)){u=e.propHandlers[a]=Ext.fx.PropertyHandler.object}else{u=e.propHandlers[a]=Ext.fx.PropertyHandler.defaultHandler}}else{u=e.propHandlers[a]=Ext.fx.PropertyHandler[a]}i[a]=u.get(s,o,e.damper,r[a],a)}}e.currentAttrs=i},start:function(e){var t=this,n=t.delay,r=t.delayStart,i;if(n){if(!r){t.delayStart=e;return}else{i=e-r;if(i<n){return}else{e=new Date(r.getTime()+n)}}}if(t.fireEvent("beforeanimate",t)!==false){t.startTime=e;if(!t.paused&&!t.currentAttrs){t.initAttrs()}t.running=true;t.frameCount=0}},jumpToEnd:function(){var e=this;if(!e.endWasCalled){if(!e.currentAttrs){e.initAttrs()}Ext.fx.Manager.jumpToEnd(e);e.end()}},runAnim:function(e){var t=this,n=t.currentAttrs,r=t.duration,i=t.easingFn,s=t.propHandlers,o={},u,a,f,l;if(e>=r){e=r;l=true}if(t.reverse){e=r-e}for(f in n){if(n.hasOwnProperty(f)){a=n[f];u=l?1:i(e/r);o[f]=s[f].set(a,u)}}t.frameCount++;return o},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++;if(n<t){if(e.alternate){e.reverse=!e.reverse}e.startTime=new Date;e.currentIteration=n;e.paused=false}else{e.currentIteration=0;e.end();e.fireEvent("lastframe",e,e.startTime)}},endWasCalled:0,end:function(){var e=this;if(e.endWasCalled++){return}e.startTime=0;e.paused=false;e.running=false;Ext.fx.Manager.removeAnim(e);e.fireEvent("afteranimate",e,e.startTime);Ext.callback(e.callback,e.scope,[e,e.startTime]);if(e.remove){e.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true;Ext.define("Ext.util.Animate",{mixinId:"animate",requires:["Ext.fx.Manager","Ext.fx.Anim"],isAnimate:true,animate:function(e){var t=this;if(Ext.fx.Manager.hasFxBlock(t.id)){return t}Ext.fx.Manager.queueFx(new Ext.fx.Anim(t.anim(e)));return this},anim:function(e){if(!Ext.isObject(e)){return e?{}:false}var t=this;if(e.stopAnimation){t.stopAnimation()}Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id));return Ext.apply({target:t,paused:true},e)},getAnimationProps:function(){var e=this,t=e.layout;return t&&t.animate?t.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}});Ext.define("Ext.dom.GarbageCollector",{singleton:true,interval:3e4,constructor:function(){var e=this;e.collect=Ext.Function.bind(e.collect,e);e.resume()},collect:function(){var e=this,t=Ext.cache,n,r,i,s;if(!Ext.enableGarbageCollector){e.pause()}else{for(n in t){if(!t.hasOwnProperty(n)){continue}i=t[n];if(i.skipGarbageCollection){continue}r=i.dom;if(!r){Ext.Error.raise("Missing DOM node in element garbage collection: "+n)}if(Ext.isGarbage(r)){i.clearListeners();delete t[n]}}if(Ext.isIE9m){s={};for(n in t){if(t.hasOwnProperty(n)){s[n]=t[n]}}t=Ext.cache=s}e.lastTime=Ext.now()}},pause:function(){clearTimeout(this.timerId)},resume:function(){var e=this,t=e.lastTime;if(t&&Ext.now()-t>e.interval){e.collect()}e.timerId=Ext.interval(e.collect,e.interval)}});Ext.define("Ext.overrides.dom.Element",function(){var e,t=window,n=document,r="hidden",i="isClipped",s="overflow",o="overflow-x",u="overflow-y",a="originalClip",f="height",l="width",c="visibility",h="display",p="none",r="hidden",d="offsets",v="originalDisplay",m="visibilityMode",g="isVisible",y=Ext.baseCSSPrefix+"hidden-offsets",b=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),w="a[href],button,iframe,input,select,textarea,[tabindex]",E=/^BUTTON|IFRAME|INPUT|SELECT|TEXTAREA$/,S="data-tabindexsaved",x="data-savedtabindex",T=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,N=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,C=/\ssrc=([\'\"])(.*?)\1/i,k=/^a|button|embed|iframe|input|object|select|textarea$/i,L=/\S/,A=/\stype=([\'\"])(.*?)\1/i,O=/^-ms-/,M=/(-[a-z])/gi,_=function(e,t){return t.charAt(1).toUpperCase()},D=Ext.baseCSSPrefix+"masked",P=Ext.baseCSSPrefix+"masked-relative",H=Ext.baseCSSPrefix+"mask-msg",B=/^(?:mouseenter|mouseleave)$/,j=/^body/i,F,I={},q=function(e){var t=e.getData(),n=t[v];if(n===undefined){t[v]=n=""}return n},R=function(t){var n=t.getData(),r=n[m];if(r===undefined){n[m]=r=e.VISIBILITY}return r},U,z=n.createRange?n.createRange():null;return{override:"Ext.dom.Element",mixins:["Ext.util.Animate"],requires:["Ext.dom.GarbageCollector","Ext.dom.Fly"],uses:["Ext.fx.Manager","Ext.fx.Anim"],skipGarbageCollection:false,_init:function(t){e=t},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",normalize:function(e){if(e==="float"){e=Ext.supports.Float?"cssFloat":"styleFloat"}return I[e]||(I[e]=e.replace(O,"ms-").replace(M,_))},getViewportHeight:function(){return Ext.isIE9m?n.documentElement.clientHeight:t.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?document.body.clientWidth:Ext.isIE9m?n.documentElement.clientWidth:t.innerWidth}},addClsOnClick:function(e,t,n){var r=this,i=r.dom,s=Ext.isFunction(t);r.on("mousedown",function(){if(s&&t.call(n||r,r)===false){return false}Ext.fly(i).addCls(e);var o=Ext.getDoc(),u=function(){Ext.fly(i).removeCls(e);o.removeListener("mouseup",u)};o.on("mouseup",u)});return r},addClsOnFocus:function(e,t,n){var r=this,i=r.dom,s=Ext.isFunction(t);r.on("focus",function(){if(s&&t.call(n||r,r)===false){return false}Ext.fly(i).addCls(e)});r.on("blur",function(){Ext.fly(i).removeCls(e)});return r},addClsOnOver:function(e,t,n){var r=this,i=r.dom,s=Ext.isFunction(t);r.hover(function(){if(s&&t.call(n||r,r)===false){return}Ext.fly(i).addCls(e)},function(){Ext.fly(i).removeCls(e)});return r},addKeyListener:function(e,t,n){var r;if(typeof e!=="object"||Ext.isArray(e)){r={target:this,key:e,fn:t,scope:n}}else{r={target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:n}}return new Ext.util.KeyMap(r)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},anchorAnimX:function(e){var t=e==="l"?"right":"left";this.dom.style[t]="0px"},anim:function(e){if(!Ext.isObject(e)){return e?{}:false}var t=this,n=e.duration||Ext.fx.Anim.prototype.duration,r=e.easing||"ease",i;if(e.stopAnimation){t.stopAnimation()}Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id));Ext.fx.Manager.setFxDefaults(t.id,{delay:0});i={target:t.dom,remove:e.remove,alternate:e.alternate||false,duration:n,easing:r,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:true,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e)};Ext.apply(i.to,e.to);delete i.to.to;delete i.to.from;delete i.to.remove;delete i.to.alternate;delete i.to.keyframes;delete i.to.iterations;delete i.to.listeners;delete i.to.target;delete i.to.paused;delete i.to.callback;delete i.to.scope;delete i.to.duration;delete i.to.easing;delete i.to.concurrent;delete i.to.block;delete i.to.stopAnimation;delete i.to.delay;return i},animate:function(e){var t=this,n=t.dom.id||Ext.id(t.dom),r,i,s;if(!Ext.fx.Manager.hasFxBlock(n)){if(e.listeners){r=e.listeners;delete e.listeners}if(e.internalListeners){e.listeners=e.internalListeners;delete e.internalListeners}s=e.autoEnd;delete e.autoEnd;i=new Ext.fx.Anim(t.anim(e));if(r){i.on(r)}Ext.fx.Manager.queueFx(i);if(s){i.jumpToEnd()}}return t},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"' role='presentation'>"+Ext.String.format(b,e)+"</div>"));t.selectNode("."+e+"-mc").appendChild(this.dom);return t},cacheScrollValues:function(){var e=this,t=[],n=[],r,i,s,o;F=F||new Ext.dom.Fly;r=e.query("*");for(s=0,o=r.length;s<o;s++){i=r[s];if(i.scrollTop>0||i.scrollLeft!==0){n.push(i);t.push(F.attach(i).getScroll())}}return function(){var e,r,i;for(r=0,i=n.length;r<i;r++){e=t[r];F.attach(n[r]);F.setScrollLeft(e.left);F.setScrollTop(e.top)}}},clean:function(e){var t=this,n=t.dom,r=t.getData(),i=n.firstChild,s=-1,o;if(r.isCleaned&&e!==true){return t}while(i){o=i.nextSibling;if(i.nodeType===3){if(!L.test(i.nodeValue)){n.removeChild(i)}else if(o&&o.nodeType===3){i.appendData(Ext.String.trim(o.data));n.removeChild(o);o=i.nextSibling;i.nodeIndex=++s}}else{Ext.fly(i,"_clean").clean();i.nodeIndex=++s}i=o}r.isCleaned=true;return t},empty:z?function(){var e=this.dom;if(e.firstChild){z.setStartBefore(e.firstChild);z.setEndAfter(e.lastChild);z.deleteContents()}}:function(){var e=this.dom;while(e.lastChild){e.removeChild(e.lastChild)}},clearListeners:function(){this.removeAnchor();this.callParent()},clearPositioning:function(e){e=e||"";return this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:"static"})},createProxy:function(t,n,r){t=typeof t==="object"?t:{tag:"div",role:"presentation",cls:t};var i=this,s=n?Ext.DomHelper.append(n,t,true):Ext.DomHelper.insertBefore(i.dom,t,true);s.setVisibilityMode(e.DISPLAY);s.hide();if(r&&i.setBox&&i.getBox){s.setBox(i.getBox())}return s},clearOpacity:function(){return this.setOpacity("")},clip:function(){var e=this,t=e.getData(),n;if(!t[i]){t[i]=true;n=e.getStyle([s,o,u]);t[a]={o:n[s],x:n[o],y:n[u]};e.setStyle(s,r);e.setStyle(o,r);e.setStyle(u,r)}return e},constrainScrollLeft:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollHeight-t.clientHeight),0)},destroy:function(){var e=this,t=e.dom;if(t&&e.isAnimate){e.stopAnimation()}e.callParent();if(t&&Ext.isIE8){U=U||n.createElement("div");U.appendChild(t);U.innerHTML=""}},doScrollIntoView:function(e,t,n,r,i,s){F=F||new Ext.dom.Fly;var o=this,u=o.dom,a=F.attach(e)[i](),f=e.scrollTop,l=o.getScrollIntoViewXY(e,a,f),c=l.x,h=l.y;if(r){if(n){n=Ext.apply({listeners:{afteranimate:function(){F.attach(u).highlight()}}},n)}else{F.attach(u).highlight()}}if(h!==f){F.attach(e).scrollTo("top",h,n)}if(t!==false&&c!==a){F.attach(e)[s]("left",c,n)}return o},enableDisplayMode:function(t){var n=this;n.setVisibilityMode(e.DISPLAY);if(t!==undefined){n.getData()[v]=t}return n},fadeIn:function(e){var t=this,n=t.dom;t.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){var t=Ext.fly(n,"_anim");if(t.isStyle("display","none")){t.setDisplayed("")}else{t.show()}}}}));return this},fadeOut:function(e){var t=this,n=t.dom;e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(t){if(n&&t.to.opacity===0){var r=Ext.fly(n,"_anim");if(e.useDisplay){r.setDisplayed(false)}else{r.hide()}}}}},e);t.animate(e);return t},fixDisplay:function(){var e=this;if(e.isStyle(h,p)){e.setStyle(c,r);e.setStyle(h,q(e));if(e.isStyle(h,p)){e.setStyle(h,"block")}}},frame:function(e,t,n){var r=this,i=r.dom,s;e=e||"#C3DAF9";t=t||1;n=n||{};s=function(){var r=Ext.fly(i,"_anim"),s=this,o,u,a;r.show();o=r.getBox();u=Ext.getBody().createChild({role:"presentation",id:r.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+e}});a=new Ext.fx.Anim({target:u,duration:n.duration||1e3,iterations:t,from:{top:o.y,left:o.x,borderWidth:0,opacity:1,height:o.height,width:o.width},to:{top:o.y-20,left:o.x-20,borderWidth:10,opacity:0,height:o.height+40,width:o.width+40}});a.on("afteranimate",function(){u.destroy();s.end()})};r.animate({duration:Math.max(n.duration,500)*2||2e3,listeners:{beforeanimate:{fn:s}},callback:n.callback,scope:n.scope});return r},getColor:function(e,t,n){var r=this.getStyle(e),i=n||n===""?n:"#",s,o,u=0;if(!r||/transparent|inherit/.test(r)){return t}if(/^r/.test(r)){r=r.slice(4,r.length-1).split(",");o=r.length;for(;u<o;u++){s=parseInt(r[u],10);i+=(s<16?"0":"")+s.toString(16)}}else{r=r.replace("#","");i+=r.length===3?r.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):r}return i.length>5?i.toLowerCase():t},getLoader:function(){var e=this,t=e.getData(),n=t.loader;if(!n){t.loader=n=new Ext.ElementLoader({target:e})}return n},getPositioning:function(e){var t=this.getStyle(["left","top","position","z-index"]),n=this.dom;if(e){if(t.left==="auto"){t.left=n.offsetLeft+"px"}if(t.top==="auto"){t.top=n.offsetTop+"px"}}return t},getScroll:function(){var e=this,t=e.dom,r=n.documentElement,i,s,o=document.body;if(t===n||t===o){i=r.scrollLeft||(o?o.scrollLeft:0);s=r.scrollTop||(o?o.scrollTop:0)}else{i=t.scrollLeft;s=t.scrollTop}return{left:i,top:s}},getScrollIntoViewXY:function(e,t,n){var r=this,i=r.dom,s=Ext.getDom(e),o=r.getOffsetsTo(s),u=i.offsetWidth,a=i.offsetHeight,f=o[0]+t,l=o[1]+n,c=l+a,h=f+u,p=s.clientHeight,d=s.clientWidth,v=n+p,m=t+d,t,n;if(a>p||l<n){n=l}else if(c>v){n=c-p}if(u>d||f<t){t=f}else if(h>m){t=h-d}return{x:t,y:n}},getScrollLeft:function(){var e=this.dom;if(e===n||e===document.body){return this.getScroll().left}else{return e.scrollLeft}},getScrollTop:function(){var e=this.dom;if(e===n||e===document.body){return this.getScroll().top}else{return e.scrollTop}},getXY:function(){var e=this.callParent(),t=Ext.getDoc().getScroll();e[0]+=t.left;e[1]+=t.top;return e},ghost:function(e,t){var n=this,r=n.dom,i;e=e||"b";i=function(){var t=Ext.fly(r,"_anim"),n=t.getWidth(),i=t.getHeight(),s=t.getXY(),o=t.getPositioning(),u={opacity:0};switch(e){case"t":u.y=s[1]-i;break;case"l":u.x=s[0]-n;break;case"r":u.x=s[0]+n;break;case"b":u.y=s[1]+i;break;case"tl":u.x=s[0]-n;u.y=s[1]-i;break;case"bl":u.x=s[0]-n;u.y=s[1]+i;break;case"br":u.x=s[0]+n;u.y=s[1]+i;break;case"tr":u.x=s[0]+n;u.y=s[1]-i;break}this.to=u;this.on("afteranimate",function(){var e=Ext.fly(r,"_anim");if(e){e.hide();e.clearOpacity();e.setPositioning(o)}})};n.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:i}}));return n},hide:function(e){if(typeof e==="string"){this.setVisible(false,e);return this}this.setVisible(false,this.anim(e));return this},highlight:function(e,n){var r=this,i=r.dom,s={},o,u,a,f,l,c;n=n||{};f=n.listeners||{};a=n.attr||"backgroundColor";s[a]=e||"ffff9c";if(!n.to){u={};u[a]=n.endColor||r.getColor(a,"ffffff","")}else{u=n.to}n.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){o=i.style[a];var e=Ext.fly(i,"_anim");e.clearOpacity();e.show();l=f.beforeanimate;if(l){c=l.fn||l;return c.apply(l.scope||f.scope||t,arguments)}},afteranimate:function(){if(i){i.style[a]=o}l=f.afteranimate;if(l){c=l.fn||l;c.apply(l.scope||f.scope||t,arguments)}}});r.animate(Ext.apply({},n,{duration:1e3,easing:"ease-in",from:s,to:u}));return r},hover:function(e,t,n,r){var i=this;i.on("mouseenter",e,n||i.dom,r);i.on("mouseleave",t,n||i.dom,r);return i},initDD:function(e,t,n){var r=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(r,n)},initDDProxy:function(e,t,n){var r=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(r,n)},initDDTarget:function(e,t,n){var r=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(r,n)},isFocusable:function(e){var t=this,n=t.dom,r=n.hasAttribute("tabindex"),i=r&&n.getAttribute("tabindex"),s=n.nodeName,o=false;if(n&&!n.disabled){if(i=="-1"){o=e}else{if(k.test(s)){if(s!=="A"||n.href){o=true}}else{o=i!=null&&i>=0}}o=o&&t.isVisible(true)}return o},isMasked:function(e){var t=this,n=t.getData(),r=n.maskEl,i=n.maskMsg,s=false,o;if(r&&r.isVisible()){if(i){i.center(t)}s=true}else if(e){o=t.findParentNode();if(o){return Ext.fly(o).isMasked(e)}}return s},isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},load:function(e){this.getLoader().load(e);return this},mask:function(e,t,r){var i=this,s=i.dom,o=i.getData(),u=o.maskEl,a=o.maskMsg;if(!(j.test(s.tagName)&&i.getStyle("position")=="static")){i.addCls(P)}if(u){u.destroy()}if(a){a.destroy()}Ext.DomHelper.append(s,[{role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{role:"presentation",cls:t?H+" "+t:H,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:e||""}}}]);a=Ext.get(s.lastChild);u=Ext.get(a.dom.previousSibling);o.maskMsg=a;o.maskEl=u;i.addCls(D);u.setDisplayed(true);if(typeof e==="string"){a.setDisplayed(true);a.center(i)}else{a.setDisplayed(false)}if(s===n.body){u.addCls(Ext.baseCSSPrefix+"mask-fixed")}else{i.saveTabbableState()}i.saveChildrenTabbableState();if(Ext.isIE9m&&s!==n.body&&i.isStyle("height","auto")){u.setSize(undefined,r||i.getHeight())}return u},monitorMouseLeave:function(e,t,n){var r=this,i,s={mouseleave:function(s){if(Ext.isIE9m){s.enableIEAsync()}i=Ext.defer(t,e,n||r,[s])},mouseenter:function(){clearTimeout(i)}};r.on(s);return s},needsTabIndex:function(){var e=this;if(e.dom){if(e.dom.nodeName==="A"&&!e.dom.href){return true}return!k.test(e.dom.nodeName)}},normalizeEvent:function(e){var t,n;if(!Ext.supports.MouseEnterLeave&&B.test(e)){t=this.normalizeWithin;n=e=="mouseenter"?"mouseover":"mouseout"}else if(e=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera){n="DOMMouseScroll"}return n?{eventName:n,normalizeFn:t}:null},normalizeWithin:function(e){var t=e.currentTarget,n=e.getRelatedTarget();if(t&&t.firstChild){while(n){if(n===t){return false}n=n.parentNode;if(n&&n.nodeType!==1){n=null}}}return true},puff:function(e){var t=this,n=t.dom,r,i=t.getBox(),s=t.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],true);e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:false});r=function(){var t=Ext.fly(n,"_anim");t.clearOpacity();t.show();this.to={width:i.width*2,height:i.height*2,x:i.x-i.width/2,y:i.y-i.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var t=Ext.fly(n,"_anim");if(t){if(e.useDisplay){t.setDisplayed(false)}else{t.hide()}t.setStyle(s);Ext.callback(e.callback,e.scope)}})};t.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:r}}});return t},scroll:function(e,t,n){if(!this.isScrollable()){return false}e=e.charAt(0);var r=this,i=r.dom,s=e==="r"||e==="l"?"left":"top",o=false,u,a;if(e==="l"||e==="t"||e==="u"){t=-t}if(s==="left"){u=i.scrollLeft;a=r.constrainScrollLeft(u+t)}else{u=i.scrollTop;a=r.constrainScrollTop(u+t)}if(a!==u){this.scrollTo(s,a,n);o=true}return o},scrollBy:function(e,t,n){var r=this,i=r.dom;if(e.length){n=t;t=e[1];e=e[0]}else if(typeof e!="number"){n=t;t=e.y;e=e.x}if(e){r.scrollTo("left",r.constrainScrollLeft(i.scrollLeft+e),n)}if(t){r.scrollTo("top",r.constrainScrollTop(i.scrollTop+t),n)}return r},scrollChildIntoView:function(e,t){Ext.fly(e).scrollIntoView(this,t)},scrollIntoView:function(e,t,n,r){e=Ext.getDom(e)||Ext.getBody().dom;return this.doScrollIntoView(e,t,n,r,"getScrollLeft","scrollTo")},scrollTo:function(e,t,n){var r=/top/i.test(e),i=this,s=r?"scrollTop":"scrollLeft",o=i.dom,u;if(!n||!i.anim){o[s]=t;o[s]=t}else{u={to:{}};u.to[s]=t;if(Ext.isObject(n)){Ext.applyIf(u,n)}i.animate(u)}return i},selectable:function(){var t=this;t.dom.unselectable="";t.removeCls(e.unselectableCls);t.addCls(e.selectableCls);return t},setCapture:function(){var e=this.dom;if(Ext.isIE9m&&e.setCapture){e.setCapture()}},setDisplayed:function(e){if(typeof e==="boolean"){e=e?q(this):p}this.setStyle(h,e);return this},setHeight:function(e,t){var n=this;if(!t||!n.anim){n.callParent(arguments)}else{if(!Ext.isObject(t)){t={}}n.animate(Ext.applyIf({to:{height:e}},t))}return n},setHorizontal:function(){var e=this,t=e.verticalCls;delete e.vertical;if(t){delete e.verticalCls;e.removeCls(t)}delete e.setWidth;delete e.setHeight;if(!Ext.isIE8){delete e.getWidth;delete e.getHeight}delete e.styleHooks},updateText:function(e){var t=this,r,i;if(r){i=r.firstChild;if(!i||i.nodeType!==3||i.nextSibling){i=n.createTextNode();t.empty();r.appendChild(i)}if(e){i.data=e}}},setHtml:function(e,r,i){var s=this,o,u,a;if(!s.dom){return s}e=e||"";u=s.dom;if(r!==true){u.innerHTML=e;Ext.callback(i,s);return s}o=Ext.id();e+='<span id="'+o+'" role="presentation"></span>';a=Ext.interval(function(){var r,u,f,l,c,h,p;if(!(h=n.getElementById(o))){return false}clearInterval(a);Ext.removeNode(h);r=Ext.getHead().dom;while(u=T.exec(e)){f=u[1];l=f?f.match(C):false;if(l&&l[2]){p=n.createElement("script");p.src=l[2];c=f.match(A);if(c&&c[2]){p.type=c[2]}r.appendChild(p)}else if(u[2]&&u[2].length>0){if(t.execScript){t.execScript(u[2])}else{t.eval(u[2])}}}Ext.callback(i,s)},20);u.innerHTML=e.replace(N,"");return s},setOpacity:function(e,t){var n=this;if(!n.dom){return n}if(!t||!n.anim){n.setStyle("opacity",e)}else{if(typeof t!="object"){t={duration:350,easing:"ease-in"}}n.animate(Ext.applyIf({to:{opacity:e}},t))}return n},setPositioning:function(e){return this.setStyle(e)},setScrollLeft:function(e){this.dom.scrollLeft=e;return this},setScrollTop:function(e){this.dom.scrollTop=e;return this},setVertical:function(t,n){var r=this,i=e.prototype;r.vertical=true;if(n){r.addCls(r.verticalCls=n)}r.setWidth=i.setHeight;r.setHeight=i.setWidth;if(!Ext.isIE8){r.getWidth=i.getHeight;r.getHeight=i.getWidth}r.styleHooks=t===270?i.verticalStyleHooks270:i.verticalStyleHooks90},setSize:function(t,n,r){var i=this;if(Ext.isObject(t)){r=n;n=t.height;t=t.width}if(!r||!i.anim){i.dom.style.width=e.addUnits(t);i.dom.style.height=e.addUnits(n)}else{if(r===true){r={}}i.animate(Ext.applyIf({to:{width:t,height:n}},r))}return i},setVisible:function(t,n){var i=this,s=i.dom,o=R(i);if(typeof n==="string"){switch(n){case h:o=e.DISPLAY;break;case c:o=e.VISIBILITY;break;case d:o=e.OFFSETS;break}i.setVisibilityMode(o);n=false}if(!n||!i.anim){if(o===e.DISPLAY){return i.setDisplayed(t)}else if(o===e.OFFSETS){i[t?"removeCls":"addCls"](y)}else if(o===e.VISIBILITY){i.fixDisplay();s.style.visibility=t?"":r}}else{if(t){i.setOpacity(.01);i.setVisible(true)}if(!Ext.isObject(n)){n={duration:350,easing:"ease-in"}}i.animate(Ext.applyIf({callback:function(){if(!t){Ext.fly(s).setVisible(false).setOpacity(1)}},to:{opacity:t?1:0}},n))}i.getData()[g]=t;return i},setWidth:function(e,t){var n=this;if(!t||!n.anim){n.callParent(arguments)}else{if(!Ext.isObject(t)){t={}}n.animate(Ext.applyIf({to:{width:e}},t))}return n},setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,t){var n=this;if(!t||!n.anim){n.callParent([e])}else{if(!Ext.isObject(t)){t={}}n.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},t))}return this},setY:function(e,t){return this.setXY([this.getX(),e],t)},show:function(e){if(typeof e==="string"){this.setVisible(true,e);return this}this.setVisible(true,this.anim(e));return this},slideIn:function(e,t,n){var r=this,i=r.dom,s=i.style,o,u,a,f;e=e||"t";t=t||{};o=function(){var o=this,l=t.listeners,c=Ext.fly(i,"_anim"),h,p,d,v;if(!n){c.fixDisplay()}h=c.getBox();if((e=="t"||e=="b")&&h.height===0){h.height=i.scrollHeight}else if((e=="l"||e=="r")&&h.width===0){h.width=i.scrollWidth}p=c.getStyle(["width","height","left","right","top","bottom","position","z-index"],true);c.setSize(h.width,h.height);if(t.preserveScroll){a=c.cacheScrollValues()}v=c.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+c.dom.id,style:{visibility:n?"visible":"hidden"}});f=v.dom.parentNode;v.setPositioning(c.getPositioning(true));if(v.isStyle("position","static")){v.position("relative")}c.clearPositioning("auto");v.clip();if(a){a()}c.setStyle({visibility:"",position:"absolute"});if(n){v.setSize(h.width,h.height)}switch(e){case"t":d={from:{width:h.width+"px",height:"0px"},to:{width:h.width+"px",height:h.height+"px"}};s.bottom="0px";break;case"l":d={from:{width:"0px",height:h.height+"px"},to:{width:h.width+"px",height:h.height+"px"}};r.anchorAnimX(e);break;case"r":d={from:{x:h.x+h.width,width:"0px",height:h.height+"px"},to:{x:h.x,width:h.width+"px",height:h.height+"px"}};r.anchorAnimX(e);break;case"b":d={from:{y:h.y+h.height,width:h.width+"px",height:"0px"},to:{y:h.y,width:h.width+"px",height:h.height+"px"}};break;case"tl":d={from:{x:h.x,y:h.y,width:"0px",height:"0px"},to:{width:h.width+"px",height:h.height+"px"}};s.bottom="0px";r.anchorAnimX("l");break;case"bl":d={from:{y:h.y+h.height,width:"0px",height:"0px"},to:{y:h.y,width:h.width+"px",height:h.height+"px"}};r.anchorAnimX("l");break;case"br":d={from:{x:h.x+h.width,y:h.y+h.height,width:"0px",height:"0px"},to:{x:h.x,y:h.y,width:h.width+"px",height:h.height+"px"}};r.anchorAnimX("r");break;case"tr":d={from:{x:h.x+h.width,width:"0px",height:"0px"},to:{x:h.x,width:h.width+"px",height:h.height+"px"}};s.bottom="0px";r.anchorAnimX("r");break}v.show();u=Ext.apply({},t);delete u.listeners;u=new Ext.fx.Anim(Ext.applyIf(u,{target:v,duration:500,easing:"ease-out",from:n?d.to:d.from,to:n?d.from:d.to}));u.on("afteranimate",function(){var e=Ext.fly(i,"_anim");e.setStyle(p);if(n){if(t.useDisplay){e.setDisplayed(false)}else{e.hide()}}if(v.dom){if(v.dom.parentNode){v.dom.parentNode.insertBefore(e.dom,v.dom)}else{f.appendChild(e.dom)}v.destroy()}if(a){a()}o.end()});if(l){u.on(l)}};r.animate({duration:t.duration?Math.max(t.duration,500)*2:1e3,listeners:{beforeanimate:o}});return r},slideOut:function(e,t){return this.slideIn(e,t,true)},swallowEvent:function(e,t){var n=this,r,i,s=function(e){e.stopPropagation();if(t){e.preventDefault()}};if(Ext.isArray(e)){i=e.length;for(r=0;r<i;r++){n.on(e[r],s)}return n}n.on(e,s);return n},switchOff:function(e){var t=this,n=t.dom,r;e=Ext.applyIf(e||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});r=function(){var t=Ext.fly(n,"_anim"),r=this,i=t.getSize(),s=t.getXY(),o,u;t.clearOpacity();t.clip();u=t.getPositioning();o=new Ext.fx.Animator({target:n,duration:e.duration,easing:e.easing,keyframes:{33:{opacity:.3},66:{height:1,y:s[1]+i.height/2},100:{width:1,x:s[0]+i.width/2}}});o.on("afteranimate",function(){var t=Ext.fly(n,"_anim");if(e.useDisplay){t.setDisplayed(false)}else{t.hide()}t.clearOpacity();t.setPositioning(u);t.setSize(i);r.end()})};t.animate({duration:Math.max(e.duration,500)*2,listeners:{beforeanimate:{fn:r}},callback:e.callback,scope:e.scope});return t},syncContent:function(e){e=Ext.getDom(e);var t=e.childNodes,n=t.length,r=this.dom,i=r.childNodes,s=i.length,o,u,a,f,l,c,h;if(Ext.isIE9m&&r.mergeAttributes){r.mergeAttributes(e,true);r.src=e.src}else{l=e.attributes;c=l.length;for(o=0;o<c;o++){h=l[o].name;if(h!=="id"){r.setAttribute(h,l[o].value)}}}if(n!==s){r.innerHTML=e.innerHTML;return}for(o=0;o<n;o++){a=t[o];u=i[o];f=a.nodeType;if(f!==u.nodeType||f===1&&a.tagName!==u.tagName){r.innerHTML=e.innerHTML;return}if(f===3){u.data=a.data}else{if(a.id&&u.id!==a.id){u.id=a.id}u.style.cssText=a.style.cssText;u.className=a.className;Ext.fly(u,"_syncContent").syncContent(a)}}},toggle:function(e){var t=this;t.setVisible(!t.isVisible(),t.anim(e));return t},unmask:function(){var e=this,t=e.getData(),r=t.maskEl,i=t.maskMsg,s;if(r){s=r.dom.style;if(s.clearExpression){s.clearExpression("width");s.clearExpression("height")}if(r){r.destroy();delete t.maskEl}if(i){i.destroy();delete t.maskMsg}e.removeCls([D,P])}e.restoreChildrenTabbableState();if(e.dom!==n.body){e.restoreTabbableState()}},unclip:function(){var e=this,t=e.getData(),n;if(t[i]){t[i]=false;n=t[a];if(n.o){e.setStyle(s,n.o)}if(n.x){e.setStyle(o,n.x)}if(n.y){e.setStyle(u,n.y)}}return e},translate:function(e,t,n){if(Ext.supports.CssTransforms&&!Ext.isIE9m){this.callParent(arguments)}else{if(e!=null){this.dom.style.left=e+"px"}if(t!=null){this.dom.style.top=t+"px"}this.dom.style.position="absolute"}},unselectable:function(){var t=this;if(Ext.isOpera){t.dom.unselectable="on"}t.removeCls(e.selectableCls);t.addCls(e.unselectableCls);return t},privates:{isTabbable:function(){var e=this,t=e.dom,n=t.nodeName,r=t.isContentEditable,i,s;if(t.hasAttribute("disabled")&&(Ext.isIE8||!r)){return false}if(!e.isVisible(true)){return false}i=t.hasAttribute("tabindex");s=i&&t.getAttribute("tabindex")-0;if(n==="A"){if(t.href){return i&&s<0?false:true}else{if(r){return!i||i&&s>=0?true:false}else{return i&&s>=0?true:false}}}else if(r||E.test(n)||Ext.isIE8&&n==="OBJECT"){return i&&s<0?false:true}else{if(i&&s>=0){return true}}return false},selectTabbableElements:function(e,t,n,r){var i,s,o,u,a,f,l,c;e=e!=undefined?e:true;s=this.dom.querySelectorAll(t||w);f=s.length;if(!f){return s}if(r){a=f-1;l=0;c=-1}else{a=0;l=f-1;c=1}i=[];for(;;a+=c){if(c>0&&a>l||c<0&&a<l){break}o=s[a];u=e?Ext.fly(o):Ext.get(o);if(u.isTabbable()){i.push(e?o:u)}if(i.length>=n){return i}}return i},selectFirstTabbableElement:function(e,t){var n=this.selectTabbableElements(e,t,1,false);return n[0]},selectLastTabbableElement:function(e,t){var n=this.selectTabbableElements(e,t,1,true);return n[0]},saveTabbableState:function(e){var t=this.dom;if(t.hasAttribute(S)){return}e=e||x;if(t.hasAttribute("tabindex")){t.setAttribute(e,t.getAttribute("tabindex"))}else{t.setAttribute(e,"none")}t.setAttribute("tabindex",-1);t.setAttribute(S,true);return this},restoreTabbableState:function(e){var t=this.dom,n;e=e||x;if(!t.hasAttribute(S)||!t.hasAttribute(e)){return}n=t.getAttribute(e);if(n==="none"){t.removeAttribute("tabindex")}else{t.setAttribute("tabindex",n)}t.removeAttribute(e);t.removeAttribute(S);return this},saveChildrenTabbableState:function(e){var t,n,r,i;if(this.dom){t=this.selectTabbableElements();for(r=0,i=t.length;r<i;r++){n=Ext.fly(t[r]);n.saveTabbableState(e)}}return this},restoreChildrenTabbableState:function(e){var t,n,r,i;e=e||x;t=this.dom.querySelectorAll("["+e+"]");for(r=0,i=t.length;r<i;r++){n=Ext.fly(t[r]);n.restoreTabbableState(e)}return this}},deprecated:{"4.0":{methods:{pause:function(e){var t=this;Ext.fx.Manager.setFxDefaults(t.id,{delay:e});return t},scale:function(e,t,n){this.animate(Ext.apply({},n,{width:e,height:t}));return this},shift:function(e){this.animate(e);return this}}},4.2:{methods:{moveTo:function(e,t,n){return this.setXY([e,t],n)},setBounds:function(e,t,n,r,i){return this.setBox({x:e,y:t,width:n,height:r},i)},setLeftTop:function(t,n){var r=this,i=r.dom.style;i.left=e.addUnits(t);i.top=e.addUnits(n);return r},setLocation:function(e,t,n){return this.setXY([e,t],n)}}},"5.0":{methods:{getAttributeNS:function(e,t){return this.getAttribute(t,e)},getCenterXY:function(){return this.getAlignToXY(n,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(f))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(l))||0},getStyleSize:function(){var t=this,r=this.dom,i=r===n||r===n.body,s,o,u;if(i){return{width:e.getViewportWidth(),height:e.getViewportHeight()}}s=t.getStyle(["height","width"],true);if(s.width&&s.width!=="auto"){o=parseFloat(s.width)}if(s.height&&s.height!=="auto"){u=parseFloat(s.height)}return{width:o||t.getWidth(true),height:u||t.getHeight(true)}},isBorderBox:function(){return true},isDisplayed:function(){return!this.isStyle("display","none")},focusable:"isFocusable"}}}}}(),function(){var e=Ext.dom.Element,t=e.prototype,n=!Ext.isIE8,r=document,i=r.defaultView,s=/alpha\(opacity=(.*)\)/i,o=/^\s+|\s+$/g,u=t.styleHooks,a=Ext.supports,f=0,l,c,h,p,d,v,m,g;t._init(e);delete t._init;if(Ext.os.is.iOS||Ext.os.is.Android){f=2}else if(navigator.msMaxTouchPoints||Ext.isWebKit&&a.TouchEvents&&Ext.os.is.Desktop){f=1}Ext.apply(a,{touchScroll:f});Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain";Ext.plainListCls=Ext.baseCSSPrefix+"list-plain";if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}u.opacity={name:"opacity",afterSet:function(e,t,n){if(n.isLayer){n.onOpacitySet(t)}}};if(!a.Opacity&&Ext.isIE){Ext.apply(u.opacity,{get:function(e){var t=e.style.filter,n,r;if(t.match){n=t.match(s);if(n){r=parseFloat(n[1]);if(!isNaN(r)){return r?r/100:0}}}return 1},set:function(e,t){var n=e.style,r=n.filter.replace(s,"").replace(o,"");n.zoom=1;if(typeof t==="number"&&t>=0&&t<1){t*=100;n.filter=r+(r.length?" ":"")+"alpha(opacity="+t+")"}else{n.filter=r}}})}if(!a.matchesSelector){var y=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,b=/\-/g,w,E=function(e,t){var n=new RegExp("(?:^|\\s+)"+t.replace(b,"\\-")+"(?:\\s+|$)");if(e&&e!=="*"){e=e.toUpperCase();return function(t){return t.tagName===e&&n.test(t.className)}}return function(e){return n.test(e.className)}},S=function(e){e=e.toUpperCase();return function(t){return t.tagName===e}},x={};t.matcherCache=x;t.is=function(e){if(!e){return true}var t=this.dom,n,i,s,o,u,a,f;if(t.nodeType!==1){return false}if(!(s=Ext.isFunction(e)?e:x[e])){if(!(i=e.match(y))){o=t.parentNode;if(!o){u=true;o=w||(w=r.createDocumentFragment());w.appendChild(t)}a=Ext.Array.indexOf(Ext.fly(o,"_is").query(e),t)!==-1;if(u){w.removeChild(t)}return a}f=i[1];n=i[2];x[e]=s=n?E(f,n):S(f)}return s(t)}}if(!i||!i.getComputedStyle){t.getStyle=function(t,n){var r=this,i=r.dom,s=typeof t!=="string",o=t,u=o,a=1,f=n,l=r.styleHooks,c,h,p,d,v,m,g;if(s){p={};o=u[0];g=0;if(!(a=u.length)){return p}}if(!i||i.documentElement){return p||""}h=i.style;if(n){m=h}else{m=i.currentStyle;if(!m){f=true;m=h}}do{d=l[o];if(!d){l[o]=d={name:e.normalize(o)}}if(d.get){v=d.get(i,r,f,m)}else{c=d.name;v=m[c]}if(!s){return v}p[o]=v;o=u[++g]}while(g<a);return p}}if(Ext.isIE8){function T(e,t,n,r){if(r[this.styleName]==="none"){return"0px"}return r[this.name]}d=["Top","Right","Bottom","Left"];v=d.length;while(v--){m=d[v];g="border"+m+"Width";u["border-"+m.toLowerCase()+"-width"]=u[g]={name:g,styleName:"border"+m+"Style",get:T}}}Ext.apply(Ext,{enableGarbageCollector:true,isBorderBox:true,getDetachedBody:function(){var e=Ext.detachedBodyEl;if(!e){e=r.createElement("div");Ext.detachedBodyEl=e=new Ext.dom.Fly(e);e.isDetachedBody=true}return e},getElementById:function(e){var t=r.getElementById(e),n;if(!t&&(n=Ext.detachedBodyEl)){t=n.dom.querySelector(Ext.makeIdSelector(e))}return t},addBehaviors:function(e){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(e)})}else{var t={},n,r,i;for(r in e){if((n=r.split("@"))[1]){i=n[0];if(!t[i]){t[i]=Ext.fly(document).select(i,true)}t[i].on(n[1],e[r])}}t=null}}});if(Ext.isIE8){l=Ext.removeNode;Ext.removeNode=function(e){l(e);c=c||r.createElement("div");c.appendChild(e);c.innerHTML=""}}if(Ext.isIE9m){Ext.getElementById=function(e){var t=r.getElementById(e),n;if(!t&&(n=Ext.detachedBodyEl)){t=n.dom.all[e]}return t};t.getById=function(e,t){var i=this.dom,s=null,o,u;if(i){u=n&&r.getElementById(e)||i.all[e];if(u){if(t){s=u}else{o=Ext.cache[e];if(o){if(o.skipGarbageCollection||!Ext.isGarbage(o.dom)){s=o}else{Ext.Error.raise("Stale Element with id '"+u.id+"' found in Element cache. "+"Make sure to clean up Element instances using destroy()");o.destroy()}}s=s||new Ext.Element(u)}}}return s}}else if(!r.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(e){return r.getElementById(e)};t.getById=function(e,t){var n=r.getElementById(e);return t?n:n?Ext.get(n):null}}if(Ext.isIE&&!(Ext.isIE9p&&r.documentMode>=9)){t.getAttribute=function(e,t){var n=this.dom,r;if(t){r=typeof n[t+":"+e];if(r!="undefined"&&r!="unknown"){return n[t+":"+e]||null}return null}if(e==="for"){e="htmlFor"}return n[e]||null}}Ext.onReady(function(){function g(e,t,r,i){var s=i[this.name]||"";return n.test(s)?"transparent":s}function y(e,t,n){return function(){e.selectionStart=t;e.selectionEnd=n}}function b(t){var n=a.DisplayChangeInputSelectionBug,r=a.DisplayChangeTextAreaSelectionBug,i,s,o,u;if(n||r){i=e.getActiveElement();s=i&&i.tagName;if(r&&s==="TEXTAREA"||n&&s==="INPUT"&&i.type==="text"){if(Ext.fly(t).isAncestor(i)){o=i.selectionStart;u=i.selectionEnd;if(Ext.isNumber(o)&&Ext.isNumber(u)){return y(i,o,u)}}}}return Ext.emptyFn}function w(e,t,n,r){var i=r.marginRight,s,o;if(i!=="0px"){s=e.style;o=s.display;s.display="inline-block";i=(n?r:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight;s.display=o}return i}function E(e,t,n,r){var i=r.marginRight,s,o,u;if(i!=="0px"){s=e.style;o=b(e);u=s.display;s.display="inline-block";i=(n?r:e.ownerDocument.defaultView.getComputedStyle(e,"")).marginRight;s.display=u;o()}return i}var n=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,i=[],s=t.setWidth,o=t.setHeight,f=t.setSize,l=/^\d+(?:\.\d*)?px$/i,c,d,v,m;if(a.FixedTableWidthBug){u.width={name:"width",set:function(e,t,n){var r=e.style,i=n._needsTableWidthFix,s=r.display;if(i){r.display="none"}r.width=t;if(i){e.scrollWidth;r.display=s}}};t.setWidth=function(e,t){var n=this,r=n.dom,i=r.style,o=n._needsTableWidthFix,u=i.display;if(o&&!t){i.display="none"}s.call(n,e,t);if(o&&!t){r.scrollWidth;i.display=u}return n};t.setSize=function(e,t,n){var r=this,i=r.dom,s=i.style,o=r._needsTableWidthFix,u=s.display;if(o&&!n){s.display="none"}f.call(r,e,t,n);if(o&&!n){i.scrollWidth;s.display=u}return r}}if(Ext.isIE8){u.height={name:"height",set:function(e,t,n){var r=n.component,i,s;if(r&&r._syncFrameHeight&&this===r.el){s=r.frameBody.dom.style;if(l.test(t)){i=r.getFrameInfo();if(i){s.height=parseInt(t,10)-i.height+"px"}}else if(!t||t==="auto"){s.height=""}}e.style.height=t}};t.setHeight=function(e,t){var n=this.component,r,i;if(n&&n._syncFrameHeight&&this===n.el){i=n.frameBody.dom.style;if(!e||e==="auto"){i.height=""}else{r=n.getFrameInfo();if(r){i.height=e-r.height+"px"}}}return o.call(this,e,t)};t.setSize=function(e,t,n){var r=this.component,i,s;if(r&&r._syncFrameHeight&&this===r.el){s=r.frameBody.dom.style;if(!t||t==="auto"){s.height=""}else{i=r.getFrameInfo();if(i){s.height=t-i.height+"px"}}}return f.call(this,e,t,n)}}Ext.getDoc().on("selectstart",function(t,n){var i=e.selectableCls,s=e.unselectableCls,o=n&&n.tagName;o=o&&o.toLowerCase();if(o==="input"||o==="textarea"){return}while(n&&n.nodeType===1&&n!==r.documentElement){var u=Ext.fly(n);if(u.hasCls(i)){return}if(u.hasCls(s)){t.stopEvent();return}n=n.parentNode}});if(!a.RightMargin){u.marginRight=u["margin-right"]={name:"marginRight",get:a.DisplayChangeInputSelectionBug||a.DisplayChangeTextAreaSelectionBug?E:w}}if(!a.TransparentColor){c=["background-color","border-color","color","outline-color"];for(d=c.length;d--;){v=c[d];m=e.normalize(v);u[v]=u[m]={name:m,get:g}}}t.verticalStyleHooks90=h=Ext.Object.chain(u);t.verticalStyleHooks270=p=Ext.Object.chain(u);h.width=u.height||{name:"height"};h.height=u.width||{name:"width"};h["margin-top"]={name:"marginLeft"};h["margin-right"]={name:"marginTop"};h["margin-bottom"]={name:"marginRight"};h["margin-left"]={name:"marginBottom"};h["padding-top"]={name:"paddingLeft"};h["padding-right"]={name:"paddingTop"};h["padding-bottom"]={name:"paddingRight"};h["padding-left"]={name:"paddingBottom"};h["border-top"]={name:"borderLeft"};h["border-right"]={name:"borderTop"};h["border-bottom"]={name:"borderRight"};h["border-left"]={name:"borderBottom"};p.width=u.height||{name:"height"};p.height=u.width||{name:"width"};p["margin-top"]={name:"marginRight"};p["margin-right"]={name:"marginBottom"};p["margin-bottom"]={name:"marginLeft"};p["margin-left"]={name:"marginTop"};p["padding-top"]={name:"paddingRight"};p["padding-right"]={name:"paddingBottom"};p["padding-bottom"]={name:"paddingLeft"};p["padding-left"]={name:"paddingTop"};p["border-top"]={name:"borderRight"};p["border-right"]={name:"borderBottom"};p["border-bottom"]={name:"borderLeft"};p["border-left"]={name:"borderTop"};if(!Ext.scopeCss){i.push(Ext.baseCSSPrefix+"body")}if(a.Touch){i.push(Ext.baseCSSPrefix+"touch")}if(Ext.isIE&&Ext.isIE9m){i.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m");i.push(Ext.baseCSSPrefix+"ie8p");if(Ext.isIE8){i.push(Ext.baseCSSPrefix+"ie8")}else{i.push(Ext.baseCSSPrefix+"ie9",Ext.baseCSSPrefix+"ie9p")}if(Ext.isIE8m){i.push(Ext.baseCSSPrefix+"ie8m")}}if(Ext.isIE10){i.push(Ext.baseCSSPrefix+"ie10")}if(Ext.isIE11){i.push(Ext.baseCSSPrefix+"ie11")}if(Ext.isGecko){i.push(Ext.baseCSSPrefix+"gecko")}if(Ext.isOpera){i.push(Ext.baseCSSPrefix+"opera")}if(Ext.isOpera12m){i.push(Ext.baseCSSPrefix+"opera12m")}if(Ext.isWebKit){i.push(Ext.baseCSSPrefix+"webkit")}if(Ext.isSafari){i.push(Ext.baseCSSPrefix+"safari")}if(Ext.isChrome){i.push(Ext.baseCSSPrefix+"chrome")}if(Ext.isMac){i.push(Ext.baseCSSPrefix+"mac")}if(Ext.isLinux){i.push(Ext.baseCSSPrefix+"linux")}if(!a.CSS3BorderRadius){i.push(Ext.baseCSSPrefix+"nbr")}if(!a.CSS3LinearGradient){i.push(Ext.baseCSSPrefix+"nlg")}if(a.Touch){i.push(Ext.baseCSSPrefix+"touch")}Ext.getBody().addCls(i)},null,{priority:1500})});Ext.define("Ext.GlobalEvents",{extend:"Ext.mixin.Observable",alternateClassName:"Ext.globalEvents",requires:["Ext.dom.Element"],observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var e=this;e.callParent();Ext.onReady(function(){e.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer})},fireResize:function(){var e=this,t=Ext.Element,n=t.getViewportWidth(),r=t.getViewportHeight();if(e.curHeight!==r||e.curWidth!==n){e.curHeight=r;e.curWidth=n;e.fireEvent("resize",n,r)}}},function(e){Ext.on=function(){return e.addListener.apply(e,arguments)};Ext.un=function(){return e.removeListener.apply(e,arguments)}});Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",attachListeners:function(){this.callParent();Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(e){this.fireEvent("mousedown",e)},deprecated:{5:{methods:{addListener:function(e,t,n,r){var i,s;if(e==="ready"){s=t}else if(typeof e!=="string"){for(i in e){if(i==="ready"){s=e[i]}}}if(s){Ext.log.warn("Ext.on('ready', fn) is deprecated.  Please use Ext.onReady(fn) instead.");Ext.onReady(s)}this.callParent([e,t,n,r])}}}}});Ext.USE_NATIVE_JSON=false;Ext.JSON=new function(){var me=this,hasNative=window.JSON&&JSON.toString()=="[object JSON]",useHasOwn=!!{}.hasOwnProperty,pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){if(e===null||e===undefined){return"null"}else if(Ext.isDate(e)){return me.encodeDate(e)}else if(Ext.isString(e)){if(Ext.isMSDate(e)){return me.encodeMSDate(e)}else{return me.encodeString(e)}}else if(typeof e=="number"){return isFinite(e)?String(e):"null"}else if(Ext.isBoolean(e)){return String(e)}else if(e.toJSON){return e.toJSON()}else if(Ext.isArray(e)){return encodeArray(e,t)}else if(Ext.isObject(e)){return encodeObject(e,t)}else if(typeof e==="function"){return"null"}return"undefined"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(e){return'"'+e+'"'},encodeArrayPretty=function(e,t){var n=e.length,r=t+"   ",i=","+r,s=["[",r],o;for(o=0;o<n;o+=1){s.push(me.encodeValue(e[o],r),i)}s[s.length-1]=t+"]";return s.join("")},encodeObjectPretty=function(e,t){var n=t+"   ",r=","+n,i=["{",n],s,o;for(s in e){o=e[s];if(!useHasOwn||e.hasOwnProperty(s)){if(typeof o==="function"||o===undefined){continue}i.push(me.encodeValue(s)+": "+me.encodeValue(o,n),r)}}i[i.length-1]=t+"}";return i.join("")},encodeArray=function(e,t){if(t){return encodeArrayPretty(e,t)}var n=["[",""],r=e.length,i;for(i=0;i<r;i+=1){n.push(me.encodeValue(e[i]),",")}n[n.length-1]="]";return n.join("")},encodeObject=function(e,t){if(t){return encodeObjectPretty(e,t)}var n=["{",""],r,i;for(r in e){i=e[r];if(!useHasOwn||e.hasOwnProperty(r)){if(typeof i==="function"||i===undefined){continue}n.push(me.encodeValue(r),":",me.encodeValue(i),",")}}n[n.length-1]="}";return n.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'};me.encode=function(e){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(e)}return me.encodeValue(e)};me.decode=function(e,t){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(e)}return doDecode(e)}catch(n){if(t){return null}Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode};Ext.define("Ext.TaskQueue",{requires:"Ext.AnimationQueue",singleton:true,pending:false,mode:true,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},requestRead:function(e,t,n){this.request(true);this.readQueue.push(arguments)},requestWrite:function(e,t,n){this.request(false);this.writeQueue.push(arguments)},request:function(e){if(!this.pending){this.pendingTime=Date.now();this.pending=true;this.mode=e;if(e){Ext.defer(this.run,1,this)}else{Ext.Function.requestAnimationFrame(this.run)}}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(){this.pending=false;var e=this.readQueue,t=this.writeQueue,n=null,r;if(this.mode){r=e;if(t.length>0){n=false}}else{r=t;if(e.length>0){n=true}}var i=r.slice(),s,o,u,a,f;r.length=0;for(s=0,o=i.length;s<o;s++){u=i[s];a=u[0];f=u[1];if(typeof a=="string"){a=f[a]}if(u.length>2){a.apply(f,u[2])}else{a.call(f)}}i.length=0;if(n!==null){this.request(n)}}});Ext.define("Ext.util.Format",function(){var e;return{requires:["Ext.Error","Ext.Number","Ext.String","Ext.Date"],singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){e=this},undef:function(e){return e!==undefined?e:""},defaultValue:function(e,t){return e!==undefined&&e!==""?e:t},substr:"ab".substr(-1)!="b"?function(e,t,n){var r=String(e);return t<0?r.substr(Math.max(r.length+t,0),n):r.substr(t,n)}:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(t){return e.currency(t,"$",2)},currency:function(t,n,r,i){var s="",o=",0",u=0;t=t-0;if(t<0){t=-t;s="-"}r=Ext.isDefined(r)?r:e.currencyPrecision;o+=r>0?".":"";for(;u<r;u++){o+="0"}t=e.number(t,o);if((i||e.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",s,t,n||e.currencySign)}else{return Ext.String.format("{0}{1}{2}",s,n||e.currencySign,t)}},date:function(e,t){if(!e){return""}if(!Ext.isDate(e)){e=new Date(Date.parse(e))}return Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)},dateRenderer:function(t){return function(n){return e.date(n,t)}},hex:function(e,t){var n=parseInt(e||0,10).toString(16);if(t){if(t<0){t=-t;if(n.length>t){n=n.substring(n.length-t)}}while(n.length<t){n="0"+n}}return n},or:function(e,t){return e||t},pick:function(e,t,n){if(Ext.isNumber(e)){var r=arguments[e+1];if(r){return r}}return e?n:t},stripTags:function(t){return!t?t:String(t).replace(e.stripTagsRe,"")},stripScripts:function(t){return!t?t:String(t).replace(e.stripScriptsRe,"")},fileSize:function(){var e=1024,t=1048576,n=1073741824;return function(r){var i;if(r<e){if(r===1){i="1 byte"}else{i=r+" bytes"}}else if(r<t){i=Math.round(r*10/e)/10+" KB"}else if(r<n){i=Math.round(r*10/t)/10+" MB"}else{i=Math.round(r*10/n)/10+" GB"}return i}}(),math:function(){var e={};return function(t,n){if(!e[n]){e[n]=Ext.functionFactory("v","return v "+n+";")}return e[n](t)}}(),round:function(e,t){var n=Number(e);if(typeof t==="number"){t=Math.pow(10,t);n=Math.round(e*t)/t}else if(t===undefined){n=Math.round(n)}return n},number:function(t,n){if(!n){return t}if(isNaN(t)){return""}var r=e.formatFns[n];if(!r){var i=n,s=e.thousandSeparator,o=e.decimalSeparator,u=0,a="",f,l,c,h,p,d;if(n.substr(n.length-2)==="/i"){if(!e.I18NFormatCleanRe||e.lastDecimalSeparator!==o){e.I18NFormatCleanRe=new RegExp("[^\\d\\"+o+"]","g");e.lastDecimalSeparator=o}n=n.substr(0,n.length-2);f=n.indexOf(s)!==-1;l=n.replace(e.I18NFormatCleanRe,"").split(o)}else{f=n.indexOf(",")!==-1;l=n.replace(e.formatCleanRe,"").split(".")}c=n.replace(e.formatPattern,"");if(l.length>2){Ext.Error.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:t,formatString:n,msg:"Invalid number format, should have no more than 1 decimal"})}else if(l.length===2){u=l[1].length;h=l[1].match(e.hashRe);if(h){d=h[0].length;a='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+d+'}$")'}}p=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(f?",thousandSeparator,thousands=[],j,n,i":"")+(c?',formatString="'+n+'",formatPattern=/[\\d,\\.#]+/':"")+",trailingZeroes;"+"return function(v){"+'if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";'+"neg=v<0;","absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+u+");",a,";"];if(f){if(u){p[p.length]='parts=fnum.split(".");';p[p.length]="fnum=parts[0];"}p[p.length]="if(absVal>=1000) {";p[p.length]="thousandSeparator=utilFormat.thousandSeparator;"+"thousands.length=0;"+"j=fnum.length;"+"n=fnum.length%3||3;"+"for(i=0;i<j;i+=n){"+"if(i!==0){"+"n=3;"+"}"+"thousands[thousands.length]=fnum.substr(i,n);"+"}"+"fnum=thousands.join(thousandSeparator);"+"}";if(u){p[p.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else if(u){p[p.length]='if(utilFormat.decimalSeparator!=="."){'+'parts=fnum.split(".");'+"fnum=parts[0]+utilFormat.decimalSeparator+parts[1];"+"}"}if(h){p[p.length]='fnum=fnum.replace(trailingZeroes,"");'}p[p.length]='if(neg&&fnum!=="'+(u?"0."+Ext.String.repeat("0",u):"0")+'")fnum="-"+fnum;';p[p.length]="return ";if(c){p[p.length]="formatString.replace(formatPattern, fnum);"}else{p[p.length]="fnum;"}p[p.length]="};";r=e.formatFns[i]=Ext.functionFactory("Ext",p.join(""))(Ext)}return r(t)},numberRenderer:function(t){return function(n){return e.number(n,t)}},percent:function(t,n){return e.number(t*100,n||"0")+e.percentSign},attributes:function(e){if(typeof e==="object"){var t=[],n;for(n in e){if(e.hasOwnProperty(n)){t.push(n,'="',n==="style"?Ext.DomHelper.generateStyles(e[n],null,true):Ext.htmlEncode(e[n]),'" ')}}e=t.join("")}return e||""},plural:function(e,t,n){return e+" "+(e===1?t:n?n:t+"s")},nl2br:function(t){return Ext.isEmpty(t)?"":t.replace(e.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(e){e=e||0;if(typeof e==="number"){return{top:e,right:e,bottom:e,left:e}}var t=e.split(" "),n=t.length;if(n===1){t[1]=t[2]=t[3]=t[0]}else if(n===2){t[2]=t[0];t[3]=t[1]}else if(n===3){t[3]=t[1]}return{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}}}});Ext.define("Ext.Template",{requires:["Ext.util.Format"],inheritableStatics:{from:function(e,t){e=Ext.getDom(e);return new this(e.value||e.innerHTML,t||"")}},useEval:Ext.isGecko,constructor:function(e){var t=this,n=arguments,r=[],i,s=n.length,o;t.initialConfig={};if(s===1&&Ext.isArray(e)){n=e;s=n.length}if(s>1){for(i=0;i<s;i++){o=n[i];if(typeof o=="object"){Ext.apply(t.initialConfig,o);Ext.apply(t,o)}else{r.push(o)}}}else{r.push(e)}t.html=r.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(e){var t=this;if(t.compiled){if(!t.fn){t.compile()}return t.fn(e).join("")}return t.evaluate(e)},evaluate:function(e){function s(t,s,o,u,a){if(o==null||o==""){o=s}if(u&&n){if(a){a=[e[o]].concat(Ext.functionFactory("return ["+a+"];")())}else{a=[e[o]]}if(u.substr(0,5)==="this."){return i[u.substr(5)].apply(i,a)}else if(r[u]){return r[u].apply(r,a)}else{return t}}else{return e[o]!==undefined?e[o]:""}}var t=this,n=!t.disableFormats,r=Ext.util.Format,i=t;return t.html.replace(t.tokenRe,s)},applyOut:function(e,t){var n=this;if(n.compiled){if(!n.fn){n.compile()}t.push.apply(t,n.fn(e))}else{t.push(n.apply(e))}return t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){var n=this;n.html=e;n.compiled=!!t;n.fn=null;return n},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var e=this,t;t=e.html.replace(e.compileARe,"\\\\").replace(e.compileBRe,"\\n").replace(e.compileCRe,"\\'").replace(e.tokenRe,e.regexReplaceFn.bind(e));t=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(e.useEval?"$=":"return")+" function(v){return ['"+t+"'];};";e.fn=e.useEval?e.evalCompiled(t):(new Function("Ext",t))(Ext);e.compiled=true;return e},evalCompiled:function($){eval($);return $},regexReplaceFn:function(e,t,n,r,i){if(t==null||t==""){t='"'+n+'"'}else if(this.stringFormat){t=parseInt(t)+1}if(r&&this.disableFormats!==true){i=i?","+i:"";if(r.substr(0,5)==="this."){r=r+"("}else if(Ext.util.Format[r]){r="fm."+r+"("}else{return e}return"',"+r+"v["+t+"]"+i+"),'"}else{return"',v["+t+"] == undefined ? '' : v["+t+"],'"}},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,r){var i=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(n));return r?Ext.get(i):i},overwrite:function(e,t,n){var r=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return n?Ext.get(r):r}},function(e){var t=/\{\d+\}/,n=function(n){if(t.test(n)){n=new e(n,r);return function(){return n.apply(arguments)}}else{return function(){return n}}},r={useFormat:false,compiled:true,stringFormat:true},i={};Ext.String.format=Ext.util.Format.format=function(e){var t=i[e]||(i[e]=n(e));return t.apply(this,arguments)}});Ext.define("Ext.mixin.Inheritable",{extend:"Ext.Mixin",mixinConfig:{id:"inheritable"},getInherited:function(e){var t=this,n=e&&t.inheritedStateInner||t.inheritedState,r=t.ownerCt||t.initOwnerCt,i=t.isContainer,s,o,u;if(!n||n.invalid){s=t.getRefOwner();if(r){u=t.ownerLayout===r.layout}t.inheritedState=n=Ext.Object.chain(s?s.getInherited(u):Ext.rootInheritedState);if(i){t.inheritedStateInner=o=Ext.Object.chain(n)}t.initInheritedState(n,o);n=i&&e?t.inheritedStateInner:t.inheritedState}return n},getInheritedConfig:function(e,t){var n=this.inheritedState,r,i;if(!n||n.invalid){n=this.getInherited()}i=n[e];if(t&&n.hasOwnProperty(e)){r=i;delete n[e];i=n[e];n[e]=r}return i},fixReference:function(){var e=this,t;if(e.reference){t=e.lookupReferenceHolder();if(t){t.attachReference(e)}}},resolveListenerScope:function(e){var t=this,n=Ext._namedScopes[e],r;if(!n){r=t.getInheritedConfig("defaultListenerScope",true)||e||t}else if(n.isController){r=t.getInheritedConfig("controller",!n.isSelf)}else if(n.isSelf){r=t.getInheritedConfig("defaultListenerScope")||t}else if(n.isThis){r=t}return r||null},lookupReferenceHolder:function(e){return this.getInheritedConfig("referenceHolder",e!==false)||null},getRefOwner:function(){return this.ownerCt||this.initOwnerCt||this.ownerCmp||this.floatParent},invalidateInheritedState:function(){var e=this.inheritedState;if(e){e.invalid=true;delete this.inheritedState}}},function(){Ext.rootInheritedState={}});Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:true},controller:null,defaultListenerScope:false,publishes:{$value:null,lazy:true,merge:function(e,t){return this.mergeSets(e,t)}},reference:null,session:{$value:null,lazy:true},twoWayBindable:{$value:null,lazy:true,merge:function(e,t){return this.mergeSets(e,t)}},viewModel:{$value:null,lazy:true}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(e){var t=this,n=t.getReference(),r=t.getController(),i=t.getConfig("viewModel",true),s=t.getConfig("session",true),o=t.getDefaultListenerScope();if(r){e.controller=r}if(o){e.defaultListenerScope=t}else if(r){e.defaultListenerScope=r}if(i){if(!i.isViewModel){i=t}e.viewModel=i}if(s){if(!s.isSession){s=t}e.session=s}if(n){t.referenceKey=(e.referencePath||"")+n;t.viewModelKey=(e.viewModelPath||"")+n}},lookupController:function(e){return this.getInheritedConfig("controller",e)||null},lookupSession:function(e){var t=e?null:this.getSession();if(!t){t=this.getInheritedConfig("session",e);if(t&&!t.isSession){t=t.getInherited().session=t.getSession()}}return t||null},lookupViewModel:function(e){var t=e?null:this.getViewModel();if(!t){t=this.getInheritedConfig("viewModel",e);if(t&&!t.isViewModel){t=t.getInherited().viewModel=t.getViewModel()}}return t||null},publishState:function(e,t){var n=this,r=n.viewModelKey,i=n.publishedState,s=n.getBind(),o=s&&e&&s[e],u=0,a,f,l;if(o&&!o.syncing&&!o.isReadOnly()){o.setValue(t)}if(!r||!(f=n.getPublishes())){return}if(!(l=n.lookupViewModel())){return}if(e&&i){if(!f[e]){return}if(!(t&&t.constructor===Object)&&!(t instanceof Array)){if(i[e]===t){return}}r+=".";r+=e}else{i=i||(n.publishedState={});for(a in f){++u;if(a===e){i[a]=t}else{i[a]=n[a]}}if(!u){return}t=i}l.set(r,t)},privates:{addBindableUpdater:function(e){var t=this,n=t.self.$config.configs,r=n[e],i;if(r&&!t.hasOwnProperty(i=r.names.update)){t[i]=r.bindableUpdater||(r.root.bindableUpdater=t.makeBindableUpdater(r))}},applyBind:function(e,t){var n=this,r=n.lookupViewModel(),i=n.getTwoWayBindable(),s=n._getBindTemplateScope,o,u,a;if(!t||typeof t==="string"){t={}}if(!r){Ext.Error.raise("Cannot use bind config without a viewModel")}if(Ext.isString(e)){if(!n.defaultBindProperty){Ext.Error.raise(n.$className+" has no defaultBindProperty - "+"Please specify a bind object")}o=e;e={};e[n.defaultBindProperty]=o}for(u in e){a=e[u];o=t[u];if(o&&typeof o!=="string"){o.destroy();o=null}if(a){o=r.bind(a,n.onBindNotify,n);o._config=Ext.Config.get(u);o.getTemplateScope=s;if(!n[o._config.names.set]){Ext.Error.raise("Cannot bind "+u+" on "+n.$className+" - missing a "+o._config.names.set+" method.")}}t[u]=o;if(i&&i[u]&&!o.isReadOnly()){n.addBindableUpdater(u)}}return t},applyController:function(e){if(e){e=Ext.Factory.controller(e);e.setView(this)}return e},applyPublishes:function(e){if(this.lookupViewModel()){for(var t in e){this.addBindableUpdater(t)}}return e},applyReference:function(e){var t=this.validRefRe||Ext.validIdRe;if(e&&!t.test(e)){Ext.Error.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier")}return e},applySession:function(e){if(!e){return null}if(!e.isSession){var t=this.lookupSession(true),n=e===true?{}:e;if(t){e=t.spawn(n)}else{e=new Ext.data["Session"](n)}}return e},applyViewModel:function(e){var t=this,n,r;if(!(e&&e.isViewModel)){n={parent:t.lookupViewModel(true)};n.session=t.getSession();if(!r&&!n.parent){n.session=t.lookupSession()}if(e){if(e.constructor===Object){Ext.apply(n,e)}else if(typeof e==="string"){n.type=e}}e=Ext.Factory.viewModel(n)}return e},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(e){var t=e.names.update;return function(n,r){var i=this,s=i.self.prototype[t];if(s){s.call(i,n,r)}i.publishState(e.name,n)}},onBindNotify:function(e,t,n){n.syncing=n.syncing+1||1;this[n._config.names.set](e);--n.syncing},removeBindings:function(){var e=this.bind,t,n;if(e&&typeof e!=="string"){for(t in e){n=e[t];n.destroy();n._config=n.getTemplateScope=null}}this.bind=null},updateSession:function(e){var t=this.getInherited();if(e){t.session=e}else{delete t.session}},updateViewModel:function(e){var t=this.getInherited(),n=this.getController();if(e){t.viewModel=e;e.setView(this);if(n){n.initViewModel(e)}}else{delete t.viewModel}}}});Ext.define("Ext.Widget",{extend:"Ext.Evented",xtype:"widget",mixins:["Ext.mixin.Inheritable","Ext.mixin.Bindable"],isWidget:true,element:{reference:"element"},listenerOptionsRegex:/^(?:scope|order|delegate|single|delay|buffer|args|prepend|destroyable|element)$/,observableType:"component",eventedConfig:{width:null,height:null},template:[],constructor:function(e){var t=this;t.initId(e);t.initElement();t.mixins.observable.constructor.call(t,e);Ext.ComponentManager.register(t)},addElementReferenceOnDemand:function(e,t){if(this._elementListeners[e]){this.addElementReference(e,t)}else{Ext.Object.defineProperty(this,e,{get:function(){delete this[e];return this.addElementReference(e,t)},configurable:true})}},addElementReference:function(e,t){var n=this,r=n[e]=Ext.get(t),i=n._elementListeners[e],s,o;r.skipGarbageCollection=true;r.component=n;if(i){i=Ext.clone(i);i.scope=n;for(s in i){o=i[s];if(typeof o==="object"){o.scope=n}}r.on(i)}return r},afterCachedConfig:function(){var e=this,t=e.self.prototype,n=e.referenceList,r=e.renderElement.dom,i,s,o,u,a,f;t.renderTemplate=i=document.createDocumentFragment();i.appendChild(r.cloneNode(true));f=i.querySelectorAll("[id]");for(o=0,u=f.length;o<u;o++){s=f[o];s.removeAttribute("id")}for(o=0,u=n.length;o<u;o++){a=n[o];e[a].dom.removeAttribute("reference")}},applyWidth:function(e){return this.filterLengthValue(e)},applyHeight:function(e){return this.filterLengthValue(e)},destroy:function(){var e=this,t=e.referenceList,n,r,i;for(n=0,r=t.length;n<r;n++){i=t[n];if(e.hasOwnProperty(i)){e[i].destroy();e[i]=null}}e.callParent();Ext.ComponentManager.unregister(e)},doAddListener:function(e,t,n,r,i){if(r&&"element"in r){if(this.referenceList.indexOf(r.element)===-1){Ext.Logger.error("Adding event listener with an invalid element reference of '"+r.element+"' for this component. Available values are: '"+this.referenceList.join("', '")+"'",this)}return this[r.element].doAddListener(e,t,n||this,r,i)}return this.callParent([e,t,n,r,i])},doRemoveListener:function(e,t,n,r,i){if(r&&"element"in r){if(this.referenceList.indexOf(r.element)===-1){Ext.Logger.error("Removing event listener with an invalid element reference of '"+r.element+"' for this component. Available values are: '"+this.referenceList.join('", "')+"'",this)}this[r.element].doRemoveListener(e,t,n||this,r,i)}return this.callParent([e,t,n,r,i])},doSetWidth:function(e){this.element.setWidth(e)},doSetHeight:function(e){this.element.setHeight(e)},filterLengthValue:function(e){if(e==="auto"||!e&&e!==0){return null}return e},getElementConfig:function(){var e=this,t=e.element;if(!("children"in t)){t=Ext.apply({children:e.getTemplate()},t)}return t},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var e=this,t=e.self.prototype,n=e.getId(),r=e.referenceList=[],i=true,s,o,u,a,f,l,c,h,p;if(t.hasOwnProperty("renderTemplate")){s=e.renderTemplate.cloneNode(true);o=s.firstChild}else{i=false;s=document.createDocumentFragment();p=e.getElementConfig();e.initElementListeners(p);o=Ext.Element.create(p,true);s.appendChild(o)}a=s.querySelectorAll("[reference]");for(f=0,l=a.length;f<l;f++){c=a[f];h=c.getAttribute("reference");if(i){c.removeAttribute("reference")}if(h==="element"){if(u){Ext.Error.raise("Duplicate 'element' reference detected in '"+e.$className+"' template.")}c.id=n;u=e.el=e.addElementReference(h,c)}else{e.addElementReferenceOnDemand(h,c)}r.push(h)}if(!u){Ext.Error.raise("No 'element' reference found in '"+e.$className+"' template.")}if(o===u.dom){e.renderElement=u}else{e.addElementReferenceOnDemand("renderElement",o)}},initElementListeners:function(e){var t=this,n=t._elementListeners||(t.self.prototype._elementListeners={}),r=e.reference,i=e.children,s,o,u;if(r){s=e.listeners;if(s){n[r]=s;e.listeners=null}}if(i){for(u=0,o=i.length;u<o;u++){t.initElementListeners(i[u])}}},initId:function(e){var t=this,n=t.config,r=e&&e.id||n&&n.id;if(r){t.setId(r);t.id=r}else{t.getId()}},is:function(e){return Ext.ComponentQuery.is(this,e)},isXType:function(e,t){return t?Ext.Array.indexOf(this.xtypes,e)!==-1:!!this.xtypesMap[e]},resolveListenerScope:function(e){return this.mixins.inheritable.resolveListenerScope.call(this,e)},setSize:function(e,t){if(e!==undefined){this.setWidth(e)}if(t!==undefined){this.setHeight(t)}}});Ext.define("Ext.util.ProtoElement",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(n){var r=this,i,s;if(n){Ext.apply(r,n);i=r.cls;s=r.style;delete r.cls}r.classList=i?e(i):[];r.classMap=i?t(r.classList):{};if(s){if(typeof s==="string"){r.style=Ext.Element.parseStyles(s)}else if(Ext.isFunction(s)){r.styleFn=s;delete r.style}else{r.style=Ext.apply({},s)}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(t){if(!t){return this}var n=this,r=typeof t==="string"?e(t):t,i=r.length,s=n.classList,o=n.classMap,u=n.flushClassList,a=0,f;for(;a<i;++a){f=r[a];if(!o[f]){o[f]=true;s.push(f);if(u){u.push(f);delete n.removedClasses[f]}}}return n},hasCls:function(e){return e in this.classMap},removeCls:function(n){var r=this,i=r.classList,s=r.classList=[],o=t(e(n)),u=i.length,a=r.classMap,f=r.removedClasses,l,c;for(l=0;l<u;++l){c=i[l];if(o[c]){if(f){if(a[c]){f[c]=true;Ext.Array.remove(r.flushClassList,c)}}delete a[c]}else{s.push(c)}}return r},setStyle:function(e,t){var n=this,r=n.style||(n.style={});if(typeof e=="string"){if(arguments.length===1){n.setStyle(Ext.Element.parseStyles(e))}else{r[e]=t}}else{Ext.apply(r,e)}return n},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(e){var t=this,n=t.flushClassList||t.classList,r=t.removedClasses,i;if(t.styleFn){i=Ext.apply({},t.styleFn());Ext.apply(i,t.style)}else{i=t.style}e[t.clsProp]=n.join(" ");if(i){e[t.styleProp]=t.styleIsText?Ext.DomHelper.generateStyles(i,null,true):i}if(r){r=Ext.Object.getKeys(r);if(r.length){e[t.removedProp]=r.join(" ")}}if(t.unselectableAttr){e.unselectable="on"}return e}}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",isLite:false,getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}});Ext.define("Ext.util.ElementContainer",{mixinId:"elementCt",config:{childEls:{$value:{},cached:true,lazy:true,merge:function(e,t,n,r){var i=t?Ext.Object.chain(t):{},s,o;if(e instanceof Array){for(s=e.length;s--;){o=e[s];if(!r||!(o in i)){if(typeof o==="string"){i[o]={name:o,itemId:o}}else{i[o.name]=o}}}}else if(e){if(e.constructor===Object){for(s in e){if(!r||!(s in i)){o=e[s];if(o===true){i[s]={itemId:s}}else if(typeof o==="string"){i[s]={itemId:o}}else{i[s]=o;if(!("itemId"in o)){o.itemId=s}}i[s].name=s}}}else{if(!r||!(e in i)){i[e]={name:e,itemId:e}}}}return i}}},destroy:function(){var e=this,t=e.getChildEls(),n,r;for(r in t){n=e[r];if(n){if(n.destroy){n.destroy()}e[r]=null}}},privates:{afterClassMixedIn:function(e){var t=e.prototype,n=t.childEls;if(n){delete t.childEls;e.getConfigurator().add({childEls:n})}},attachChildEls:function(e,t){var n=this,r=n.getChildEls(),i=t||n,s=i.id+"-",o=!i.frame,u,a,f,l,c,h,p;for(u in r){f=r[u];if(o&&f.frame){continue}c=f.select;if(c){h=e.select(c,true)}else if(!(c=f.selectNode)){if(!(p=f.id)){p=s+f.itemId;h=Ext.cache[p]}else{h=Ext.cache[p]||e.getById(p)}}else{h=e.selectNode(c,false)}if(h){if(h.isElement){h.component=i}else if(h.isComposite&&!h.isLite){a=h.elements;for(l=a.length;l--;){a[l].component=i}}}n[u]=h||null}}}});Ext.define("Ext.util.Renderable",{mixinId:"renderable",requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,statics:{makeRenderSetter:function(e,t){var n=e.name;return function(r){var i=this,s=i.renderConfigs||(i.renderConfigs={}),o=s[t];if(i._renderState>=t){(e.setter||e.getSetter()).call(i,r)}else{if(!o){s[t]=o={}}if(!(n in o)){o[n]=i[n]}i[n]=r}return i}},processRenderConfig:function(e,t,n){var r=this.prototype,i=this.getConfigurator(),s=Ext.util.Renderable,o=s.makeRenderSetter,u=e[t],a,f,l,c;for(l in u){f=Ext.Config.get(l);if(!r[c=f.names.set]){a=f.renderSetter||(f.renderSetter={});r[c]=a[n]||(a[n]=o(f,n))}}delete e[t];i.add(u)}},onClassMixedIn:function(e){var t=e.override,n=this.processRenderConfig,r=function(e){if(e.beforeRenderConfig){this.processRenderConfig(e,"beforeRenderConfig",1)}if(e.renderConfig){this.processRenderConfig(e,"renderConfig",3)}t.call(this,e)},i=function(e,t){e.override=r;e.processRenderConfig=n;if(t.beforeRenderConfig){e.processRenderConfig(t,"beforeRenderConfig",1)}if(t.renderConfig){e.processRenderConfig(t,"renderConfig",3)}};i(e,e.prototype);e.onExtended(i)},afterRender:function(){var e=this,t={},n=e.protoEl,r=e.el,i,s,o,u;e.finishRenderChildren();e._renderState=4;if(e.contentEl){s=Ext.baseCSSPrefix;o=s+"hidden-";u=Ext.get(e.contentEl);u.component=e;u.removeCls([s+"hidden",o+"display",o+"offsets"]);e.getContentTarget().appendChild(u.dom)}n.writeTo(t);i=t.removed;if(i){r.removeCls(i)}i=t.cls;if(i.length){r.addCls(i)}i=t.style;if(t.style){r.setStyle(i)}e.protoEl=null;if(!e.ownerCt){e.updateLayout()}if(!(e.x&&e.y)&&(e.pageX||e.pageY)){e.setPagePosition(e.pageX,e.pageY)}if(e.disableOnRender){e.onDisable()}else if(e.enableOnRender){e.onEnable()}if(Ext.enableAria){e.ariaApplyAfterRenderAttributes()}},afterFirstLayout:function(e,t){var n=this,r=n.x,i=n.y,s,o,u,a,f=n.defaultAlign,l=n.alignOffset;if(!n.ownerLayout){s=r!==undefined;o=i!==undefined}if(n.floating&&(!s||!o)){if(n.floatParent){u=n.floatParent.getTargetEl().getViewRegion();a=n.el.getAlignToXY(n.alignTarget||n.floatParent.getTargetEl(),f,l);u.x=a[0]-u.x;u.y=a[1]-u.y}else{a=n.el.getAlignToXY(n.alignTarget||n.container,f,l);u=n.container.translateXY(a[0],a[1])}r=s?r:u.x;i=o?i:u.y;s=o=true}if(s||o){n.setPosition(r,i)}n.onBoxReady(e,t)},beforeRender:function(){var e=this,t=e.floating,n=e.getComponentLayout(),r;e._renderState=1;e.initBindable();if(e.renderConfigs){e.flushRenderConfigs()}if(e.reference){e.publishState()}if(t){e.addCls(Ext.baseCSSPrefix+"layer");r=t.cls;if(r){e.addCls(r)}}e.frame=e.frame||e.alwaysFramed;if(!n.initialized){n.initLayout()}e.initOverflow();e.setUI(e.ui);if(e.disabled){e.disable(true)}},doApplyRenderTpl:function(e,t){var n=t.$comp,r;if(!n.rendered){r=n.initRenderTpl();r.applyOut(t.renderData,e)}},getElConfig:function(){var e=this,t=e.autoEl,n=e.getFrameInfo(),r={tag:"div",tpl:n?e.initFramingTpl(n.table):e.initRenderTpl()},i=e.protoEl,s;e.initStyles(i);i.writeTo(r);i.flush();if(Ext.isString(t)){r.tag=t}else{Ext.apply(r,t)}if(Ext.enableAria&&e.ariaRenderAttributesToElement){Ext.apply(r,e.ariaGetRenderAttributes())}r.id=e.id;if(r.tpl){if(n){r.tplData=s=e.getFrameRenderData();s.renderData=e.initRenderData()}else{r.tplData=e.initRenderData()}}return r},getInsertPosition:function(e){if(e!==undefined){if(Ext.isNumber(e)){e=this.container.dom.childNodes[e]}else{e=Ext.getDom(e)}}return e},getRenderTree:function(){var e=this,t=null;if(!e.hasListeners.beforerender||e.fireEvent("beforerender",e)!==false){e._renderState=1;e.beforeRender();e.rendering=true;e._renderState=2;t=e.getElConfig();if(e.el){t.id=e.$pid=Ext.id(null,e.el.identifiablePrefix)}}return t},initRenderData:function(){var e=this;return Ext.apply({$comp:e,id:e.id,ui:e.ui,uiCls:e.uiCls,baseCls:e.baseCls,componentCls:e.componentCls,frame:e.frame,renderScroller:e.touchScroll,scrollerCls:e.scrollerCls,role:e.ariaRole,childElCls:""},e.renderData)},onRender:function(e,t){var n=this,r=n.x,i=n.y,s=null,o=n.el,u,a;n.applyRenderSelectors();n.rendering=null;n.rendered=true;n._renderState=3;if(n.renderConfigs){n.flushRenderConfigs()}if(r!=null){s={x:r}}if(i!=null){(s=s||{}).y=i}if(!n.getFrameInfo()){u=n.width;a=n.height;if(typeof u==="number"){s=s||{};s.width=u}if(typeof a==="number"){s=s||{};s.height=a}}if(n.touchScroll===1){n.getOverflowEl().disableTouchScroll()}n.lastBox=o.lastBox=s},render:function(e,t){var n=this,r=n.el,i=n.ownerLayout,s,o,u;if(r&&!r.isElement){n.el=r=n.wrapPrimaryEl(r)}Ext.suspendLayouts();e=n.initContainer(e);u=n.getInsertPosition(t);if(!r){o=n.getRenderTree();if(i&&i.transformItemRenderTree){o=i.transformItemRenderTree(o)}if(o){if(u){r=Ext.DomHelper.insertBefore(u,o)}else{r=Ext.DomHelper.append(e,o)}n.wrapPrimaryEl(r);n.cacheRefEls(r)}}else{if(!n.hasListeners.beforerender||n.fireEvent("beforerender",n)!==false){n.beforeRender();n.needsRenderTpl=n.rendering=true;n._renderState=2;n.initStyles(r);if(n.allowDomMove!==false){if(u){e.dom.insertBefore(r.dom,u)}else{e.dom.appendChild(r.dom)}}}else{s=true}}if(r&&!s){n.finishRender(t)}Ext.resumeLayouts(!n.hidden&&!e.isDetachedBody)},ensureAttachedToBody:function(e){var t=this,n;while(t.ownerCt){t=t.ownerCt}if(t.container.isDetachedBody){t.container=n=Ext.getBody();n.appendChild(t.el.dom);if(e){t.updateLayout()}if(typeof t.x=="number"||typeof t.y=="number"){t.setPosition(t.x,t.y)}}},privates:{applyRenderSelectors:function(){var e=this,t=e.renderSelectors,n=e.el,r,i;e.attachChildEls(n);if(t){for(i in t){r=t[i];if(r){e[i]=n.selectNode(r,false)}}}},cacheRefEls:function(e){e=e||this.el;var t=Ext.cache,n=Ext.dom.Element,r=e.isElement?e.dom:e,i=r.querySelectorAll("[data-ref]"),s=i.length,o,u;for(u=0;u<s;u++){o=i[u];if(!t[o.id]){new n(o)}}},doAutoRender:function(){var e=this;if(!e.rendered){if(e.floating){e.render(e.renderTo||document.body)}else{e.render(Ext.isBoolean(e.autoRender)?Ext.getBody():e.autoRender)}}},doRenderContent:function(e,t){var n=t.$comp,r=n.data;if(n.html){Ext.DomHelper.generateMarkup(n.html,e);delete n.html}if(n.tpl){if(!n.tpl.isTemplate){n.tpl=new Ext.XTemplate(n.tpl)}if(r){n.data=r=r.isEntity?r.getData(true):r;n.tpl.applyOut(r,e)}}},doRenderFramingDockedItems:function(e,t,n){var r=t.$comp;if(!r.rendered&&r.doRenderDockedItems){t.renderData.$skipDockedItems=true;r.doRenderDockedItems.call(this,e,t,n)}},flushRenderConfigs:function(){var e=this,t=e.renderConfigs,n=e._renderState,r,i,s,o,u;if(t){for(i=0;i<=n;++i){r=t[i];if(r){t[i]=null;for(s in r){u=r[s];(o||(o={}))[s]=e[s];e[s]=u}}}if(o){e.setConfig(o)}}},finishRender:function(e){var t=this,n=Ext.cache,r,i,s,o,u,a,f;if(!t.el||t.$pid){if(t.container){f=n[t.id];a=f?f.dom:t.container.getById(t.id,true)}else{s=t.$pid||t.id;f=n[s];a=f?f.dom:Ext.getDom(s)}if(!t.el){t.wrapPrimaryEl(a)}else{delete t.$pid;if(!t.el.dom){t.wrapPrimaryEl(t.el)}a.parentNode.insertBefore(t.el.dom,a);r=a;a=t.el.dom;i=a.firstChild;while(r.firstChild){a.insertBefore(r.firstChild,i)}t.el.addCls(r.className);Ext.removeNode(r)}}else if(t.needsRenderTpl){o=t.initRenderTpl();if(o){u=t.initRenderData();o.insertFirst(t.getTargetEl(),u)}t.cacheRefEls()}t.el.component=t;if(!t.container){t.container=Ext.get(t.el.dom.parentNode)}if(t.ctCls){t.container.addCls(t.ctCls)}t.onRender(t.container,e);if(!t.overflowInited){t.initOverflow()}t.el.setVisibilityMode(Ext.Element[t.hideMode.toUpperCase()]);if(t.overCls){t.el.hover(t.addOverCls,t.removeOverCls,t)}if(t.hasListeners.render){t.fireEvent("render",t)}t.afterRender();if(t.hasListeners.afterrender){t.fireEvent("afterrender",t)}t.initEvents();if(t.hidden){t.el.hide()}},finishRenderChildren:function(){var e=this.getComponentLayout();e.finishRender()},getFrameRenderData:function(){var e=this,t=e.frameSize,n="";if(e._syncFrameHeight&&e.height){n="height:"+(e.height-t.height)+"px"}return{$comp:e,fgid:e.id+"-frame",ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,baseCls:e.baseCls,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,mcStyle:n,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var e=this,t=e.frameInfoCache,n=e.getFramingInfoCls()+"-frameInfo",r=t[n],i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;if(r==null){i=Ext.fly(e.getStyleProxy(n),"frame-style-el");s=i.getStyle("font-family");if(s){s=s.split("-");o=parseInt(s[1],10);u=parseInt(s[2],10);a=parseInt(s[3],10);f=parseInt(s[4],10);c=parseInt(s[5],10);h=parseInt(s[6],10);p=parseInt(s[7],10);d=parseInt(s[8],10);v=parseInt(s[9],10);m=parseInt(s[10],10);g=parseInt(s[11],10);y=parseInt(s[12],10);r={table:s[0].charAt(0)==="t",vertical:s[0].charAt(1)==="v",top:o,right:u,bottom:a,left:f,width:f+u,height:o+a,border:{top:c,right:h,bottom:p,left:d,width:d+h,height:c+p},padding:{top:v,right:m,bottom:g,left:y,width:y+m,height:v+g}}}else{r=false}if(e.frame===true&&!r){Ext.log.error("You have set frame: true explicity on this component ("+e.getXType()+") and it "+"does not have any framing defined in the CSS template. In this case IE cannot figure out "+"what sizes to use and thus framing on this component will be disabled.")}t[n]=r}e.frame=!!r;e.frameSize=r;return r},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({"data-sticky":true,role:"presentation",style:{position:"absolute",top:"-10000px"}},null,true));t.className=e;return t},getFrameTpl:function(e){return this.getTpl(e?"frameTableTpl":"frameTpl")},initContainer:function(e){var t=this;if(!e&&t.el){e=t.el.dom.parentNode;t.allowDomMove=false}t.container=e.dom?e:Ext.get(e);return t.container},initOverflow:function(){var e=this,t=e.getOverflowStyle(),n=e.scrollFlags,r=e.getOverflowEl(),i=e.touchScroll=(n.y||n.x)&&Ext.supports.touchScroll;if(!r||!r.isElement){return}e.overflowInited=true;if(i===2){r.setStyle("overflow","hidden")}else{r.setStyle(t)}},doRenderPadding:function(e,t){var n=t.$comp;if(n.touchScroll){e.push("padding:",n.unitizeBox(n.padding))}},initFramingTpl:function(e){var t=this.getFrameTpl(e);if(t&&!t.applyRenderTpl){this.setupFramingTpl(t)}return t},initRenderTpl:function(){var e=this.getTpl("renderTpl");if(e&&!e.renderContent){this.setupRenderTpl(e)}return e},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl;e.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent;e.renderPadding=this.doRenderPadding},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var e=this,t=e.el.dom,n=e.frameTable,r=e.frameBody,i=r.dom,s=e.getFrameInfo(),o,u,a,f,l,c,h,p,d,v,m;a=document.createElement("div");c=e.getFrameRenderData();p=e.getFrameTpl(s.table);p.insertFirst(a,c);m=a.querySelectorAll("[data-ref]");v=a.querySelector('[data-ref="frameBody"]');for(l=i;l.parentNode!==t;){l=l.parentNode}while(a.firstChild){t.insertBefore(a.firstChild,l)}v.parentNode.replaceChild(i,v);i.className=v.className;r.setSize();o=e.getChildEls();if(n){n.destroy();e.frameTable=null}for(u in o){if(o[u].frame){f=e[u];if(f&&f!==r){f.destroy();e[u]=null}}}for(d=m.length;d--;){u=(h=m[d]).getAttribute("data-ref");if(u!=="frameBody"){e[u]=new Ext.dom.Element(h)}}},frameInfoCache:{}}});Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(e){var t=this;Ext.apply(t,e);t.state={};t.mixins.observable.constructor.call(t)},get:function(e,t){return typeof this.state[e]=="undefined"?t:this.state[e]},clear:function(e){var t=this;delete t.state[e];t.fireEvent("statechange",t,e,null)},set:function(e,t){var n=this;n.state[e]=t;n.fireEvent("statechange",n,e,t)},decodeValue:function(e){var t=this,n=/^(a|n|d|b|s|o|e)\:(.*)$/,r=n.exec(unescape(e)),i,s,o,u,a,f;if(!r||!r[1]){return}s=r[1];e=r[2];switch(s){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return e=="1";case"a":i=[];if(e!=""){u=e.split("^");a=u.length;for(f=0;f<a;f++){e=u[f];i.push(t.decodeValue(e))}}return i;case"o":i={};if(e!=""){u=e.split("^");a=u.length;for(f=0;f<a;f++){e=u[f];o=e.split("=");i[o[0]]=t.decodeValue(o[1])}}return i;default:return e}},encodeValue:function(e){var t="",n=0,r,i,s;if(e==null){return"e:1"}else if(typeof e=="number"){r="n:"+e}else if(typeof e=="boolean"){r="b:"+(e?"1":"0")}else if(Ext.isDate(e)){r="d:"+e.toUTCString()}else if(Ext.isArray(e)){for(i=e.length;n<i;n++){t+=this.encodeValue(e[n]);if(n!=i-1){t+="^"}}r="a:"+t}else if(typeof e=="object"){for(s in e){if(typeof e[s]!="function"&&e[s]!==undefined){t+=s+"="+this.encodeValue(e[s])+"^"}}r="o:"+t.substring(0,t.length-1)}else{r="s:"+e}return escape(r)}});Ext.define("Ext.state.Manager",{singleton:true,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixinId:"state",requires:["Ext.state.Manager"],stateful:false,saveDelay:100,constructor:function(){var e=this;if(!e.stateEvents){e.stateEvents=[]}if(e.stateful!==false){e.addStateEvents(e.stateEvents);e.initState()}},addStateEvents:function(e){var t=this,n,r,i,s;if(t.stateful&&t.getStateId()){s=typeof e==="string"?arguments:e;i=t.stateEventsByName||(t.stateEventsByName={});for(n=s.length;n--;){r=s[n];if(r&&!i[r]){i[r]=1;t.on(r,t.onStateChange,t)}}}},onStateChange:function(){var e=this,t=e.saveDelay,n,r;if(!e.stateful){return}if(t){if(!e.stateTask){n=Ext.state.Stateful;r=n.runner||(n.runner=new Ext.util.TaskRunner);e.stateTask=r.newTask({run:e.saveState,scope:e,interval:t,repeat:1,fireIdleEvent:false})}e.stateTask.start()}else{e.saveState()}},saveState:function(){var e=this,t=e.stateful&&e.getStateId(),n=e.hasListeners,r,i,s,o,u,a;if(t){u=e.getState()||{};r=e.getPlugins()||[];for(s=0,o=r.length;s<o;s++){i=r[s];if(i&&i.getState){a=i.getState(u);if(a&&!u[i.ptype]){u[i.ptype]=a}}}if(!n.beforestatesave||e.fireEvent("beforestatesave",e,u)!==false){Ext.state.Manager.set(t,u);if(n.statesave){e.fireEvent("statesave",e,u)}}}},getState:function(){return null},applyState:function(e){if(e){Ext.apply(this,e)}},getStateId:function(){var e=this;return e.stateId||(e.autoGenId?null:e.id)},initState:function(){var e=this,t=e.stateful&&e.getStateId(),n=e.hasListeners,r,i,s,o,u,a,f;if(t){i=Ext.state.Manager.get(t);if(i){r=Ext.apply({},i);if(!n.beforestaterestore||e.fireEvent("beforestaterestore",e,i)!==false){u=e.getPlugins()||[];for(s=0,o=u.length;s<o;s++){a=u[s];if(a){f=a.ptype;if(a.applyState){a.applyState(r[f],i)}delete r[f]}}e.applyState(r);if(n.staterestore){e.fireEvent("staterestore",e,i)}}}}},savePropToState:function(e,t,n){var r=this,i=r[e],s=r.initialConfig;if(r.hasOwnProperty(e)){if(!s||s[e]!==i){if(t){t[n||e]=i}return true}}return false},savePropsToState:function(e,t){var n=this,r,i;if(typeof e==="string"){n.savePropToState(e,t)}else{for(r=0,i=e.length;r<i;++r){n.savePropToState(e[r],t)}}return t},destroy:function(){var e=this,t=e.stateTask;if(t){t.destroy();e.stateTask=null}e.clearListeners()}});Ext.define("Ext.util.Floating",{mixinId:"floating",uses:["Ext.Layer","Ext.ZIndexManager"],focusOnToFront:true,shadow:"sides",constrain:false,config:{activeCounter:0,alwaysOnTop:false},constructor:function(e){var t=this;t.el=new Ext.dom.Layer(Ext.apply({preventSync:true,hideMode:t.hideMode,shadow:typeof t.shadow!="undefined"?t.shadow:"sides",shadowOffset:t.shadowOffset,constrain:false,fixed:t.fixed,shim:t.shim===false?false:undefined},t.floating),e);if(t.modal&&!Ext.enableFocusManager){t.mon(t.el,{keydown:t.onKeyDown,scope:t})}t.mon(t.el,{mousedown:t.onMouseDown,scope:t,capture:true});t.floating=true;t.registerWithOwnerCt();t.initHierarchyEvents()},initFloatConstrain:function(){var e=this,t=e.floatParent;if((e.constrain||e.constrainHeader)&&!e.constrainTo){e.constrainTo=t?t.getTargetEl():e.container}},initHierarchyEvents:function(){var e=this,t=this.syncHidden;if(!e.hasHierarchyEventListeners){e.mon(Ext.GlobalEvents,{hide:t,collapse:t,show:t,expand:t,added:t,scope:e});e.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var e=this,t=e.ownerCt,n=e.zIndexParent;if(n){n.unregisterFloatingItem(e)}n=e.zIndexParent=e.up("[floating]");e.floatParent=t||n;e.initFloatConstrain();delete e.ownerCt;if(n){n.registerFloatingItem(e)}else{Ext.WindowManager.register(e)}},onKeyDown:function(e){var t=this,n,r,i,s;if(e.getKey()===e.TAB){n=e.shiftKey;r=t.query(":focusable");if(r.length){i=r[0];s=r[r.length-1];if(!n&&s.hasFocus){e.stopEvent();i.focus()}else if(n&&i.hasFocus){e.stopEvent();s.focus()}}}},onMouseDown:function(e){var t=this,n=t.focusTask,r=e.parentEvent,i=r&&r.type==="touchstart",s,o;if(t.floating&&(!n||!n.id)){s=e.target;o=t.el.dom;while(!i&&s&&s!==o){if(Ext.fly(s).isFocusable()){i=true}s=s.parentNode}t.toFront(i)}},syncShadow:function(){if(this.floating){this.el.sync(true)}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var e=this,t=e.hidden||!e.rendered,n=e.hierarchicallyHidden=e.isHierarchicallyHidden(),r=e.pendingShow;if(t!==n){if(n){e.hide();e.pendingShow=true}else if(r){delete e.pendingShow;if(r.length){e.show.apply(e,r)}else{e.show()}}}},setZIndex:function(e){var t=this;t.el.setZIndex(e);e+=10;if(t.floatingDescendants){e=Math.floor(t.floatingDescendants.setBase(e)/100)*100+1e4}return e},doConstrain:function(e){var t=this,n=t.calculateConstrainedPosition(e,null,true);if(n){t.setPosition(n)}},updateActiveCounter:function(e){var t=this.zIndexParent;if(t&&this.bringParentToFront!==false){t.setActiveCounter(++Ext.ZIndexManager.activeCounter)}if(t=this.zIndexManager){t.onComponentUpdate(this)}},updateAlwaysOnTop:function(e){var t=this.zIndexManager;if(t){t.onComponentUpdate(this)}},toFront:function(e){var t=this;if(t.zIndexManager.bringToFront(t,e||!t.focusOnToFront)){if(t.hasListeners.tofront){t.fireEvent("tofront",t,t.el.getZIndex())}}return t},setActive:function(e,t,n){var r=this;if(e){if(r.el.shadow&&!r.maximized){r.el.enableShadow(true)}if(n){r.previousFocus=Ext.Element.getActiveElement();r.focus(false,true)}else{r.previousFocus=null}r.fireEvent("activate",r)}else{if(r.isWindow&&t&&t.isWindow&&r.hideShadowOnDeactivate){r.el.disableShadow()}r.fireEvent("deactivate",r);if(r.previousFocus&&(!Ext.isIE8||Ext.fly(r.previousFocus).isFocusable())){r.previousFocus.focus();r.previousFocus=null}}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var e=this,t;if(e.isVisible()){t=e.getAlignToXY(e.container,"c-c");e.setPagePosition(t)}else{e.needsCenter=true}return e},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter;if(this.toFrontOnShow){this.toFront()}},fitContainer:function(e){var t=this,n=t.floatParent,r=n?n.getTargetEl():t.container,i=r.getViewSize(),s=n||r.dom!==document.body?[0,0]:r.getXY();i.x=s[0];i.y=s[1];t.setBox(i,e)}});Ext.define("Ext.util.Focusable",{mixinId:"focusable",focusable:false,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.addFocusListener()},destroyFocusable:function(){Ext.destroy(this.focusListeners);delete this.focusTask},enableFocusable:Ext.emptyFn,disableFocusable:function(){var e=this,t=e.focusCls,n=e.getFocusEl();if(t&&n){n.removeCls(e.removeClsWithUI(t,true))}},isFocusable:function(){var e=this,t;if(!e.focusable){return false}t=e.getFocusEl();if(t&&e.canFocus()){return t.isFocusable(true)}},canFocus:function(){var e=this;return e.focusable&&e.rendered&&!e.destroying&&!e.isDestroyed&&!e.disabled&&e.isVisible(true)},addFocusListener:function(){var e=this,t=e.tabIndex,n=e.getFocusEl(),r;if(n){if(n.isComponent){return n.addFocusListener()}r=n.needsTabIndex()&&!n.dom.hasAttribute("tabindex");if(!e.focusListenerAdded&&(!r||t!=null)){if(r&&!n.dom.getAttribute("tabIndex")){n.dom.setAttribute("tabIndex",t)}e.focusListeners=n.on({focus:e.onFocus,blur:e.onBlur,scope:e,destroyable:true});n.dom.setAttribute(Ext.Component.componentIdAttribute,e.id);e.focusListenerAdded=true}}},focus:function(e,t,n,r){var i=this,s,o,u;if(!i.focusable||i.isDestroyed||i.destroying){return}if(t){i.getFocusTask().delay(Ext.isNumber(t)?t:10,i.focus,i,[e,false,n,r]);return i}i.cancelFocus();if(i.canFocus()&&(s=i.getFocusEl())){if(s.isComponent){return s.focus(e,t,n,r)}o=s.dom;if(o){if(s.needsTabIndex()&&!o.hasAttribute("tabindex")){o.tabIndex=-1}if(i.floating){u=i.container.dom.scrollTop}s.focus();if(e){if(Ext.isArray(e)){if(i.selectText){i.selectText.apply(i,e)}}else{o.select()}}Ext.callback(n,r)}if(i.floating){if(i!==i.zIndexManager.getActive()){i.toFront(true)}if(u!==undefined){i.container.dom.scrollTop=u}}}return i},cancelFocus:function(){var e=this.getFocusTask();if(e){e.cancel()}},beforeBlur:Ext.emptyFn,onBlur:function(e){var t=this,n=t.focusableContainer,r=t.focusCls,i;if(!t.focusable||t.destroying){return}t.beforeBlur(e);if(n){n.beforeFocusableChildBlur(t,e)}i=t.getFocusClsEl();if(r&&i){i.removeCls(t.removeClsWithUI(r,true))}if(t.validateOnBlur){t.validate()}t.hasFocus=false;t.fireEvent("blur",t,e);t.postBlur(e);if(n){n.afterFocusableChildBlur(t,e)}},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(e){var t=this,n=t.focusableContainer,r=t.focusCls,i;if(!t.focusable){return}if(t.canFocus()){t.beforeFocus(e);if(n){n.beforeFocusableChildFocus(t,e)}i=t.getFocusClsEl();if(r&&i){i.addCls(t.addClsWithUI(r,true))}if(!t.hasFocus){t.hasFocus=true;t.fireEvent("focus",t,e)}t.postFocus(e);if(n){n.afterFocusableChildFocus(t,e)}}},postFocus:Ext.emptyFn,getTabIndex:function(){var e=this,t,n;if(!e.focusable){return}t=e.getFocusEl();if(t){n=t.isComponent?t.getTabIndex():t.getAttribute("tabindex");e.tabIndex=n}else{n=e.tabIndex}return n},setTabIndex:function(e){var t=this,n;if(!t.focusable){return}t.tabIndex=e;n=t.getFocusEl();if(n){if(n.isComponent){n.setTabIndex(e)}else{n.set({tabindex:e})}}},privates:{privacy:"framework",getFocusEl:Ext.privateFn,getFocusClsEl:function(){return this.getFocusEl()},getFocusTask:function(){if(!this.focusTask){this.focusTask=Ext.focusTask}return this.focusTask},blur:function(){var e=this,t;if(!e.focusable||!e.rendered){return}t=e.getFocusEl();if(t){e.blurring=true;t.blur();delete e.blurring}return e},disableTabbing:function(){var e=this,t=e.el,n;if(!e.focusable){return}n=e.getFocusEl();if(t){t.saveChildrenTabbableState()}if(n){n.saveTabbableState()}},enableTabbing:function(){var e=this,t=e.el,n;if(!e.focusable){return}n=e.getFocusEl();if(n){n.restoreTabbableState()}if(t){t.restoreChildrenTabbableState()}}}},function(){if(!Ext.focusTask){Ext.focusTask=new Ext.util.DelayedTask}});Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement","Ext.dom.CompositeElement"],mixins:["Ext.mixin.Inheritable","Ext.util.Positionable","Ext.util.Observable","Ext.mixin.Bindable","Ext.util.Animate","Ext.util.ElementContainer","Ext.util.Renderable","Ext.state.Stateful","Ext.util.Floating","Ext.util.Focusable"],uses:["Ext.overrides.*","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentLoader","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager","Ext.scroll.Manager","Ext.util.DelayedTask","Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,componentIdAttribute:"componentId",cancelLayout:function(e,t){var n=this.runningLayoutContext||this.pendingLayouts;if(n){n.cancelComponent(e,false,t)}},flushLayouts:function(){var e=this,t=e.pendingLayouts;if(t&&t.invalidQueue.length){e.pendingLayouts=null;e.runningLayoutContext=t;Ext.override(t,{runComplete:function(){e.runningLayoutContext=null;var t=this.callParent();if(Ext.GlobalEvents.hasListeners.afterlayout){Ext.GlobalEvents.fireEvent("afterlayout")}return t}});t.run()}},resumeLayouts:function(e){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(e){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var n=this,r=n.runningLayoutContext,i;if(r){r.queueInvalidate(e)}else{i=n.pendingLayouts||(n.pendingLayouts=new Ext.layout.Context);i.queueInvalidate(e);if(!t&&!n.layoutSuspendCount&&!e.isLayoutSuspended()){n.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null},defaultBindProperty:"html",alignTarget:null,autoRender:false,autoShow:false,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:true},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:function(){var e=["input","select","textarea","optgroup","option","table"];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){e.push("p")}return new RegExp("^(?:"+e.join("|")+")$","i")}(),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:false,floating:false,hidden:false,hideMode:"display",maskElement:null,renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">',"</tpl>","{%this.renderContent(out,values)%}",'<tpl if="renderScroller"></div></tpl>'],resizeHandles:"all",shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:"overwrite",ui:"default",uiCls:[],weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:false,frameSize:null,horizontalPosProp:"left",isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,offsetsCls:Ext.baseCSSPrefix+"hidden-offsets",rendered:false,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+"touch-scroller",scrollerSelector:"."+Ext.baseCSSPrefix+"touch-scroller",validIdRe:Ext.validIdRe,constructor:function(e){var t=this,n,r,i,s;e=e||{};if(e.initialConfig){if(e.isAction){t.baseAction=e}e=e.initialConfig}else if(e.tagName||e.dom||Ext.isString(e)){e={applyTo:e,id:e.id||e}}t.initialConfig=e;t.getId();t.protoEl=new Ext.util.ProtoElement;t.initConfig(e);i=t.xhooks;if(i){delete t.xhooks;Ext.override(t,i)}t.mixins.elementCt.constructor.call(t);if(!t.validIdRe.test(t.id)){Ext.Error.raise('Invalid component "id": "'+t.id+'"')}if(!t.validIdRe.test(t.itemId)){Ext.Error.raise('Invalid component "itemId": "'+t.itemId+'"')}t.setupProtoEl();if(t.cls){t.initialCls=t.cls;t.protoEl.addCls(t.cls)}if(t.style){t.initialStyle=t.style;t.protoEl.setStyle(t.style)}t.renderData=t.renderData||{};t.initComponent();if(!t.preventRegister){Ext.ComponentManager.register(t)}t.mixins.state.constructor.call(t);t.addStateEvents("resize");s=t.getController();if(s){s.init(t)}if(t.plugins){for(n=0,r=t.plugins.length;n<r;n++){t.plugins[n]=t.initPlugin(t.plugins[n])}}t.loader=t.getLoader();if(t.renderTo){t.render(t.renderTo)}if(t.autoShow&&!t.initOwnerCt){t.show()}if(Ext.isDefined(t.disabledClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls.")}t.disabledCls=t.disabledClass;delete t.disabledClass}if(t.baseAction){t.baseAction.addComponent(t)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;n.addCls.apply(n,arguments);return t},addClsWithUI:function(e,t){var n=this,r=[],i=0,s=n.uiCls=Ext.Array.clone(n.uiCls),o=n.activeUI,u,a;if(typeof e==="string"){e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)}u=e.length;for(;i<u;i++){a=e[i];if(a&&!n.hasUICls(a)){s.push(a);if(o){r=r.concat(n.addUIClsToElement(a))}}}if(t!==true&&o){n.addCls(r)}return r},afterComponentLayout:function(e,t,n,r){var i=this;if(++i.componentLayoutCounter===1){i.afterFirstLayout(e,t)}if(e!==n||t!==r){i.onResize(e,t,n,r)}if(this.floating){this.onAfterFloatLayout()}},addListener:function(e,t,n,r){var i=this,s,o;if(Ext.isString(e)&&(Ext.isObject(t)||r&&r.element)){if(r.element){s=t;t={};t[e]=s;e=r.element;if(n){t.scope=n}for(o in r){if(r.hasOwnProperty(o)){if(i.eventOptionsRe.test(o)){t[o]=r[o]}}}}if(i[e]&&i[e].on){i.mon(i[e],t)}else{i.afterRenderEvents=i.afterRenderEvents||{};if(!i.afterRenderEvents[e]){i.afterRenderEvents[e]=[]}i.afterRenderEvents[e].push(t)}return}return i.mixins.observable.addListener.apply(i,arguments)},addPlugin:function(e){var t=this;e=t.constructPlugin(e);if(t.plugins){t.plugins.push(e)}else{t.plugins=[e]}if(t.pluginsInitialized){t.initPlugin(e)}return e},addPropertyToState:function(e,t,n){var r=this,i=arguments.length;if(i===3||r.hasOwnProperty(t)){if(i<3){n=r[t]}if(n!==r.initialConfig[t]){(e||(e={}))[t]=n}}return e},addUIClsToElement:function(e){var t=this,n=t.baseCls+"-"+t.ui+"-"+e,r=[Ext.baseCSSPrefix+e,t.baseCls+"-"+e,n],i,s,o,u;if(t.rendered&&t.frame&&!Ext.supports.CSS3BorderRadius){n+="-";i=t.getChildEls();for(s in i){u=i[s].frame;if(u&&u!==true){o=t[s];if(o){o.addCls(n+u)}}}}return r},removeUIClsFromElement:function(e){var t=this,n=t.baseCls+"-"+t.ui+"-"+e,r=[Ext.baseCSSPrefix+e,t.baseCls+"-"+e,n],i,s,o,u;if(t.rendered&&t.frame&&!Ext.supports.CSS3BorderRadius){n+="-";i=t.getChildEls();for(s in i){u=i[s].frame;if(u&&u!==true){o=t[s];if(o){o.removeCls(n+u)}}}}return r},adjustPosition:function(e,t){var n=this,r;if(n.isContainedFloater()){r=n.floatParent.getTargetEl().getViewRegion();e+=r.left;t+=r.top}return{x:e,y:t}},afterHide:function(e,t){var n=this,r=n.focusableContainer;n.hiddenByLayout=null;if(this.ownerLayout){this.updateLayout({isRoot:false})}Ext.callback(e,t||n);n.fireEvent("hide",n);n.fireHierarchyEvent("hide");if(r){r.onFocusableChildHide(n)}},afterSetPosition:function(e,t){var n=this;n.onPosition(e,t);if(n.hasListeners.move){n.fireEvent("move",n,e,t)}},afterShow:function(e,t,n){var r=this,i=r.el,s,o,u;e=r.getAnimateTarget(e);if(!r.ghost){e=null}if(e){o={x:i.getX(),y:i.getY(),width:i.dom.offsetWidth,height:i.dom.offsetHeight};s={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight};i.addCls(r.offsetsCls);u=r.ghost();u.el.stopAnimation();u.setX(-1e4);r.ghostBox=o;u.el.animate({from:s,to:o,listeners:{afteranimate:function(){delete u.componentLayout.lastComponentSize;r.unghost();delete r.ghostBox;i.removeCls(r.offsetsCls);r.onShowComplete(t,n)}}})}else{r.onShowComplete(t,n)}r.fireHierarchyEvent("show")},animate:function(e){var t=this,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;e=e||{};o=e.to||{};if(Ext.fx.Manager.hasFxBlock(t.id)){return t}n=Ext.isDefined(o.width);if(n){s=Ext.Number.constrain(o.width,t.minWidth,t.maxWidth)}r=Ext.isDefined(o.height);if(r){i=Ext.Number.constrain(o.height,t.minHeight,t.maxHeight)}if(!e.dynamic&&(n||r)){f=(e.from?e.from.width:undefined)||t.getWidth();l=f;c=(e.from?e.from.height:undefined)||t.getHeight();h=c;p=false;if(r&&i>c){h=i;p=true}if(n&&s>f){l=s;p=true}if(r||n){g=t.el.getStyle("overflow");if(g!=="hidden"){t.el.setStyle("overflow","hidden")}}if(p){u=!Ext.isNumber(t.width);a=!Ext.isNumber(t.height);t.setSize(l,h);t.el.setSize(f,c);if(u){delete t.width}if(a){delete t.height}}if(n){o.width=s}if(r){o.height=i}}d=t.constrain;v=t.constrainHeader;if(d||v){t.constrain=t.constrainHeader=false;m=e.callback;e.callback=function(){t.constrain=d;t.constrainHeader=v;if(m){m.call(e.scope||t,arguments)}if(g!=="hidden"){t.el.setStyle("overflow",g)}}}return t.mixins.animate.animate.apply(t,arguments)},beforeComponentLayout:function(){return true},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(e,t,n){var r=this,i=null,s,o,u,a;if(e){if(Ext.isNumber(s=e[0])){n=t;t=e[1];e=s}else if((s=e.x)!==undefined){n=t;t=e.y;e=s}}if(r.constrain||r.constrainHeader){i=r.calculateConstrainedPosition(null,[e,t],true);if(i){e=i[0];t=i[1]}}o=e!==undefined;u=t!==undefined;if(o||u){r.x=e;r.y=t;a=r.adjustPosition(e,t);i={x:a.x,y:a.y,anim:n,hasX:o,hasY:u}}return i},beforeShow:Ext.emptyFn,bubble:function(e,t,n){var r=this;while(r){if(e.apply(t||r,n||[r])===false){break}r=r.getBubbleTarget()}return this},cloneConfig:function(e){e=e||{};var t=e.id||Ext.id(),n=Ext.applyIf(e,this.initialConfig),r;n.id=t;r=Ext.getClass(this);return new r(n)},destroy:function(){var e=this,t=e.renderSelectors,n=e.getConfig("viewModel",true),r=e.getConfig("session",true),i,s,o;if(!e.isDestroyed){if(!e.hasListeners.beforedestroy||e.fireEvent("beforedestroy",e)!==false){e.destroying=true;s=e.floatParent||e.ownerCt;if(e.floating){delete e.floatParent;if(e.zIndexManager){e.zIndexManager.unregister(e);e.zIndexManager=null}}e.removeBindings();e.beforeDestroy();if(n&&n.isViewModel){n.destroy();e.viewModel=null}if(r&&r.isSession){if(r.getAutoDestroy()){r.destroy()}e.session=null}if(s&&s.remove){s.remove(e,false)}e.stopAnimation();e.onDestroy();Ext.destroy(e.plugins);e.componentLayout=null;if(e.hasListeners.destroy){e.fireEvent("destroy",e)}if(!e.preventRegister){Ext.ComponentManager.unregister(e)}e.mixins.state.destroy.call(e);e.clearListeners();if(e.rendered){if(!e.preserveElOnDestroy){e.el.destroy()}e.mixins.elementCt.destroy.call(e);if(t){for(i in t){if(t.hasOwnProperty(i)){o=e[i];if(o){delete e[i];o.destroy()}}}}e.data=e.el=e.frameBody=e.rendered=null}e.destroying=false;e.isDestroyed=true}}},disable:function(e){var t=this,n=t.focusableContainer;t.enableOnRender=false;t.addCls(t.disabledCls);if(t.rendered){t.onDisable()}else{t.disableOnRender=true}t.disabled=true;if(e!==true){delete t.resetDisable;t.fireEvent("disable",t)}if(n){n.onFocusableChildDisable(t)}return t},enable:function(e){var t=this,n=t.focusableContainer;t.disableOnRender=false;t.removeCls(t.disabledCls);if(t.rendered){t.onEnable()}else{t.enableOnRender=true}t.disabled=false;delete t.resetDisable;if(e!==true){t.fireEvent("enable",t)}if(n){n.onFocusableChildEnable(t)}return t},findParentBy:function(e){var t;for(t=this.getRefOwner();t&&!e(t,this);t=t.getRefOwner()){}return t||null},findParentByType:function(e){return Ext.isFunction(e)?this.findParentBy(function(t){return t.constructor===e}):this.up(e)},findPlugin:function(e){var t,n=this.plugins,r=n&&n.length;for(t=0;t<r;t++){if(n[t].ptype===e){return n[t]}}},getAnimateTarget:function(e){e=e||this.animateTarget;if(e){e=e.isComponent?e.getEl():Ext.get(e)}return e||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var e=this;if(!e.componentLayout||!e.componentLayout.isLayout){e.setComponentLayout(Ext.layout.Layout.create(e.componentLayout,"autocomponent"))}return e.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(e){var t=this,n=t.componentLayout;if(t.hidden){e.hidden=true}if(t.collapseImmune){e.collapseImmune=true}if(t.modelValidation!==undefined){e.modelValidation=t.modelValidation}t.mixins.bindable.initInheritedState.call(t,e);if(n&&n.initInheritedState){n.initInheritedState(e)}},getId:function(){var e=this,t;if(!(e.id||(e.id=e.initialConfig.id))){t=e.getXType();if(t){t=t.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{t=Ext.name.toLowerCase()+"-comp"}e.id=t+"-"+e.getAutoId()}return e.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var e=this,t=e.loader;if(t){if(!t.isLoader){e.loader=new Ext.ComponentLoader(Ext.apply({target:e},t))}else{t.setTarget(e)}return e.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(e){var t,n=this.plugins,r=n&&n.length;for(t=0;t<r;t++){if(n[t].pluginId===e){return n[t]}}return null},getPosition:function(e){var t=this,n,r=t.isContainedFloater(),i;if(e===true&&!r){return[t.getLocalX(),t.getLocalY()]}n=t.getXY();if(e===true&&r){i=t.floatParent.getTargetEl().getViewRegion();n[0]-=i.left;n[1]-=i.top}return n},getScrollX:function(){var e=this,t=e.scrollManager;return t?t.getPosition().x:e.getScrollLeft()},getScrollY:function(){var e=this,t=e.scrollManager;return t?t.getPosition().y:e.getOverflowEl().getScrollTop()},getSize:function(e){return this.el.getSize(e)},getSizeModel:function(e){var t=this,n=Ext.layout.SizeModel,r=t.componentLayout.ownerContext,i=t.width,s=t.height,o,u,a,f,l,c,h,p,d,v,m=t.floating||t.floated;if(r){v=r.widthModel;l=r.heightModel}if(!v||!l){a=(o=typeof i)=="number";f=(u=typeof s)=="number";d=m||!(c=t.ownerLayout);if(d){h=Ext.layout.Layout.prototype.autoSizePolicy;p=m?3:t.shrinkWrap;if(a){v=n.configured}if(f){l=n.configured}}else{h=c.getItemSizePolicy(t,e);p=c.isItemShrinkWrap(t)}if(r){r.ownerSizePolicy=h}p=p===true?3:p||0;if(d&&p){if(i&&o=="string"){p&=2}if(s&&u=="string"){p&=1}}if(p!==3){if(!e){e=t.ownerCt&&t.ownerCt.getSizeModel()}if(e){p|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0)}}if(!v){if(!h.setsWidth){if(a){v=n.configured}else{v=p&1?n.shrinkWrap:n.natural}}else if(h.readsWidth){if(a){v=n.calculatedFromConfigured}else{v=p&1?n.calculatedFromShrinkWrap:n.calculatedFromNatural}}else{v=n.calculated}}if(!l){if(!h.setsHeight){if(f){l=n.configured}else{l=p&2?n.shrinkWrap:n.natural}}else if(h.readsHeight){if(f){l=n.calculatedFromConfigured}else{l=p&2?n.calculatedFromShrinkWrap:n.calculatedFromNatural}}else{l=n.calculated}}}return v.pairsByHeightOrdinal[l.ordinal]},getState:function(){var e=this,t=null,n=e.getSizeModel();if(n.width.configured){t=e.addPropertyToState(t,"width")}if(n.height.configured){t=e.addPropertyToState(t,"height")}return t},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var e=this.self,t,n,r;if(!e.xtypes){t=[];n=this;while(n){r=n.xtypes;if(r!==undefined){t.unshift.apply(t,r)}n=n.superclass}e.xtypeChain=t;e.xtypes=t.join("/")}return e.xtypes},hasCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.hasCls.apply(n,arguments)},hasUICls:function(e){var t=this,n=t.uiCls||[];return Ext.Array.contains(n,e)},hide:function(e,t,n){var r=this,i;if(r.pendingShow){delete r.pendingShow}if(!(r.rendered&&!r.isVisible())){i=r.fireEvent("beforehide",r)!==false;if(r.hierarchicallyHidden||i){r.hidden=true;r.getInherited().hidden=true;if(r.rendered){r.onHide.apply(r,arguments)}}}return r},initComponent:function(){var e=this,t=e.width,n=e.height;if(e.plugins&&!e.plugins.processed){e.plugins=e.constructPlugins()}e.pluginsInitialized=true;if(t!=null||n!=null){e.setSize(t,n)}if(e.listeners){e.on(e.listeners);e.listeners=null}if(e.focusable){e.initFocusable()}},initEvents:function(){var e=this,t=e.afterRenderEvents,n,r,i,s,o;if(t){for(i in t){r=e[i];if(r&&r.on){n=t[i];for(s=0,o=n.length;s<o;++s){e.mon(r,n[s])}}}}if(e.focusable){e.initFocusableEvents()}},is:function(e){return Ext.ComponentQuery.is(this,e)},isDescendantOf:function(e){return!!this.findParentBy(function(t){return t===e})},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var e=this,t=false,n,r;for(;n=e.ownerCt||e.floatParent;e=n){r=n.getInherited();if(r.hidden){t=true;break}if(e.getInherited().collapseImmune){if(n.collapsed&&!e.collapseImmune){t=true;break}}else{t=!!r.collapsed;break}}return t},isLayoutRoot:function(){var e=this,t=e.ownerLayout;if(!t||e._isLayoutRoot||e.floating){return true}return t.isItemLayoutRoot(e)},isLayoutSuspended:function(){var e=this,t;while(e){if(e.layoutSuspendCount||e.suspendLayout){return true}t=e.ownerLayout;if(!t){break}e=t.owner}return false},isVisible:function(e){var t=this,n;if(t.hidden||!t.rendered||t.isDestroyed){n=true}else if(e){n=t.isHierarchicallyHidden()}return!n},isXType:function(e,t){return t?Ext.Array.indexOf(this.xtypes,e)!==-1:!!this.xtypesMap[e]},isMasked:function(e){var t=this;return t.masked||t.loadMask&&t.loadMask.isVisible()||e&&!!t.getInherited().masked},setMasked:function(e){var t=this,n=t.focusableContainer;if(e){t.masked=true;t.getInherited().masked=e}else{t.masked=false;delete t.getInherited().masked}if(n){n.onFocusableChildMasked(t,e)}return t},mask:function(e,t,n){var r=this.lastBox,i=this.getMaskTarget()||this.el;if(r){n=r.height}i.mask(e,t,n);this.setMasked(true)},nextNode:function(e,t){var n=this,r=n.ownerCt,i,s,o,u,a;if(t&&n.is(e)){return n}if(r){for(s=r.items.items,u=Ext.Array.indexOf(s,n)+1,o=s.length;u<o;u++){a=s[u];if(a.is(e)){return a}if(a.down){i=a.down(e);if(i){return i}}}return r.nextNode(e)}return null},nextSibling:function(e){var t=this.ownerCt,n,r,i,s;if(t){n=t.items;i=n.indexOf(this)+1;if(i){if(e){for(r=n.getCount();i<r;i++){if((s=n.getAt(i)).is(e)){return s}}}else{if(i<n.getCount()){return n.getAt(i)}}}}return null},onAdded:function(e,t,n){var r=this,i=r.inheritedState;r.ownerCt=e;if(i&&n){r.invalidateInheritedState()}if(r.reference){r.fixReference()}if(r.hasListeners&&r.hasListeners.added){r.fireEvent("added",r,e,t)}if(Ext.GlobalEvents.hasListeners.added){r.fireHierarchyEvent("added")}},onRemoved:function(e){var t=this,n;if(Ext.GlobalEvents.hasListeners.removed){t.fireHierarchyEvent("removed")}if(t.hasListeners.removed){t.fireEvent("removed",t,t.ownerCt)}if(t.reference){n=t.lookupReferenceHolder();if(n){n.clearReference(t)}}if(!e){t.removeBindings()}if(t.inheritedState&&!e){t.invalidateInheritedState()}t.ownerCt=t.ownerLayout=null},onBoxReady:function(e,t){var n=this;if(n.resizable){n.initResizable(n.resizable)}if(n.draggable){n.initDraggable()}if(n.touchScroll){n.initScrollManager()}if(n.hasListeners.boxready){n.fireEvent("boxready",n,e,t)}},onDestroy:function(){var e=this,t=e.controller,n=e.focusableContainer;if(e.bind){e.removeBindings()}if(t){t.destroy()}e.controller=null;if(e.rendered){Ext.destroy(e.dd,e.resizer,e.proxy,e.proxyWrap,e.resizerComponent)}if(n){n.onFocusableChildDestroy(e)}if(e.focusable){e.destroyFocusable()}Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},onDisable:function(){var e=this,t,n;if(e.focusable){e.disableFocusable()}if(e.maskOnDisable){t=e.el.dom;n=t.nodeName;if(e.disabledRe.test(n)){t.disabled=true}if(!e.nonMaskableRe.test(n)){e.mask()}}},onEnable:function(){var e=this,t,n;if(e.focusable){e.enableFocusable()}if(e.maskOnDisable){t=e.el.dom;n=t.nodeName;if(e.disabledRe.test(n)){t.disabled=false}if(!e.nonMaskableRe.test(n)){e.unmask()}}},onHide:function(e,t,n){var r=this,i,s,o,u=Ext.Element.getActiveElement();if(u===r.el||r.el.contains(u)){Ext.fly(u).blur()}e=r.getAnimateTarget(e);if(!r.ghost){e=null}if(e){o={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight};i=r.ghost();i.el.stopAnimation();s=r.getSize();i.el.animate({to:o,listeners:{afteranimate:function(){delete i.componentLayout.lastComponentSize;i.el.hide();i.setHiddenState(true);i.el.setSize(s);r.afterHide(t,n)}}})}r.el.hide();if(!e){r.afterHide(t,n)}},onPosition:Ext.emptyFn,onResize:function(e,t,n,r){var i=this;if(i.floating&&i.constrain){i.doConstrain()}if(n){i.refreshScroll()}if(i.hasListeners.resize){i.fireEvent("resize",i,e,t,n,r)}},onShow:function(){var e=this;e.el.show();e.updateLayout({isRoot:false});if(e.floating){if(e.maximized){e.fitContainer()}else if(e.constrain){e.doConstrain()}}},onShowComplete:function(e,t){var n=this,r=n.focusableContainer;if(n.floating){n.onFloatShow()}Ext.callback(e,t||n);n.fireEvent("show",n);if(r){r.onFocusableChildShow(n)}delete n.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(e,t){var n=this,r=n.ownerCt,i,s,o,u;if(t&&n.is(e)){return n}if(r){for(s=r.items.items,o=Ext.Array.indexOf(s,n)-1;o>-1;o--){u=s[o];if(u.query){i=u.query(e);i=i[i.length-1];if(i){return i}}if(u.is(e)){return u}}return r.previousNode(e,true)}return null},previousSibling:function(e){var t=this.ownerCt,n,r,i;if(t){n=t.items;r=n.indexOf(this);if(r!=-1){if(e){for(--r;r>=0;r--){if((i=n.getAt(r)).is(e)){return i}}}else{if(r){return n.getAt(--r)}}}}return null},registerFloatingItem:function(e){var t=this;if(!t.floatingDescendants){t.floatingDescendants=new Ext.ZIndexManager(t)}t.floatingDescendants.register(e)},removeCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;n.removeCls.apply(n,arguments);return t},removeClsWithUI:function(e,t){var n=this,r=[],i=0,s=Ext.Array,o=s.remove,u=n.uiCls=s.clone(n.uiCls),a=n.activeUI,f,l;if(typeof e==="string"){e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)}f=e.length;for(i=0;i<f;i++){l=e[i];if(l&&n.hasUICls(l)){o(u,l);if(a){r=r.concat(n.removeUIClsFromElement(l))}}}if(t!==true&&a){n.removeCls(r)}return r},resumeLayouts:function(e){var t=this;if(!t.rendered){return}if(!t.layoutSuspendCount){Ext.log.warn("Mismatched call to resumeLayouts - layouts are currently not suspended.")}if(t.layoutSuspendCount&&!--t.layoutSuspendCount){t.suspendLayout=false;if(e&&!t.isLayoutSuspended()){t.updateLayout(e)}}},scrollBy:function(e,t,n){var r=this,i=r.scrollManager;if(i){i.scrollBy(e,t,n)}else{r.doScrollBy(e,t,n)}},scrollTo:function(e,t,n){var r=this,i=r.scrollManager;if(i){i.scrollTo(e,t,n)}else{r.doScrollTo(e,t,n)}},setAutoScroll:function(e){var t=this;t.autoScroll=!!e;if(t.rendered){t.getOverflowEl().setStyle(t.getOverflowStyle())}t.updateLayout();return t},setBorder:function(e,t){var n=this,r=!!t;if(n.rendered||r){if(!r){t=n.el}if(!e){e=0}else if(e===true){e="1px"}else{e=this.unitizeBox(e)}t.setStyle("border-width",e);if(!r){n.updateLayout()}}n.border=e},setDock:function(e){var t=this,n=t.ownerCt;if(e!==t.dock){if(n&&n.moveDocked){n.moveDocked(t,e)}else{t.dock=e}}return t},setDisabled:function(e){return this[e?"disable":"enable"]()},setFlex:function(e){this.flex=e},setHeight:function(e){return this.setSize(undefined,e)},setLoading:function(e,t){var n=this,r={target:n};if(n.rendered){if(e!==false){if(Ext.isString(e)){r.msg=e}else{Ext.apply(r,e)}if(!n.loadMask||!n.loadMask.isLoadMask){if(t&&r.useTargetEl==null){r.useTargetEl=true}n.loadMask=new Ext.LoadMask(r)}else{Ext.apply(n.loadMask,r)}if(n.loadMask.isVisible()){n.loadMask.afterShow()}else{n.loadMask.show()}}else{if(n.loadMask&&n.loadMask.isLoadMask){n.loadMask.hide()}}}return n.loadMask},setMargin:function(e,t){var n=this;if(n.rendered){if(!e&&e!==0){e=""}else{if(e===true){e=5}e=this.unitizeBox(e)}n.getTargetEl().setStyle("margin",e);if(!t){n.updateLayout()}}else{n.margin=e}},setOverflowXY:function(e,t){var n=this,r=arguments.length,i=n.ownerCt;if(r){n.overflowX=e||"";if(r>1){n.overflowY=t||""}}if(n.rendered){n.getOverflowEl().setStyle(n.getOverflowStyle())}(i||n).updateLayout();return n},setPagePosition:function(e,t,n){var r=this,i,s;if(Ext.isArray(e)){t=e[1];e=e[0]}r.pageX=e;r.pageY=t;if(r.floating){if(r.isContainedFloater()){s=r.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(e)&&Ext.isNumber(s.left)){e-=s.left}if(Ext.isNumber(t)&&Ext.isNumber(s.top)){t-=s.top}}else{i=r.el.translateXY(e,t);e=i.x;t=i.y}r.setPosition(e,t,n)}else{i=r.el.translateXY(e,t);r.setPosition(i.x,i.y,n)}return r},setPosition:function(e,t,n){var r=this,i=r.beforeSetPosition.apply(r,arguments);if(i&&r.rendered){e=i.x;t=i.y;if(n){if(e!==r.getLocalX()||t!==r.getLocalY()){r.stopAnimation();r.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(r.afterSetPosition,r,[e,t])},to:{left:e,top:t}},n))}}else{r.setLocalXY(e,t);r.afterSetPosition(e,t)}}return r},setScrollX:function(e){var t=this,n=t.scrollManager;if(n){n.scrollTo(e,n.getPosition().y)}else{t.setScrollLeft(e)}},setScrollY:function(e){var t=this,n=t.scrollManager;if(n){n.scrollTo(n.getPosition().x,e)}else{t.getOverflowEl().setScrollTop(e)}},setSize:function(e,t){var n=this;if(e&&typeof e=="object"){t=e.height;e=e.width}if(typeof e=="number"){n.width=Ext.Number.constrain(e,n.minWidth,n.maxWidth)}else if(e===null){delete n.width}if(typeof t=="number"){n.height=Ext.Number.constrain(t,n.minHeight,n.maxHeight)}else if(t===null){delete n.height}if(n.rendered&&n.isVisible()){if(n.liquidLayout){n.el.setSize(n.width,n.height)}n.updateLayout(n._notAsLayoutRoot)}return n},setStyle:function(e,t){var n=this,r=n.el||n.protoEl;r.setStyle(e,t);return n},setUI:function(e){var t=this,n=t.uiCls,r=t.activeUI,i;if(e===r){return}if(r){i=t.removeClsWithUI(n,true);if(i.length){t.removeCls(i)}t.removeUIFromElement()}else{t.uiCls=[]}t.ui=e;t.activeUI=e;t.addUIToElement();i=t.addClsWithUI(n,true);if(i.length){t.addCls(i)}if(t.rendered){t.updateLayout()}},setVisible:function(e){return this[e?"show":"hide"]()},setHidden:function(e){return this.setVisible(!e)},setWidth:function(e){return this.setSize(e)},show:function(e,t,n){var r=this,i=r.rendered;if(r.hierarchicallyHidden||r.floating&&!i&&r.isHierarchicallyHidden()){if(!i){r.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;r.pendingShow=arguments}else{r.pendingShow=true}}else if(i&&r.isVisible()){if(r.floating){r.onFloatShow()}}else{if(r.fireEvent("beforeshow",r)!==false){r.hidden=false;delete this.getInherited().hidden;Ext.suspendLayouts();if(!i&&(r.autoRender||r.floating)){r.doAutoRender();i=r.rendered}if(i){r.beforeShow();Ext.resumeLayouts();r.onShow.apply(r,arguments);r.afterShow.apply(r,arguments)}else{Ext.resumeLayouts(true)}}else{r.onShowVeto()}}return r},showAt:function(e,t,n){var r=this;if(!r.rendered&&(r.autoRender||r.floating)){r.x=e;r.y=t;return r.show()}if(r.floating){r.setPosition(e,t,n)}else{r.setPagePosition(e,t,n)}r.show()},showBy:function(e,t,n){var r=this;if(!r.floating){Ext.log.warn("Using showBy on a non-floating component")}if(r.floating&&e){r.alignTarget=e;if(t){r.defaultAlign=t}if(n){r.alignOffset=n}r.show();if(!r.hidden){r.alignTo(e,t||r.defaultAlign,n||r.alignOffset)}}return r},suspendLayouts:function(){var e=this;if(!e.rendered){return}if(++e.layoutSuspendCount===1){e.suspendLayout=true}},unitizeBox:function(e){return Ext.Element.unitizeBox(e)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(false)},unregisterFloatingItem:function(e){var t=this;if(t.floatingDescendants){t.floatingDescendants.unregister(e)}},up:function(e,t){var n=this.getRefOwner(),r=typeof t==="string",i=typeof t==="number",s=t&&t.isComponent,o=0;if(e){for(;n;n=n.getRefOwner()){o++;if(e.isComponent){if(n===e){return n}}else{if(Ext.ComponentQuery.is(n,e)){return n}}if(r&&n.is(t)){return}if(i&&o===t){return}if(s&&n===t){return}}}return n},update:function(e,t,n){var r=this,i=r.tpl&&!Ext.isString(e),s=r.scrollManager,o=r.focusableContainer,u,a,f;if(i){r.data=e&&e.isEntity?e.getData(true):e}else{r.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e}if(r.rendered){u=r.getSizeModel();a=u.width.shrinkWrap||u.height.shrinkWrap;if(r.isContainer){f=r.layout.getRenderTarget();a=a||r.items.items.length>0}else{f=r.touchScroll?r.getScrollerEl():r.getTargetEl()}if(i){r.tpl[r.tplWriteMode](f,r.data||{})}else{f.setHtml(r.html,t,n)}if(a){r.updateLayout()}if(s){s.refresh()}if(o){o.onFocusableChildUpdate(r)}}},setHtml:function(e){this.update(e)},applyData:function(e){this.update(e)},updateBox:function(e){this.setSize(e.width,e.height);this.setPagePosition(e.x,e.y);return this},_asLayoutRoot:{isRoot:true},_notAsLayoutRoot:{isRoot:false},updateLayout:function(e){var t=this,n,r=t.lastBox,i=e&&e.isRoot;if(r){r.invalid=true}if(!t.rendered||t.layoutSuspendCount||t.suspendLayout){return}if(t.hidden){Ext.Component.cancelLayout(t)}else if(typeof i!="boolean"){i=t.isLayoutRoot()}if(i||!t.ownerLayout||!t.ownerLayout.onContentChange(t)){if(!t.isLayoutSuspended()){n=e&&e.hasOwnProperty("defer")?e.defer:t.deferLayouts;Ext.Component.updateLayout(t,n)}}},updateMaxHeight:function(e,t){this.changeConstraint(e,t,"min","max-height","height")},updateMaxWidth:function(e,t){this.changeConstraint(e,t,"min","max-width","width")},updateMinHeight:function(e,t){this.changeConstraint(e,t,"max","min-height","height")},updateMinWidth:function(e,t){this.changeConstraint(e,t,"max","min-width","width")},getAnchorToXY:function(e,t,n,r){return e.getAnchorXY(t,n,r)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(e){this.el.setLocalX(e)},setLocalXY:function(e,t){this.el.setLocalXY(e,t)},setLocalY:function(e){this.el.setLocalY(e)},setX:function(e,t){this.el.setX(e,t)},setXY:function(e,t){this.el.setXY(e,t)},setY:function(e,t){this.el.setY(e,t)},privates:{statics:{findComponentByElement:function(e){var t=document.body,n=e,r;while(n&&n.nodeType===1&&n!==t){r=Ext.getCmp(n.id);if(r){return r}n=n.parentNode}return null},getComponentByElement:function(e){var t=Ext.Component.componentIdAttribute,n;e=Ext.fly(e);if(!e){return null}n=e.getAttribute(t);if(n){return Ext.getCmp(n)}else{return Ext.Component.findComponentByElement(e.dom)}},getActiveComponent:function(){var e=Ext.dom.Element.getActiveElement();return Ext.Component.getComponentByElement(e)}},addOverCls:function(){var e=this;if(!e.disabled){e.el.addCls(e.overCls)}},addUIToElement:function(){var e=this,t=e.baseCls+"-"+e.ui,n,r,i,s;e.addCls(t);if(e.rendered&&e.frame&&!Ext.supports.CSS3BorderRadius){t+="-";n=e.getChildEls();for(r in n){s=n[r].frame;if(s&&s!==true){i=e[r];if(i){i.addCls(t+s)}}}}},changeConstraint:function(e,t,n,r,i){var s=this,o=s[i];if(e!=null&&typeof o==="number"){s[i]=Math[n](o,e)}if(s.liquidLayout){if(e!=null){s.setStyle(r,e+"px")}else if(t){s.setStyle(r,"")}}if(s.rendered){s.updateLayout()}},constructPlugin:function(e){var t=this;if(typeof e==="string"){e=Ext.PluginManager.create({},e,t)}else{e=Ext.PluginManager.create(e,null,t)}return e},constructPlugins:function(){var e=this,t=e.plugins,n,r,i;if(t){n=[];n.processed=true;if(!Ext.isArray(t)){t=[t]}for(r=0,i=t.length;r<i;r++){n[r]=e.constructPlugin(t[r])}}e.pluginsInitialized=true;return n},doScrollBy:function(e,t,n){var r=this.getOverflowEl();if(r){r.scrollBy(e,t,n)}},doScrollTo:function(e,t,n){var r=this.getOverflowEl();r.scrollTo("left",e,n);r.scrollTo("top",t,n)},fireHierarchyEvent:function(e){var t=Ext.GlobalEvents;if(t.hasListeners[e]){t.fireEvent(e,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e=this,t=null,n=e.autoScroll,r,i,s;if(typeof n==="boolean"){t={overflow:s=n?"auto":""};e.scrollFlags={overflowX:s,overflowY:s,x:n,y:n,both:n}}else{r=e.overflowX;i=e.overflowY;if(r!==undefined||i!==undefined){if(r&&r===true){r="auto"}if(i&&i===true){i="auto"}t={overflowX:r=r||"",overflowY:i=i||""};e.scrollFlags={overflowX:r,overflowY:i,x:r=r==="auto"||r==="scroll",y:i=i==="auto"||i==="scroll",both:r&&i}}else{e.scrollFlags={overflowX:"",overflowY:"",x:false,y:false,both:false}}}return t},getPlugins:function(){var e=this.plugins;e=e&&e.processed?e:this.constructPlugins();return e||null},getProxy:function(){var e=this,t;if(!e.proxy){t=Ext.getBody();e.proxy=e.el.createProxy(Ext.baseCSSPrefix+"proxy-el",t,true)}return e.proxy},getScrollLeft:function(){return this.getOverflowEl().getScrollLeft()},getScrollerEl:function(){var e=this;return e.scrollerEl||(e.scrollerEl=e.componentLayout.getScrollerEl()||e.getOverflowEl().child(e.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(e){return Ext.XTemplate.getTpl(this,e)},initCls:function(){var e=this,t=[e.baseCls,e.getComponentLayout().targetCls];if(Ext.isDefined(e.cmpCls)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.")}e.componentCls=e.cmpCls;delete e.cmpCls}if(e.componentCls){t.push(e.componentCls)}else{e.componentCls=e.baseCls}return t},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({ariaRole:"presentation",el:e.resizer.el,rendered:true,container:e.container}):e,n=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain||e.draggable.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container):undefined},e.draggable);if(e.constrain||e.constrainDelegate){n.constrain=e.constrain;n.constrainDelegate=e.constrainDelegate}e.dd=new Ext.util.ComponentDragger(t,n)},initPadding:function(e){var t=this,n=t.padding;if(n!=null){if(t.touchScroll||t.layout&&t.layout.managePadding&&t.contentPaddingProperty==="padding"){e.setStyle("padding",0)}else{e.setStyle("padding",this.unitizeBox(n===true?5:n))}}},initPlugin:function(e){e.init(this);return e},initResizable:function(e){var t=this;e=Ext.apply({target:t,dynamic:false,constrainTo:t.constrain||e&&e.constrain?t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():t.container):undefined,handles:t.resizeHandles},e);e.target=t;t.resizer=new Ext.resizer.Resizer(e)},initScrollManager:function(){var e=this,t=e.scrollFlags,n=e.getScrollerEl();if(n&&!e.scrollManager){return e.scrollManager=new Ext.scroll.Manager({owner:e,el:n,direction:t.both?"auto":t.y?"vertical":"horizontal"})}},initStyles:function(e){var t=this,n=t.margin,r=t.border,i=t.cls,s=t.style,o=t.x,u=t.y,a=t.liquidLayout,f,l;t.initPadding(e);if(n!=null){e.setStyle("margin",this.unitizeBox(n===true?5:n))}if(r!=null){t.setBorder(r,e)}if(i&&i!=t.initialCls){e.addCls(i);t.cls=t.initialCls=null}if(s&&s!=t.initialStyle){e.setStyle(s);t.style=t.initialStyle=null}if(o!=null){e.setStyle(t.horizontalPosProp,typeof o=="number"?o+"px":o)}if(u!=null){e.setStyle("top",typeof u=="number"?u+"px":u)}if(!t.ownerCt||t.floating){if(Ext.scopeCss){e.addCls(t.rootCls)}e.addCls(t.borderBoxCls)}if(a||!t.getFrameInfo()){f=t.width;l=t.height;if(f!=null){if(typeof f==="number"){e.setStyle("width",f+"px")}else{e.setStyle("width",f)}}if(l!=null){if(typeof l==="number"){e.setStyle("height",l+"px")}else{e.setStyle("height",l)}}}},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(e){if(e.isContainer){for(var t=this.ownerCt;t;t=t.ownerCt){if(t===e){return true}}}return false},makeFloating:function(e){this.mixins.floating.constructor.call(this,e)},owns:function(e){var t=false,n;if(e.isEvent){e=e.target}else if(e.isElement){e=e.dom}n=Ext.Component.findComponentByElement(e);if(n){t=n===this||!!n.up(this)}return t},parseBox:function(e){return Ext.Element.parseBox(e)},refreshScroll:function(){var e=this.scrollManager;if(e){e.refresh()}},removeManagedListenerItem:function(e,t,n,r,i,s){var o=this,u=t.options?t.options.element:null;if(u){u=o[u];if(u&&u.un){if(e||t.item===n&&t.ename===r&&(!i||t.fn===i)&&(!s||t.scope===s)){u.un(t.ename,t.fn,t.scope);if(!e){Ext.Array.remove(o.managedListeners,t)}}}}else{return o.mixins.observable.removeManagedListenerItem.apply(o,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(e){Ext.Array.remove(this.plugins,e);e.destroy()},removeUIFromElement:function(){var e=this,t=e.baseCls+"-"+e.ui,n,r,i,s;e.removeCls(t);if(e.rendered&&e.frame&&!Ext.supports.CSS3BorderRadius){t+="-";n=e.getChildEls();for(r in n){s=n[r].frame;if(s&&s!==true){i=e[r];if(i){i.removeCls(t+s)}}}}},setComponentLayout:function(e){var t=this.componentLayout;if(t&&t.isLayout&&t!=e){t.setOwner(null)}this.componentLayout=e;e.setOwner(this)},setHiddenState:function(e){var t=this.getInherited();this.hidden=e;if(e){t.hidden=true}else{delete t.hidden}this.zIndexManager&&this.zIndexManager.onComponentShowHide(this)},setupProtoEl:function(){var e=this.initCls();this.protoEl.addCls(e)},setScrollLeft:function(e){this.getOverflowEl().setScrollLeft(e)},wrapPrimaryEl:function(e){if(this.floating){this.makeFloating(e)}else{this.el=Ext.get(e)}}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(e){e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(t){e.resumeLayouts(t)};Ext.suspendLayouts=function(){e.suspendLayouts()};Ext.batchLayouts=function(t,n){e.suspendLayouts();t.call(n);e.resumeLayouts(true)};Ext.setGlyphFontFamily=function(e){Ext._glyphFontFamily=e};e.hierarchyEventSource=e.prototype.hierarchyEventSource=Ext.GlobalEvents});Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var e=this;if(!e._borderRegionInited){e._borderRegionInited=true;e.addStateEvents(["changeregion","changeweight"]);Ext.override(e,{getState:function(){var t=e.callParent();t=e.addPropertyToState(t,"region");t=e.addPropertyToState(t,"weight");return t}})}},getOwningBorderContainer:function(){var e=this.getOwningBorderLayout();return e&&e.owner},getOwningBorderLayout:function(){var e=this.ownerLayout;return e&&e.isBorderLayout?e:null},setRegion:function(e){var t=this,n,r=t.region;if(typeof e!=="string"){Ext.Error.raise("Use setBox to set the size or position of a component.")}if(e!==r){n=t.getOwningBorderLayout();if(n){var i=n.regionFlags[e],s=t.placeholder,o=t.splitter,u=n.owner,a=n.regionMeta,f=t.collapsed||t.floated,l,c,h;if(t.fireEventArgs("beforechangeregion",[t,e])===false){return r}Ext.suspendLayouts();t.region=e;Ext.apply(t,i);if(t.updateCollapseTool){t.updateCollapseTool()}if(o){Ext.apply(o,i);o.updateOrientation();c=u.items;h=c.indexOf(t);if(h>=0){l=a[e].splitterDelta;if(c.getAt(h+l)!==o){c.remove(o);h=c.indexOf(t);if(l>0){++h}c.insert(h,o)}}}if(s){if(f){t.expand(false)}u.remove(s);t.placeholder=null;if(f){t.collapse(null,false)}}u.updateLayout();Ext.resumeLayouts(true);t.fireEventArgs("changeregion",[t,r])}else{t.region=e}}return r},setWeight:function(e){var t=this,n=t.getOwningBorderContainer(),r=t.placeholder,i=t.weight;if(e!==i){if(t.fireEventArgs("beforechangeweight",[t,e])!==false){t.weight=e;if(r){r.weight=e}if(n){n.updateLayout()}t.fireEventArgs("changeweight",[t,i])}}return i}},function(e){var t=e.prototype;t.setBorderRegion=t.setRegion;t.setRegionWeight=t.setWeight});Ext.define("Ext.event.gesture.Recognizer",{mixins:["Ext.mixin.Identifiable"],handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(e){this.initConfig(e);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return false},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},debugHooks:{$enabled:false,fail:function(e){Ext.log.info(this.$className+" Gesture Failed: "+e);return false}}});Ext.define("Ext.event.gesture.SingleTouch",{extend:"Ext.event.gesture.Recognizer",inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(e){if(e.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}},onTouchCancel:function(){return false}});Ext.define("Ext.event.gesture.DoubleTap",{extend:"Ext.event.gesture.SingleTouch",inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var t=this,n;if(t.callParent(arguments)===false){return false}n=t.lastStartPoint=e.changedTouches[0].point;t.startPoint=t.startPoint||n;t.startTime=e.time;clearTimeout(t.singleTapTimer)},onTouchMove:function(e){var t=this,n=e.changedTouches[0].point;if(Math.abs(n.getDistanceTo(t.lastStartPoint))>=t.getMoveDistance()){t.startPoint=null;return t.fail(t.self.TOUCH_MOVED)}},onTouchEnd:function(e){var t=this,n=t.getMaxDuration(),r=e.time,i=e.target,s=t.lastTapTime,o=t.lastTarget,u=e.changedTouches[0].point,a;t.lastTapTime=r;t.lastTarget=i;if(s){a=r-s;if(a<=n&&Math.abs(u.getDistanceTo(t.startPoint))<=t.getTapDistance()){if(i!==o){return t.fail(t.self.DIFFERENT_TARGET)}t.lastTarget=null;t.lastTapTime=0;t.fire("doubletap",e,{touch:e.changedTouches[0],duration:a});t.startPoint=null;return}}if(r-t.startTime>n){t.fireSingleTap(e)}else{t.setSingleTapTimer(e)}},setSingleTapTimer:function(e){var t=this;t.singleTapTimer=Ext.defer(function(){t.fireSingleTap(e)},t.getMaxDuration())},fireSingleTap:function(e,t){this.fire("singletap",e,{touch:t});this.startPoint=null}});Ext.define("Ext.event.gesture.Drag",{extend:"Ext.event.gesture.SingleTouch",isStarted:false,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callSuper(arguments);this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(e){if(this.callSuper(arguments)===false){if(this.isStarted&&this.lastMoveEvent!==null){this.lastMoveEvent.isStopped=false;this.onTouchEnd(this.lastMoveEvent)}return false}this.startTime=e.time;this.startPoint=e.changedTouches[0].point},tryDragStart:function(e){var t=this.startPoint,n=e.changedTouches[0],r=n.point,i=this.getMinDistance(),s=this.info;if(Math.abs(r.getDistanceTo(t))>=i){this.isStarted=true;this.previousPoint=this.lastPoint=r;this.resetInfo("x",e,n);this.resetInfo("y",e,n);s.time=e.time;this.fire("dragstart",e,s)}},onTouchMove:function(e){if(!this.isStarted){this.tryDragStart(e)}if(!this.isStarted){return}var t=e.changedTouches[0],n=t.point;if(this.lastPoint){this.previousPoint=this.lastPoint}this.lastPoint=n;this.lastMoveEvent=e;this.updateInfo("x",e,t);this.updateInfo("y",e,t);this.info.time=e.time;this.fire("drag",e,this.info)},onAxisDragEnd:function(e,t){var n=t.time-t.previousTime[e];if(n>0){t.flick.velocity[e]=(t[e]-t.previous[e])/n}},resetInfo:function(e,t,n){var r=this.lastPoint[e],i=this.startPoint[e],s=r-i,o=e.toUpperCase(),u=this.info;u.touch=n;u.delta[e]=s;u.absDelta[e]=Math.abs(s);u.previousTime[e]=this.startTime;u.previous[e]=i;u[e]=r;u.direction[e]=0;u["start"+o]=this.startPoint[e];u["previous"+o]=u.previous[e];u["page"+o]=u[e];u["delta"+o]=u.delta[e];u["absDelta"+o]=u.absDelta[e];u["previousDelta"+o]=0;u.startTime=this.startTime},updateInfo:function(e,t,n){var r=this,i=r.lastPoint[e],s=r.previousPoint[e],o=r.startPoint[e],u=i-o,a=r.info,f=a.direction,l=e.toUpperCase(),c=a.previous[e];a.touch=n;a.delta[e]=u;a.absDelta[e]=Math.abs(u);if(i!==c&&i!==a[e]){a.previous[e]=a[e];a.previousTime[e]=a.time}a[e]=i;if(i>s){f[e]=1}else if(i<s){f[e]=-1}a["start"+l]=o;a["previous"+l]=a.previous[e];a["page"+l]=a[e];a["delta"+l]=a.delta[e];a["absDelta"+l]=a.absDelta[e];a["previousDelta"+l]=a.previous[e]-o;a.startTime=r.startTime},onTouchEnd:function(e){this.doEnd(e)},onTouchCancel:function(e){this.doEnd(e,true);return false},doEnd:function(e,t){if(!this.isStarted){this.tryDragStart(e)}if(this.isStarted){var n=e.changedTouches[0],r=n.point,i=this.info;this.isStarted=false;this.lastPoint=r;this.updateInfo("x",e,n);this.updateInfo("y",e,n);i.time=e.time;this.onAxisDragEnd("x",i);this.onAxisDragEnd("y",i);this.fire(t?"dragcancel":"dragend",e,i);this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}}});Ext.define("Ext.event.gesture.Swipe",{extend:"Ext.event.gesture.SingleTouch",handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(e){if(this.callParent(arguments)===false){return false}var t=e.changedTouches[0];this.startTime=e.time;this.isHorizontal=true;this.isVertical=true;this.startX=t.pageX;this.startY=t.pageY},onTouchMove:function(e){var t=e.changedTouches[0],n=t.pageX,r=t.pageY,i=n-this.startX,s=r-this.startY,o=Math.abs(n-this.startX),u=Math.abs(r-this.startY),a=e.time-this.startTime,f=this.getMinDistance(),l=e.time,c,h;if(l-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isHorizontal&&u>this.getMaxOffset()){this.isHorizontal=false}if(this.isVertical&&o>this.getMaxOffset()){this.isVertical=false}if(!this.isVertical||!this.isHorizontal){if(this.isHorizontal&&o<f){c=i<0?"left":"right";h=o}else if(this.isVertical&&u<f){c=s<0?"up":"down";h=u}}if(c&&!this.started){this.started=true;this.fire("swipestart",e,{touch:t,direction:c,distance:h,duration:a})}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(e){if(this.onTouchMove(e)===false){return false}var t=e.changedTouches[0],n=t.pageX,r=t.pageY,i=n-this.startX,s=r-this.startY,o=Math.abs(i),u=Math.abs(s),a=this.getMinDistance(),f=e.time-this.startTime,l,c;if(this.isVertical&&u<a){this.isVertical=false}if(this.isHorizontal&&o<a){this.isHorizontal=false}if(this.isHorizontal){l=i<0?"left":"right";c=o}else if(this.isVertical){l=s<0?"up":"down";c=u}else{return this.fail(this.self.DISTANCE_NOT_ENOUGH)}this.started=false;this.fire("swipe",e,{touch:t,direction:l,distance:c,duration:f})},onTouchCancel:function(e){this.fire("swipecancel",e);return false}});Ext.define("Ext.event.gesture.EdgeSwipe",{extend:"Ext.event.gesture.Swipe",handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(e){if(this.callParent(arguments)===false){return false}var t=e.changedTouches[0];this.started=false;this.direction=null;this.isHorizontal=true;this.isVertical=true;this.startX=t.pageX;this.startY=t.pageY},onTouchMove:function(e){var t=e.changedTouches[0],n=t.pageX,r=t.pageY,i=n-this.startX,s=r-this.startY,o=Math.abs(r-this.startY),u=Math.abs(n-this.startX),a=this.getMinDistance(),f=this.getMaxOffset(),l=e.time-this.startTime,c=Ext.Viewport&&Ext.Element.getViewportWidth(),h=Ext.Viewport&&Ext.Element.getViewportHeight(),p,d;if(this.isVertical&&u>f){this.isVertical=false}if(this.isHorizontal&&o>f){this.isHorizontal=false}if(this.isVertical&&this.isHorizontal){if(o>u){this.isHorizontal=false}else{this.isVertical=false}}if(this.isHorizontal){p=i<0?"left":"right";d=i}else if(this.isVertical){p=s<0?"up":"down";d=s}this.direction=this.direction||p;if(this.direction=="up"){d=s*-1}else if(this.direction=="left"){d=i*-1}this.distance=d;if(d==0){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}if(!this.started){if(this.direction=="right"&&this.startX>a){return this.fail(this.self.NOT_NEAR_EDGE)}else if(this.direction=="down"&&this.startY>a){return this.fail(this.self.NOT_NEAR_EDGE)}else if(this.direction=="left"&&c-this.startX>a){return this.fail(this.self.NOT_NEAR_EDGE)}else if(this.direction=="up"&&h-this.startY>a){return this.fail(this.self.NOT_NEAR_EDGE)}this.started=true;this.startTime=e.time;this.fire("edgeswipestart",e,{touch:t,direction:this.direction,distance:this.distance,duration:l})}else{this.fire("edgeswipe",e,{touch:t,direction:this.direction,distance:this.distance,duration:l})}},onTouchEnd:function(e){var t;if(this.onTouchMove(e)!==false){t=e.time-this.startTime;this.fire("edgeswipeend",e,{touch:e.changedTouches[0],direction:this.direction,distance:this.distance,duration:t})}},onTouchCancel:function(e){this.fire("edgeswipecancel",e,{touch:e.changedTouches[0]});return false}});Ext.define("Ext.event.gesture.LongPress",{extend:"Ext.event.gesture.SingleTouch",inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1e3},handledEvents:["longpress"],fireLongPress:function(e){this.fire("longpress",e,{touch:e.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=true},onTouchStart:function(e){if(this.callParent(arguments)===false){return false}this.startPoint=e.changedTouches[0].point;this.isLongPress=false;this.setLongPressTimer(e)},setLongPressTimer:function(e){var t=this;t.timer=Ext.defer(function(){t.fireLongPress(e)},t.getMinDuration())},onTouchMove:function(e){var t=e.changedTouches[0].point;if(Math.abs(t.getDistanceTo(this.startPoint))>=this.getMoveDistance()){return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(e){if(e==="longpress"){var t=Array.prototype.slice.call(arguments);t[0]="taphold";this.fire.apply(this,t)}return this.callOverridden(arguments)}})});Ext.define("Ext.event.gesture.MultiTouch",{extend:"Ext.event.gesture.Recognizer",requiredTouchesCount:2,isTracking:false,isStarted:false,onTouchStart:function(e){var t=this.requiredTouchesCount,n=e.touches,r=n.length;if(r===t){this.start(e)}else if(r>t){this.end(e)}},onTouchEnd:function(e){this.end(e)},onTouchCancel:function(e){this.end(e,true);return false},start:function(){if(!this.isTracking){this.isTracking=true;this.isStarted=false}},end:function(e,t){if(this.isTracking){this.isTracking=false;if(this.isStarted){this.isStarted=false;this[t?"fireCancel":"fireEnd"](e)}}}});Ext.define("Ext.event.gesture.Pinch",{extend:"Ext.event.gesture.MultiTouch",handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(e){if(!this.isTracking){return}var t=e.touches,n,r,i;n=t[0].point;r=t[1].point;i=n.getDistanceTo(r);if(i===0){return}if(!this.isStarted){this.isStarted=true;this.startDistance=i;this.fire("pinchstart",e,{touches:t,distance:i,scale:1})}else{this.fire("pinch",e,{touches:t,distance:i,scale:i/this.startDistance})}},fireEnd:function(e){this.fire("pinchend",e)},fireCancel:function(e){this.fire("pinchcancel",e)},fail:function(){return this.callParent(arguments)}});Ext.define("Ext.event.gesture.Rotate",{extend:"Ext.event.gesture.MultiTouch",handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(e){if(!this.isTracking){return}var t=e.touches,n=this.lastAngle,r,i,s,o,u,a;r=t[0].point;i=t[1].point;s=r.getAngleTo(i);if(n!==null){a=Math.abs(n-s);o=s+360;u=s-360;if(Math.abs(o-n)<a){s=o}else if(Math.abs(u-n)<a){s=u}}this.lastAngle=s;if(!this.isStarted){this.isStarted=true;this.startAngle=s;this.fire("rotatestart",e,{touches:t,angle:s,rotation:0})}else{this.fire("rotate",e,{touches:t,angle:s,rotation:s-this.startAngle})}this.lastTouches=Ext.Array.clone(t)},fireEnd:function(e){this.lastAngle=null;this.fire("rotateend",e)},fireCancel:function(e){this.lastAngle=null;this.fire("rotatecancel",e)}});Ext.define("Ext.event.gesture.Tap",{extend:"Ext.event.gesture.SingleTouch",handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(e){if(this.callParent([e])===false){return false}this.startPoint=e.changedTouches[0].point},onTouchMove:function(e){var t=e.changedTouches[0],n=t.point;if(Math.abs(n.getDistanceTo(this.startPoint))>=this.getMoveDistance()){this.fire("tapcancel",e,{touch:t});return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(e){this.fire("tap",e,{touch:e.changedTouches[0]})},onTouchCancel:function(e){this.fire("tapcancel",e,{touch:e.changedTouches[0]});return false}});Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var e=this.handledEvents||[],t,n,r,i;t=this.handledEventsMap={};for(n=0,r=e.length;n<r;n++){i=e[n];t[i]=true}this.subscribers={};return this},handles:function(e){var t=this.handledEventsMap;return!!t[e]||!!t["*"]||e==="*"},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(e){this.dispatcher=e},subscribe:function(){return false},unsubscribe:function(){return false},unsubscribeAll:function(){delete this.subscribers;this.subscribers={};return this},notify:function(){return false},getTargetType:function(){return this.targetType},dispatch:function(e,t,n,r){this.dispatcher.doDispatchEvent(this.targetType,e,t,n,null,null,r)},destroy:Ext.emptyFn});Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return new this(e.x,e.y)}},constructor:function(e,t){this.x=e!=null&&!isNaN(e)?e:0;this.y=t!=null&&!isNaN(t)?t:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x;this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){if(!(e instanceof this.statics())){Ext.Error.raise("Offset must be an instance of Ext.util.Offset")}return this.x==e.x&&this.y==e.y},round:function(e){if(!isNaN(e)){var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t;this.y=Math.round(this.y*t)/t}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],isRegion:true,statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)}},constructor:function(e,t,n,r){var i=this;i.y=i.top=i[1]=e;i.right=t;i.bottom=n;i.x=i.left=i[0]=r},contains:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom},intersect:function(e){var t=this,n=Math.max(t.y,e.y),r=Math.min(t.right,e.right),i=Math.min(t.bottom,e.bottom),s=Math.max(t.x,e.x);if(i>n&&r>s){return new this.self(n,r,i,s)}else{return false}},union:function(e){var t=this,n=Math.min(t.y,e.y),r=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom),s=Math.min(t.x,e.x);return new this.self(n,r,i,s)},constrainTo:function(e){var t=this,n=Ext.Number.constrain;t.top=t.y=n(t.top,e.y,e.bottom);t.bottom=n(t.bottom,e.y,e.bottom);t.left=t.x=n(t.left,e.x,e.right);t.right=n(t.right,e.x,e.right);return t},adjust:function(e,t,n,r){var i=this;i.top=i.y+=e;i.left=i.x+=r;i.right+=t;i.bottom+=n;return i},getOutOfBoundOffset:function(e,t){if(!Ext.isObject(e)){if(e=="x"){return this.getOutOfBoundOffsetX(t)}else{return this.getOutOfBoundOffsetY(t)}}else{t=e;var n=new Ext.util.Offset;n.x=this.getOutOfBoundOffsetX(t.x);n.y=this.getOutOfBoundOffsetY(t.y);return n}},getOutOfBoundOffsetX:function(e){if(e<=this.x){return this.x-e}else if(e>=this.right){return this.right-e}return 0},getOutOfBoundOffsetY:function(e){if(e<=this.y){return this.y-e}else if(e>=this.bottom){return this.bottom-e}return 0},isOutOfBound:function(e,t){if(!Ext.isObject(e)){if(e=="x"){return this.isOutOfBoundX(t)}else{return this.isOutOfBoundY(t)}}else{t=e;return this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)}},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,n){if(Ext.isObject(e)){var r;n=t;t=e;if(t.copy){r=t.copy()}else{r={x:t.x,y:t.y}}r.x=this.restrictX(t.x,n);r.y=this.restrictY(t.y,n);return r}else{if(e=="x"){return this.restrictX(t,n)}else{return this.restrictY(t,n)}}},restrictX:function(e,t){if(!t){t=1}if(e<=this.x){e-=(e-this.x)*t}else if(e>=this.right){e-=(e-this.right)*t}return e},restrictY:function(e,t){if(!t){t=1}if(e<=this.y){e-=(e-this.y)*t}else if(e>=this.bottom){e-=(e-this.bottom)*t}return e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var t=this;t.top=t.y=t[1]=e.y;t.right=e.right;t.bottom=e.bottom;t.left=t.x=t[0]=e.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){if(arguments.length==1){t=e.y;e=e.x}var n=this;n.top=n.y+=t;n.right+=e;n.bottom+=t;n.left=n.x+=e;return n},round:function(){var e=this;e.top=e.y=Math.round(e.y);e.right=Math.round(e.right);e.bottom=Math.round(e.bottom);e.left=e.x=Math.round(e.x);return e},equals:function(e){return this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left}});Ext.define("Ext.util.Point",{extend:"Ext.util.Region",radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(e){var t=e.changedTouches,n=t&&t.length>0?t[0]:e;return this.fromTouch(n)},fromTouch:function(e){return new this(e.pageX,e.pageY)},from:function(e){if(!e){return new this(0,0)}if(!(e instanceof this)){return new this(e.x,e.y)}return e}},constructor:function(e,t){if(e==null){e=0}if(t==null){t=0}this.callParent([t,e,t,e])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(e){this.x=e.x;this.y=e.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},isCloseTo:function(e,t){if(typeof t=="number"){return this.getDistanceTo(e)<=t}var n=e.x,r=e.y,i=t.x,s=t.y;return this.x<=n+i&&this.x>=n-i&&this.y<=r+s&&this.y>=r-s},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(e){if(!(e instanceof Ext.util.Region)){e=Ext.get(e.el||e).getRegion()}return e.contains(this)},roundedEquals:function(e){if(typeof e!="object"){e=this.origin}return Math.round(this.x)===Math.round(e.x)&&Math.round(this.y)===Math.round(e.y)},getDistanceTo:function(e){if(typeof e!="object"){e=this.origin}var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},getAngleTo:function(e){if(typeof e!="object"){e=this.origin}var t=this.x-e.x,n=this.y-e.y;return Math.atan2(n,t)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy});Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",requires:["Ext.util.Point"],isStopped:false,isEvent:true,statics:{resolveTextNode:function(e){return e&&e.nodeType===3?e.parentNode:e},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(e){var t=this,n=t.self,r=t.self.resolveTextNode,i=e.changedTouches,s=i?i[0]:e,o=e.type,u,a;t.pageX=s.pageX;t.pageY=s.pageY;t.target=t.delegatedTarget=r(e.target);a=e.relatedTarget;if(a){t.relatedTarget=r(a)}t.browserEvent=t.event=e;t.type=o;t.button=e.button||0;t.shiftKey=e.shiftKey;t.ctrlKey=e.ctrlKey||e.metaKey||false;t.altKey=e.altKey;t.charCode=e.charCode;t.keyCode=e.keyCode;if(n.forwardTab!==undefined&&n.focusEvents[o]){t.forwardTab=n.forwardTab}if(n.mouseEvents[o]){u="mouse"}else if(n.pointerEvents[o]){u=n.pointerTypes[e.pointerType]}else if(n.touchEvents[o]){u="touch"}if(u){t.pointerType=u}t.timeStamp=t.time=+(e.timeStamp||new Date)},chain:function(e){var t=Ext.Object.chain(this);t.parentEvent=this;return Ext.apply(t,e)},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,n=Math.round(e/t);if(!n&&e){n=e<0?-1:1}return n},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getPoint:function(){var e=this.getXY();return new Ext.util.Point(e[0],e[1])},getRelatedTarget:function(e,t,n){var r=this.relatedTarget,i=null;if(r){if(e){i=Ext.fly(r).findParent(e,t,n)}else{i=n?Ext.get(r):r}}return i},getTarget:function(e,t,n){return e?Ext.fly(this.target).findParent(e,t,n):n?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){var e=this.getWheelDeltas();return e.y},getWheelDeltas:function(){var e=this,t=e.browserEvent,n=0,r=0;if(Ext.isDefined(t.wheelDeltaX)){n=t.wheelDeltaX;r=t.wheelDeltaY}else if(t.wheelDelta){r=t.wheelDelta}else if(t.detail){r=-t.detail;if(r>100){r=3}else if(r<-100){r=-3}if(Ext.isDefined(t.axis)&&t.axis===t.HORIZONTAL_AXIS){n=r;r=0}}return{x:e.correctWheelDelta(n),y:e.correctWheelDelta(r)}},getX:function(){return this.getXY()[0]},getXY:function(){var e=this,t=e.xy;if(!t){t=e.xy=[e.pageX,e.pageY];var n=t[0],r,i,s,o;if(!n&&n!==0){r=e.browserEvent;i=document;s=i.documentElement;o=i.body;t[0]=r.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0);t[1]=r.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}}return t},getY:function(){return this.getXY()[1]},hasModifier:function(){var e=this;return!!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)},isNavKeyPress:function(){var e=this,t=e.keyCode;return t>=33&&t<=40||t===e.RETURN||t===e.TAB||t===e.ESC},isSpecialKey:function(){var e=this.keyCode;return this.type==="keypress"&&this.ctrlKey||this.isNavKeyPress()||e===this.BACKSPACE||e>=16&&e<=20||e>=44&&e<=46},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){this.browserEvent.preventDefault();return this},setCurrentTarget:function(e){this.currentTarget=this.delegatedTarget=e},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var e=this,t=e.browserEvent,n=e.parentEvent;e.isStopped=true;if(n){n.isStopped=true}if(!t.stopPropagation){t.cancelBubble=true;return e}t.stopPropagation();return e},within:function(e,t,n){if(e){var r=t?this.getRelatedTarget():this.getTarget()}return r?Ext.fly(e).contains(r)||!!(n&&r===Ext.getDom(e)):false},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(e){var t=e.prototype,n={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var e;if(Ext.isGecko){e=3}else if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){e=120}else{e=12}e*=3}else{e=120}return e}()};Ext.apply(e,n);Ext.apply(t,n);t.getTrueXY=t.getXY});Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:function(){function r(t,n){var r=t!="mousemove";return function(i,s){var o=s.getXY(),u=e.createMouseEvent(i.ownerDocument,t,true,r,n,o[0],o[1],s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget);e.fireEvent(i,t,u)}}function i(e,t){}var e,t={},n;if(!Ext.isIE9m&&document.createEvent){e={createHtmlEvent:function(e,t,n,r){var i=e.createEvent("HTMLEvents");i.initEvent(t,n,r);return i},createMouseEvent:function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=e.createEvent("MouseEvents"),d=e.defaultView||window;if(p.initMouseEvent){p.initMouseEvent(t,n,r,d,i,s,o,s,o,u,a,f,l,c,h)}else{p=e.createEvent("UIEvents");p.initEvent(t,n,r);p.view=d;p.detail=i;p.screenX=s;p.screenY=o;p.clientX=s;p.clientY=o;p.ctrlKey=u;p.altKey=a;p.metaKey=l;p.shiftKey=f;p.button=c;p.relatedTarget=h}return p},createUIEvent:function(e,t,n,r,i){var s=e.createEvent("UIEvents"),o=e.defaultView||window;s.initUIEvent(t,n,r,o,i);return s},fireEvent:function(e,t,n){e.dispatchEvent(n)}}}else if(document.createEventObject){n={0:1,1:4,2:2};e={createHtmlEvent:function(e,t,n,r){var i=e.createEventObject();i.bubbles=n;i.cancelable=r;return i},createMouseEvent:function(e,t,r,i,s,o,u,a,f,l,c,h,p){var d=e.createEventObject();d.bubbles=r;d.cancelable=i;d.detail=s;d.screenX=o;d.screenY=u;d.clientX=o;d.clientY=u;d.ctrlKey=a;d.altKey=f;d.shiftKey=l;d.metaKey=c;d.button=n[h]||h;d.relatedTarget=p;return d},createUIEvent:function(e,t,n,r,i){var s=e.createEventObject();s.bubbles=n;s.cancelable=r;return s},fireEvent:function(e,t,n){e.fireEvent("on"+t,n)}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(n,r){var i=r[0],s=r[1];t[n]=function(t,r){var o=e.createHtmlEvent(n,i,s);e.fireEvent(t,n,o)}});Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(e){t[e]=r(e,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(n,r){var i=r[0],s=r[1];t[n]=function(t,r){var o=e.createUIEvent(t.ownerDocument,n,i,s,1);e.fireEvent(t,n,o)}});if(!e){t={};e={}}return function(e){var n=this,r=t[n.type]||i,s=e?e.dom||e:n.getTarget();r(s,n)}}(),preventDefault:function(){var e=this,t=e.browserEvent;if(typeof t.type!=="unknown"){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false;if(t.ctrlKey||t.keyCode>111&&t.keyCode<124){t.keyCode=-1}}}return e},stopPropagation:function(){var e=this,t=e.browserEvent;if(typeof t.type!=="unknown"){if(e.mousedownEvents[e.type]){Ext.GlobalEvents.fireMouseDown(e)}e.callParent()}return e},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var e=this,t,n=function(t){if(t.keyCode===9){e.forwardTab=!t.shiftKey}},r=function(t){if(t.keyCode===9){delete e.forwardTab}};if(Ext.isIE9m){t={1:0,4:1,2:2};e.override({statics:{enableIEAsync:function(e){var t,n={};for(t in e){n[t]=e[t]}return n}},constructor:function(e,n,r,i){var s=this;s.callParent([e,n,r,i]);s.button=t[e.button];s.toElement=e.toElement;s.fromElement=e.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(e){this.browserEvent=this.self.enableIEAsync(e)},getRelatedTarget:function(e,t,n){var r=this,i,s;if(!r.relatedTarget){i=r.type;if(r.mouseLeaveRe.test(i)){s=r.toElement}else if(r.mouseEnterRe.test(i)){s=r.fromElement}if(s){r.relatedTarget=r.self.resolveTextNode(s)}}return r.callParent([e,t,n])}});document.attachEvent("onkeydown",n);document.attachEvent("onkeyup",r);window.attachEvent("onunload",function(){document.detachEvent("onkeydown",n);document.detachEvent("onkeyup",r)})}else if(document.addEventListener){document.addEventListener("keydown",n,true);document.addEventListener("keyup",r,true)}});Ext.define("Ext.event.publisher.Dom",{extend:"Ext.event.publisher.Publisher",requires:["Ext.env.Browser","Ext.event.Event","Ext.GlobalEvents"],reEnterCount:0,targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",captureEvents:{resize:1,focus:1,blur:1,paste:1,input:1,change:1,animationstart:1,animationend:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var e=this,t=document,n=t.defaultView,r=e.eventToVendorMap={},i=e.vendorToEventMap={},s=e.handledEvents,o=Ext.browser,u,a,f;e.captureSubscribers={};e.directSubscribers={};e.globalListeners={};if(Ext.os.is.iOS&&Ext.os.version.getMajor()<5||!(n&&n.addEventListener)){e.target=t;e.isTargetWin=false}else{e.target=n;e.isTargetWin=true}e.initHandlers();if(s){for(u=0,a=s.length;u<a;u++){this.addDelegatedListener(s[u])}}else{if(o.is.WebKit){r.transitionend=o.getVendorProperyName("transitionEnd");r.animationstart=o.getVendorProperyName("animationStart");r.animationend=o.getVendorProperyName("animationEnd");for(f in r){i[r[f]]=f}}}return e.callParent()},initHandlers:function(){var e=this;e.onDelegatedEvent=Ext.bind(e.onDelegatedEvent,e);e.onDirectEvent=Ext.bind(e.onDirectEvent,e)},handles:function(){return false},getSubscribers:function(e,t){var n=t?this.captureSubscribers:this.subscribers,r=n[e];if(!r){r=n[e]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}}return r},getDirectSubscribers:function(e,t){var n=this.directSubscribers,r=n[e]||(n[e]={}),i=r[t]||(r[t]={$length:0});return i},addDelegatedListener:function(e){this.target.addEventListener(e,this.onDelegatedEvent,this.captureEvents[e])},removeDelegatedListener:function(e){this.target.removeEventListener(e,this.onDelegatedEvent,this.captureEvents[e])},addDirectListener:function(e,t,n){t.addEventListener(e,this.onDirectEvent,n)},removeDirectListener:function(e,t,n){t.removeEventListener(e,this.onDirectEvent,n)},subscribe:function(e,t,n,r){var i=this,s=!!n.capture,o=e.match(i.idOrClassSelectorRegex),u,a,f,l,c,h,p,d;if(n.delegated!==false&&!i.directEvents[t]&&!(e==="#ext-window"&&!i.isTargetWin)){if(!i.handledEvents&&!i.globalListeners[t]){i.addDelegatedListener(i.eventToVendorMap[t]||t);this.globalListeners[t]=1}}else{h=r.dom;c=this.getDirectSubscribers(h.id,t);if(++c.$length===1){i.addDirectListener(t,h,s)}if(!o){(c.selector||(c.selector=[])).push(e)}return}u=i.getSubscribers(t,s);a=u.id;f=u.className;l=u.selector;if(o){p=o[1];d=o[2];if(p==="#"){if(a.hasOwnProperty(d)){a[d]++;return}a[d]=1;a.$length++}else{if(f.hasOwnProperty(d)){f[d]++;return}f[d]=1;f.$length++}}else{if(e===this.SELECTOR_ALL){u.all++}else{if(l.hasOwnProperty(e)){l[e]++;return}l[e]=1;l.push(e)}}u.$length++},unsubscribe:function(e,t,n,r,i){var s=this,o=!!r.capture,u=e.match(s.idOrClassSelectorRegex),a,f,l,c,h,p,d,v,m;if(r.delegated===false||s.directEvents[t]||e===Ext.windowId&&!s.isTargetWin){v=i.dom;m=v.id;h=s.getDirectSubscribers(m,t);if(n){if(h.$length){s.removeDirectListener(t,v,o)}delete s.directSubscribers[m]}else if(!--h.$length){s.removeDirectListener(t,v,o);delete s.directSubscribers[m][t]}else if(!u){Ext.Array.remove(h.selector,e)}return}a=s.getSubscribers(t,o);f=a.id;l=a.className;c=a.selector;if(u){p=u[1];d=u[2];if(p==="#"){if(!f.hasOwnProperty(d)||!n&&--f[d]>0){return}delete f[d];f.$length--}else{if(!l.hasOwnProperty(d)||!n&&--l[d]>0){return}delete l[d];l.$length--}}else{if(e===s.SELECTOR_ALL){if(n){a.all=0}else{a.all--}}else{if(!c.hasOwnProperty(e)||!n&&--c[e]>0){return}delete c[e];Ext.Array.remove(c,e)}}a.$length--},getPropagatingTargets:function(e){var t=[];if(!e){return t}do{t[t.length]=e;e=e.parentNode}while(e);return t},dispatch:function(e,t,n){n.push(n[0].target);this.callParent(arguments)},publish:function(e,t,n){var r=this.getSubscribers(e,true),i=this.getSubscribers(e),s=this.getSubscribers("*",true),o=this.getSubscribers("*"),u=r.$length,a=i.$length,f=s.$length,l=o.$length,c;if(!u&&!a&&!f&&!l){return}if(Ext.isArray(t)){c=t}else if(this.captureEvents[e]){c=[t]}else{c=this.getPropagatingTargets(t)}if(!u||!this.doPublish(r,e,c,n,true)){if(f){this.doPublish(s,e,c,n,true)}}if(!n.isStopped&&(!a||!this.doPublish(i,e,c,n))){if(l){this.doPublish(o,e,c,n)}}return this},doPublish:function(e,t,n,r,i){var s=e.id,o=e.className,u=e.selector,a=s.$length>0,f=o.$length>0,l=u.length>0,c=e.all>0,h={},p=[r],d=false,v=this.classNameSplitRegex,m=0,g=n.length,y=1,b,w,E,S,x,T,N,C,k;if(i){m=g-1;g=y=-1}for(b=m;b!==g;b+=y){x=n[b];r.setCurrentTarget(x);if(a){T=x.tagName==="FORM"?x.getAttribute("id"):x===window?"ext-window":x.id;if(T){if(s.hasOwnProperty(T)){d=true;this.dispatch("#"+T,t,p,i)}}}if(f){N=x.className;if(N){C=N.split(v);for(E=0,S=C.length;E<S;E++){N=C[E];if(!h[N]){h[N]=true;if(o.hasOwnProperty(N)){d=true;this.dispatch("."+N,t,p)}}}}}if(r.isStopped){return d}}if(c&&!d){r.setCurrentTarget(r.browserEvent.target);d=true;this.dispatch(this.SELECTOR_ALL,t,p);if(r.isStopped){return d}}if(l){for(E=0,S=n.length;E<S;E++){x=n[E];for(b=0,w=u.length;b<w;b++){k=u[b];if(Ext.fly(x).is(k)){r.setCurrentTarget(x);d=true;this.dispatch(k,t,p)}if(r.isStopped){return d}}}}return d},onDelegatedEvent:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doDelegatedEvent,this,[e])}else{this.doDelegatedEvent(e)}},doDelegatedEvent:function(e,t){var n=this,r=e.type,i;i=new Ext.event.Event(e);if(n.isEventBlocked(i)){return false}n.beforeEvent(i);r=i.type=n.vendorToEventMap[r]||r;Ext.frameStartTime=e.timeStamp;n.reEnterCount++;n.publish(r,i.target,i);n.reEnterCount--;if(t!==false){n.afterEvent(i)}return i},onDirectEvent:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[e])}else{this.doDirectEvent(e)}},doDirectEvent:function(e){var t=this,n=e.type,r=new Ext.event.Event(e),i,s,o,u,a,f,l,c,h,p,d;if(t.isEventBlocked(r)){return}t.beforeEvent(r);i=r.type=this.vendorToEventMap[n]||n;s=e.currentTarget;o=s.id;u=t.getDirectSubscribers(o,i).selector;a=t.dispatcher;f=t.targetType;l=e.target;c=l;Ext.frameStartTime=e.timeStamp;if(l.navigator){o="ext-window"}r.setCurrentTarget(s);if(u){p=u.length;while(c!==s){for(h=0;h<p;h++){d=u[h];if(Ext.fly(c).is(d)){a.dispatchDirectEvent(f,d,i,[r,l])}}c=c.parentNode}}t.reEnterCount++;a.dispatchDirectEvent(f,"#"+o,i,[r,l]);t.reEnterCount--;t.afterEvent(r)},beforeEvent:function(e){var t=e.browserEvent,n=Ext.event.publisher.Dom,r,i;if(t.type==="touchstart"){r=t.touches;if(r.length===1){i=r[0];n.lastTouchStartX=i.pageX;n.lastTouchStartY=i.pageY}}},afterEvent:function(e){var t=e.browserEvent,n=t.type,r=Ext.event.publisher.Dom,i=Ext.GlobalEvents;if(e.self.pointerEvents[n]&&e.pointerType!=="mouse"){r.lastScreenPointerEventTime=Ext.now()}if(n==="touchend"){r.lastTouchEndTime=Ext.now()}if(!this.reEnterCount&&i.hasListeners.idle&&!i.idleEventMask[n]){i.fireEvent("idle")}},isEventBlocked:function(e){var t=this,n=e.type,r=Ext.event.publisher.Dom,i=Ext.now();return t.blockedPointerEvents[n]&&e.pointerType!=="mouse"||t.blockedCompatibilityMouseEvents[n]&&i-r.lastScreenPointerEventTime<1e3||Ext.supports.TouchEvents&&e.self.mouseEvents[e.type]&&Math.abs(e.pageX-r.lastTouchStartX)<15&&Math.abs(e.pageY-r.lastTouchStartY)<15&&Ext.now()-r.lastTouchEndTime<1e3},hasSubscriber:function(e,t){var n=e.match(this.idOrClassSelectorRegex),r=this.getSubscribers(t),i,s;if(n!==null){i=n[1];s=n[2];if(i==="#"){return r.id.hasOwnProperty(s)}else{return r.className.hasOwnProperty(s)}}else{return r.selector.hasOwnProperty(e)&&Ext.Array.indexOf(r.selector,e)!==-1}return false},getSubscribersCount:function(e){return this.getSubscribers(e).$length+this.getSubscribers("*").$length},destroy:function(){var e=this,t=e.handledEvents,n,r,i;if(t){for(n=0,r=t.length;n<r;n++){e.removeDelegatedListener(t[n])}}else{for(i in e.globalListeners){e.removeDelegatedListener(i)}}}});Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(){var e=Ext.event.publisher.Dom,t=e.prototype;if(Ext.isIE9m){e.override({initHandlers:function(){var e=this,t=document.body,n,r;e.callParent();n=e.onDelegatedEvent;r=e.onDirectEvent;e.target=document;e.targetIsWin=false;e.onDelegatedEvent=function(r){r.target=r.srcElement||window;if(r.type==="focusin"){r.relatedTarget=r.fromElement===t?null:r.fromElement}else if(r.type==="focusout"){r.relatedTarget=r.toElement===t?null:r.toElement}n.call(e,r)};e.onDirectEvent=function(t){t.target=t.srcElement||window;t.currentTarget=this;r.call(e,t)}},addDelegatedListener:function(e){this.target.attachEvent("on"+e,this.onDelegatedEvent)},removeDelegatedListener:function(e){this.target.detachEvent("on"+e,this.onDelegatedEvent)},addDirectListener:function(e,t){var n=this,r=Ext.Function.bind(n.onDirectEvent,t);n.directSubscribers[t.id][e].fn=r;if(t.attachEvent){t.attachEvent("on"+e,r)}else{n.callParent(arguments)}},removeDirectListener:function(e,t){if(t.detachEvent){t.detachEvent("on"+e,this.directSubscribers[t.id][e].fn)}else{this.callParent(arguments)}}});Ext.apply(t.directEvents,t.captureEvents);t.captureEvents={}}});Ext.define("Ext.event.publisher.Gesture",{extend:"Ext.event.publisher.Dom",alternateClassName:"Ext.event.publisher.TouchGesture",requires:["Ext.util.Point","Ext.AnimationQueue"],config:{recognizers:{}},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},constructor:function(e){var t=this,n=t.onTouchStart,r=t.onTouchMove=Ext.Function.createAnimationFrame(t.onTouchMove,t),i=t.onTouchEnd=Ext.Function.createAnimationFrame(t.onTouchEnd,t,null,1);t.handlers={touchstart:n,touchmove:r,touchend:i,touchcancel:i,pointerdown:n,pointermove:r,pointerup:i,pointercancel:i,MSPointerDown:n,MSPointerMove:r,MSPointerUp:i,MSPointerCancel:i,mousedown:n,mousemove:r,mouseup:i};t.recognizedEvents={};t.activeTouchesMap={};t.activeTouches=[];t.changedTouches=[];if(Ext.supports.TouchEvents){t.onTargetTouchMove=t.onTargetTouchMove.bind(t);t.onTargetTouchEnd=t.onTargetTouchEnd.bind(t)}t.initConfig(e);return t.callParent()},applyRecognizers:function(e){var t,n;for(t in e){n=e[t];if(n){this.registerRecognizer(n)}}return e},handles:function(e){var t=this.handledEventsMap;return!!t[e]||!!t["*"]||e==="*"||this.recognizedEvents.hasOwnProperty(e)},registerRecognizer:function(e){var t=this,n=t.recognizedEvents,r=e.getHandledEvents(),i,s;e.setOnRecognized(t.onRecognized);e.setCallbackScope(t);for(i=0,s=r.length;i<s;i++){n[r[i]]=1}},onRecognized:function(e,t,n){var r=this,i=t.changedTouches,s=i.length,o,u,a,f;n=n||{};n.type=e;n.target=i[0].target;n.isStopped=false;t=t.chain(n);if(s>1){o=[];for(a=0;a<s;a++){f=i[a];o.push(f.targets)}u=r.getCommonTargets(o)}else{u=i[0].targets}r.publish(e,u,t)},getCommonTargets:function(e){var t=e[0],n=e.length;if(n===1){return t}var r=[],i=1,s,o,u;while(true){s=t[t.length-i];if(!s){return r}for(u=1;u<n;u++){o=e[u];if(o[o.length-i]!==s){return r}}r.unshift(s);i++}return r},invokeRecognizers:function(e,t){var n=this.getRecognizers(),r,i;if(e==="onStart"){for(r in n){n[r].isActive=true}}for(r in n){i=n[r];if(i.isActive&&i[e].call(i,t)===false){i.isActive=false}}},updateTouches:function(e,t){var n=this,r=e.browserEvent,i=r.changedTouches||[r],s=n.activeTouches,o=n.activeTouchesMap,u=[],a,f,l,c,h,p,d,v;for(h=0,p=i.length;h<p;h++){a=i[h];if("identifier"in a){f=a.identifier}else if("pointerId"in a){f=a.pointerId}else{f=1}l=o[f];if(t){delete o[f];Ext.Array.remove(s,l)}else if(!l){c=Ext.event.Event.resolveTextNode(a.target);l=o[f]={identifier:f,target:c,targets:n.getPropagatingTargets(c)};s.push(l)}d=a.pageX;v=a.pageY;l.pageX=d;l.pageY=v;l.point=new Ext.util.Point(d,v);u.push(l)}e.touches=Ext.Array.clone(s);e.changedTouches=u},doDelegatedEvent:function(e){var t=this;e=t.callParent([e,false]);if(e){if(!e.button||e.button<1){t.handlers[e.type].call(t,e)}t.afterEvent(e)}},onTouchStart:function(e){var t=this,n=e.target;if(e.browserEvent.type==="touchstart"){n.addEventListener("touchmove",t.onTargetTouchMove);n.addEventListener("touchend",t.onTargetTouchEnd);n.addEventListener("touchcancel",t.onTargetTouchEnd)}t.updateTouches(e);if(!t.isStarted){t.isStarted=true;t.invokeRecognizers("onStart",e);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}}t.invokeRecognizers("onTouchStart",e)},onTouchMove:function(e){if(this.isStarted){this.updateTouches(e);if(e.changedTouches.length>0){this.invokeRecognizers("onTouchMove",e)}}},onTouchEnd:function(e){var t=this;if(!t.isStarted){return}t.updateTouches(e,true);t.invokeRecognizers(t.isCancelEvent[e.type]?"onTouchCancel":"onTouchEnd",e);if(!t.activeTouches.length){t.isStarted=false;t.invokeRecognizers("onEnd",e);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}},onTargetTouchMove:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchMove,this,[e])}else{this.doTargetTouchMove(e)}},doTargetTouchMove:function(e){if(!Ext.getBody().contains(e.target)){this.onTouchMove(new Ext.event.Event(e))}},onTargetTouchEnd:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchEnd,this,[e])}else{this.doTargetTouchEnd(e)}},doTargetTouchEnd:function(e){var t=this,n=e.target;n.removeEventListener("touchmove",t.onTargetTouchMove);n.removeEventListener("touchend",t.onTargetTouchEnd);n.removeEventListener("touchcancel",t.onTargetTouchEnd);if(!Ext.getBody().contains(n)){t.onTouchEnd(new Ext.event.Event(e))}}},function(){var e=[],t=Ext.supports,n=t.TouchEvents;if(t.PointerEvents){e.push("pointerdown","pointermove","pointerup","pointercancel")}else if(t.MSPointerEvents){e.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel")}else if(n){e.push("touchstart","touchmove","touchend","touchcancel")}if(!e.length||n&&Ext.isWebKit&&Ext.os.is.Desktop){e.push("mousedown","mousemove","mouseup")}this.prototype.handledEvents=e});Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){if(Ext.isIE9m){this.override({updateTouches:function(e,t){var n=e.browserEvent,r=e.getXY();n.pageX=r[0];n.pageY=r[1];this.callParent([e,t])},initHandlers:function(){var e=this,t;e.callParent();t=e.onDelegatedEvent;e.onDelegatedEvent=function(n){t.call(e,Ext.event.Event.enableIEAsync(n))}}})}});Ext.define("Ext.event.publisher.Focus",{extend:"Ext.event.publisher.Dom",handledEvents:["focusin","focusout"],syntheticEvents:{focusenter:true,focusleave:true},eventMap:{focus:"focusenter",focusin:"focusenter",blur:"focusleave",focusout:"focusleave"},handles:function(e){return this.syntheticEvents[e]},doDelegatedEvent:function(e,t){var n=this;e=n.callParent([e,false]);if(e){n.processSyntheticEvent(n.eventMap[e.type],e);if(t){n.afterEvent(e)}}},createSyntheticEvent:function(e,t,n){var r=new Ext.event.Event(t.browserEvent);r.type=e;if(n){r.relatedTarget=r.target;r.target=n}else{r.target=t.target;r.relatedTarget=t.relatedTarget||null}return r},processSyntheticEvent:function(e,t,n){var r=this,i,s,o,u,a,f;i=r.getSubscribers(e);if(i.$length){s=r.gatherSubscriberNodes(e,i);f=[];for(u=0,a=s.length;u<a;u++){o=s[u];if(r.isEventTarget(o,e,t,n)){f.push(o)}}for(u=0,a=f.length;u<a;u++){o=f[u];if(o){r.fireNodeEvent(o,e,t,n)}}}},gatherSubscriberNodes:function(e,t){var n=t.id,r=t.className,i=t.selector,s=n.$length>0,o=r.$length>0,u=i.$length>0,a=[],f,l;if(s){for(l in n){if(l==="$length"){continue}f=document.getElementById(l);if(f){a.push(f)}}}if(o){Ext.Error.raise("Class name subscribers in Focus publisher")}if(u){Ext.Error.raise("Selector subscribers in Focus publisher")}return a},isEventTarget:function(e,t,n,r){return t==="focusenter"?this.isFocusEnterTarget(e,n,r):t==="focusleave"?this.isFocusLeaveTarget(e,n,r):null},isFocusEnterTarget:function(e,t,n){var r=t.browserEvent,i=n||r.relatedTarget,s=r.target,o;if(s===window){return false}o=Ext.fly(e);if(!o.isAncestor(s)){return false}if(!i){return true}if(!o.isAncestor(i)){return true}return false},isFocusLeaveTarget:function(e,t,n){var r=t.browserEvent,i=n!==undefined?n:r.target,s=n!==undefined?r.target:r.relatedTarget,o;if(i===window||s===window){return false}o=Ext.fly(e);if(!o.isAncestor(i)){return false}if(!s){return true}if(!o.isAncestor(s)){return true}return false},fireNodeEvent:function(e,t,n,r){var i=this.createSyntheticEvent(t,n,r);i.setCurrentTarget(e);this.dispatch("#"+e.id,t,[i,e])}},function(){if(!Ext.supports.FocusinFocusoutEvents){document.addEventListener("blur",function(e){if(e.target===window||e.target===document){delete document.previousActiveElement}else{document.previousActiveElement=e.target}},true);this.override({handledEvents:["focus"],doDelegatedEvent:function(e,t){var n=this,r;e=n.callSuper([e,false]);if(e){r=document.previousActiveElement;if(r!==undefined){n.processSyntheticEvent("focusleave",e,r)}n.processSyntheticEvent(n.eventMap[e.type],e,r||null);if(t){n.afterEvent(e)}}}})}});Ext.require(["Ext.event.gesture.*","Ext.event.publisher.Dom","Ext.event.publisher.Gesture","Ext.event.publisher.Focus","Ext.event.Dispatcher"]);Ext.onReady(function(){var e=Ext.event.Dispatcher.getInstance();e.setPublishers({dom:new Ext.event.publisher.Dom,gesture:new Ext.event.publisher.Gesture({recognizers:{drag:new Ext.event.gesture.Drag,tap:new Ext.event.gesture.Tap,doubleTap:new Ext.event.gesture.DoubleTap,longPress:new Ext.event.gesture.LongPress,swipe:new Ext.event.gesture.Swipe,pinch:new Ext.event.gesture.Pinch,rotate:new Ext.event.gesture.Rotate,edgeSwipe:new Ext.event.gesture.EdgeSwipe}}),focus:new Ext.event.publisher.Focus});Ext.get(window).on("unload",e.destroy,e)},null,{priority:2e3});Ext.apply(Ext,{SSL_SECURE_URL:Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank",BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="});Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",requires:["Ext.Component"],$configStrict:false,isComponent:true,liquidLayout:true,rendered:true,rendering:true,cachedConfig:{baseCls:Ext.baseCSSPrefix+"widget"},constructor:function(e){this.callParent([e]);this.getComponentLayout()},addCls:function(e){this.el.addCls(e)},addClsWithUI:function(e){this.el.addCls(e)},afterComponentLayout:Ext.emptyFn,finishRender:function(){this.rendering=false;this.initBindable()},getComponentLayout:function(){var e=this,t=e.componentLayout;if(!t){t=e.componentLayout=new Ext.layout.component.Auto;t.setOwner(e)}return t},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(e,t,n){var r=this,i=r.inheritedState;r.ownerCt=e;if(i&&n){r.invalidateInheritedState()}if(r.reference){r.fixReference()}},onRemoved:function(e){var t=this,n;if(t.reference){n=t.lookupReferenceHolder();if(n){n.clearReference(t)}}if(!e){t.removeBindings()}if(t.inheritedState&&!e){t.invalidateInheritedState()}t.ownerCt=t.ownerLayout=null},parseBox:function(e){return Ext.Element.parseBox(e)},render:function(e,t){var n=this.element,r;if(t){nextSibiling=e.childNodes[t];if(r){e.insertBefore(n,r);return}}e.appendChild(n)},setPosition:function(e,t){this.el.setLocalXY(e,t)}},function(){var e;if(Ext.isIE8){e=Ext.Widget.prototype;e.addElementReferenceOnDemand=e.addElementReference}this.borrow(Ext.Component,["up"])});Ext.define("Ext.util.XTemplateParser",{requires:["Ext.String"],constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t=this,n=e.length,r={elseif:"elif"},i=t.topRe,s=t.actionsRe,o,u,a,f,l,c,h,p,d,v,m,g,y;t.level=0;t.stack=u=[];for(o=0;o<n;o=v){i.lastIndex=o;f=i.exec(e);if(!f){t.doText(e.substring(o,n));break}d=f.index;v=i.lastIndex;if(o<d){a=e.substring(o,d);if(!(y&&Ext.String.trim(a)==="")){t.doText(a)}}y=false;if(f[1]){v=e.indexOf("%}",d+2);t.doEval(e.substring(d+2,v));v+=2}else if(f[2]){v=e.indexOf("]}",d+2);t.doExpr(e.substring(d+2,v));v+=2}else if(f[3]){t.doTag(f[3])}else if(f[4]){m=null;while((p=s.exec(f[4]))!==null){a=p[2]||p[3];if(a){a=Ext.String.htmlDecode(a);l=p[1];l=r[l]||l;m=m||{};c=m[l];if(typeof c=="string"){m[l]=[c,a]}else if(c){m[l].push(a)}else{m[l]=a}}}if(!m){if(t.elseRe.test(f[4])){t.doElse()}else if(t.defaultRe.test(f[4])){t.doDefault()}else{t.doTpl();u.push({type:"tpl"})}}else if(m["if"]){t.doIf(m["if"],m);u.push({type:"if"})}else if(m["switch"]){t.doSwitch(m["switch"],m);u.push({type:"switch"});y=true}else if(m["case"]){t.doCase(m["case"],m)}else if(m["elif"]){t.doElseIf(m["elif"],m)}else if(m["for"]){++t.level;if(g=t.propRe.exec(f[4])){m.propName=g[1]||g[2]}t.doFor(m["for"],m);u.push({type:"for",actions:m})}else if(m["foreach"]){++t.level;if(g=t.propRe.exec(f[4])){m.propName=g[1]||g[2]}t.doForEach(m["foreach"],m);u.push({type:"foreach",actions:m})}else if(m.exec){t.doExec(m.exec,m);u.push({type:"exec",actions:m})}}else if(f[0].length===5){u.push({type:"tpl"})}else{h=u.pop();t.doEnd(h.type,h.actions);if(h.type=="for"||h.type=="foreach"){--t.level}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.util.XTemplateCompiler",{extend:"Ext.util.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this,n=t.generate(e);return t.useEval?t.evalTpl(n):(new Function("Ext",n))(Ext)},generate:function(e){var t=this,n="var fm=Ext.util.Format,ts=Object.prototype.toString;",r;t.maxLevel=0;t.body=["var c0=values, a0="+t.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(t.definitions){if(typeof t.definitions==="string"){t.definitions=[t.definitions,n]}else{t.definitions.push(n)}}else{t.definitions=[n]}t.switches=[];t.parse(e);t.definitions.push((t.useEval?"$=":"return")+" function ("+t.fnArgs+") {",t.body.join(""),"}");r=t.definitions.join("\n");t.definitions.length=t.body.length=t.switches.length=0;delete t.definitions;delete t.body;delete t.switches;return r},doText:function(e){var t=this,n=t.body;e=e.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n");if(t.useIndex){n.push("out[out.length]='",e,"'\n")}else{n.push("out.push('",e,"')\n")}},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out");if(this.useIndex){t.push("[out.length]=v+''\n")}else{t.push(".push(v+'')\n")}},doTag:function(e){var t=this.parseTag(e);if(t){this.doExpr(t)}else{this.doText("{"+e+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var n=this;if(e==="."){n.body.push("if (values) {\n")}else if(n.propNameRe.test(e)){n.body.push("if (",n.parseTag(e),") {\n")}else{n.body.push("if (",n.addFn(e),n.callFn,") {\n")}if(t.exec){n.doExec(t.exec)}},doElseIf:function(e,t){var n=this;if(e==="."){n.body.push("else if (values) {\n")}else if(n.propNameRe.test(e)){n.body.push("} else if (",n.parseTag(e),") {\n")}else{n.body.push("} else if (",n.addFn(e),n.callFn,") {\n")}if(t.exec){n.doExec(t.exec)}},doSwitch:function(e){var t=this,n;if(e==="."||e==="#"){n=e==="."?"values":"xindex";t.body.push("switch (",n,") {\n")}else if(t.propNameRe.test(e)){t.body.push("switch (",t.parseTag(e),") {\n")}else{t.body.push("switch (",t.addFn(e),t.callFn,") {\n")}t.switches.push(0)},doCase:function(e){var t=this,n=Ext.isArray(e)?e:[e],r=t.switches.length-1,i,s;if(t.switches[r]){t.body.push("break;\n")}else{t.switches[r]++}for(s=0,r=n.length;s<r;++s){i=t.intRe.exec(n[s]);n[s]=i?i[1]:"'"+n[s].replace(t.aposRe,"\\'")+"'"}t.body.push("case ",n.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;if(e.switches[t]){e.body.push("break;\n")}else{e.switches[t]++}e.body.push("default:\n")},doEnd:function(e,t){var n=this,r=n.level-1;if(e=="for"||e=="foreach"){if(t.exec){n.doExec(t.exec)}n.body.push("}\n");n.body.push("parent=p",r,";values=r",r+1,";xcount=n"+r+";xindex=i",r,"+1;xkey=k",r,";\n")}else if(e=="if"||e=="switch"){n.body.push("}\n")}},doFor:function(e,t){var n=this,r,i=n.level,s=i-1,o;if(e==="."){r="values"}else if(n.propNameRe.test(e)){r=n.parseTag(e)}else{r=n.addFn(e)+n.callFn}if(n.maxLevel<i){n.maxLevel=i;n.body.push("var ")}if(e=="."){o="c"+i}else{o="a"+s+"?c"+s+"[i"+s+"]:c"+s}n.body.push("i",i,"=0,n",i,"=0,c",i,"=",r,",a",i,"=",n.createArrayTest(i),",r",i,"=values,p",i,",k",i,";\n","p",i,"=parent=",o,"\n","if (c",i,"){if(a",i,"){n",i,"=c",i,".length;}else if (c",i,".isMixedCollection){c",i,"=c",i,".items;n",i,"=c",i,".length;}else if(c",i,".isStore){c",i,"=c",i,".data.items;n",i,"=c",i,".length;}else{c",i,"=[c",i,"];n",i,"=1;}}\n","for (xcount=n",i,";i",i,"<n"+i+";++i",i,"){\n","values=c",i,"[i",i,"]");if(t.propName){n.body.push(".",t.propName)}n.body.push("\n","xindex=i",i,"+1\n");if(t.between){n.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')}},doForEach:function(e,t){var n=this,r,i=n.level,s=i-1,o;if(e==="."){r="values"}else if(n.propNameRe.test(e)){r=n.parseTag(e)}else{r=n.addFn(e)+n.callFn}if(n.maxLevel<i){n.maxLevel=i;n.body.push("var ")}if(e=="."){o="c"+i}else{o="a"+s+"?c"+s+"[i"+s+"]:c"+s}n.body.push("i",i,"=-1,n",i,"=0,c",i,"=",r,",a",i,"=",n.createArrayTest(i),",r",i,"=values,p",i,",k",i,";\n","p",i,"=parent=",o,"\n","for(k",i," in c",i,"){\n","xindex=++i",i,"+1;\n","xkey=k",i,";\n","values=c",i,"[k",i,"];");if(t.propName){n.body.push(".",t.propName)}if(t.between){n.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')}},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var n=this,r="f"+n.definitions.length,i=n.guards[n.strict?0:1];n.definitions.push("function "+r+"("+n.fnArgs+") {",i.doTry," var $v = values; with($v) {","  "+e," }",i.doCatch,"}");n.body.push(r+n.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n"+'Ext.log.warn("XTemplate evaluation exception: " + e.message);\n'+"}"}],addFn:function(e){var t=this,n="f"+t.definitions.length,r=t.guards[t.strict?0:1];if(e==="."){t.definitions.push("function "+n+"("+t.fnArgs+") {"," return values","}")}else if(e===".."){t.definitions.push("function "+n+"("+t.fnArgs+") {"," return parent","}")}else{t.definitions.push("function "+n+"("+t.fnArgs+") {",r.doTry," var $v = values; with($v) {","  return("+e+")"," }",r.doCatch,"}")}return n},parseTag:function(e){var t=this,n=t.tagRe.exec(e),r,i,s,o,u;if(!n){return null}r=n[1];i=n[2];s=n[3];o=n[4];if(r=="."){if(!t.validTypes){t.definitions.push("var validTypes={string:1,number:1,boolean:1};");t.validTypes=true}u='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else if(r=="#"){u="xindex"}else if(r=="$"){u="xkey"}else if(r.substr(0,7)=="parent."){u=r}else if(isNaN(r)&&r.indexOf("-")==-1&&r.indexOf(".")!=-1){u="values."+r}else{u="values['"+r+"']"}if(o){u="("+u+o+")"}if(i&&t.useFormat){s=s?","+s:"";if(i.substr(0,5)!="this."){i="fm."+i+"("}else{i+="("}}else{return u}return i+u+s+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey";e.callFn=".call(this,"+e.fnArgs+")"});Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:["Ext.util.XTemplateCompiler"],emptyObj:{},fn:null,strict:false,apply:function(e,t){return this.applyOut(e,[],t).join("")},applyOut:function(e,t,n){var r=this,i;if(!r.fn){i=new Ext.util.XTemplateCompiler({useFormat:r.disableFormats!==true,definitions:r.definitions,strict:r.strict});r.fn=i.compile(r.html)}if(r.strict){r.fn(t,e,n||r.emptyObj,1,1)}else{try{r.fn(t,e,n||r.emptyObj,1,1)}catch(s){Ext.log.warn("XTemplate evaluation exception: "+s.message)}}return t},compile:function(){return this},statics:{getTpl:function(e,t){var n=e[t],r;if(n&&!n.isTemplate){n=Ext.ClassManager.dynInstantiate("Ext.XTemplate",n);if(e.hasOwnProperty(t)){r=e}else{for(r=e.self.prototype;r&&!r.hasOwnProperty(t);r=r.superclass){}}r[t]=n;n.owner=r}return n||null}}});Ext.Factory=function(e){var t=this;t.aliasPrefix=e+".";t.cache={};t.name=e.replace(t.fixNameRe,t.fixNameFn);t.type=e};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(e,t){var n=this,r=Ext.ClassManager,i=n.cache,s,o,u,a;if(e){if(e[n.instanceProp]){return e}if(typeof e==="string"){a=e;e={};e[n.defaultProperty]=a}o=e.xclass;a=e.type}if(o){if(!(u=r.get(o))){return r.instantiate(o,e)}}else{if(!(a=a||t||n.defaultType)){u=n.defaultClass}if(!a&&!u){Ext.Error.raise("No type specified for "+n.type+".create")}if(!u&&!(u=i[a])){s=n.aliasPrefix+a;o=r.getNameByAlias(s);if(!(u=o&&r.get(o))){return r.instantiateByAlias(s,e)}i[a]=u}}return u.isInstance?u:new u(e)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(e){return e.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(e,t){var n=Ext.Factory,r,i,s;if(e.constructor===Object){Ext.Object.each(e,n.define,n)}else{i=new Ext.Factory(e);if(t){if(t.constructor===Object){Ext.apply(i,t);if(typeof (r=i.xclass)==="string"){i.defaultClass=Ext.ClassManager.get(r)}}else{i.defaultType=t}}n[i.name]=s=i.create.bind(i);s.instance=i}return s};Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(e){var t=e.prototype,n=t.factoryConfig,r=t.alias,i={},s;r=r&&r.length&&r[0];if(r&&(s=r.lastIndexOf("."))>0){i.type=r.substring(0,s);i.defaultType=r.substring(s+1)}if(n){delete t.factoryConfig;Ext.apply(i,n)}e.create=Ext.Factory.define(i.type,i)}});Ext.define("Ext.util.CollectionKey",{mixins:["Ext.mixin.Identifiable"],config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:true},generation:0,map:null,mapRebuilds:0,constructor:function(e){this.initConfig(e);if(!Ext.isFunction(this.getKey)){Ext.Error.raise("CollectionKey requires a keyFn or property config")}},get:function(e){var t=this.map||this.getMap();return t[e]||null},getRootProperty:function(){var e=this,t=this.callParent();return t!==null?t:e.getCollection().getRootProperty()},indexOf:function(e,t){var n=this.map||this.getMap(),r=n[e],i=this.getCollection(),s=i.length,o,u,a,f;if(!r){return-1}if(t===undefined){t=-1}if(r instanceof Array){a=r;u=s;for(f=a.length;f-->0;){o=i.indexOf(a[f]);if(o<u&&o>t){u=o}}if(u===s){return-1}}else{u=i.indexOf(r)}return u>t?u:-1},updateKey:function(e,t){var n=this,r=n.map,i,s;if(r){i=r[t];if(i instanceof Array){s=Ext.Array.indexOf(i,e);if(s>=0){if(i.length>2){i.splice(s,1)}else{r[t]=i[1-s]}}}else if(i){if(n.getUnique()&&i!==e){Ext.Error.raise('Incorrect oldKey "'+t+'" for item with newKey "'+n.getKey(e)+'"')}delete r[t]}n.add([e])}},onCollectionAdd:function(e,t){if(this.map){this.add(t.items)}},onCollectionItemChange:function(e,t){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(e,t){var n=this,r=n.map,i=t.items,s=i.length,o,u,a;if(r){if(n.getUnique()&&s<e.length/2){for(o=0;o<s;++o){a=n.getKey(u=i[o]);delete r[a]}}else{n.map=null}}},add:function(e){var t=this,n=t.map,r,i,s,o,u,a;u=e.length;a=t.getUnique();for(i=0;i<u;++i){o=t.getKey(s=e[i]);if(a||!(o in n)){n[o]=s}else{if(!((r=n[o])instanceof Array)){n[o]=r=[r]}r.push(s)}}},applyKeyFn:function(e){if(Ext.isString(e)){this.getKey=function(t){return t[e]()}}else{this.getKey=e}},applyProperty:function(e){var t=this.getRootProperty();this.getKey=function(n){return(t?n[t]:n)[e]}},getMap:function(){var e=this,t=e.map;if(!t){e.map=t={};e.keysByItemKey={};++e.mapRebuilds;e.add(e.getCollection().items)}return t},updateCollection:function(e){e.addObserver(this)}});Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:true,config:{groupFn:null,sortProperty:null},constructor:function(e){if(e){if(e.getGroupString){Ext.Error.raise("Cannot set getGroupString - use groupFn instead")}}this.callParent(arguments)},getGroupString:function(e){var t=this._groupFn(e);return t!=null?String(t):""},sortFn:function(e,t){var n=this,r=n._groupFn(e),i=n._groupFn(t),s=n._sortProperty,o=n._root,u=n._sorterFn,a=n._transform;if(r===i){return 0}if(s||u){if(u){return u.call(this,e,t)}if(o){e=e[o];t=t[o]}r=e[s];i=t[s];if(a){r=a(r);i=a(i)}}return r>i?1:r<i?-1:0},standardGroupFn:function(e){var t=this._root;return(t?e[t]:e)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}});Ext.define("Ext.util.Collection",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.CollectionKey","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isCollection:true,config:{autoFilter:true,autoSort:true,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:false,sorted:false,filtered:false,constructor:function(e){var t=this;t.items=[];t.map={};t.length=0;if(e&&e.keyFn){t.getKey=e.keyFn}t.mixins.observable.constructor.call(t,e)},destroy:function(){var e=this,t=e._filters,n=e._sorters,r=e._groups;if(t){t.destroy();e._filters=null}if(n){n.destroy();e._sorters=null}if(r){r.destroy();e._groups=null}e.setSource(null);e.observers=e.items=e.map=null},add:function(e){var t=this,n=t.decodeItems(arguments,0),r=n;if(n.length){t.splice(t.length,0,n);r=n.length===1?n[0]:n}return r},replaceAll:function(){var e=this,t=e.length,n,r;if(t===0){return e.add.apply(e,arguments)}r=e.decodeItems(arguments,0);n=r;if(r.length){e.splice(0,e.length,r);n=r.length===1?r[0]:r}else{e.removeAll()}return n},aggregate:function(e,t,n,r,i){var s=this,o=Ext.Array.slice(arguments);o.unshift(s.items);return s.aggregateItems.apply(s,o)},aggregateByGroup:function(e,t,n){var r=this.getGroups();return this.aggregateGroups(r,e,t,n)},aggregateItems:function(e,t,n,r,i,s){var o=this,u=Ext.Number.clipIndices(e.length,[r,i]),a=r!==0&&i!==e.length,f,l,c,h,p,d,v;r=u[0];i=u[1];if(!Ext.isFunction(n)){n=o._aggregators[n];return n.call(o,e,r,i,t,o.getRootProperty())}h=o.getRootProperty();d=new Array(c);v=a?new Array(c):e;for(f=r,l=0;f<i;++f,l++){if(a){v[l]=p=e[f]}d[l]=(h?p[h]:p)[t]}return n.call(s||o,e,d,0)},aggregateGroups:function(e,t,n,r){var i=e.items,s=i.length,o=!Ext.isFunction(n),u={},a,f,l;for(a=0;a<s;++a){f=i[a];if(!o){l=this.aggregateItems(f.items,t,n,null,null,r)}else{l=f[n](t)}u[f.getGroupKey()]=l}return u},beginUpdate:function(){if(!(this.updating++)){this.notify("beginupdate")}},clear:function(){var e=this,t=e.generation,n=t?e.items:[];if(t){e.items=[];e.length=0;e.map={};e.indices={};e.generation++}return n},clone:function(){var e=this,t=new e.self(e.initialConfig);t.add(e.items);return t},collect:function(e,t,n){var r=this.items,i=r.length,s={},o=[],u,a,f;for(u=0;u<i;++u){f=r[u];f=(t?f[t]:f)[e];a=String(f);if((n||!Ext.isEmpty(f))&&!s[a]){s[a]=1;o.push(f)}}return o},contains:function(e){var t=false,n;if(e!=null){n=this.getKey(e);t=this.map[n]===e}return t},containsKey:function(e){return e in this.map},createFiltered:function(e,t,n,r,i){var s=this,o=new s.self(s.initialConfig),u=s.getRootProperty(),a=s.items,f,l,c,h,p;if(Ext.isFunction(e)){h=e;p=t}else{if(Ext.isString(e)){c=[new Ext.util.Filter({property:e,value:t,root:u,anyMatch:n,caseSensitive:r,exactMatch:i})]}else if(e instanceof Ext.util.Filter){c=[e];e.setRoot(u)}else if(Ext.isArray(e)){c=e.slice(0);for(l=0,f=c.length;l<f;++l){c[l].setRoot(u)}}h=Ext.util.Filter.createFilterFn(c)}p=p||s;for(l=0,f=a.length;l<f;l++){if(h.call(p,a[l])){o.add(a[l])}}return o},filterBy:function(e,t){return this.createFiltered(e,t)},each:function(e,t){var n=this.items,r=n.length,i,s;if(r){t=t||this;n=n.slice(0);for(i=0;i<r;i++){s=e.call(t,n[i],i,r);if(s===false){break}}}return s},eachKey:function(e,t){var n=this,r=n.items,i=r.length,s,o,u,a;if(i){t=t||n;r=r.slice(0);for(s=0;s<i;s++){u=n.getKey(o=r[s]);a=e.call(t,u,o,s,i);if(a===false){break}}}return a},endUpdate:function(){if(!--this.updating){this.notify("endupdate")}},find:function(e,t,n,r,i,s){if(Ext.isEmpty(t,false)){return null}var o=Ext.String.createRegex(t,r,i,s),u=this.getRootProperty();return this.findBy(function(t){return t&&o.test((u?t[u]:t)[e])},null,n)},findBy:function(e,t,n){var r=this,i=r.items,s=i.length,o,u,a;t=t||r;for(o=n||0;o<s;o++){a=r.getKey(u=i[o]);if(e.call(t,u,a)){return i[o]}}return null},findIndex:function(e,t,n,r,i,s){var o=this.find(e,t,n,r,i,s);return o?this.indexOf(o):-1},findIndexBy:function(e,t,n){var r=this.findBy(e,t,n);return r?this.indexOf(r):-1},first:function(e){var t=e?this.getGroups():undefined;return t?this.aggregateGroups(t,null,"first"):this.items[0]},last:function(e){var t=e?this.getGroups():undefined;return t?this.aggregateGroups(t,null,"last"):this.items[this.length-1]},get:function(e){return this.map[e]},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},getCount:function(){return this.length},getKey:function(e){var t=e.id;return t===0||t?t:(t=e._id)===0||t?t:e.getId()},getRange:function(e,t){var n=this.items,r=n.length,i;if(e>t){Ext.Error.raise("Inverted range passed to Collection.getRange: ["+e+","+t+"]")}if(!r){i=[]}else{i=Ext.Number.clipIndices(r,[e,t]);i=n.slice(i[0],i[1])}return i},getValues:function(e,t,n,r){var i=this.items,s=Ext.Number.clipIndices(i.length,[n,r]),o=[],u,a;for(u=s[0],r=s[1];u<r;++u){a=i[u];a=(t?a[t]:a)[e];o.push(a)}return o},indexOf:function(e){if(!e){return-1}var t=this.getKey(e);return this.indexOfKey(t)},indexOfKey:function(e){var t=this,n=t.indices;if(e in t.map){if(!n){n=t.getIndices()}return n[e]}return-1},insert:function(e,t){var n=this,r=n.decodeItems(arguments,1),i=r;if(r.length){n.splice(e,0,r);i=r.length===1?r[0]:r}return i},itemChanged:function(e,t,n,r){var i=this,s=n===0||!!n,o=i.filtered&&i.getAutoFilter(),u=false,a=0,f=i.items,l=i.length-1,c=i.sorted&&l>0,h=i.getSource(),p,d=0,v,m=false,g,y=false,b,w,E;if(h&&!h.updating){h.itemChanged(e,t,n,r)}else{w=i.getKey(e);if(o){v=i.indexOfKey(s?n:w);y=v<0;m=i.isItemFiltered(e);u=y!==m}if(u){if(m){d=[e];g=-1}else{p=[e];g=i.length}}else if(c&&!m){if(!o){v=i.indexOfKey(s?n:w)}E=i.getSortFn();if(v&&E(f[v-1],f[v])>0){a=-1;g=Ext.Array.binarySearch(f,e,0,v,E)}else if(v<l&&E(f[v],f[v+1])>0){a=1;g=Ext.Array.binarySearch(f,e,v+1,E)}if(a){p=[e]}}b={item:e,key:w,index:g,filterChanged:u,keyChanged:s,indexChanged:!!a,filtered:m,oldIndex:v,newIndex:g,wasFiltered:y,meta:r};if(s){b.oldKey=n}if(t){b.modified=t}i.beginUpdate();i.notify("beforeitemchange",[b]);if(s){i.updateKey(e,n)}if(p||d){i.splice(g,d,p)}if(a>0){b.newIndex--}else if(a<0){b.oldIndex++}i.notify(m?"filtereditemchange":"itemchange",[b]);i.endUpdate()}},remove:function(e){var t=this,n=t.decodeRemoveItems(arguments,0),r=t.length;t.splice(0,n);return r-t.length},removeAll:function(){var e=this,t=e.length;if(e.generation&&t){e.splice(0,t)}return e},removeAt:function(e,t){var n=this,r=n.length,i=Ext.Number,s=i.clipIndices(r,[e,t===undefined?1:t],i.Clip.COUNT),o=s[0],u=s[1]-o,a=u===1&&n.getAt(o),f;n.splice(o,u);f=n.length-r;return a&&f?a:f},removeByKey:function(e){var t=this.getByKey(e);if(!t||!this.remove(t)){return false}return t},splice:function(e,t,n){var r=this,i=r.sorted&&r.getAutoSort(),s=r.map,o=r.items,u=r.length,a=t instanceof Array?r.decodeRemoveItems(t):null,f=!a,l=Ext.Number,c=l.clipIndices(u,[e,f?t:0],l.Clip.COUNT),h=c[0],p=c[1],d=p-h,v=r.decodeItems(arguments,2),m=v?v.length:0,g,y,b,w=h,E=r.indices||(m||a?r.getIndices():null),S=null,x=d?[h]:null,T=null,N=r.getSource(),C,k,L,A,O,M,_,D,P,H,B,j;if(N&&!N.updating){if(f){a=[];for(A=0;A<d;++A){a.push(o[h+A])}}if(h<u){A=N.indexOf(o[h])}else{A=N.length}N.splice(A,a,v);return r}if(m){g=v;T=[];y={};if(i){j=r.getSorters();if(m>1){if(!g.$cloned){v=g=g.slice(0)}r.sortData(g)}}for(A=0;A<m;++A){D=r.getKey(O=v[A]);if((_=y[D])!==undefined){(B||(B={}))[_]=1}else{M=E[D];if(M<h||p<=M){(x||(x=[])).push(M)}}y[D]=A;T.push(D)}if(B){P=T;g=[];T=[];g.$cloned=true;for(A=0;A<m;++A){if(!B[A]){O=v[A];g.push(O);T.push(P[A])}}m=g.length}S={items:g,keys:T}}for(A=a?a.length:0;A-->0;){D=r.getKey(a[A]);if((M=E[D])!==undefined){(x||(x=[])).push(M)}}if(!S&&!x){return r}r.beginUpdate();if(x){C=null;L=[];b={};if(x.length>1){x.sort(Ext.Array.numericSortFn)}for(A=0,H=x.length;A<H;++A){D=r.getKey(O=o[M=x[A]]);if(!(D in s)){continue}delete s[D];if(!C||M>C.at+k.length){L.push(C={at:M,items:k=[],keys:P=[],map:b,next:C,replacement:S});if(S){S.replaced=C}}k.push(b[D]=O);P.push(D);if(M<w){--w}if(d>1&&M===h){--d;x[A--]=++h}}if(S){S.at=w}for(_=L.length;_-->0;){C=L[_];A=C.at;H=C.items.length;if(A+H<u){r.indices=E=null}r.length=u-=H;o.splice(A,H);if(E){P=C.keys;for(A=0;A<H;++A){delete E[P[A]]}}++r.generation;r.notify("remove",[C])}}if(S){if(i&&m>1&&u){r.spliceMerge(g)}else{if(i){if(m>1){w=0;r.indices=E=null}else{w=j.findInsertionIndex(S.items[0],o,r.getSortFn())}}if(w===u){o.push.apply(o,g);E=r.indices;if(E){for(A=0;A<m;++A){E[T[A]]=w+A}}}else{r.indices=null;Ext.Array.insert(o,w,g)}for(A=0;A<m;++A){s[T[A]]=g[A]}r.length+=m;S.at=w;S.atItem=w===0?null:o[w-1];++r.generation;r.notify("add",[S])}}r.endUpdate();return r},update:function(e,t){var n=this;n.beginUpdate();try{return e.call(t||n,n)}catch(r){Ext.log.error(this.$className+": Unhandled Exception: ",r.description||r.message);throw r}finally{n.endUpdate()}},updateKey:function(e,t){var n=this,r=n.map,i=n.indices,s=n.getSource(),o;if(s&&!s.updating){s.updateKey(e,t)}else if((o=n.getKey(e))!==t){if(t in r||r[o]!==e){if(t in r){if(r[t]!==e){Ext.Error.raise('Incorrect oldKey "'+t+'" for item with newKey "'+o+'"')}delete r[t]}n.updating++;n.generation++;r[o]=e;if(i){i[o]=i[t];delete i[t]}n.notify("updatekey",[{item:e,newKey:o,oldKey:t}]);n.updating--}}},findInsertIndex:function(e){var t=this.getSource(),n=t.items,r=t.indexOf(e)-1,i,s;while(r>-1){i=n[r];s=this.indexOf(i);if(s>-1){return s+1}--r}return 0},onCollectionAdd:function(e,t){var n=this,r=t.atItem,i=t.items,s,o,u,a,f,l;if(r){o=n.indexOf(r);if(o===-1){o=n.findInsertIndex(i[0])}else{++o}}else{o=0}if(n.getAutoFilter()&&n.filtered){for(a=0,l=i.length;a<l;++a){f=i[a];if(n.isItemFiltered(f)){if(!u){u=i.slice(0,a)}if(!s){s=[]}s.push(f)}else if(u){u.push(f)}}}n.splice(o<0?n.length:o,0,u||i);if(s){n.notify("filteradd",[s])}},onCollectionBeforeItemChange:function(e,t){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){delete this.onCollectionUpdateKey;this.itemChanged(t.item,t.modified,t.oldKey,t.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(e){var t=this,n={},r={},i,s,o,u,a;o=e.items;o=t.filtered&&t.getAutoFilter()?Ext.Array.filter(o,t.getFilterFn()):o.slice(0);if(t.sorted){t.sortData(o)}t.items=o;t.length=a=o.length;t.map=n;t.indices=r;for(i=0;i<a;++i){u=t.getKey(s=o[i]);n[u]=s;r[u]=i}t.notify("refresh")},onCollectionRemove:function(e,t){this.splice(0,t.items)},onCollectionUpdateKey:function(e,t){this.updateKey(t.item,t.oldKey)},_aggregators:{average:function(e,t,n,r,i){var s=n-t;return s&&this._aggregators.sum.call(this,e,t,n,r,i)/s},bounds:function(e,t,n,r,i){for(var s,o,u,a=t;a<n;++a){s=e[a];s=(i?s[i]:s)[r];if(!(s<o)){o=s}if(!(s>u)){u=s}}return[u,o]},count:function(e){return e.length},extremes:function(e,t,n,r,i){var s=null,o=null,u,a,f,l,c;for(u=t;u<n;++u){a=e[u];c=(i?a[i]:a)[r];if(!(c<f)){f=c;s=a}if(!(c>l)){l=c;o=a}}return[o,s]},max:function(e,t,n,r,i){var s=this._aggregators.bounds.call(this,e,t,n,r,i);return s[1]},maxItem:function(e,t,n,r,i){var s=this._aggregators.extremes.call(this,e,t,n,r,i);return s[1]},min:function(e,t,n,r,i){var s=this._aggregators.bounds.call(this,e,t,n,r,i);return s[0]},minItem:function(e,t,n,r,i){var s=this._aggregators.extremes.call(this,e,t,n,r,i);return s[0]},sum:function(e,t,n,r,i){for(var s,o=0,u=t;u<n;++u){s=e[u];s=(i?s[i]:s)[r];o+=s}return o}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(e){var t=this.observers,n,r=e.getId();if(!t){t=this.observers=[];this.observerMap={}}n=this.observerMap;if(!n[r]){t.push(e);n[r]=e;Ext.Array.sort(t,this.prioritySortFn)}},prioritySortFn:function(e,t){var n=e.observerPriority||0,r=t.observerPriority||0;return n-r},applyExtraKeys:function(e){var t=this,n={},r,i,s,o;for(s in e){r={collection:t};if(Ext.isString(o=e[s])){r.property=o}else{Ext.apply(r,o)}n[s]=t[s]=i=new Ext.util.CollectionKey(r);i.name=s}return n},applyGrouper:function(e){if(e){e=this.getSorters().decodeSorter(e,"Ext.util.Grouper")}return e},decodeItems:function(e,t){var n=this,r=t===undefined?e:e[t],i,s,o;if(!r||!r.$cloned){i=e.length>t+1||!Ext.isIterable(r);if(i){r=Ext.Array.slice(e,t);if(r.length===1&&r[0]===undefined){r.length=0}}s=n.getDecoder();if(s){if(!i){r=r.slice(0);i=true}for(o=r.length;o-->0;){if((r[o]=s.call(n,r[o]))===false){r.splice(o,1)}}}if(i){r.$cloned=true}}return r},getIndices:function(){var e=this,t=e.indices,n=e.items,r=n.length,i,s;if(!t){e.indices=t={};++e.indexRebuilds;for(i=0;i<r;++i){s=e.getKey(n[i]);t[s]=i}}return t},notify:function(e,t){var n=this,r=n.observers,i=n._eventToMethodMap[e],s=0,o,u,a,f;t=t||[];if(r&&i){for(o=0,u=r.length;o<u;++o){a=(f=r[o])[i];if(a){if(!(s++)){t.unshift(n)}a.apply(f,t)}}}if(!n.hasListeners){return}if(n.hasListeners[e]){if(!s){t.unshift(n)}n.fireEventArgs(e,t)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(e){var t=this._filters;if(!t&&e!==false){t=new Ext.util.FilterCollection;this.setFilters(t)}return t},isItemFiltered:function(e){return!this.getFilters().filterFn(e)},onFilterChange:function(e){var t=this,n=t.getSource();if(!n){n=new Ext.util.Collection({keyFn:t.getKey,extraKeys:t.getInitialConfig().extraKeys,rootProperty:t.getRootProperty()});if(t.length){n.add(t.items)}t.setSource(n);t.autoSource=n}else if(n.length||t.length){t.onCollectionRefresh(n)}t.notify("filter")},applyFilters:function(e,t){if(e==null||e&&e.isFilterCollection){return e}if(e){if(!t){t=this.getFilters()}t.splice(0,t.length,e)}return t},updateFilters:function(e,t){var n=this;if(t){t.un("endupdate","onEndUpdateFilters",n)}if(e){e.on("endupdate","onEndUpdateFilters",n,{prepend:true});e.$filterable=n}n.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t=this,n=t.filtered,r=!!e&&e.length>0;if(n||r){t.filtered=r;t.onFilterChange(e)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(e){var t=this._sorters;if(!t&&e!==false){t=new Ext.util.SorterCollection;this.setSorters(t)}return t},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(e,t,n){var r=this.getSorters();r.addSort.apply(r,arguments);return this},sortData:function(e){Ext.Array.sort(e,this.getSortFn());return e},sortItems:function(e){var t=this;if(t.sorted){if(e){Ext.Error.raise("Collections with sorters cannot resorted")}e=t.getSortFn()}t.indices=null;t.notify("beforesort",[t.getSorters()]);if(t.length){Ext.Array.sort(t.items,e)}t.notify("sort")},sortBy:function(e){return this.sortItems(e)},findInsertionIndex:function(e,t,n){if(!t){t=this.items}if(!n){n=this.getSortFn()}return Ext.Array.binarySearch(t,e,n)},applySorters:function(e,t){if(e==null||e&&e.isSorterCollection){return e}if(e){if(!t){t=this.getSorters()}t.splice(0,t.length,e)}return t},createSortFn:function(){var e=this,t=e.getGrouper(),n=e.getSorters().getSortFn();if(!t){return n}return function(e,r){return t.sort(e,r)||n(e,r)}},updateGrouper:function(e){var t=this,n=t.getGroups(),r=t.getSorters(),i,s;t.onSorterChange();t.grouped=!!e;if(e){if(!n){n=new Ext.util.GroupCollection({itemRoot:t.getRootProperty()});t.addObserver(n);t.setGroups(n)}s=n.getSorters();s.splice(0,s.length,{property:"_groupKey",direction:e.getDirection()});i=true}else{if(n){t.removeObserver(n);n.destroy()}t.setGroups(null)}if(!r.updating){t.onEndUpdateSorters(r)}if(i){n.onCollectionRefresh(t)}},updateSorters:function(e,t){var n=this;if(t){t.un("endupdate","onEndUpdateSorters",n)}if(e){e.on("endupdate","onEndUpdateSorters",n,{prepend:true});e.$sortable=n}n.onSorterChange();n.onEndUpdateSorters(e)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(e){var t=this,n=t.sorted,r=t.grouped||e&&e.length>0;if(n||r){t.sorted=!!r;t.onSortChange(e)}},removeObserver:function(e){var t=this.observers;if(t){Ext.Array.remove(t,e);delete this.observerMap[e.getId()]}},spliceMerge:function(e){var t=this,n,r=e.length,i=0,s=t.items,o=s.length,u=[],a=0,f=[],l=t.getSorters(),c,h,p,d,v;t.items=f;for(n=0;n<r;n=h){d=e[n];for(;i<o;++i){if(l.sortFn(d,v=s[i])<0){break}f.push(v)}if(i===o){u[a++]={at:f.length,itemAt:f[f.length-1],items:c=[]};if(a>1){u[a-2].next=u[a-1]}for(;n<r;++n){c.push(d=e[n]);f.push(d)}break}u[a++]={at:f.length,itemAt:f[f.length-1],items:c=[d]};if(a>1){u[a-2].next=u[a-1]}f.push(d);for(h=n+1;h<r;++h){if(l.sortFn(d=e[h],v)>=0){break}f.push(d);c.push(d)}}for(;i<o;++i){f.push(s[i])}t.length=f.length;++t.generation;for(p=0;p<a;++p){t.notify("add",[u[p]])}},getGroups:function(){return this.callParent()||null},updateGroups:function(e,t){if(t){this.removeObserver(t)}if(e){this.addObserver(e)}},updateSource:function(e,t){var n=this.autoSource;if(t){t.removeObserver(this);if(t===n){n.destroy();this.autoSource=null}}if(e){e.addObserver(this);if(e.length||this.length){this.onCollectionRefresh(e)}}}},function(){var e=this.prototype;e.removeAtKey=e.removeByKey;e.decodeRemoveItems=e.decodeItems;Ext.Object.each(e._aggregators,function(t){e[t]=function(e,n,r){return this.aggregate(e,t,n,r)};e[t+"ByGroup"]=function(e){return this.aggregateByGroup(e,t)}})});Ext.define("Ext.util.Scheduler",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.Collection"],busyCounter:0,lastBusyCounter:0,destroyed:false,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},constructor:function(e){if(Ext.util.Scheduler.instances){Ext.util.Scheduler.instances.push(this)}else{Ext.util.Scheduler.instances=[this]}this.id=Ext.util.Scheduler.count=(Ext.util.Scheduler.count||0)+1;this.mixins.observable.constructor.call(this,e);this.items=new Ext.util.Collection},destroy:function(){var e=this,t=e.timer;if(t){window.clearTimeout(t);e.timer=null}e.destroyed=true;e.items=e.orderedItems=null;e.destroy=Ext.emptyFn;Ext.Array.remove(Ext.util.Scheduler.instances,this)},add:function(e){var t=this,n=t.items;if(n===t.firing){t.items=n=n.clone()}e.id=e.id||++t.nextId;e.scheduler=t;n.add(e);if(!t.sortMap){t.orderedItems=null}},remove:function(e){var t=this,n=t.items;if(t.destroyed){return}if(t.sortMap){Ext.Error.raise("Items cannot be removed during sort")}if(n===t.firing){t.items=n=n.clone()}if(e.scheduled){t.unscheduleItem(e);e.scheduled=false}n.remove(e);t.orderedItems=null},sort:function(){var e=this,t=e.items,n={},r=e.getPreSort(),i,s;e.orderedItems=[];e.sortMap=n;e.sortStack=[];if(r){t.sortItems(r)}t=t.items;for(i=0;i<t.length;++i){s=t[i];if(!n[s.id]){e.sortItem(s)}}e.sortMap=null;e.sortStack=null},sortItem:function(e){var t=this,n=t.sortMap,r=t.orderedItems,i;if(!e.scheduler){t.add(e)}i=e.id;if(e.scheduler!==t){Ext.Error.raise("Item "+i+" belongs to another Scheduler")}t.sortStack.push(e);if(n[i]===0){for(var s=[],o=0;o<t.sortStack.length;++o){s[o]=t.sortStack[o].getFullName()}Ext.Error.raise("Dependency cycle detected: "+s.join("\n --> "))}if(!(i in n)){n[i]=0;if(!e.sort.$nullFn){e.sort()}n[i]=1;e.order=t.orderedItems.length;r.push(e)}t.sortStack.pop();return t},sortItems:function(e){var t=this,n=t.sortItem;if(e){if(e instanceof Array){Ext.each(e,n,t)}else{Ext.Object.eachValue(e,n,t)}}return t},applyPreSort:function(e){if(typeof e==="function"){return e}var t=e.split(","),n=[],r=t.length,i,s,o;for(s=0;s<r;++s){n[s]=1;o=t[s];if((i=o.charAt(0))==="-"){n[s]=-1}else if(i!=="+"){i=0}if(i){t[s]=o.substring(1)}}return function(e,i){var s=0,o,u,a,f;for(o=0;!s&&o<r;++o){u=t[o];a=e[u];f=i[u];s=n[o]*(a<f?-1:f<a?1:0)}return s}},notify:function(){var e=this,t=e.timer,n=e.getCycleLimit(),r,i,s,o,u;if(t){window.clearTimeout(t);e.timer=null}if(e.firing){Ext.Error.raise("Notify cannot be called recursively")}while(e.scheduledCount){if(n){--n}else{e.firing=null;if(e.onCycleLimitExceeded){e.onCycleLimitExceeded()}break}++e.passes;if(!(u=e.orderedItems)){e.sort();u=e.orderedItems}o=u.length;if(o){e.firing=e.items;for(i=0;i<o;++i){s=u[i];if(s.scheduled){s.scheduled=false;--e.scheduledCount;e.notifyIndex=i;s.react();if(!e.scheduledCount){break}}}}}e.firing=null;e.notifyIndex=-1;if((r=e.busyCounter)!==e.lastBusyCounter){if(!(e.lastBusyCounter=r)){e.fireEvent("idle",e)}}},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(e){var t=this;++t.scheduledCount;if(!t.timer&&!t.firing){t.scheduleTick()}},scheduleTick:function(){var e=this;if(!e.destroyed&&!e.timer){e.timer=Ext.Function.defer(e.onTick,e.getTickDelay(),e)}},unscheduleItem:function(e){if(this.scheduledCount){--this.scheduledCount}},adjustBusy:function(e){var t=this,n=t.busyCounter+e;t.busyCounter=n;if(n){if(!t.lastBusyCounter){t.lastBusyCounter=n;t.fireEvent("busy",t)}}else if(t.lastBusyCounter&&!t.timer){t.scheduleTick()}},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)},debugHooks:{$enabled:false,onCycleLimitExceeded:function(){Ext.Error.raise("Exceeded cycleLimit "+this.getCycleLimit())},scheduleItem:function(e){if(!e){Ext.Error.raise("scheduleItem: Invalid argument")}Ext.log("Schedule item: "+e.getFullName()+" - "+(this.scheduledCount+1));if(e.order<=this.notifyIndex){Ext.log.warn("Suboptimal order: "+e.order+" < "+this.notifyIndex)}this.callParent([e])},unscheduleItem:function(e){if(!this.scheduledCount){Ext.Error.raise("Invalid scheduleCount")}this.callParent([e]);Ext.log("Unschedule item: "+e.getFullName()+" - "+this.scheduledCount)}}});Ext.define("Ext.util.ObjectTemplate",{requires:["Ext.XTemplate"],isObjectTemplate:true,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(e,t){if(!Ext.isObject(e)){Ext.Error.raise("The template is not an Object")}return e.isObjectTemplate?e:new Ext.util.ObjectTemplate(e,t)}},constructor:function(e,t){Ext.apply(this,t);this.template=e},apply:function(e){var t=this;delete t.apply;t.apply=t.compile(t.template);return t.apply(e)},privates:{compile:function(e){var t=this,n=t.excludeProperties,r,i,s,o;if(Ext.isString(e)){if(e.indexOf("{")<0){o=function(){return e}}else if(t.valueRe.test(e)){e=e.substring(1,e.length-1).split(".");o=function(t){for(var n=t,r=0;n&&r<e.length;++r){n=n[e[r]]}return n}}else{e=new Ext.XTemplate(e);o=function(t){return e.apply(t)}}}else if(Ext.isPrimitive(e)||Ext.isFunction(e)){o=function(){return e}}else if(e instanceof Array){r=[];for(i=0,s=e.length;i<s;++i){r[i]=t.compile(e[i])}o=function(e){var t=[],n;for(n=0;n<s;++n){t[n]=r[n](e)}return t}}else{r={};for(i in e){if(!n[i]){r[i]=t.compile(e[i])}}o=function(t){var i={},s,o;for(s in e){o=n[s]?e[s]:r[s](t);if(o!==undefined){i[s]=o}}return i}}return o}}});Ext.define("Ext.data.schema.Role",{isRole:true,left:true,owner:false,side:"left",isMany:false,defaultReaderType:"json",constructor:function(e,t){var n=this,r=t.extra;Ext.apply(n,t);if(r){delete r.type;Ext.apply(n,r);delete n.extra}n.association=e;if(e.owner===n.side){e.owner=n;n.owner=true}},processUpdate:function(){Ext.Error.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},validateAssociationRecords:function(e,t,n){return n},checkMembership:Ext.emptyFn,adoptAssociated:function(e,t){var n=this.getAssociatedItem(e);if(n){t.adopt(n)}},createAssociationStore:function(e,t,n,r){var i=this,s=i.association,o=s.getFieldName(),u=s.isManyToMany,a=i.storeConfig,f=t.getId(),l={model:i.cls,data:n,role:i,session:e,associatedEntity:t,disableMetaChangeEvent:true,pageSize:null,remoteFilter:true,trackRemoved:!e},c,h;if(u){l.filters=[{property:i.inverse.field,value:f,exactMatch:true}]}else if(o){l.filters=[{property:o,value:f,exactMatch:true}];l.foreignKeyName=o}if(a){Ext.apply(l,a)}h=Ext.Factory.store(l);if(n){h.complete=!!r}if(u){if(e){c=e.getMatrixSlice(i.inverse,f);c.attach(h);c.notify=i.onMatrixUpdate;c.scope=i}}if(o||u&&e){h.on({add:"onAddToMany",load:"onLoadMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany",scope:i});if(n){i.onLoadMany(h,h.getData().items,true)}}return h},getAssociatedStore:function(e,t,n,r,i){var s=this,o=s.storeName||s.getStoreName(),u=e[o],a=t&&t.reload,f=e.$source,l=e.session,c,h,p,d,v,m;if(!u){if(!r&&f){f=f[o];if(f&&!f.isLoading()){m=f;r=[];d=f.getData().items;for(h=0,p=d.length;h<p;++h){v=d[h];r.push(l.getRecord(v.self,v.id))}i=true}}u=s.createAssociationStore(l,e,r,i);u.$source=m;if(!r&&(s.autoLoad||t)){a=true}e[o]=u}if(t){if(a||u.isLoading()){u.on("load",function(r,i,s,o){c=[r,o];n=n||t.scope||e;if(s){Ext.callback(t.success,n,c)}else{Ext.callback(t.failure,n,c)}c.push(s);Ext.callback(t,n,c);Ext.callback(t.callback,n,c)},null,{single:true})}else{c=[u,null];n=n||t.scope||e;Ext.callback(t.success,n,c);c.push(true);Ext.callback(t,n,c);Ext.callback(t.callback,n,c)}}if(a&&!u.isLoading()){u.load()}return u},getAssociatedItem:function(e){var t=this.isMany?this.getStoreName():this.role;return e[t]||null},onDrop:Ext.emptyFn,getReaderRoot:function(){var e=this;return e.associationKey||(e.associationKey=e.association.schema.getNamer().readerRoot(e.role))},getReader:function(){var e=this,t=e.reader,n=e.cls,r=!e.associationKey,i=this.getReaderRoot();if(t){if(Ext.isString(t)){t={type:t,rootProperty:i,useSimpleAccessors:r}}if(t.isReader){t.setModel(n);t.setRootProperty(i);t.setUseSimpleAccessors(r)}else{Ext.applyIf(t,{model:n,rootProperty:i,useSimpleAccessors:r,type:e.defaultReaderType})}t=e.reader=Ext.createByAlias("reader."+t.type,t)}return t},getStoreName:function(){var e=this;return e.storeName||(e.storeName=e.association.schema.getNamer().storeName(e.role))},constructReader:function(e){var t=this,n=t.getReader(),r=t.cls,i=!t.associationKey,s=t.getReaderRoot(),o;if(!n){o=r.getProxy();if(o){n=o.getReader();t.savedRoot=n.getRootProperty();n.setRootProperty(s)}else{n=new e.self({model:r,useSimpleAccessors:i,rootProperty:s})}}return n},read:function(e,t,n,r){var i=this,s=this.constructReader(n),o=s.read(t,r),u=i.savedRoot;if(u!==undefined){s.setRootProperty(u);delete i.savedRoot}return o},getCallbackOptions:function(e,t,n){if(typeof e==="function"){e={callback:e,scope:t||n}}else if(e){e=Ext.apply({},e);e.scope=t||e.scope||n}return e},doGetFK:function(e,t,n){var r=this,i=r.cls,s=r.association.getFieldName(),o=r.role,u=e[o],a=t&&t.reload,f=u!==undefined&&!a,l=e.session,c,h;if(!f){if(l){c=e.get(s);if(c||c===0){f=l.peekRecord(i,c,true)&&!a;u=l.getRecord(i,c,false)}else{f=true;e[o]=u=null}}else if(s){c=e.get(s);if(!c&&c!==0){f=true;e[o]=u=null}else{if(!u){u=i.createWithId(c)}}}else{f=true}}else if(u){f=!u.isLoading()}if(f){if(t){h=[u,null];n=n||t.scope||e;Ext.callback(t.success,n,h);h.push(true);Ext.callback(t,n,h);Ext.callback(t.callback,n,h)}}else{e[o]=u;t=r.getCallbackOptions(t,n,e);u.load(t)}return u},doSetFK:function(e,t,n,r){var i=this,s=i.association.getFieldName(),o=i.role,u=e[o],a=i.inverse,f=a.setterName,l=e.session,c;if(t&&t.isEntity){if(u!==t){if(s){e.set(s,t.getId())}e[o]=t;if(f){t[f](e)}}}else{if(!s){Ext.Error.raise('No foreignKey specified for "'+i.association.left.role+'" by '+e.$className)}c=e.changingKey&&!a.isMany||e.set(s,t);if(c&&u&&u.isEntity&&!u.isEqual(u.getId(),t)){e[o]=undefined;if(!a.isMany){u[a.role]=undefined}}}if(n){if(Ext.isFunction(n)){n={callback:n,scope:r||e}}return e.save(n)}}});Ext.define("Ext.data.schema.Association",{requires:["Ext.data.schema.Role"],isOneToOne:false,isManyToOne:false,isManyToMany:false,owner:null,field:null,constructor:function(e){var t=this,n,r;Ext.apply(t,e);t.left=n=new t.Left(t,t.left);t.right=r=new t.Right(t,t.right);n.inverse=r;r.inverse=n},hasField:function(){return!!this.field},getFieldName:function(){var e=this.field;return e?e.name:""}});Ext.define("Ext.data.schema.OneToOne",{extend:"Ext.data.schema.Association",isOneToOne:true,isToOne:true,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(e,t){e[this.role]=null},createGetter:function(){var e=this;return function(){return e.doGet(this)}},createSetter:function(){var e=this;return function(t){return e.doSet(this,t)}},doGet:function(e){var t=this.role,n=e[t],r=e.session;if(!n&&r){}return n||null},doSet:function(e,t){var n=this.role,r=e[n],i=this.inverse.setterName;if(r!==t){e[n]=t;if(i){t[i](e)}}return r},read:function(e,t,n,r){var i=this,s=i.callParent([e,t,n,r]),o=s.getRecords()[0],u=i.role;if(o){o[i.inverse.role]=e;e[u]=o;delete e.data[u]}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,r){return e.doSetFK(this,t,n,r)}},onDrop:function(e,t){var n=this,r=n.association.field,i,s;if(n.inverse.owner){if(t){s=e.get(r.name);if(s||s===0){i=t.getEntry(n.cls,s).record;if(i){i.drop()}}}else{i=n.getAssociatedItem(e);if(i){i.drop()}}}if(r){e.set(r.name,null)}e[n.role]=null},onValueChange:function(e,t,n){var r=this,i=r.getAssociatedItem(e);e.changingKey=true;r.doSetFK(e,n);if(r.inverse.owner&&i){r.association.schema.queueKeyCheck(i,r)}e.changingKey=false},checkKeyForDrop:function(e){var t=this.inverse.getAssociatedItem(e);if(!t){e.drop()}},read:function(e,t,n,r){var i=this,s=i.callParent([e,t,n,r]),o=s.getRecords()[0],u=i.role,a=this.association.field,f=e.session,l;if(o){o[i.inverse.role]=e;e[u]=o;delete e.data[u];if(a){l=e.data[a.name];if(l!==o.id){e.data[a.name]=o.id;if(f){f.updateReference(e,a,o.id,l)}}}}}})});Ext.define("Ext.data.schema.ManyToOne",{extend:"Ext.data.schema.Association",isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,onDrop:function(e,t){var n=this,r=n.getAssociatedItem(e),i,s,o,u,a;if(r){i=r.removeAll();if(i&&n.inverse.owner){for(o=0,s=i.length;o<s;++o){i[o].drop()}}r.destroy();e[n.getStoreName()]=null}else if(t){i=t.getRefs(e,n);if(i){for(a in i){i[a].drop()}}}},processUpdate:function(e,t){var n=this,r=n.inverse.cls,i=t.R,s,o,u,a;if(i){for(s in i){o=e.peekRecord(r,s);if(o){a=e.getEntityList(n.cls,i[s]);u=n.getAssociatedItem(o);if(u){a=n.validateAssociationRecords(e,o,a);u.loadRecords(a);u.complete=true}else{o[n.getterName](null,null,a)}}else{e.onInvalidAssociationEntity(r,s)}}}},validateAssociationRecords:function(e,t,n){var r=e.getRefs(t,this,true),i=[],s,o,u,a,f;if(r){if(n){s={};for(a=0,f=n.length;a<f;++a){o=n[a];u=o.id;if(r[u]){i.push(o)}s[u]=true}}for(u in r){if(!s||!s[u]){i.push(r[u])}}}return i},adoptAssociated:function(e,t){var n=this.getAssociatedItem(e),r,i,s;if(n){n.setSession(t);r=n.getData().items;for(i=0,s=r.length;i<s;++i){t.adopt(r[i])}}},createGetter:function(){var e=this;return function(t,n,r){var i=this.session,s=!!r;if(i){r=e.validateAssociationRecords(i,this,r);if(!s&&!r.length){r=null}}return e.getAssociatedStore(this,t,n,r,s)}},createSetter:null,onAddToMany:function(e,t){this.syncFK(t,e.associatedEntity,false)},onLoadMany:function(e,t,n){var r=this.inverse.role,i=e.associatedEntity,s=i.getId(),o=this.association.field,u=e.getSession(),a,f,l,c;if(n){for(a=0,f=t.length;a<f;++a){l=t[a];l[r]=i;if(o){c=l.data[o.name];if(c!==s){l.data[o.name]=s;if(u){u.updateReference(l,o,s,c)}}}}}},onRemoveFromMany:function(e,t){this.syncFK(t,e.associatedEntity,true)},read:function(e,t,n,r){var i=this,s=i.inverse.role,o=i.callParent([e,t,n,r]),u,a,f,l;if(o.getReadRoot()){u=e[i.getterName](null,null,o.getRecords());delete e.data[i.role];a=u.getData().items;for(l=0,f=a.length;l<f;++l){a[l][s]=e}}},syncFK:function(e,t,n){var r=this.association.getFieldName(),i=this.inverse.setterName,s=e.length,o=t.getId(),u,a;while(s-->0){a=e[s];u=!a.isEqual(o,a.get(r));if(u!==n){a.changingKey=true;if(i){a[i](n?null:t)}else{a.set(r,n?null:o)}a.changingKey=false}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",onDrop:function(e,t){var n=this.association.field;if(n){e.set(n.name,null)}e[this.role]=null},createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,r){return e.doSetFK(this,t,n,r)}},checkMembership:function(e,t){var n=this.association.field,r;r=this.getSessionStore(e,t.get(n.name));if(r&&!r.contains(t)){r.add(t)}},onValueChange:function(e,t,n,r){var i=this,s,o,u,a,f;if(!e.changingKey){if(t){o=i.getSessionStore(t,r);if(o){o.remove(e)}if(n||n===0){o=i.getSessionStore(t,n);if(o&&!o.isLoading()){o.add(e)}}}else{s=e.joined;if(s){for(u=0,a=s.length;u<a;++u){o=s[u];if(o.isStore){f=o.getAssociatedEntity();if(f&&f.self===i.cls&&f.getId()===r){o.remove(e)}}}}}}if(i.owner&&n===null){i.association.schema.queueKeyCheck(e,i)}},checkKeyForDrop:function(e){var t=this.association.field;if(e.get(t.name)===null){e.drop()}},getSessionStore:function(e,t){var n=this.cls,r;if(n){r=e.peekRecord(n,t);if(r){return this.inverse.getAssociatedItem(r)}}},read:function(e,t,n,r){var i=this.callParent([e,t,n,r]),s=i.getRecords()[0];if(s){e[this.role]=s}}})});Ext.define("Ext.data.schema.ManyToMany",{extend:"Ext.data.schema.Association",isManyToMany:true,isToMany:true,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,digitRe:/^\d+$/,validateAssociationRecords:function(e,t,n){var r=e.getMatrixSlice(this.inverse,t.id),i=r.members,s=this.cls,o=[],u,a,f,l,c,h;if(n){u={};for(a=0,f=n.length;a<f;++a){h=n[a];l=h.id;c=i[l];if(!(c&&c[2]===-1)){o.push(h)}u[l]=true}}for(l in i){c=i[l];if(!u||!u[l]&&c&&c[2]!==-1){h=e.peekRecord(s,l);if(h){o.push(h)}}}return o},processUpdate:function(e,t){var n=this,r=n.inverse.cls,i=t.R,s,o,u,a;if(i){for(s in i){o=e.peekRecord(r,s);if(o){a=e.getEntityList(n.cls,i[s]);u=n.getAssociatedItem(o);if(u){a=n.validateAssociationRecords(e,o,a);u.loadRecords(a);u.complete=true;n.onAddToMany(u,a,true)}else{o[n.getterName](null,null,a)}}else{e.onInvalidAssociationEntity(r,s)}}}n.processMatrixBlock(e,t.C,1);n.processMatrixBlock(e,t.D,-1)},checkMembership:function(e,t){var n=e.getMatrix(this.association,true),r,i,s,o,u,a,f,l,c,h;if(!n){return}r=this.left?n.right:n.left;i=r.inverse.role.cls;s=this.inverse;u=r.slices;if(u){o=u[t.id];if(o){f=o.members;for(a in f){l=f[a];if(l[2]!==-1){c=e.peekRecord(i,a);if(c){h=s.getAssociatedItem(c);if(h){h.matrixUpdate=1;h.add(t);h.matrixUpdate=0}}}}}}},processMatrixBlock:function(e,t,n){var r=this.inverse,i=this.digitRe,s,o;if(t){for(o in t){if(i.test(o)){o=parseInt(o,10)}s=e.getMatrixSlice(r,o);s.update(t[o],n)}}},createGetter:function(){var e=this;return function(t,n,r){var i=this.session,s;if(i){s=!!r;r=e.validateAssociationRecords(i,this,r);if(!s&&!r.length){r=null}}return e.getAssociatedStore(this,t,n,r,s)}},onAddToMany:function(e,t,n){if(!e.matrixUpdate){e.matrixUpdate=1;e.matrix.update(t,n===true?0:1);e.matrixUpdate=0}},onLoadMany:Ext.emptyFn,onRemoveFromMany:function(e,t){if(!e.matrixUpdate){e.matrixUpdate=1;e.matrix.update(t,-1);e.matrixUpdate=0}},read:function(e,t,n,r){var i=this,s=i.callParent([e,t,n,r]);if(s.getReadRoot()){e[i.getterName](null,null,s.getRecords());delete e.data[i.role]}},onMatrixUpdate:function(e,t,n){var r=e.store,i,s,o;if(r&&!r.loading&&!r.matrixUpdate){r.matrixUpdate=1;i=r.indexOfId(t);if(n<0){if(i>=0){r.remove([i])}}else if(i<0){o=r.getSession().getEntry(this.type,t);s=o&&o.record;if(s){r.add(s)}}r.matrixUpdate=0}}},function(){var e=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:e,left:false,side:"right"})},null,"Ext.data.schema.ManyToMany")})});Ext.define("Ext.util.Inflector",{singleton:true,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return Ext.Array.indexOf(this.uncountable,e)!=-1},pluralize:function(e){if(this.isTransnumeral(e)){return e}var t=this.plurals,n=t.length,r,i,s;for(s=0;s<n;s++){r=t[s];i=r[0];if(i==e||i.test&&i.test(e)){return e.replace(i,r[1])}}return e},singularize:function(e){if(this.isTransnumeral(e)){return e}var t=this.singulars,n=t.length,r,i,s;for(s=0;s<n;s++){r=t[s];i=r[0];if(i==e||i.test&&i.test(e)){return e.replace(i,r[1])}}return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),n=t%10,r=t%100;if(11<=r&&r<=13){return e+"th"}else{switch(n){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}}},function(){var e={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},t;for(t in e){if(e.hasOwnProperty(t)){this.plural(t,e[t]);this.singular(e[t],t)}}});Ext.define("Ext.data.schema.Namer",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.Inflector"],alias:"namer.default",isNamer:true,capitalize:function(e){return Ext.String.capitalize(e)},fieldRole:function(e){var t=e.match(this.endsWithIdRe,"");if(t){e=e.substr(0,e.length-(t[1]||t[2]).length)}return this.apply("uncapitalize",e)},idField:function(e){return this.apply("uncapitalize,singularize",e)+"Id"},multiRole:function(e){return this.apply("undotted,uncapitalize,pluralize",e)},pluralize:function(e){return Ext.util.Inflector.pluralize(e)},readerRoot:function(e){return this.apply("uncapitalize",e)},singularize:function(e){return Ext.util.Inflector.singularize(e)},storeName:function(e){return this.apply("underscore",e)},uncapitalize:function(e){return Ext.String.uncapitalize(e)},underscore:function(e){return"_"+e},uniRole:function(e){return this.apply("undotted,uncapitalize,singularize",e)},undotted:function(e){if(e.indexOf(".")<0){return e}var t=e.split("."),n=t.length;while(n-->1){t[n]=this.apply("capitalize",t[n])}return t.join("")},getterName:function(e){var t=e.role;if(e&&e.isMany){return t}return"get"+this.apply("capitalize",t)},inverseFieldRole:function(e,t,n,r){var i=this,s=i.apply(t?"uniRole":"multiRole",e),o=i.apply("pluralize",n),u=i.apply("undotted,pluralize",r);if(o.toLowerCase()!==u.toLowerCase()){s=n+i.apply("capitalize",s)}return s},manyToMany:function(e,t,n){var r=this,i=r.apply("undotted,capitalize,singularize",t)+r.apply("undotted,capitalize,pluralize",n);if(e){i=r.apply("capitalize",e+i)}return i},manyToOne:function(e,t,n,r){return this.apply("capitalize,singularize",n)+this.apply("capitalize",t)},matrixRole:function(e,t){var n=this.apply(e?"multiRole,capitalize":"multiRole",t);return e?e+n:n},oneToOne:function(e,t,n,r){return this.apply("undotted,capitalize,singularize",n)+this.apply("capitalize",t)},setterName:function(e){return"set"+this.apply("capitalize",e.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(e,t){var n=this,r=n.cache,i=r[t]||(r[t]={}),s=i[e],o,u,a;if(!s){if(e.indexOf(",")<0){s=n[e](t)}else{u=(a=e.split(",")).length;s=t;for(o=0;o<u;++o){s=n.apply(a[o],s)}}i[e]=s}return s}});Ext.define("Ext.data.schema.Schema",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.ObjectTemplate","Ext.data.schema.OneToOne","Ext.data.schema.ManyToOne","Ext.data.schema.ManyToMany","Ext.data.schema.Namer"],alias:"schema.default",aliasPrefix:"schema.",isSchema:true,type:"default",statics:{instances:{},get:function(e){var t=this,n=t.instances,r="default",i=e&&Ext.isString(e),s,o;if(e){if(e.isSchema){return e}r=i?e:e.id||r}if(!(s=n[r])){n[r]=s=t.create(e);s.id=r}else if(e&&!i){if(r!=="default"){Ext.Error.raise("Only the default Schema instance can be reconfigured")}o=Ext.merge({},s.config);Ext.merge(o,e);s.setConfig(o);s.config=o;s.setConfig=function(){Ext.Error.raise("The schema can only be reconfigured once")}}return s},lookupEntity:function(e){var t=null,n=this.instances,r,i,s;if(e){if(e.isEntity){t=e.self}else if(Ext.isFunction(e)){t=e}else if(Ext.isString(e)){t=Ext.ClassManager.get(e);if(t&&(!t.prototype||!t.prototype.isEntity)){t=null}if(!t){for(i in n){s=n[i];r=s.getEntity(e);if(r){if(t){Ext.Error.raise('Ambiguous entity name "'+e+'". Defined by schema "'+t.schema.type+'" and "'+i+'"')}t=r}}}if(!t){Ext.Error.raise('No such Entity "'+e+'".')}}}return t}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(e,t){var n=t.alias;if(n&&!t.type){if(!Ext.isString(n)){n=n[0]}e.prototype.type=n.substring(this.prototype.aliasPrefix.length)}},constructor:function(e){this.initConfig(e);this.clear()},applyDefaultIdentifier:function(e){return e&&Ext.Factory.dataIdentifier(e)},applyNamer:function(e){var t=Ext.data.schema.Namer.create(e);t.schema=this;return t},applyNamespace:function(e){if(e){var t=e.length-1;if(e.charAt(t)!=="."){e+="."}}return e},applyProxy:function(e){return Ext.util.ObjectTemplate.create(e)},eachAssociation:function(e,t){var n=this.associations,r;for(r in n){if(n.hasOwnProperty(r)){if(e.call(t,r,n[r])===false){break}}}},eachEntity:function(e,t){var n=this.entities,r;for(r in n){if(n.hasOwnProperty(r)){if(e.call(t,r,n[r].cls)===false){break}}}},getAssociation:function(e){var t=this.associations[e];return t||null},getEntity:function(e){var t=this.entityClasses[e]||this.entities[e];return t&&t.cls||null},getEntityName:function(e){var t=this.getNamespace(),n,r;if(typeof e==="string"){r=e}else{r=e.$className||null}if(r){if(t){n=t.length;if(r.substring(0,n)!==t){return r}}if(n){r=r.substring(n)}}return r},hasAssociations:function(e){e=e.entityName||e;return!!this.associationEntityMap[e]},hasEntity:function(e){var t=this.getEntityName(e);return!!(this.entities[t]||this.entityClasses[t])},addMatrix:function(e,t,n,r,i){var s=this,o=s.getNamer(),u=s.associations,a=s.entities,f=r.type,l=i.type,c=r.field||o.apply("idField",f),h=i.field||o.apply("idField",l),p=r.role||o.matrixRole(n,f),d=i.role||o.matrixRole(n,l),v,m,g;m=a[f]||(a[f]={cls:null,name:f,associations:{}});g=a[l]||(a[l]={cls:null,name:l,associations:{}});++s.assocCount;u[t]=v=new Ext.data.schema.ManyToMany({name:t,schema:s,definedBy:e,left:{cls:m.cls,type:f,role:p,field:c},right:{cls:g.cls,type:l,role:d,field:h}});m.associations[v.right.role]=v.right;g.associations[v.left.role]=v.left;s.associationEntityMap[e.entityName]=true;s.decorateModel(v)},addReference:function(e,t,n,r){var i=this,s=i.getNamer(),o=i.entities,u=i.associations,a=e.entityName,f=n.association,l=!!n.legacy,c=n.child,h=n.parent,p=n.role,d=n.type||h||c,v=n.inverse,m=Ext.isString(v)?{role:v}:v,g=m&&m.role,y,b;if(!p){if(l){p=s.apply("uncapitalize",d)}else{p=s.apply("fieldRole",t.name)}}if(!g){g=s.inverseFieldRole(a,r,p,d)}if(!f){if(r){f=s.oneToOne(e,g,d,p)}else{f=s.manyToOne(e,g,d,p)}}if(f in u){Ext.Error.raise('Duplicate association: "'+f+'" declared by '+a+(t?"."+t.name:"")+" (collides with "+u[f].definedBy.entityName+")")}if(t&&t.definedBy===o[d]){Ext.Error.raise("ForeignKey reference should not be owned by the target model")}y=o[d]||(o[d]={cls:null,name:d,associations:{}});b=r?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;f=new b({name:f,owner:c?"left":h?"right":null,definedBy:e,schema:i,field:t,nullable:t?!!t.allowBlank:true,legacy:n.legacy,left:{cls:e,type:a,role:g,extra:m},right:{cls:y.cls,type:d,role:p,extra:n}});e.associations[p]=f.right;y.associations[g]=f.left;if(t){t.reference=f.right;e.references.push(t)}++i.assocCount;i.associationEntityMap[a]=true;if(y.cls){i.associationEntityMap[y.cls.entityName]=true}u[f.name]=f;if(f.right.cls){i.decorateModel(f)}},privates:{addEntity:function(e){var t=this,n=t.entities,r=e.entityName,i=n[r],s=e.fields,o,u,a,f,l;if(!i){n[r]=i={name:r,associations:{}}}else if(i.cls){Ext.Error.raise('Duplicate entity name "'+r+'": '+i.cls.$className+" and "+e.$className)}else{o=i.associations;for(l in o){o[l].inverse.cls=e;t.associationEntityMap[r]=true;t.decorateModel(o[l].association)}}i.cls=e;e.prototype.associations=e.associations=i.associations;t.entityClasses[e.$className]=i;++t.entityCount;for(a=0,f=s.length;a<f;++a){u=s[a];if(u.reference){t.addReferenceDescr(e,u)}}},addMatrices:function(e,t){var n=this,r,i,s;if(Ext.isString(t)){n.addMatrixDescr(e,null,t)}else if(t[0]){for(r=0,i=t.length;r<i;++r){n.addMatrixDescr(e,null,t[r])}}else{for(s in t){n.addMatrixDescr(e,s,t[s])}}},addMatrixDescr:function(e,t,n){var r=this,i=e.entityName,s=r.associations,o=r.getNamer(),u=n.left,a=n.right,f,l;if(Ext.isString(n)){if(n.charAt(0)==="#"){u={type:i};a={type:n.substring(1)}}else if(n.charAt(f=n.length-1)==="#"){u={type:n.substring(0,f)};a={type:i}}else if(o.apply("multiRole",i)<o.apply("multiRole",n)){u={type:i};a={type:n}}else{u={type:n};a={type:i}}}else{Ext.Assert.isString(n.type,'No "type" for manyToMany in '+i);l=n.relation;if(u||!a&&o.apply("multiRole",i)<o.apply("multiRole",n.type)){if(!u||u===true){u={type:i}}else{u=Ext.apply({type:i},u)}a=n}else{if(!a||a===true){a={type:i}}else{a=Ext.apply({type:i},a)}u=n}}if(!t){t=o.manyToMany(l,u.type,a.type)}if(!(t in s)){r.addMatrix(e,t,l,u,a)}else{var c=s[t],h=[c.kind,c.left.type,c.left.role,c.left.field,c.right.type,c.right.role,c.right.field].join("|");delete s[t];r.addMatrix(e,t,l,u,a);var p=s[t];s[t]=c;c.left.cls.associations[c.right.role]=c.right;c.right.cls.associations[c.left.role]=c.left;--r.assocCount;p=[p.kind,p.left.type,p.left.role,p.left.field,p.right.type,p.right.role,p.right.field].join("|");if(h!=p){Ext.log.warn(t+"("+c.definedBy.entityName+"): "+h);Ext.log.warn(t+"("+i+"): "+p);Ext.Error.raise('Conflicting association: "'+t+'" declared by '+i+" was previously declared by "+c.definedBy.entityName)}}},addReferenceDescr:function(e,t){var n=this,r=t.$reference;if(Ext.isString(r)){r={type:r}}else{r=Ext.apply({},r)}if(r.legacy){if(r.single){n.addLegacySingle(e,r)}else{n.addLegacyHasMany(e,r)}}else{n.addReference(e,t,r,t.unique)}},addPending:function(e,t,n,r){var i=this.pending;if(!i[e]){i[e]=[]}i[e].push([t,n,r])},addLegacyBelongsTo:function(e,t){this.addLegacySingle(e,t)},addLegacyHasOne:function(e,t){this.addLegacySingle(e,t)},addLegacySingle:function(e,t){var n,r,i;t=this.constructLegacyAssociation(e,t);t.single=true;r=t.type;n=t.foreignKey||r.toLowerCase()+"_id";i=e.getField(n);if(i){i.$reference=t}this.addReference(e,i,t,true)},addLegacyHasMany:function(e,t){var n=this,r=n.entities,i=n.pending,s=t.associationKey,o,u,a,f,l,c;t=this.constructLegacyAssociation(e,t);u=t.type;f=r[u];if(f&&f.cls){t.type=e.entityName;l=t.foreignKey||t.type.toLowerCase()+"_id";o=f.cls;a=o.getField(l);t.inverse=t;c=t.name;if(c||s){t.inverse={};if(c){t.inverse.role=c}if(s){t.inverse.associationKey=s}}if(a){a.$reference=t}n.addReference(o,a,t,false)}else{if(!i[u]){i[u]=[]}i[u].push([e,t])}},constructLegacyAssociation:function(e,t){if(Ext.isString(t)){t={model:t}}t.legacy=true;t.type=this.getEntityName(t.model);var n=t.associatedName||t.name;if(n){t.role=n}return t},afterLegacyAssociations:function(e){var t=this.pending,n=e.entityName,r=t[n],i,s;if(r){for(i=0,s=r.length;i<s;++i){this.addLegacyHasMany.apply(this,r[i])}delete t[n]}},clear:function(e){var t=this,n=t.timer;delete t.setConfig;if(n){window.clearTimeout(n);t.timer=null}t.associations={};t.associationEntityMap={};t.entities={};t.entityClasses={};t.pending={};t.assocCount=t.entityCount=0;if(e){t.setNamespace(null)}},constructProxy:function(e){var t=this,n=Ext.Object.chain(e),r=t.getProxy();n.schema=t;n.prefix=t.getUrlPrefix();return r.apply(n)},applyDecoration:function(e){var t=this,n=e.inverse.cls,r=t.getNamer(),i,s,o;if(n&&!e.decorated){e.decorated=true;o=n.prototype;if(!(i=e.getterName)){e.getterName=i=r.getterName(e)}o[i]=e.createGetter();if(e.createSetter){if(!(s=e.setterName)){e.setterName=s=r.setterName(e)}o[s]=e.createSetter()}}},decorateModel:function(e){this.applyDecoration(e.left);this.applyDecoration(e.right)},processKeyChecks:function(e){var t=this,n=t.keyCheckQueue,r=t.timer,i,s,o;if(r){window.clearTimeout(r);t.timer=null}if(!n){return}do{n=t.keyCheckQueue;t.keyCheckQueue=[];for(s=0,i=n.length;s<i;++s){o=n[s];o.role.checkKeyForDrop(o.record)}}while(e&&t.keyCheckQueue.length)},queueKeyCheck:function(e,t){var n=this,r=n.keyCheckQueue,i=n.timer;if(!r){n.keyCheckQueue=r=[]}r.push({record:e,role:t});if(!i){n.timer=i=Ext.Function.defer(n.processKeyChecks,n.getKeyCheckDelay(),n)}},rankEntities:function(){var e=this,t=e.entities,n=Ext.Object.getKeys(t),r=n.length,i,s;e.nextRank=1;n.sort();for(s=0;s<r;++s){i=t[n[s]].cls;if(!i.rank){e.rankEntity(i)}}e.topoStack=null},rankEntity:function(e){var t=e.associations,n,r,i;var s=this.topoStack||(this.topoStack=[]),o=e.entityName;s.push(o);if(e.rank===0){Ext.Error.raise(o+" has circular foreign-key references: "+s.join(" --> "))}e.rank=0;for(i in t){r=t[i];if(!r.left&&r.association.field){n=r.cls;if(!n.rank){this.rankEntity(n)}}}e.rank=this.nextRank++;s.pop()}}});Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.mixin.Observable"},config:{pauseOnException:false},current:-1,total:0,running:false,complete:false,exception:false,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e);t.operations=[];t.exceptions=[]},add:function(e){var t=this,n,r;if(Ext.isArray(e)){for(n=0,r=e.length;n<r;++n){t.add(e[n])}}else{t.total++;e.setBatch(t);t.operations.push(e)}return t},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(e,t){var n=e.order-t.order;if(n){return n}var r=e.entityType,i=t.entityType,s;if(!r||!i){return 0}if(!(s=r.rank)){r.schema.rankEntities();s=r.rank}return(s-i.rank)*e.foreignKeyDirection},start:function(e){var t=this;if(!t.operations.length||t.running){return t}t.exceptions.length=0;t.exception=false;t.running=true;return t.runOperation(Ext.isDefined(e)?e:t.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var e=this;if(e.running){e.runOperation(e.current+1)}return e},pause:function(){this.running=false;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var e=null,t=this.current;if(!(t===-1||this.complete)){e=this.operations[t]}return e},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(e){var t=this,n=t.operations,r=n[e];if(r===undefined){t.running=false;t.complete=true;t.fireEvent("complete",t,n[n.length-1])}else{t.current=e;r.setInternalCallback(t.onOperationComplete);r.setInternalScope(t);r.execute()}return t},onOperationComplete:function(e){var t=this,n=e.hasException();if(n){t.exception=true;t.exceptions.push(e);t.fireEvent("exception",t,e)}if(n&&t.getPauseOnException()){t.pause()}else{t.fireEvent("operationcomplete",t,e);t.runNextOperation()}}});Ext.define("Ext.data.matrix.Slice",{stub:null,constructor:function(e,t){this.id=t;this.side=e;this.members={}},attach:function(e){var t=this;Ext.Assert.falsey(t.store,"Store is already attached");t.store=e;e.matrix=t;e.on("load",t.onStoreLoad,t,{single:true})},changeId:function(e){var t=this,n=t.id,r=t.side,i=r.slices,s=i[n],o=s.members,u=r.index,a=r.inverse.slices,f,l,c;t.id=e;i[e]=s;delete i[n];for(l in o){f=o[l];f[u]=e;c=a[l].members;c[e]=c[n];delete c[n]}},onStoreLoad:function(e){this.update(e.getData().items,0)},update:function(e,t){if(!(e instanceof Array)){Ext.Error.raise("Only array of records or record ids are supported")}var n=this,r=Ext.data.matrix.Slice,i=n.side,s=i.index,o=e.length,u=n.id,a=n.members,f=i.inverse,l,c,h,p,d,v,m,g;for(h=0;h<o;++h){c=g=null;p=e[h];d=p.isEntity?(g=p).id:p;l=a[d];if(t<0&&l&&l[2]===1){delete a[d];m=f[d];if(m){delete m.members[u]}c=1}else{if(!l){l=[d,d,t];l[s]=u;a[d]=l;if(!(m=(v=f.slices)[d])){v[d]=m=new r(f,d)}m.members[u]=l;c=1}else if(t!==l[2]&&t!==0){l[2]=t;m=f.slices[d];c=1}}if(c){if(n.notify){n.notify.call(n.scope,n,d,t)}if(m&&m.notify){m.notify.call(m.scope,m,u,t)}}}},destroy:function(){var e=this,t=e.store;if(t){t.matrix=null;t.un("load",e.onStoreLoad,e)}e.notify=e.scope=e.store=e.side=e.members=null;e.callParent()}});Ext.define("Ext.data.matrix.Side",{requires:["Ext.data.matrix.Slice"],constructor:function(e,t,n){var r=this;r.matrix=e;r.index=t;r.role=n;r.slices={}},get:function(e,t){var n=this,r=n.slices,i=r[e]||(r[e]=new Ext.data.matrix.Slice(n,e));return t||t===0?i.members[t]:i},update:function(e,t,n){var r=this.get(e);return r.update(t,n)},destroy:function(){var e=this,t=e.slices,n;for(n in t){t[n].destroy()}e.inverse=e.matrix=e.role=e.slices=null;e.callParent()}});Ext.define("Ext.data.matrix.Matrix",{requires:["Ext.data.matrix.Side"],constructor:function(e,t){var n=this,r=t.isManyToMany?t:e.getSchema().getAssociation(t),i=Ext.data.matrix.Side,s=new i(n,0,r.left),o=new i(n,1,r.right);Ext.Assert.truthy(r.isManyToMany,"Association is not many-to-many");n.association=r;n.session=e;n.left=s;n.right=o;s.inverse=o;o.inverse=s},update:function(e,t,n){return this.left.update(e,t,n)},destroy:function(){var e=this;e.left.destroy();e.right.destroy();e.association=e.session=e.left=e.right=null;e.callParent()}});Ext.define("Ext.data.session.ChangesVisitor",{constructor:function(e){var t=this,n;t.session=e;n=e.getCrudProperties();t.result=null;t.writerOptions={};t.createKey=n.create;t.readKey=n.read;t.updateKey=n.update;t.dropKey=n.drop},onDirtyRecord:function(e){var t=this,n=t.crud,r=e.phantom,i=e.dropped,s=!r&&!i,o=e.$className,u=r||i?"allDataOptions":"partialDataOptions",a=t.writerOptions,f=e.entityName,l,c,h,p;if(r&&i){return false}n=r?t.createKey:i?t.dropKey:t.updateKey;a=a[o]||(a[o]={});if(i){if(!(l=a.drop)){a.drop=l={all:e.getProxy().getWriter().getWriteAllFields()}}if(!l.all){h=e.id}}if(!h){if(!(l=a[u])){l=e.getProxy().getWriter().getConfig(u);a[u]=l=Ext.Object.chain(l);t.setupOptions(l)}h=e.getData(l)}p=t.result||(t.result={});c=p[f]||(p[f]={});c=c[n]||(c[n]=[]);c.push(h)},setupOptions:function(e){e.serialize=true},onMatrixChange:function(e,t,n,r){var i=this,s=e.left.type,o=e.right.role,u=r<0?i.dropKey:i.createKey,a,f;f=i.result||(i.result={});a=f[s]||(f[s]={});a=a[o]||(a[o]={});a=a[u]||(a[u]={});a=a[t]||(a[t]=[]);a.push(n)}});Ext.define("Ext.data.session.ChildChangesVisitor",{extend:"Ext.data.session.ChangesVisitor",constructor:function(){this.seen={};this.callParent(arguments)},setupOptions:function(e){this.callParent([e]);e.serialize=false},onDirtyRecord:function(e){if(this.callParent(arguments)!==false){if(!e.$source&&(e.dropped||!e.phantom)){this.readEntity(e)}}},readEntity:function(e){var t=this,n=t.readKey,r=e.entityName,i=e.id,s=t.seen,o=r+i,u,a;if(s[o]){return}s[o]=true;u=t.result||(t.result={});a=u[r]||(u[r]={});a=a[n]||(a[n]=[]);a.push(Ext.apply({},e.modified,e.data))}});Ext.define("Ext.data.session.BatchVisitor",{map:null,constructor:function(e){this.batch=e},getBatch:function(e){var t=this.map,n=this.batch,r,i,s,o,u;if(t){if(!n){n=new Ext.data.Batch}for(s in t){r=t[s];i=r.entity;u=i.getProxy();delete r.entity;for(o in r){o=u.createOperation(o,{records:r[o]});o.entityType=i;n.add(o)}}}if(n&&e!==false){n.sort()}return n},onDirtyRecord:function(e){var t=this,n=e.phantom?"create":e.dropped?"destroy":"update",r=e.$className,i=t.map||(t.map={}),s=i[r]||(i[r]={entity:e.self});s=s[n]||(s[n]=[]);s.push(e)}});Ext.define("Ext.data.Session",{requires:["Ext.data.schema.Schema","Ext.data.Batch","Ext.data.matrix.Matrix","Ext.data.session.ChangesVisitor","Ext.data.session.ChildChangesVisitor","Ext.data.session.BatchVisitor"],isSession:true,config:{schema:"default",parent:null,autoDestroy:true,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},destroyed:false,crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},constructor:function(e){var t=this;t.data={};t.matrices={};t.identifierCache={};t.recordCreator=t.recordCreator.bind(t);t.initConfig(e)},destroy:function(){var e=this,t=e.matrices,n=e.data,r,i,s,o;for(o in t){t[o].destroy()}for(r in n){i=n[r];for(o in i){s=i[o].record;if(s){s.$source=s.session=null}}}e.recordCreator=e.matrices=e.data=null;e.setSchema(null);e.callParent()},adopt:function(e){var t=this,n=e.associations,r;t.checkModelType(e.self);if(e.session&&e.session!==t){Ext.Error.raise("Record already belongs to an existing session")}if(e.session!==t){e.session=t;t.add(e);if(n){for(r in n){n[r].adoptAssociated(e,t)}}}},commit:function(){},createRecord:function(e,t){this.checkModelType(e);var n=e.$isClass?e:this.getSchema().getEntity(e),r=this.getParent(),i;if(t&&r){i=n.getIdFromData(t);if(r.peekRecord(n,i)){Ext.Error.raise("A parent session already contains an entry for "+n.entityName+": "+i)}}return new n(t,this)},getChanges:function(){var e=new Ext.data.session.ChangesVisitor(this);this.visitData(e);return e.result},getChangesForParent:function(){var e=new Ext.data.session.ChildChangesVisitor(this);this.visitData(e);return e.result},getRecord:function(e,t,n){var r=this,i=r.peekRecord(e,t),s,o,u;if(!i){s=e.$isClass?e:r.getSchema().getEntity(e);o=r.getParent();if(o){u=o.peekRecord(s,t)}if(u&&!u.isLoading()){i=u.copy(undefined,r);i.$source=u}else{i=s.createWithId(t,null,r);if(n!==false){i.load(Ext.isObject(n)?n:undefined)}}}return i},getSaveBatch:function(e){var t=new Ext.data.session.BatchVisitor;this.visitData(t);return t.getBatch(e)},onInvalidAssociationEntity:function(e,t){Ext.Error.raise("Unable to read association entity: "+this.getModelIdentifier(e,t))},onInvalidEntityCreate:function(e,t){Ext.Error.raise("Cannot create, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityDrop:function(e,t){Ext.Error.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(e,t))},onInvalidEntityRead:function(e,t){Ext.Error.raise("Cannot read, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityUpdate:function(e,t,n){if(n){Ext.Error.raise("Cannot update, record dropped: "+this.getModelIdentifier(e,t))}else{Ext.Error.raise("Cannot update, record does not exist: "+this.getModelIdentifier(e,t))}},peekRecord:function(e,t,n){this.checkModelType(e);var r=e.$isClass?e:this.getSchema().getEntity(e),i=r.entityName,s=this.data[i],o,u;s=s&&s[t];o=s&&s.record;if(!o&&n){u=this.getParent();o=u&&u.peekRecord(e,t,n)}return o||null},save:function(){if(!this.getParent()){Ext.Error.raise("Cannot commit session, no parent exists")}var e=new Ext.data.session.ChildChangesVisitor(this);this.visitData(e);this.getParent().update(e.result)},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(e){var t=this,n=t.getSchema(),r=t.crudOperations,i=r.length,s=t.crudKeys,o,u,a,f,l,c,h,p,d,v;t.getSchema().processKeyChecks(true);for(o in e){u=n.getEntity(o);if(!u){Ext.Error.raise("Invalid entity type: "+o)}a=e[o];for(f=0;f<i;++f){l=r[f];c=a[l.type];if(c){t[l.entityMethod](u,c)}}}for(o in e){u=n.getEntity(o);h=u.associations;a=e[o];for(p in a){if(s[p]){continue}d=h[p];if(!d){Ext.Error.raise("Invalid association key for "+o+', "'+p+'"')}v=a[d.role];d.processUpdate(t,v)}}},privates:{add:function(e){var t=this,n=e.id,r=t.getEntry(e.self,n),i,s;if(r.record){Ext.Error.raise("Duplicate id "+e.id+" for "+e.entityName)}r.record=e;t.registerReferences(e);i=e.associations;for(s in i){i[s].checkMembership(t,e)}},afterErase:function(e){this.evict(e)},applySchema:function(e){return Ext.data.schema.Schema.get(e)},checkModelType:function(e){if(e.$isClass){e=e.entityName}if(!e){Ext.Error.raise("Unable to use anonymous models in a Session")}else if(!this.getSchema().getEntity(e)){Ext.Error.raise("Unknown entity type "+e)}},createEntities:function(e,t){var n=t.length,r,i,s,o;for(r=0;r<n;++r){i=t[r];o=e.getIdFromData(i);s=this.peekRecord(e,o);if(!s){s=this.createRecord(e,i)}else{this.onInvalidEntityCreate(e,o)}s.phantom=true}},dropEntities:function(e,t){var n=t.length,r,i,s;for(r=0;r<n;++r){s=t[r];i=this.peekRecord(e,s);if(i){i.drop()}else{this.onInvalidEntityDrop(e,s)}}},evict:function(e){var t=e.entityName,n;n=this.data[t];if(n){}},getEntityList:function(e,t){var n=t.length,r,i,s,o;for(r=0;r<n;++r){i=t[r];s=this.peekRecord(e,i);if(s){t[r]=s}else{o=true;t[r]=null;this.onInvalidAssociationEntity(e,i)}}if(o){t=Ext.Array.clean(t)}return t},getEntry:function(e,t){if(e.isModel){t=e.getId();e=e.self}var n=e.$isClass?e:this.getSchema().getEntity(e),r=n.entityName,i=this.data,s;s=i[r]||(i[r]={});s=s[t]||(s[t]={});return s},getRefs:function(e,t,n){var r=this.getEntry(e),i=r&&r.refs&&r.refs[t.role],s=n&&this.getParent(),o,u,a;if(s){o=s.getRefs(e,t);if(o){for(u in o){a=o[u];if(!i||!i[u]){this.getRecord(a.self,a.id)}}i=r&&r.refs&&r.refs[t.role]}}return i||null},getIdentifier:function(e){var t=this.getParent(),n,r,i,s;if(t){s=t.getIdentifier(e)}else{n=this.identifierCache;r=e.identifier;i=r.id||e.entityName;s=n[i];if(!s){if(r.clone){s=r.clone({cache:n})}else{s=r}n[i]=s}}return s},getMatrix:function(e,t){var n=e.isManyToMany?e.name:e,r=this.matrices,i;i=r[n];if(!i&&!t){i=r[n]=new Ext.data.matrix.Matrix(this,e)}return i||null},getMatrixSlice:function(e,t){var n=this.getMatrix(e.association),r=n[e.side];return r.get(t)},getModelIdentifier:function(e,t){return t+"@"+e.entityName},onIdChanged:function(e,t,n){var r=this,i=e.entityName,s=e.id,o=r.data[i],u=o[t],a=e.associations,f=u.refs,l=r._setNoRefs,c,h,p,d,v,m,g,y;if(o[n]){Ext.Error.raise("Cannot change "+i+" id from "+t+" to "+n+" id already exists")}delete o[t];o[n]=u;for(m in a){v=a[m];if(v.isMany){y=v.getAssociatedItem(e);if(y){p=y.matrix;if(p){p.changeId(n)}}}}if(f){for(m in f){g=f[m];v=a[m];c=v.association;if(c.isManyToMany){}else{h=c.field.name;for(d in g){g[d].set(h,s,l)}}}}r.registerReferences(e,t)},processManyBlock:function(e,t,n,r){var i=this,s,o,u;if(n){for(s in n){o=i.peekRecord(e,s);if(o){records=i.getEntityList(t.cls,n[s]);u=t.getAssociatedItem(o);i[r](t,u,o,records)}else{i.onInvalidAssociationEntity(e,s)}}}},processManyCreate:function(e,t,n,r){if(t){t.add(r)}else{n[e.getterName](null,null,r)}},processManyDrop:function(e,t,n,r){if(t){t.remove(r)}},processManyRead:function(e,t,n,r){if(t){t.setRecords(r)}else{n[e.getterName](null,null,r)}},readEntities:function(e,t){var n=t.length,r,i,s,o;for(r=0;r<n;++r){i=t[r];o=e.getIdFromData(i);s=this.peekRecord(e,o);if(!s){s=this.createRecord(e,i)}else{this.onInvalidEntityRead(e,o)}s.phantom=false}},recordCreator:function(e,t){var n=this,r=t.getIdFromData(e),i=n.peekRecord(t,r,true);if(!i){i=new t(e,n)}else{i=n.getRecord(t,r)}return i},registerReferences:function(e,t){var n=e.entityName,r=e.id,i=e.data,s=t||t===0,o,u,a,f,l,c,h,p;f=(c=e.references).length;for(u=0;u<f;++u){l=c[u];a=i[l.name];if(a||a===0){l=l.reference;n=l.type;p=l.inverse.role;o=this.getEntry(l.cls,a);h=o.refs||(o.refs={});h=h[p]||(h[p]={});h[r]=e;if(s){delete h[t]}}}},updateEntities:function(e,t){var n=t.length,r,i,s,o,u;if(Ext.isArray(t)){for(r=0;r<n;++r){i=t[r];o=e.getIdFromData(i);s=this.peekRecord(e,o);if(s){s.set(i)}else{this.onInvalidEntityUpdate(e,o)}}}else{for(o in t){i=t[o];s=this.peekRecord(e,o);if(s&&!s.dropped){u=s.set(i)}else{this.onInvalidEntityUpdate(e,o,!!s)}}}},updateReference:function(e,t,n,r){var i=t.reference,s=i.type,o=i.inverse.role,u=e.id,a,f;if(r||r===0){f=this.getEntry(s,r).refs[o];delete f[u]}if(n||n===0){a=this.getEntry(s,n);f=a.refs||(a.refs={});f=f[o]||(f[o]={});f[u]=e}},visitData:function(e){var t=this,n=t.data,r=t.matrices,i,s,o,u,a,f,l,c,h,p,d;t.getSchema().processKeyChecks(true);for(l in n){i=n[l];for(o in i){c=i[o].record;if(c){if(c.phantom||c.dirty||c.dropped){if(e.onDirtyRecord){e.onDirtyRecord(c)}}else if(e.onCleanRecord){e.onCleanRecord(c)}}}}if(e.onMatrixChange){for(l in r){a=r[l].left;p=a.slices;s=a.role.association;for(o in p){h=p[o];f=h.members;for(u in f){d=(c=f[u])[2];if(d){e.onMatrixChange(s,c[0],c[1],d)}}}}}return e},_setNoRefs:{refs:false}}});Ext.define("Ext.util.Schedulable",{"abstract":true,isSchedulable:true,scheduled:false,constructor:function(){this.getScheduler().add(this)},destroy:function(){var e=this,t=e.getScheduler();if(t){t.remove(e)}e.destroyed=true;e.scheduler=null;e.schedule=e.destroy=e.react=Ext.emptyFn},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var e=this,t;if(!e.scheduled){t=e.getScheduler();if(t){e.scheduled=true;if(e.onSchedule){e.onSchedule()}t.scheduleItem(e)}}},unschedule:function(){var e=this,t;if(e.scheduled){t=e.getScheduler();if(t){t.unscheduleItem(e)}e.scheduled=false}},sort:function(){}}});Ext.define("Ext.app.bind.BaseBinding",{extend:"Ext.util.Schedulable",calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(e,t,n,r){var i=this;i.options=r;i.owner=e;i.scope=n;i.callback=t;if(!t){Ext.Error.raise("Callback is required")}i.lateBound=Ext.isString(t);if(r&&r.deep){i.deep=true}i.callParent()},destroy:function(){var e=this,t=e.owner;e.callParent();if(t){t.onBindDestroy()}e.scope=e.callback=e.owner=null},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},notify:function(e){var t=this,n=t.options||t.defaultOptions,r=t.lastValue;if(!t.calls||t.deep||r!==e||Ext.isArray(e)){++t.calls;t.lastValue=e;if(t.lateBound){t.scope[t.callback](e,r,t)}else{t.callback.call(t.scope,e,r,t)}if(n.single){t.destroy()}}}}});Ext.define("Ext.app.bind.Binding",{extend:"Ext.app.bind.BaseBinding",constructor:function(e,t,n,r){var i=this;i.callParent([e.owner,t,n,r]);i.stub=e;i.depth=e.depth;if(!e.isLoading()&&!e.scheduled){i.schedule()}},destroy:function(e){var t=this,n=t.stub;if(n&&!e){n.unbind(t);t.stub=null}t.callParent()},bindValidation:function(e,t){var n=this.stub;return n&&n.bindValidation(e,t)},bindValidationField:function(e,t){var n=this.stub;return n&&n.bindValidationField(e,t)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var e=this,t=e.stub,n=t&&t.getValue();if(e.transform){n=e.transform(n)}return n},isLoading:function(){var e=this.stub;return e&&e.isLoading()},isReadOnly:function(){var e=this.stub,t=this.options,n;if(e&&e.set&&!(t&&t.twoWay===false)){n=e.formula;if(!n||n.set){return false}}return true},refresh:function(){},setValue:function(e){if(this.isReadOnly()){Ext.Error.raise("Cannot setValue on a readonly binding")}var t=this.stub,n=t.formula;if(n){n.set.call(t.owner,e)}else{t.set(e)}},privates:{getDataObject:function(){var e=this.stub;return e&&e.getDataObject()},getRawValue:function(){var e=this,t=e.stub,n=t&&t.getRawValue();if(e.transform){n=e.transform(n)}return n},isDescendantOf:function(e){var t=this.stub;return t?e===t||t.isDescendantOf(e):false},react:function(){this.notify(this.getValue())},schedule:function(){if(!this.stub.scheduled){this.callParent()}},sort:function(){var e=this.stub;e.scheduler.sortItem(e)}}});Ext.define("Ext.app.bind.AbstractStub",{extend:"Ext.util.Schedulable",requires:["Ext.app.bind.Binding"],children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(e,t){var n=this;n.owner=e;n.name=t;n.callParent()},destroy:function(){var e=this,t=e.children,n=e.bindings,r,i,s;if(n){for(i=0,r=n.length;i<r;++i){n[i].destroy(true)}}for(s in t){t[s].destroy()}e.callParent();e.bindings=e.children=e.owner=null},add:function(e){var t=this;(t.children||(t.children={}))[e.name]=e;e.depth=t.depth+1;e.parent=t},getChild:function(e){var t=Ext.isString(e)?e.split("."):e;if(t&&t.length){return this.descend(t,0)}return this},getFullName:function(){var e=this,t=e.fullName,n=e.parent,r;if(!t){t=e.name||e.id;if(n&&(r=n.getFullName())){t=(r.charAt(r.length-1)!==":"?r+".":r)+t}e.fullName=t}return t},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},bind:function(e,t,n){var r=this,i=new Ext.app.bind.Binding(r,e,t,n),s=r.bindings||(r.bindings=[]);i.depth=r.depth;s.push(i);return i},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(e){var t=this,n=t.bindings,r=t.name,i;t.parent=t.bindings=null;t.destroy();e.depth=t.depth;e.bindings=n;e.generation=t.generation+1;e.name=r;e.id=t.id;e.path=t.path;if(n){for(i=n.length;i-->0;){n[i].stub=e}}return e},isDescendantOf:function(e){for(var t=this;t=t.parent;){if(t===e){return true}}return false},onSchedule:function(){for(var e,t,n,r,i=this.parent;i;i=i.parent){r=i.bindings;if(r){for(e=0,t=r.length;e<t;++e){n=r[e];if(n.deep&&!n.scheduled){n.schedule()}}}}},react:function(){var e=this.bindings,t,n,r;if(e){for(n=0,r=e.length;n<r;++n){t=e[n];if(!t.scheduled){t.schedule()}}}},unbind:function(e){var t=this.bindings;if(t&&t.length){Ext.Array.remove(t,e)}},privates:{collect:function(){var e=this.children,t=this.bindings,n=0,r=0,i,s;if(e){for(s in e){i=e[s];r=i.collect();if(r===0){i.destroy();delete e[s]}n+=r}}if(t){n+=t.length}return n},getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this.parent;if(e){this.scheduler.sortItem(e)}}}});Ext.define("Ext.app.bind.Stub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.Binding"],isStub:true,dirty:true,formula:null,validationKey:"validation",statics:{populateValues:function(e,t,n,r){var i=r&&r.children,s,o,u;u=e!==undefined;if(!t.hadValue[n]){t.hadValue[n]=u}if(r){r.hadValue=u}if(e&&e.constructor===Object){for(o in e){Ext.app.bind.Stub.populateValues(e[o],t,n+"."+o,i&&i[o])}}}},constructor:function(e,t,n){var r=this,i=t;r.callParent([e,t]);r.boundValue=null;if(n){n.add(r);if(!n.isRootStub){i=n.path+"."+t}}r.hadValue=e.hadValue[i];r.path=i},destroy:function(){var e=this,t=e.formula,n=e.parent,r=e.storeBinding;if(t){t.destroy()}if(r){r.destroy()}e.detachBound();e.parentValue=e.formula=e.storeBinding=null;e.callParent()},bindValidation:function(e,t){var n=this.parent;return n&&n.descend([this.validationKey,this.name]).bind(e,t)},bindValidationField:function(e,t){var n=this.parent,r=this.name,i=typeof e==="string",s;if(n){s=n.bind(function(n){var s=null;if(n&&n.isModel){s=n.getField(r)}if(i){t[e](s,null,this)}else{e.call(t,s,null,this)}})}return s||null},descend:function(e,t){var n=this,r=n.children||(n.children={}),i=t||0,s=e[i++],o;if(!(o=r[s])){o=new Ext.app.bind.Stub(n.owner,s,n)}if(i<e.length){o=o.descend(e,i)}return o},getChildValue:function(e){var t=this,n=t.name,r;if(!e&&!Ext.isString(e)){r=t.hadValue?null:undefined}else{r=t.inspectValue(e);if(!r){if(e.isEntity){r=e.data[n]}else{r=e[n]}}}return r},getDataObject:function(){var e=this,t=e.parent.getDataObject(),n=e.name,r=t?t[n]:null;if(!r||!(r.$className||Ext.isObject(r))){if(r){}t[n]=r={};e.hadValue=e.owner.hadValue[e.path]=true;e.invalidate(true,true)}return r},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(e){var t=this,n=t.parent,r=t.children,i=t.name,s;e.parent=n;e.children=r;if(n){n.children[i]=e}if(r){for(s in r){r[s].parent=e}}t.children=null;return t.callParent([e])},isLoading:function(){var e=this,t=e.parent,n=false,r,i,s,o;if(t&&!(n=t.isLoading())){i=e.getParentValue();s=e.inspectValue(i);if(s){n=s.isLoading()}else{if(i&&i.isModel){r=i.associations;if(!(r&&e.name in r)){n=false;o=true}}if(!o){n=!e.hadValue&&e.getRawValue()===undefined}}}return n},invalidate:function(e,t){var n=this,r=n.children,i;n.dirty=true;if(!t&&!n.isLoading()){if(!n.scheduled){n.schedule()}}if(e&&r){for(i in r){r[i].invalidate(e,t)}}},set:function(e){var t=this,n=t.parent,r=t.name,i=n.getDataObject(),s;if(i.isEntity){s=i.associations;if(s&&r in s){}else{i.set(r,e)}}else if(e&&e.constructor===Object||e!==i[r]){if(!t.setByLink(e)){if(e===undefined){delete i[r]}else{i[r]=e;Ext.app.bind.Stub.populateValues(e,t.owner,t.path,t)}t.inspectValue(i);t.invalidate(true)}}},onStoreLoad:function(){this.invalidate(true)},afterLoad:function(e){this.invalidate(true)},afterCommit:function(e){this.afterEdit(e,null)},afterEdit:function(e,t){var n=this.children,r=t&&t.length,i=e.associations,s,o,u,a;if(n){if(r){for(o=0;o<r;++o){u=n[t[o]];if(u){u.invalidate()}}}else{for(s in n){if(!(i&&s in i)){n[s].invalidate()}}}}this.invalidate()},afterReject:function(e){this.afterEdit(e,null)},setByLink:function(e){var t=this,n=0,r,i,s,o;for(o=t;o;o=o.parent){if(o.isLinkStub){i=o;if(n){for(s=[],r=0,o=t;o!==i;o=o.parent){++r;s[n-r]=o.name}}break}++n}if(!i||!(o=i.getTargetStub())){return false}if(s){o=o.descend(s)}o.set(e);return true},setFormula:function(e){var t=this,n=t.formula;if(n){n.destroy()}t.formula=new Ext.app.bind.Formula(t,e)},react:function(){var e=this,t=this.boundValue,n=e.children,r;if(t){if(t.isValidation){t.refresh();r=t.generation;if(e.lastValidationGeneration===r){return}e.lastValidationGeneration=r}else if(t.isModel){if(n&&n[e.validationKey]){t.isValid()}}else if(t.isStore){if(t.isLoading()&&!t.loadCount){return}}}this.callParent()},privates:{collect:function(){var e=this,t=e.callParent(),n=e.storeBinding?1:0,r=e.formula?1:0;return t+n+r},getParentValue:function(){var e=this;if(e.dirty){e.parentValue=e.parent.getValue();e.dirty=false}return e.parentValue},setStore:function(e){this.storeBinding=e},inspectValue:function(e){var t=this,n=t.name,r=t.boundValue,i=null,s,o,u,a;if(e&&e.isEntity){s=e.associations;if(s&&n in s){o=s[n];i=e[o.getterName]();if(i&&i.isStore){i.$associatedStore=true}}else if(n===t.validationKey){i=e.getValidation();t.lastValidationGeneration=null}}else if(e){u=e[n];if(u&&(u.isModel||u.isStore)){i=u}}a=r!==i;if(a){if(r){t.detachBound()}if(i){if(i.isModel){i.join(t)}else{if(i.$associatedStore&&!i.complete&&!i.hasPendingLoad()){i.load()}i.on("load",t.onStoreLoad,t,{single:true})}}t.boundValue=i}return i},detachBound:function(){var e=this,t=e.boundValue;if(t){if(t.isModel){t.unjoin(e)}else{t.un("load",e.onStoreLoad,e)}}},sort:function(){var e=this,t=e.formula,n=e.scheduler,r=e.storeBinding;e.callParent();if(r){n.sortItem(r)}if(t){n.sortItem(t)}}}});Ext.define("Ext.app.bind.LinkStub",{extend:"Ext.app.bind.Stub",isLinkStub:true,binding:null,destroy:function(){var e=this,t=e.binding,n=e.owner;if(t){e.binding=null;t.destroy();if(n){delete n.linkData[e.name]}}e.target=null;e.callParent()},getFullName:function(){var e=this;return e.fullName||(e.fullName="("+e.callParent()+" -> "+e.binding.getFullName()+")")},getDataObject:function(){var e=this.binding;return e&&e.getDataObject()},getRawValue:function(){var e=this.binding;return e&&e.getRawValue()},getValue:function(){var e=this.binding;return e&&e.getValue()},getTargetStub:function(){var e=this.binding;return e&&e.stub},isLoading:function(){var e=this.binding;return e?e.isLoading():false},link:function(e,t){var n=this,r=n.binding;if(r){r.destroy()}t=n.target=t||n.owner;n.linkDescriptor=e;n.binding=t.bind(e,n.onChange,n);n.binding.deep=true},onChange:function(){this.invalidate(true)},react:function(){var e=this,t=e.owner.linkData;t[e.name]=e.getValue();e.callParent()},privates:{collect:function(){var e=this,t=e.callParent(),n=e.binding?1:0;return t+n},sort:function(){var e=this.binding;if(e){this.scheduler.sortItem(e)}}}});Ext.define("Ext.app.bind.RootStub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.LinkStub","Ext.app.bind.Stub"],isRootStub:true,depth:0,createRootChild:function(e,t){var n=this,r=n.owner,i=r.getData(),s=n.children,o=s&&s[e],u=o?null:n,a,f;if(t||i.hasOwnProperty(e)||!(a=r.getParent())){f=new Ext.app.bind.Stub(r,e,u)}else{f=new Ext.app.bind.LinkStub(r,e,o?null:u);f.link("{"+e+"}",a)}if(o){o.graft(f)}return f},createStubChild:function(e){return this.createRootChild(e,true)},descend:function(e,t){var n=this,r=n.children,i=t||0,s=e[i++],o=r&&r[s]||n.createRootChild(s);if(i<e.length){o=o.descend(e,i)}return o},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return false},isLoading:function(){return false},set:function(e){if(!e||e.constructor!==Object){Ext.Error.raise("Only an object can be set at the root")}var t=this,n=t.children||(t.children={}),r=t.owner,i=r.data,s=r.getParent(),o,u,a,f;for(f in e){if(f.indexOf(".")>=0){Ext.Error.raise("Value names cannot contain dots")}if((a=e[f])!==undefined){if(!(u=n[f])){u=new Ext.app.bind.Stub(r,f,t)}else if(u.isLinkStub){o=u;u=new Ext.app.bind.Stub(r,f);o.graft(u)}u.set(a)}else if(i.hasOwnProperty(f)){delete i[f];u=n[f];if(u&&!u.isLinkStub&&s){u=t.createRootChild(f)}u.invalidate(true)}}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn});Ext.define("Ext.app.bind.Multi",{extend:"Ext.app.bind.BaseBinding",isMultiBinding:true,missing:1,deep:true,constructor:function(e,t,n,r,i){var s=this;s.callParent([t,n,r,i]);s.bindings=[];s.literal=e.$literal;if(e.constructor===Object){s.addObject(e,s.lastValue={})}else{s.addArray(e,s.lastValue=[])}if(!--s.missing&&!s.scheduled){s.schedule()}},destroy:function(){var e=this;e.bindings=Ext.destroy(e.bindings);e.callParent()},add:function(e,t,n){var r=this,i=r.owner,s=r.bindings,o=r.literal?e.reference?"bindEntity":"bindExpression":"bind",u,a;++r.missing;u=i[o](e,function(e){t[n]=e;if(u.calls===1){--r.missing}if(!r.missing&&!r.scheduled){r.schedule()}},r,null);a=u.depth;if(!s.length||a<r.depth){r.depth=a}s.push(u)},addArray:function(e,t){var n=this,r=e.length,i,s;for(s=0;s<r;++s){i=e[s];if(i&&(i.reference||Ext.isString(i))){n.add(i,t,s)}else if(Ext.isArray(i)){n.addArray(i,t[s]=[])}else if(i&&i.constructor===Object){n.addObject(i,t[s]={})}else{t[s]=i}}},addObject:function(e,t){var n=this,r,i;for(i in e){r=e[i];if(r&&(r.reference||Ext.isString(r))){n.add(r,t,i)}else if(Ext.isArray(r)){n.addArray(r,t[i]=[])}else if(r&&r.constructor===Object){n.addObject(r,t[i]={})}else{t[i]=r}}},getFullName:function(){var e=this,t=e.fullName,n=e.bindings,r=n.length,i;if(!t){t="@[";for(i=0;i<r;++i){if(i){t+=","}t+=n[i].getFullName()}t+="]";e.fullName=t}return t},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return false},isLoading:function(){for(var e=this.bindings,t=e.length;t-->0;){if(e[t].isLoading()){return true}}return false},isStatic:function(){var e=this.bindings,t=e.length,n,r;for(n=0;n<t;++n){r=e[n];if(!(r.isTemplateBinding&&r.isStatic)){return false}}return true},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}});Ext.define("Ext.app.bind.Formula",{extend:"Ext.util.Schedulable",requires:["Ext.util.LruCache"],statics:{getFormulaParser:function(e){var t=this.formulaCache,n,r;if(!t){t=this.formulaCache=new Ext.util.LruCache({maxSize:20})}n=t.get(e);if(!n){r="[^\\.a-z0-9_]"+e+"\\((['\"])(.*?)\\1\\)";n=new RegExp(r,"gi");t.add(e,n)}return n}},isFormula:true,calculation:null,explicit:false,set:null,single:false,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(e,t){var n=this,r=e.owner,i,s,o,u;n.owner=r;n.stub=e;n.callParent();if(t instanceof Function){n.get=o=t}else{n.get=o=t.get;n.set=t.set;s=t.bind;if(t.single){n.single=t.single}if(s){i=s.bindTo;if(i){u=Ext.apply({},s);delete u.bindTo;s=i}}}if(!o){Ext.Error.raise("Must specify a getter method for a formula")}if(s){n.explicit=true}else{s=o.$expressions||n.parseFormula(o)}n.binding=r.bind(s,n.onChange,n,u)},destroy:function(){var e=this,t=e.binding,n=e.stub;if(t){t.destroy();e.binding=null}if(n){n.formula=null}e.callParent();e.getterFn=e.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+this.callParent()+")")},getRawValue:function(){return this.calculation},onChange:function(){if(!this.scheduled){this.schedule()}},parseFormula:function(e){var t=e.toString(),n={$literal:true},r,i,s,o;r=this.argumentNamesRe.exec(t);i=r?r[1]:"get";s=Ext.app.bind.Formula.getFormulaParser(i);while(r=s.exec(t)){o=r[2];n[o]=o}n.$literal=true;e.$expressions=n;return n},react:function(){var e=this,t=e.owner,n=e.binding.lastValue,r=e.getterFn,i;if(e.explicit){i=n}else{i=t.getFormulaFn(n)}e.settingValue=true;e.stub.set(e.calculation=e.get.call(t,i));e.settingValue=false;if(e.single){e.destroy()}},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this,t=e.binding;if(!t.destroyed){e.scheduler.sortItem(t)}}}});Ext.define("Ext.app.bind.Template",{requires:["Ext.util.Format"],numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(e){var t=this,n=t._initters,r;t.text=e;for(r in n){t[r]=n[r]}},_initters:{apply:function(e,t){return this.parse().apply(e,t)},getTokens:function(){return this.parse().getTokens()}},apply:function(e,t){var n=this,r=n.slots,i=n.buffer,s=r.length,o,u,a;for(o=0;o<s;++o){u=r[o];if(u){if((a=e[u.pos])==null){a=""}if(u.not){a=!a}if(u.format){a=u.format(a,t)}i[o]=a}}return i.join("")},getTokens:function(){return this.tokens},parse:function(){var e=this,t=e.text,n=[],r=[],i=[],s={},o=0,u=e.tokenRe,a=0,f,l,c,h,p,d,v;for(l in e._initters){delete e[l]}e.buffer=n;e.slots=r;e.tokens=i;while(h=u.exec(t)){c=h.index-o;if(c){n[a++]=t.substring(o,o+c);o+=c}o+=(p=h[0]).length;d={fmt:f=h[3]||null,index:h[1]?parseInt(h[1],10):null,not:p.charAt(1)==="!",token:h[2]||null};v=d.token||String(d.index);if(v in s){d.pos=s[v]}else{s[v]=d.pos=i.length;i.push(v)}if(f){if(f.substring(0,5)==="this."){d.fmt=f.substring(5)}else{if(!(f in Ext.util.Format)){Ext.Error.raise('Invalid format specified: "'+f+'"')}d.scope=Ext.util.Format}e.parseArgs(h[4],d)}r[a++]=d}if(o<t.length){n[a++]=t.substring(o)}return e},parseArgs:function(e,t){var n=this,r=n.numberRe,i=n.stringRe,s,o,u,a;if(!e){o=[]}else if(e.indexOf(",")<0){o=[e]}else{o=e.split(",")}t=t||{};a=o.length;t.args=o;for(u=0;u<a;++u){s=o[u];if(s==="true"){o[u]=true}else if(s==="false"){o[u]=false}else if(s==="null"){o[u]=null}else if(r.test(s)){o[u]=parseFloat(s)}else if(i.test(s)){o[u]=s.substring(1,s.length-1)}else{t.fn=Ext.functionFactory("return ["+e+"];");t.format=n._formatEval;break}}if(!t.format){o.unshift(0);t.format=n._formatArgs}return t},parseFormat:function(e){var t=this,n=t.formatRe.exec(e),r={fmt:e,scope:Ext.util.Format},i;if(!n){Ext.Error.raise('Invalid format syntax: "'+r+'"')}i=n[2];if(i){r.fmt=n[1];t.parseArgs(i,r)}else{r.args=[0];r.format=t._formatArgs}return r},_formatArgs:function(e,t){t=this.scope||t;this.args[0]=e;return t[this.fmt].apply(t,this.args)},_formatEval:function(e,t){var n=this.fn();n.unshift(e);t=this.scope||t;return t[this.fmt].apply(t,n)}});Ext.define("Ext.app.bind.TemplateBinding",{extend:"Ext.app.bind.BaseBinding",requires:["Ext.app.bind.Multi","Ext.app.bind.Template"],isTemplateBinding:true,lastValue:undefined,value:undefined,constructor:function(e,t,n,r,i){var s=this,o=new Ext.app.bind.Template(e),u=o.getTokens();s.callParent([t,n,r,i]);s.tpl=o;s.tokens=u;u.$literal=true;if(u.length){s.multiBinding=new Ext.app.bind.Multi(u,t,s.onBindData,s)}else{s.isStatic=true;s.onData(o.text)}},destroy:function(){var e=this;Ext.destroy(e.multiBinding);e.tpl=e.multiBinding=null;e.callParent()},getFullName:function(){var e=this.multiBinding;return this.fullName||(this.fullName="$"+(e?e.getFullName():this.callParent()))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return false},isLoading:function(){var e=this.multiBinding;return e?e.isLoading():false},onBindData:function(e){this.onData(this.tpl.apply(e,this.getTemplateScope()))},onData:function(e){var t=this,n=t.value;if(n!==(t.value=e)){t.lastValue=n;t.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var e=this.multiBinding;if(e){e.refresh()}},privates:{sort:function(){var e=this.multiBinding;if(e){this.scheduler.sortItem(e)}}}});Ext.define("Ext.data.AbstractStore",{mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],requires:["Ext.util.Collection","Ext.data.schema.Schema","Ext.util.Filter"],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:false,$configStrict:false,config:{autoFilter:true,autoSort:true,filters:undefined,autoDestroy:undefined,storeId:null,statefulFilters:false,sorters:undefined,remoteSort:false,remoteFilter:false,groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:false,isDestroyed:false,isStore:true,updating:0,constructor:function(e){var t=this,n;t.isInitializing=true;t.mixins.observable.constructor.call(t,e);t.isInitializing=false;n=t.getStoreId();if(!n&&e&&e.id){t.setStoreId(n=e.id)}if(n){Ext.data.StoreManager.register(t)}},getId:function(){return this.getObservableId()},getCount:function(){return this.getData().getCount()},rangeCached:function(e,t){return this.getData().getCount()>=Math.max(e,t)},find:function(e,t,n,r,i,s){var o=!r,u=o&&s;return this.getData().findIndex(e,t,n,o,u,!i)},findRecord:function(){var e=this,t=e.find.apply(e,arguments);return t!==-1?e.getAt(t):null},findExact:function(e,t,n){return this.getData().findIndexBy(function(n){return n.isEqual(n.get(e),t)},this,n)},findBy:function(e,t,n){return this.getData().findIndexBy(e,t,n)},getAt:function(e){return this.getData().getAt(e)||null},getRange:function(e,t,n){var r=this.getData().getRange(e,Ext.isNumber(t)?t+1:t);if(n&&n.callback){n.callback.call(n.scope||this,r,e,t,n)}return r},applyFilters:function(e,t){if(!t){t=this.createFiltersCollection();t.setRootProperty("data")}t.add(e);return t},applySorters:function(e,t){if(!t){t=this.createSortersCollection();t.setRootProperty("data")}t.add(e);return t},updateAutoFilter:function(e){var t=this.getData();if(t.setAutoFilter){t.setAutoFilter(e)}},updateAutoSort:function(e){var t=this.getData();if(t.setAutoSort){t.setAutoSort(e)}},filter:function(e,t){if(Ext.isString(e)){e={property:e,value:t}}this.getFilters().add(e)},removeFilter:function(e){var t=this,n=t.getFilters();if(e instanceof Ext.util.Filter){n.remove(e)}else{n.removeByKey(e)}},updateRemoteSort:function(e){var t=this,n=t.getSorters(),r=t.getData();if(e){n.on("endupdate",t.onSorterEndUpdate,t);r.un("beforesort",t.onBeforeCollectionSort,t)}else{n.un("endupdate",t.onSorterEndUpdate,t);r.on("beforesort",t.onBeforeCollectionSort,t)}},updateRemoteFilter:function(e){var t=this,n=t.getFilters();if(e){n.on("endupdate",t.onFilterEndUpdate,t)}else{n.un("endupdate",t.onFilterEndUpdate,t)}},addFilter:function(e){this.getFilters().add(e)},filterBy:function(e,t){this.getFilters().add({filterFn:e,scope:t||this})},clearFilter:function(e){var t=this,n=t.getFilters(false);if(!n||n.getCount()===0){return}t.suppressNextFilter=!!e;n.removeAll();t.suppressNextFilter=false},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){return this.getSorters().getCount()>0||this.isGrouped()},addFieldTransform:function(e){if(e.getTransform()){return}var t=e.getProperty(),n=this.getModel(),r,i;if(n){r=n.getField(t);i=r?r.getSortType():null}if(i&&i!==Ext.identityFn){e.setTransform(i)}},beginUpdate:function(){if(!(this.updating++)){this.fireEvent("beginupdate")}},endUpdate:function(){if(this.updating&&!--this.updating){this.fireEvent("endupdate");this.onEndUpdate()}},getState:function(){var e=this,t=[],n=e.getFilters(),r=e.getGrouper(),i,s,o,u;e.getSorters().each(function(e){t[t.length]=e.getState();s=true});if(e.statefulFilters&&e.saveStatefulFilters){s=true;i=[];n.each(function(e){i[i.length]=e.getState()})}if(r){s=true}if(s){u={};if(t.length){u.sorters=t}if(i){u.filters=i}if(r){u.grouper=r.getState()}}return u},applyState:function(e){var t=this,n=t.getSorters(),r=t.getFilters(),i=e.sorters,s=e.filters,o=e.grouper;if(i){n.replaceAll(i)}if(s){t.saveStatefulFilters=true;r.replaceAll(s)}if(o){this.setGrouper(o)}},hasPendingLoad:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var e=this;e.clearListeners();if(e.getStoreId()){Ext.data.StoreManager.unregister(e)}e.onDestroy();e.callParent()},sort:function(e,t,n){var r=this;if(arguments.length===0){if(r.getRemoteSort()){r.attemptLoad()}else{r.forceLocalSort()}}else{r.getSorters().addSort(e,t,n)}},onBeforeCollectionSort:function(e,t){this.fireEvent("beforesort",this,t.getRange())},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange();if(t.length){if(e.getRemoteSort()){e.attemptLoad({callback:function(){e.fireEvent("sort",e,t)}})}else{e.fireEvent("datachanged",e);e.fireEvent("refresh",e);e.fireEvent("sort",e,t)}}else{e.fireEvent("sort",e,t)}},onFilterEndUpdate:function(){var e=this,t=e.suppressNextFilter;if(e.getAutoFilter()){if(e.getRemoteFilter()){e.currentPage=1;if(!t){e.attemptLoad()}}else{if(!t){e.fireEvent("datachanged",e);e.fireEvent("refresh",e)}}}if(e.trackStateChanges){e.saveStatefulFilters=true}e.fireEvent("filterchange",e,e.getFilters().getRange())},updateGroupField:function(e){var t=this.getData();if(e){t.setGrouper({property:e,direction:this.getGroupDir()})}else{t.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(e,t,n){var r=this,i=e||r.getSorters().getCount()>0;if(e&&typeof e==="string"){e={property:e,direction:t||r.getGroupDir()}}r.getData().setGrouper(e);if(r.isLoadBlocked()){return}if(i){if(r.getRemoteSort()){r.attemptLoad({callback:function(){r.fireEvent("groupchange",r,r.getGrouper())}})}else{r.fireEvent("datachanged",r);r.fireEvent("refresh",r);r.fireEvent("groupchange",r,r.getGrouper())}}else{r.fireEvent("groupchange",r,r.getGrouper())}},clearGrouping:function(){this.group(null)},getGroupField:function(){var e=this.getGrouper(),t="";if(e){t=e.getProperty()}return t},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(e){this.group(e);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}});Ext.define("Ext.data.LocalStore",{extend:"Ext.Mixin",mixinConfig:{id:"localstore"},constructDataCollection:function(){var e=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),t;t=e.getSorters();t.setSorterConfigure(this.addFieldTransform,this);return e},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){return this.getData().getSorters()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(e){return this.indexOf(e)>-1},each:function(e,t){var n=this.data.items,r=n.length,i,s;for(s=0;s<r;++s){i=n[s];if(e.call(t||i,i,s,r)===false){break}}},collect:function(e,t,n){var r=this,i=r.getData();if(n===true&&i.filtered){i=i.getSource()}return i.collect(e,"data",t)},getById:function(e){var t=this.getData();if(t.filtered){t=t.getSource()}return t.get(e)||null},getByInternalId:function(e){var t=this.getData();if(t.filtered){t=t.getSource()}return t.byInternalId.get(e)||null},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},queryBy:function(e,t){var n=this.getData();return(n.getSource()||n).createFiltered(e,t)},query:function(e,t,n,r,i){var s=this.getData();return(s.getSource()||s).createFiltered(e,t,n,r,i)},first:function(e){return this.getData().first(e)||null},last:function(e){return this.getData().last(e)||null},sum:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.sumByGroup(e):n.sum(e)},count:function(e){var t=this.getData();return e&&this.isGrouped()?t.countByGroup():t.count()},min:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.minByGroup(e):n.min(e)},max:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.maxByGroup(e):n.max(e)},average:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.averageByGroup(e):n.average(e)},aggregate:function(e,t,n,r){var i=this,s,o,u,a,f;if(n&&i.isGrouped()){s=i.getGroups().items;o=s.length;u={};for(f=0;f<o;++f){a=s[f];u[a.getGroupKey()]=i.getAggregate(e,t||i,a.items,r)}return u}else{return i.getAggregate(e,t,i.getData().items,r)}},getAggregate:function(e,t,n,r){var i=[],s=n.length,o;for(o=0;o<s;++o){i[o]=n[o].get(r)}return e.call(t||this,n,i)},addObserver:function(e){var t=this.observers;if(!t){this.observers=t=new Ext.util.Collection}t.add(e)},removeObserver:function(e){var t=this.observers;if(t){t.remove(e)}},callObservers:function(e,t){var n=this.observers,r,i,s,o,u;if(n){i=n.items;if(t){t.unshift(this)}else{t=[this]}for(s=0,r=i.length;s<r;++s){u=i[s];o="onSource"+e;if(u[o]){u[o].apply(u,t)}}}}});Ext.define("Ext.data.ChainedStore",{extend:"Ext.data.AbstractStore",alias:"store.chained",config:{source:null,remoteFilter:false,remoteSort:false},mixins:["Ext.data.LocalStore"],constructor:function(){this.callParent(arguments);this.getData().addObserver(this)},updateRemoteFilter:function(e){if(e){Ext.Error.raise("Remote filtering cannot be used with chained stores.")}},updateRemoteSort:function(e){if(e){Ext.Error.raise("Remote sorting cannot be used with chained stores.")}},add:function(){var e=this.getSource();return e.add.apply(e,arguments)},remove:function(){var e=this.getSource();return e.remove.apply(e,arguments)},getData:function(){var e=this,t=e.data;if(!t){e.data=t=e.constructDataCollection()}return t},applySource:function(e){if(e){e=Ext.data.StoreManager.lookup(e)}return e},updateSource:function(e,t){var n=this,r;if(t){t.removeObserver(n)}if(e){r=n.getData();r.setSource(e.getData());if(!n.isInitializing){n.fireEvent("refresh",n);n.fireEvent("datachanged",n)}e.addObserver(n)}},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(e,t){var n=this,r=t.items,i=!t.next;if(n.ignoreCollectionAdd){return}n.fireEvent("add",n,r,t.at);if(i){n.fireEvent("datachanged",n)}},onCollectionItemChange:function(e,t){var n=this,r=t.item,i=t.modified||null,s=t.meta;n.onUpdate(r,s,i,t);n.fireEvent("update",n,r,s,i,t)},onUpdate:Ext.emptyFn,onCollectionRemove:function(e,t){var n=this,r=t.items,i=!t.next;if(n.ignoreCollectionRemove){return}n.fireEvent("remove",n,r,t.at,false);if(i){n.fireEvent("datachanged",n)}},onSourceBeforeLoad:function(){this.ignoreCollectionAdd=true;this.callObservers("BeforeLoad")},onSourceAfterLoad:function(){var e=this;e.ignoreCollectionAdd=false;e.fireEvent("datachanged",e);e.fireEvent("refresh",e);this.callObservers("AfterLoad")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=false;this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(e,t){var n=this;n.ignoreCollectionRemove=false;if(!t){n.fireEvent("clear",n);n.fireEvent("datachanged",n)}this.callObservers("AfterRemoveAll",[t])},onSourceFilter:function(){var e=this;e.fireEvent("refresh",e);e.fireEvent("datachanged",e)},hasPendingLoad:function(){return false},isLoading:function(){return false},onDestroy:function(){var e=this;e.observers=null;e.setSource(null);e.getData().destroy(true);e.data=null}});Ext.define("Ext.app.ViewModel",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.Scheduler","Ext.data.Session","Ext.app.bind.RootStub","Ext.app.bind.LinkStub","Ext.app.bind.Multi","Ext.app.bind.Formula","Ext.app.bind.TemplateBinding","Ext.data.ChainedStore"],alias:"viewmodel.default",isViewModel:true,factoryConfig:{name:"viewModel"},destroyed:false,collectTimeout:100,expressionRe:/^(?:\{[!]?(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:false,config:{data:true,formulas:{$value:null,merge:function(e,t,n,r){return this.mergeNew(e,t,n,r)}},links:null,parent:null,root:true,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(e){this.hadValue={};this.initConfig(e)},destroy:function(){var e=this,t=e._scheduler,n=e.storeInfo,r=e.getParent(),i=e.collectTask,s,o,u;e.destroy=Ext.emptyFn;e.destroying=true;if(i){i.cancel();e.collectTask=null}if(n){for(s in n){o=n[s];u=o.autoDestroy;if(u||!o.$wasInstance&&u!==false){o.destroy()}Ext.destroy(o.$binding)}}if(r){r.unregisterChild(e)}e.getRoot().destroy();if(t&&t.$owner===e){t.$owner=null;t.destroy()}e.hadValue=e.children=e.storeInfo=e._session=e._view=e._scheduler=e._root=e._parent=e.formulaFn=e.$formulaData=null;e.destroying=false},bind:function(e,t,n,r){var i=this,s;n=n||i;if(!r&&e.bindTo!==undefined&&!Ext.isString(e)){r=e;e=r.bindTo}if(!Ext.isString(e)){s=new Ext.app.bind.Multi(e,i,t,n,r)}else if(i.expressionRe.test(e)){e=e.substring(1,e.length-1);s=i.bindExpression(e,t,n,r)}else{s=new Ext.app.bind.TemplateBinding(e,i,t,n,r)}return s},getSession:function(){var e=this,t=e._session,n;if(!t&&(n=e.getParent())){e.setSession(t=n.getSession())}return t||null},getStore:function(e){var t=this.storeInfo,n;if(t){n=t[e]}return n||null},linkTo:function(e,t){var n=this,r=n.getStub(e),i,s,o;if(r.depth-n.getRoot().depth>1){Ext.Error.raise('Links can only be at the top-level: "'+e+'"')}if(t.isModel){t={type:t.entityName,id:t.id}}s=t.type||t.reference;if(s){i=t.id;if(!t.create&&Ext.isEmpty(i)){Ext.Error.raise('No id specified. To create a phantom model, specify "create: true" as part of the reference.')}if(t.create){i=undefined}r.set(n.getRecord(s,i))}else{if(!r.isLinkStub){o=new Ext.app.bind.LinkStub(n,r.name);r.graft(o);r=o}r.link(t)}},notify:function(){this.getScheduler().notify()},get:function(e){return this.getStub(e).getValue()},set:function(e,t){var n=this,r,i;n.getData();if(t===undefined&&e&&e.constructor===Object){i=n.getRoot();t=e}else if(e&&e.indexOf(".")<0){r={};r[e]=t;t=r;i=n.getRoot()}else{i=n.getStub(e)}i.set(t)},privates:{registerChild:function(e){var t=this.children;if(!t){this.children=t={}}t[e.getId()]=e},unregisterChild:function(e){var t=this.children;if(t){delete t[e.getId()]}},getRecord:function(e,t){var n=this.getSession(),r=e,i=t!==undefined,s;if(n){if(i){s=n.getRecord(e,t)}else{s=n.createRecord(e)}}else{if(!r.$isClass){r=this.getSchema().getEntity(r);if(!r){Ext.Error.raise("Invalid model name: "+e)}}if(i){s=r.createWithId(t);s.load()}else{s=new r}}return s},notFn:function(e){return!e},bindExpression:function(e,t,n,r){var i=e.charAt(0),s=i==="!",o=s?e.substring(1):e,u=this.getStub(o),a;a=u.bind(t,n,r);if(s){a.transform=this.notFn}return a},applyScheduler:function(e){if(e&&!e.isInstance){e=new Ext.util.Scheduler(e);e.$owner=this}return e},getScheduler:function(){var e=this,t=e._scheduler,n,r;if(!t){if(!(n=e.getParent())){t=new Ext.util.Scheduler({preSort:"kind,-depth"});t.$owner=e}else{t=n.getScheduler()}e.setScheduler(t)}return t},getStub:function(e){var t=this.getRoot();return e?t.getChild(e):t},collect:function(){var e=this,t=e.getParent(),n=e.collectTask;if(t){t.collect();return}if(!n){n=e.collectTask=new Ext.util.DelayedTask(e.doCollect,e)}if(e.collectTimeout===0){e.doCollect()}else{n.delay(e.collectTimeout)}},doCollect:function(){var e=this.children,t;if(e){for(t in e){e[t].doCollect()}}this.getRoot().collect()},onBindDestroy:function(){var e=this,t;if(e.destroying){return}t=e.getParent();if(t){t.onBindDestroy()}else{e.collect()}},applyData:function(e,t){var n=this,r,i;n.getSession();if(!t){i=n.getParent();n.linkData=r=i?Ext.Object.chain(i.getData()):{};n.data=n._data=Ext.Object.chain(r)}if(e&&e.constructor===Object){n.getRoot().set(e)}},applyParent:function(e){if(e){e.registerChild(this)}return e},applyStores:function(e){var t=this,n=t.getRoot(),r,i,s,o,u,a;t.storeInfo={};t.listenerScopeFn=function(){return t.getView().getInheritedConfig("defaultListenerScope")};for(r in e){i=e[r];if(i.isStore){i.$wasInstance=true;t.setupStore(i,r);continue}else if(Ext.isString(i)){i={source:i}}else{i=Ext.apply({},i)}u=i.listeners;delete i.listeners;s=t.bind(i,t.onStoreBind,t);if(s.isStatic()){s.destroy();t.createStore(r,i,u)}else{s.$storeKey=r;s.$listeners=u;o=n.createStubChild(r);o.setStore(s)}}},onStoreBind:function(e,t,n){var r=this.storeInfo,i=n.$storeKey,s=r[i],o;if(!s){this.createStore(i,e,n.$listeners,n)}else{e=Ext.merge({},e);o=e.proxy;delete e.type;delete e.model;delete e.fields;delete e.proxy;delete e.listeners;if(o){delete o.reader;delete o.writer;s.getProxy().setConfig(o)}s.setConfig(e)}},createStore:function(e,t,n,r){var i=this.getSession(),s;t=Ext.apply({},t);if(t.session){t.session=i}if(t.source){t.type=t.type||"chained"}t.listeners=n;s=Ext.Factory.store(t);s.$binding=r;this.setupStore(s,e)},setupStore:function(e,t){e.resolveListenerScope=this.listenerScopeFn;this.storeInfo[t]=e;this.set(t,e)},applyFormulas:function(e){var t=this,n=t.getRoot(),r,i;t.getData();for(r in e){if(r.indexOf(".")>=0){Ext.Error.raise("Formula names cannot contain dots: "+r)}n.createStubChild(r);i=t.getStub(r);i.setFormula(e[r])}return e},applyLinks:function(e){for(var t in e){this.linkTo(t,e[t])}},applySchema:function(e){return Ext.data.schema.Schema.get(e)},applyRoot:function(){var e=new Ext.app.bind.RootStub(this),t=this.getParent();if(t){e.depth=t.getRoot().depth-1e3}return e},getFormulaFn:function(e){var t=this,n=t.formulaFn;if(!n){n=t.formulaFn=function(e){return t.$formulaData[e]}}t.$formulaData=e;return n}}});Ext.define("Ext.data.Error",{isError:true,$configPrefixed:false,config:{field:null,message:""},constructor:function(e){this.initConfig(e);this.msg=this.message}});Ext.define("Ext.data.ErrorCollection",{extend:"Ext.util.MixedCollection",alternateClassName:"Ext.data.Errors",requires:["Ext.data.Error"],init:function(e){var t=this,n=e.fields,r=e.data,i,s,o,u,a,f,l,c;for(u=0,a=n.length;u<a;++u){s=n[u];c=s.name;l=r[c];if(s.validate&&!s.validate.$nullFn){i=t.length;f=s.validate(l,null,t);if(i===t.length&&f!==true){t.add(c,f)}}}return t},add:function(e,t){var n=this,r=Ext.data.field.Field.defaultInvalidMessage,i=e,s;if(Ext.isString(e)){i=new Ext.data.Error({field:e,message:t||r})}else{if(!i.isError){i=new Ext.data.Error({field:i.field||i.name,message:i.error||i.message||i.msg||r})}e=i.field}s=n.get(e);if(s){if(Ext.isArray(s)){s.push(i);return s}n.removeAtKey(e);i=[s,i];i.field=e;i=[i]}return n.callParent([i])},getKey:function(e){return e.field},isValid:function(){return this.length===0},getByField:function(e){var t=this.get(e);if(t&&!Ext.isArray(t)){t=[t]}return t||[]}});Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:true,config:{synchronous:false,url:"",params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,constructor:function(e){var t=e&&e.scope;this.initConfig(e);if(e){e.scope=t}if(t){this.setScope(t);this.initialConfig.scope=t}},getAction:function(){return this.action},execute:function(){var e=this;delete e.error;delete e.success;e.complete=e.exception=false;e.setStarted();return e.request=e.doExecute()},doExecute:Ext.emptyFn,abort:function(){var e=this,t=e.request;if(e.running&&t){e.getProxy().abort(t);e.request=null}},process:function(e,t,n,r){var i=this;r=r!==false;i.setResponse(n);i.setResultSet(e);if(e.getSuccess()){i.doProcess(e,t,n);i.setSuccessful(r)}else if(r){i.setException(e.getMessage())}},_commitSetOptions:{convert:true,commit:true},doProcess:function(e,t,n){var r=this,i=r._commitSetOptions,s=r.getRecords(),o=s.length,u=s[0].clientIdProperty,a=e.getRecords(),f=a?a.length:0,l,c,h,p;if(f&&u){l=Ext.Array.toValueMap(s,"id");for(p=0;p<f;++p){c=a[p];h=l[c[u]];if(h){delete l[h.id];delete c[u];h.set(c,i)}else{Ext.log.warn("Ignoring server record: "+Ext.encode(c))}}for(p in l){l[p].commit()}}else{for(p=0;p<o;++p){h=s[p];if(f===0||!(c=a[p])){h.commit()}else{h.set(c,i)}}}},setStarted:function(){this.started=this.running=true},setCompleted:function(){this.complete=true;this.running=false;this.triggerCallbacks()},setSuccessful:function(e){this.success=true;if(e){this.setCompleted()}},setException:function(e){var t=this;t.exception=true;t.success=t.running=false;t.error=e;t.setCompleted()},triggerCallbacks:function(){var e=this,t=e.getInternalCallback();if(t){t.call(e.getInternalScope()||e,e);e.setInternalCallback(null);e.setInternalScope(null)}if(t=e.getCallback()){t.call(e.getScope()||e,e.getRecords(),e,e.wasSuccessful());e.setCallback(null);e.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var e;return this._records||((e=this.getResultSet())?e.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return true}});Ext.define("Ext.data.operation.Create",{extend:"Ext.data.operation.Operation",alias:"data.operation.create",action:"create",isCreateOperation:true,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}});Ext.define("Ext.data.operation.Destroy",{extend:"Ext.data.operation.Operation",alias:"data.operation.destroy",action:"destroy",isDestroyOperation:true,order:30,foreignKeyDirection:-1,doProcess:function(){var e=this.getRecords(),t=e.length,n;for(n=0;n<t;++n){e[n].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(e,t){var n={},r=e.idField,i=this.getNameProperty()||"name";n[r[i]]=e.id;return n}});Ext.define("Ext.data.operation.Read",{extend:"Ext.data.operation.Operation",alias:"data.operation.read",action:"read",isReadOperation:true,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:false},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return false}});Ext.define("Ext.data.operation.Update",{extend:"Ext.data.operation.Operation",alias:"data.operation.update",action:"update",isUpdateOperation:true,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}});Ext.define("Ext.data.SortTypes",{singleton:true,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return String(e).replace(this.stripTagsRE,"")},asUCText:function(e){return String(e).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(e){return String(e).toUpperCase()},asDate:function(e){if(!e){return 0}if(Ext.isDate(e)){return e.getTime()}return Date.parse(String(e))},asFloat:function(e){var t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(/,/g,""),10);return isNaN(t)?0:t}});Ext.define("Ext.data.validator.Validator",{mixins:["Ext.mixin.Factoryable"],alias:"data.validator.base",isValidator:true,type:"base",statics:{all:{},register:function(e,t){var n=this.all;n[e.toUpperCase()]=n[e.toLowerCase()]=n[e]=t.prototype}},onClassExtended:function(e,t){if(t.type){Ext.data.validator.Validator.register(t.type,e)}},constructor:function(e){if(typeof e==="function"){this.fnOnly=true;this.validate=e}else{this.initConfig(e)}},validate:function(){return true},clone:function(){var e=this;if(e.fnOnly){return new Ext.data.validator.Validator(e.validate)}return new e.self(e.getCurrentConfig())}},function(){this.register(this.prototype.type,this)});Ext.define("Ext.data.field.Field",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.data.SortTypes","Ext.data.validator.Validator"],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,sortDir:"ASC",unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(e,t){var n=t.sortType,r=e.prototype,i=r.validators,s=t.validators;if(n&&Ext.isString(n)){r.sortType=Ext.data.SortTypes[n]}if(s){if(!Ext.isArray(s)){s=[s]}delete t.validators;if(i){s=i.concat(s)}r.validators=s}},argumentNamesRe:/^function\s+\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(e){var t=this,n=t.calculateRe,r,i,s,o,u,a,f,l,c,h,p;if(e){if(Ext.isString(e)){t.name=e}else{p=e.validators;if(p){delete e.validators;t.instanceValidators=p}Ext.apply(t,e)}}if(!t.allowNull){t.allowNull=!!t.reference}r=t.calculate;u=t.depends;if(r){t.convert=t.doCalculate;if(!u){if(!(u=r.$depends)){a={};c=r.toString();r.$depends=u=[];f=t.argumentNamesRe.exec(c);l=f?f[1]:"data";while(f=n.exec(c)){if(l===f[1]&&!a[h=f[2]]){a[h]=1;u.push(h)}}}t.depends=u}}s=t.defaultValue;if(t.convert){if(s!==undefined){t.defaultValue=s=t.convert(s)}t.calculated=i=t.convert.length>1;t.evil=i&&!u}if(t.persist===null){t.persist=!i}o=t.sortType;if(!t.sortType){t.sortType=Ext.data.SortTypes.none}else if(Ext.isString(o)){t.sortType=Ext.data.SortTypes[o]}if(u&&typeof u==="string"){t.depends=[u]}t.cloneDefaultValue=s!==undefined&&(Ext.isDate(s)||Ext.isArray(s)||Ext.isObject(s))},setModelValidators:function(e){this._validators=null;this.modelValidators=e},compileValidators:function(){var e=this;e._validators=[];e.constructValidators(e.validators);e.constructValidators(e.modelValidators);e.constructValidators(e.instanceValidators)},constructValidators:function(e){if(e){if(!(e instanceof Array)){e=[e]}var t=e.length,n=this._validators,r,i;for(r=0;r<t;++r){i=e[r];if(i.fn){i=i.fn}n.push(Ext.Factory.dataValidator(i))}}},collate:function(e,t){var n=this,r=e,i=t;if(n.sortType){r=n.sortType(r);i=n.sortType(i)}return r<i?-1:r>i?1:0},compare:function(e,t){return e===t?0:e<t?-1:1},isEqual:function(e,t){return!this.compare(e,t)},convert:null,serialize:null,validate:function(e,t,n){var r=this,s="",o,u,a,f;if(!r._validators){r.compileValidators()}a=r._validators;for(i=0,f=a.length;i<f;++i){u=a[i];o=u.validate(e);if(o!==true){o=o||r.defaultInvalidMessage;if(n){n.add(r.name,o);s=s||o}else if(t){if(s){s+=t}s+=o}else{s=o;break}}}return s||true},doCalculate:function(e,t){return t?this.calculate(t.data):e},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var e=this.mapping;return!!(e||e===0)},getPersist:function(){return this.persist},getSortDir:function(){return this.sortDir},getSortType:function(){return this.sortType},getType:function(){return"auto"}});Ext.define("Ext.data.field.Boolean",{extend:"Ext.data.field.Field",alias:["data.field.bool","data.field.boolean"],isBooleanField:true,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(e){if(typeof e==="boolean"){return e}if(this.allowNull&&(e===undefined||e===null||e==="")){return null}return this.trueRe.test(String(e))},getType:function(){return"bool"}});Ext.define("Ext.data.field.Date",{extend:"Ext.data.field.Field",alias:"data.field.date",sortType:"asDate",isDateField:true,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(e,t){var n=e instanceof Date,r=t instanceof Date,i;if(r&&n){i=e.getTime()-t.getTime();if(i===0){i=0}else{i=i<0?-1:1}}else if(n===r){i=0}else{i=n?1:-1}return i},convert:function(e){if(!e){return null}if(e instanceof Date){return e}var t=this.dateReadFormat||this.dateFormat,n;if(t){return Ext.Date.parse(e,t)}n=Date.parse(e);return n?new Date(n):null},serialize:function(e){var t=null,n;if(Ext.isDate(e)){n=this.getDateWriteFormat();t=n?Ext.Date.format(e,n):e}return t},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var e=this;if(e.hasOwnProperty("dateWriteFormat")){return e.dateWriteFormat}if(e.hasOwnProperty("dateFormat")){return e.dateFormat}return e.dateWriteFormat||e.dateFormat||"timestamp"},getType:function(){return"date"}});Ext.define("Ext.data.field.Integer",{extend:"Ext.data.field.Field",alias:["data.field.int","data.field.integer"],isNumeric:true,isIntegerField:true,convert:function(e){if(typeof e=="number"){return parseInt(e)}var t=e===undefined||e===null||e==="",n=this.allowNull,r;if(t){r=n?null:0}else{r=parseInt(String(e).replace(this.stripRe,""),10);if(n&&isNaN(r)){r=null}}return r},getType:function(){return"int"}});Ext.define("Ext.data.field.Number",{extend:"Ext.data.field.Field",alias:["data.field.float","data.field.number"],isNumeric:true,isNumberField:true,convert:function(e){if(typeof e==="number"){return e}var t=e===undefined||e===null||e==="",n=this.allowNull,r;if(t){r=n?null:0}else{r=parseFloat(String(e).replace(this.stripRe,""));if(n&&isNaN(r)){r=null}}return r},getType:function(){return"float"}});Ext.define("Ext.data.field.String",{extend:"Ext.data.field.Field",alias:"data.field.string",sortType:"asUCString",isStringField:true,convert:function(e){var t=this.allowNull?null:"";return e===undefined||e===null?t:String(e)},getType:function(){return"string"}});Ext.define("Ext.data.identifier.Generator",{"abstract":true,mixins:["Ext.mixin.Factoryable"],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:true,config:{id:null},constructor:function(e){var t=this,n,r;t.initConfig(e);r=t.getId();if(r){n=e&&e.cache||Ext.data.identifier.Generator.all;n[r]=t}},privates:{clone:function(e){var t=this.getInitialConfig();t=e?Ext.apply({},e,t):t;return new this.self(t)},statics:{all:{}}}},function(){var e=this,t=Ext.Factory,n=t.dataIdentifier;t.dataIdentifier=function(t){var r=Ext.isString(t)?t:t&&t.id,i=r&&(t&&t.cache||e.all)[r];return i||n(t)}});Ext.define("Ext.data.identifier.Sequential",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var e=this,t=e._seed,n=e._prefix;e._seed+=e._increment;return n!==null?n+t:t}});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",requires:["Ext.data.ErrorCollection","Ext.data.operation.*","Ext.data.field.*","Ext.data.validator.Validator","Ext.data.schema.Schema","Ext.data.identifier.Generator","Ext.data.identifier.Sequential"],uses:["Ext.data.Validation"],isEntity:true,isModel:true,validIdRe:null,observableType:"record",constructor:function(e,t){var n=this,r=n.self,i=r.identifier,s=Ext.data.Model,o=s.identifier,u=n.idField.name,a,f,l,c,h,p,d;n.data=e||(e={});n.session=t||null;n.internalId=c=o.generate();if(t&&!t.isSession){Ext.Error.raise('Bad Model constructor argument 2 - "session" is not a Session')}if((a=e)instanceof Array){n.data=e={};d=n.getFields();h=Math.min(d.length,a.length);for(p=0;p<h;++p){e[d[p].name]=a[p]}}if(!(l=r.initializeFn)){r.initializeFn=l=s.makeInitializeFn(r)}if(!l.$nullFn){r.initializeFn(n)}if(!(n.id=f=e[u])&&f!==0){if(t){i=t.getIdentifier(r);f=i.generate()}else if(o===i){f=c}else{f=i.generate()}e[u]=n.id=f;n.phantom=true}if(t){t.add(n)}if(n.init&&Ext.isFunction(n.init)){n.init()}},editing:false,dirty:false,session:null,dropped:false,erased:false,clientIdProperty:null,evented:false,phantom:false,idProperty:"id",identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:true,beginEdit:function(){var e=this,t=e.modified,n=e.previousValues;if(!e.editing){e.editing=true;e.editMemento={dirty:e.dirty,data:Ext.apply({},e.data),generation:e.generation,modified:t&&Ext.apply({},t),previousValues:n&&Ext.apply({},n)}}},cancelEdit:function(){var e=this,t=e.editMemento;if(t){e.editing=false;Ext.apply(e,t);e.editMemento=null}},endEdit:function(e,t){var n=this,r=n.editMemento;if(r){n.editing=false;n.editMemento=null;n.previousValues=r.previousValues;if(!e){if(!t){t=n.getModifiedFieldNames(r.data)}if(n.dirty||t&&t.length){n.callJoined("afterEdit",[t])}}}},getField:function(e){return this.self.getField(e)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(e){this.set(this.idProperty,e)},getPrevious:function(e){var t=this.previousValues;return t&&t[e]},isModified:function(e){var t=this.modified;return!!(t&&t.hasOwnProperty(e))},getModified:function(e){var t;if(this.isModified(e)){t=this.modified[e]}return t},get:function(e){return this.data[e]},_singleProp:{},_rejectOptions:{convert:false,commit:true,silent:true},set:function(e,t,n){var r=this,i=r.self,s=r.data,o=r.modified,u=r.previousValues,a=r.session,f=Ext.isString(e),l=f?n:t,c=l?l.convert!==false:r.convertOnSet,h=r.fieldsMap,p=l&&l.silent,d=l&&l.commit,v=!(l&&l.refs===false)&&a,m=!(l&&l.dirty===false&&!d),g=null,y,b,w,E,S,x,T,N,C,k,L=0,A,O,M,_,D,P;if(f){P=r._singleProp;P[e]=t}else{P=e}if(!(M=i.rankedFields)){M=i.rankFields()}A=M.length;do{for(S in P){D=P[S];y=s[S];T=r;b=h[S];if(b){if(c&&b.convert){D=b.convert(D,r)}T=b;_=b.reference}else{_=null}if(T.isEqual(y,D)){continue}s[S]=D;(g||(g=[])).push(S);(u||(r.previousValues=u={}))[S]=y;if(_&&_.cls){if(v){a.updateReference(r,b,D,y)}_.onValueChange(r,a,D,y)}k=(C=b&&b.dependents)&&C.length;while(k-->0){(N=C[k]).dirty=true;L=L?Math.min(L,N.rank):N.rank}if(!b||b.persist){if(o&&o.hasOwnProperty(S)){if(!m||T.isEqual(o[S],D)){delete o[S];r.dirty=-1}}else if(m){if(!o){r.modified=o={}}r.dirty=true;o[S]=y}}if(S===r.idField.name){w=true;x=y;O=D}}if(!L){break}b=M[L-1];b.dirty=false;if(f){delete P[e]}else{P=r._singleProp;f=true}e=b.name;P[e]=s[e];c=true;for(;L<A;++L){if(M[L].dirty){break}}if(L<A){++L}else{L=0}}while(1);if(r.dirty<0){r.dirty=false;for(E in o){if(o.hasOwnProperty(E)){r.dirty=true;break}}}if(f){delete P[e]}++r.generation;if(w){r.id=O;r.callJoined("onIdChanged",[x,O])}if(d){r.commit(p,g)}else if(!p&&!r.editing&&g){r.callJoined("afterEdit",[g])}return g},reject:function(e){var t=this,n=t.modified;t.rejecting=true;if(n){t.set(n,t._rejectOptions)}delete t.rejecting;t.clearState();if(!e){t.callJoined("afterReject")}},commit:function(e,t){var n=this,r;n.clearState();if(!n.rejecting){n.phantom=false}if(n.dropped){n.erased=r=true}if(!e){if(r){n.callJoined("afterErase")}else{n.callJoined("afterCommit",[t])}}},clearState:function(){var e=this;e.dirty=e.editing=false;e.editMemento=e.modified=null},drop:function(e){var t=this,n=t.associations,r=t.session,i=t.phantom,s;if(t.erased||t.dropped){return}t.dropped=true;if(n&&e!==false){for(s in n){n[s].onDrop(t,r)}}t.callJoined("afterDrop");if(t.phantom){t.setErased()}},join:function(e){var t=this,n=t.joined;if(!n){n=t.joined=[e]}else if(!n.length){n[0]=e}else{Ext.Array.include(n,e)}if(e.isStore){t.store=t.store||e}},unjoin:function(e){var t=this,n=t.joined,r=n&&n.length,i=t.store,s;if(r===1&&n[0]===e){n.length=0}else if(r){Ext.Array.remove(n,e)}if(i===e){i=null;if(n){for(s=0,r=n.length;s<r;++s){e=n[s];if(e.isStore){i=e;break}}}t.store=i}},clone:function(e){var t=this,n=t.modified,r=t.copy(t.id,e);if(n){r.modified=Ext.apply({},n)}r.dirty=t.dirty;r.dropped=t.dropped;r.phantom=t.phantom;return r},copy:function(e,t){var n=this,r=Ext.apply({},n.data),i=n.idProperty,s=n.self;if(e||e===0){r[i]=e}else if(e===null){delete r[i]}return new s(r,t)},getProxy:function(){return this.self.getProxy()},getValidation:function(e){var t=this,n=t.validation;if(!n){t.validation=n=new Ext.data.Validation;n.attach(t)}if(e===true||e!==false&&n.syncGeneration!==t.generation){n.refresh(e)}return n},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){var e=this.getValidation();return!e.dirty},toUrl:function(){var e=this.$className.split("."),t=e[e.length-1].toLowerCase();return t+"/"+this.getId()},erase:function(e){this.drop();return this.save(e)},setErased:function(){this.erased=true;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var e=this.self,t=e.criticalFields;if(!t){e.rankFields();t=e.criticalFields}return t},getAssociatedData:function(e){var t=this,n=t.associations,r,i,s,o,u,a,f,l,c;e=e||{};t.$gathering=1;for(c in n){l=n[c];s=l.getAssociatedItem(t);if(!s||s.$gathering){continue}if(s.isStore){s.$gathering=1;o=s.getData().items;a=o.length;u=[];for(i=0;i<a;++i){f=o[i];r=!f.$gathering;f.$gathering=1;u.push(f.getData(r));delete f.$gathering}delete s.$gathering}else{u=s.getData(true)}e[c]=u}delete t.$gathering;return e},getData:function(e){var t=this,n={},r=e===true?t._getAssociatedOptions:e||n,i=t.data,s=r.associated,o=r.changes,u=o&&r.critical,a=o?t.modified:i,f=t.fieldsMap,l=r.persist,c=r.serialize,h,p,d,v,m;if(a){for(v in a){m=i[v];p=f[v];if(p){if(l&&!p.persist){continue}if(c&&p.serialize){m=p.serialize(m,t)}}n[v]=m}}if(u){h=t.self.criticalFields||t.getCriticalFields();for(d=h.length;d-->0;){v=(p=h[d]).name;if(!(v in n)){m=i[v];if(c&&p.serialize){m=p.serialize(m,t)}n[v]=m}}}if(s){t.getAssociatedData(n)}return n},getTransientFields:function(){var e=this.self,t=e.transientFields;if(!t){e.rankFields();t=e.transientFields}return t},isLoading:function(){return!!this.loadOperation},abort:function(){var e=this.loadOperation;if(e){e.abort()}},load:function(e){e=Ext.apply({},e);var t=this,n=e.scope||t,r=t.getProxy(),i=e.callback,s=t.loadOperation,o=t.getId(),u;if(s){u=s.extraCalls;if(!u){u=s.extraCalls=[]}u.push(e);return s}if(t.phantom){Ext.Error.raise("Cannot load phantom model")}e.id=o;e.recordCreator=function(e,n,r){var i=t.session;r.recordCreator=i?i.recordCreator:null;t.set(e,t._commitOptions);if(t.getId()!==o){Ext.Error.raise("Invalid record id returned for "+o+"@"+t.entityName)}return t};e.internalCallback=function(r){var s=r.wasSuccessful()&&r.getRecords().length>0,o=t.loadOperation,u=o.extraCalls,a=[t,r],f=[t,r,s],l,c;t.loadOperation=null;if(s){Ext.callback(e.success,n,a)}else{Ext.callback(e.failure,n,a)}Ext.callback(i,n,f);if(u){for(l=0,c=u.length;l<c;++l){e=u[l];if(s){Ext.callback(e.success,n,a)}else{Ext.callback(e.failure,n,a)}Ext.callback(e.callback,n,f)}}t.callJoined("afterLoad")};delete e.callback;t.loadOperation=s=r.createOperation("read",e);s.execute();return s},save:function(e){e=Ext.apply({},e);var t=this,n=t.phantom,r=t.dropped,i=r?"destroy":n?"create":"update",s=e.scope||t,o=e.callback,u=t.getProxy(),a;e.records=[t];e.internalCallback=function(n){var r=[t,n],i=n.wasSuccessful();if(i){Ext.callback(e.success,s,r)}else{Ext.callback(e.failure,s,r)}r.push(i);Ext.callback(o,s,r)};delete e.callback;a=u.createOperation(i,e);if(r&&n){a.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);t.setErased();a.setSuccessful(true)}else{a.execute()}return a},inheritableStatics:{addFields:function(e){this.replaceFields(e)},replaceFields:function(e,t){var n=this,r=n.prototype,i=Ext.data.field.Field,s=n.fields,o=n.fieldsMap,u=n.fieldOrdinals,a,f,l,c,h,p;if(t===true){s.length=0;n.fieldsMap=o={};n.fieldOrdinals=u={}}else if(t){for(f=t.length;f-->0;){h=t[f];if(h in u){delete u[h];delete o[h]}}for(f=0,c=s.length;f<c;++f){h=(a=s[f]).name;if(h in u){u[h]=f}else{s.splice(f,1);--f;--c}}}for(f=0,c=e?e.length:0;f<c;f++){h=(a=e[f]).name;if(!(h in u)){u[h]=p=s.length;s.push(a=i.create(a));o[h]=a;a.ordinal=p;a.definedBy=a.owner=this}}n.idField=r.idField=l=o[r.idProperty];l.allowNull=l.critical=l.identifier=true;l.defaultValue=null;n.initializeFn=n.rankedFields=n.transientFields=n.criticalFields=null},removeFields:function(e){this.replaceFields(null,e)},getIdFromData:function(e){var t=this,n=t.idField,r=n.calculated?(new t(e)).id:e[n.name];return r},createWithId:function(e,t,n){var r=t,i=this;if(e||e===0){r={};if(t){Ext.apply(r,t)}r[i.idField.name]=e}return new i(r,n)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(e){return this.fieldsMap[e]||null},getProxy:function(){var e=this,t=e.proxy,n;if(!t){t=e.proxyConfig;if(!t||!t.isProxy){if(typeof t==="string"){t={type:t}}n=e.schema.constructProxy(e);t=t?Ext.merge(n,t):n}t=e.setProxy(t)}return t},setProxy:function(e){var t=this,n;if(e){if(!e.isProxy){e=Ext.Factory.proxy(e)}else{n=e.getModel();if(n&&n!==t){e=e.clone()}}e.setModel(t)}return t.prototype.proxy=t.proxy=e},load:function(e,t,n){var r={},i;r[this.prototype.idProperty]=e;i=new this(r,n);i.load(t);return i}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(e,t){var n=this,r=n.stores,i=r.length,s;for(s=0;s<i;++s){e.call(t,r[s])}},join:function(e){var t=this,n=t.stores,r=t.joined;if(!r){r=t.joined=[e]}else{r.push(e)}if(e.isStore){t.store=t.store||e;if(!n){n=t.stores=[]}n.push(e)}},unjoin:function(e){var t=this,n=t.stores,r=t.joined;if(r.length===1){r.length=0}else{Ext.Array.remove(r,e)}if(e.isStore){Ext.Array.remove(n,e);t.store=n[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:true},_getChangesOptions:{changes:true},_getAssociatedOptions:{associated:true},copyFrom:function(e){var t=this,n=t.fields,r=n.length,i=[],s,o=0,u,a,f=t.idProperty,l,c;if(e){u=t.data;a=e.data;for(;o<r;o++){s=n[o];l=s.name;if(l!=f){c=a[l];if(c!==undefined&&!t.isEqual(u[l],c)){u[l]=c;i.push(l)}}}if(t.phantom&&!e.phantom){t.beginEdit();t.setId(e.getId());t.endEdit(true);t.commit(true)}}return i},callJoined:function(e,t){var n=this,r=n.joined,i=n.session,s,o,u,a;if(!r&&!i){return}if(t){t.unshift(n)}else{t=[n]}if(r){for(s=0,o=r.length;s<o;++s){a=r[s];if(a&&(u=a[e])){u.apply(a,t)}}}u=i&&i[e];if(u){u.apply(i,t)}},setSession:function(e){if(e){if(this.session){Ext.Error.raise("This model already belongs to a session.")}if(!this.id){Ext.Error.raise("The model must have an id to participate in a session.")}}this.session=e;if(e){e.add(this)}},getModifiedFieldNames:function(e){var t=this,n=t.data,r=[],i=e||t.editMemento.data,s;for(s in n){if(n.hasOwnProperty(s)){if(!t.isEqual(n[s],i[s],s)){r.push(s)}}}return r},isEqual:function(e,t,n){var r;if(n){r=n.isField?n:this.fieldsMap[n];if(r){return r.compare(e,t)===0}}if(e instanceof Date&&t instanceof Date){return e.getTime()===t.getTime()}return e===t},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",rankFields:function(){var e=this,t=e.prototype,n=e.fields,r=n.length,i=[],s=[],o=[],u,a,f;e.rankedFields=t.rankedFields=i;e.criticalFields=t.criticalFields=s;e.transientFields=t.transientFields=o;for(f=0;f<r;++f){a=n[f];if(a.critical){s.push(a)}if(!a.persist){o.push(a)}if(a.evil){(u||(u=[])).push(a)}else if(!a.depends){i.push(a);a.rank=i.length}}for(f=0;f<r;++f){if(!(a=n[f]).rank&&!a.evil){e.topoAdd(a)}}if(u){for(f=0,r=u.length;f<r;++f){i.push(a=u[f]);a.rank=i.length}}e.topoStack=null;return i},topoAdd:function(e){var t=this,n=e.depends,r=n?n.length:0,i=t.rankedFields,s,o;var u=t.topoStack||(t.topoStack=[]);u.push(e.name);if(e.rank===0){Ext.Error.raise(t.$className+" has circular field dependencies: "+u.join(" --> "))}if(u.length&&e.evil){Ext.Error.raise(t.$className+": Field "+u[u.length-1]+" cannot depend on depends-less field "+e.name)}e.rank=0;for(s=0;s<r;++s){o=t.fieldsMap[n[s]];if(!o){Ext.Error.raise(t.$className+": Field "+e.name+" depends on undefined field "+n[s])}(o.dependents||(o.dependents=[])).push(e);if(!o.rank){t.topoAdd(o)}}i.push(e);e.rank=i.length;u.pop()},initFields:function(e,t,n){var r=Ext.data.field.Field,i=e.fields,s=[],o={},u={},a=[],f=n.fields,l=e.versionProperty||n.versionProperty,c=e.idProperty||n.idProperty,h,p,d,v,m,g,y;t.fields=n.fields=s;t.fieldOrdinals=n.fieldOrdinals=o;t.fieldsMap=n.fieldsMap=u;t.references=n.references=a;if(f){for(d=0,v=f.length;d<v;++d){s[d]=p=Ext.Object.chain(f[d]);p.dependents=null;p.owner=t;o[m=p.name]=d;u[m]=p}}if(i){delete e.fields;for(d=0,v=i.length;d<v;++d){p=i[d];y=p.reference;if(y&&typeof y!=="string"){y=Ext.merge({},y)}p.$reference=y;p=r.create(i[d]);m=p.name;var b=t.getField(m);if(b&&!b.generated&&t.$className){Ext.log.warn('Redefining field "'+m+'" in '+t.$className)}g=o[m];if(g===undefined){o[m]=g=s.length}u[m]=p;s[g]=p;p.definedBy=p.owner=t;p.ordinal=g;if(m===l){p.critical=true}}}if(!(h=u[c])){h=new r(c);g=s.length;s[g]=h;o[c]=g;u[c]=h;h.definedBy=t;h.ordinal=g;h.generated=true}h.allowNull=h.critical=h.identifier=true;h.defaultValue=null;t.idField=n.idField=h},initValidators:function(e,t,n){var r=n.validators,i,s,o,u,a,f,l,c,h,p;if(r){i={};for(s in r){i[s]=Ext.Array.clone(r[s])}}u=e.validators||e.validations;if(e.validations){delete e.validations;Ext.log.warn((t.$className||"Ext.data.Model")+": validations has been deprecated. Please use validators instead.")}if(u){delete e.validators;i=i||{};if(Ext.isArray(u)){o={};for(a=0,f=u.length;a<f;++a){p=u[a];c=p.field;if(!o[c]){o[c]=[]}p=p.fn||p;o[c].push(p)}u=o}for(c in u){l=u[c];if(!Ext.isArray(l)){l=[l]}h=i[c];if(i[c]){Ext.Array.push(h,l)}else{i[c]=l}}}if(i){for(c in i){s=t.getField(c);if(s){s.setModelValidators(i[c])}}}t.validators=n.validators=i},initAssociations:function(e,t,n){var r=t.associations,i=t.belongsTo,s=t.hasMany,o=t.hasOne,u=t.manyToMany,a,f,l;if(t.belongsTo){Ext.log.warn('Use of "belongsTo" is obsolete'+(n.$className?" in "+n.$className:""));delete t.belongsTo}delete t.manyToMany;if(u){e.addMatrices(n,u)}delete t.associations;delete t.belongsTo;delete t.hasMany;delete t.hasOne;if(r){r=Ext.isArray(r)?r:[r];for(a=0,f=r.length;a<f;++a){l=r[a];switch(l.type){case"belongsTo":e.addLegacyBelongsTo(n,l);break;case"hasMany":e.addLegacyHasMany(n,l);break;case"hasOne":e.addLegacyHasOne(n,l);break;default:Ext.Error.raise('Invalid association type: "'+l.type+'"')}}}if(i){i=Ext.isArray(i)?i:[i];for(a=0,f=i.length;a<f;++a){e.addLegacyBelongsTo(n,i[a])}}if(s){s=Ext.isArray(s)?s:[s];for(a=0,f=s.length;a<f;++a){e.addLegacyHasMany(n,s[a])}}if(o){o=Ext.isArray(o)?o:[o];for(a=0,f=o.length;a<f;++a){e.addLegacyHasOne(n,o[a])}}e.afterLegacyAssociations(n)},initIdentifier:function(e,t,n){var r=e.identifier||e.idgen,i=n.identifier||t.schema._defaultIdentifier,s;if(e.idgen){Ext.log.warn("Ext.data.Model: idgen has been deprecated. Please use identifier instead.")}if(r){delete e.identifier;delete e.idgen;r=Ext.Factory.dataIdentifier(r)}else if(i){if(i.clone&&!i.getId()){r=i.clone()}else if(i.isGenerator){r=i}else{r=Ext.Factory.dataIdentifier(i)}}t.identifier=n.identifier=r;if(!r){s=t.entityName;if(!s){s=Ext.id(null,"extModel")}t.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:s+"-"})}},findValidator:function(e,t,n){var r=n.type||n,i=e[t],s,o,u;if(i){for(o=0,s=i.length;o<s;++o){u=i[o];if(u.type===r){return u}}}return null},makeInitializeFn:function(e){var t=["var "],n=["\nreturn function (e) {\n    var data = e.data, v;\n"],r=[],i=0,s,o,u,a,f,l,c,h,p,d,v;if(!(c=e.rankedFields)){c=e.rankFields()}for(d=0,v=c.length;d<v;++d){l=c[d];r[d]=h="f"+d;u=l.convert;if(d){t.push(",  \n    ")}t.push(h," = $fields["+d+"]");t.push("  /*  ",l.name,"  */");if((p=l.defaultValue!==undefined)||u){a='data["'+l.name+'"]';++i;s=o="";if(l.cloneDefaultValue){s="Ext.clone(";o=")"}n.push("\n");if(u&&p){n.push("    v = ",a,";\n"+"    if (v !== undefined) {\n"+"        v = ",h,".convert(v, e);\n"+"    }\n"+"    if (v === undefined) {\n"+"        v = ",s,h,".defaultValue",o,";\n"+"    }\n"+"    ",a," = v;")}else if(u){n.push("    v = ",h,".convert(",a,",e);\n"+"    if (v !== undefined) {\n"+"        ",a," = v;\n"+"    }\n")}else if(p){n.push("    if (",a," === undefined) {\n"+"        ",a," = ",s,h,".defaultValue",o,";\n"+"    }\n")}}}if(!i){return Ext.emptyFn}t.push(";\n");t.push.apply(t,n);t.push("}");t=t.join("");f=new Function("$fields",t);return f(c)}}}},function(){var e=this,t=e.prototype,n=Ext.data.schema.Schema,r;e.proxyConfig=t.proxy;delete t.proxy;e.fields=[];e.fieldsMap=t.fieldsMap={};e.schema=t.schema=n.get(t.schema);t.idField=new Ext.data.field.Field(t.idProperty);e.identifier=new Ext.data.identifier.Sequential;e.onExtended(function(t,i){var s=t.prototype,o=i.schema,u=s.superclass.self,a,f,l;t.idProperty=s.idProperty;if(o){delete i.schema;a=n.get(o)}else if(!(a=s.schema)){a=r||(r=n.get("default"))}t.rankFields=e.rankFields;t.topoAdd=e.topoAdd;s.schema=t.schema=a;if(!(f=i.entityName)){s.entityName=f=a.getEntityName(t);if(!f){if(i.associations){Ext.Error.raise('Anonymous entities cannot specify "associations"')}if(i.belongsTo){Ext.Error.raise('Anonymous entities cannot specify "belongsTo"')}if(i.hasMany){Ext.Error.raise('Anonymous entities cannot specify "hasMany"')}if(i.hasOne){Ext.Error.raise('Anonymous entities cannot specify "hasOne"')}if(i.matrices){Ext.Error.raise('Anonymous entities cannot specify "manyToMany"')}}}t.entityName=f;t.fieldExtractors={};e.initIdentifier(i,t,s);e.initFields(i,t,s);e.initValidators(i,t,s);t.fields.items=t.fields;if(f){a.addEntity(t);e.initAssociations(a,i,t)}l=i.proxy;if(l){delete i.proxy}else if(u!==e){l=u.proxyConfig||u.proxy}t.proxyConfig=l})});Ext.define("Ext.data.ResultSet",{isResultSet:true,$configPrefixed:false,config:{loaded:true,count:null,total:null,success:false,records:null,message:null,readRoot:false},constructor:function(e){this.initConfig(e)},applyCount:function(e){if(!e&&e!==0){return this.getRecords().length}return e},updateRecords:function(e){this.setCount(e.length)}});Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],requires:["Ext.data.ResultSet","Ext.XTemplate"],mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:true,readRecordsOnFailure:true,model:null,proxy:null,transform:null},isReader:true,constructor:function(e){if(e&&e.hasOwnProperty("root")){e=Ext.apply({},e);e.rootProperty=e.root;delete e.root;Ext.log.error('Ext.data.reader.Reader: Using the deprecated "root" configuration. Use "rootProperty" instead.')}var t=this;t.duringInit=true;t.mixins.observable.constructor.call(t,e);delete t.duringInit;t.buildExtractors()},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},applyTransform:function(e){if(e){if(Ext.isFunction(e)){e={fn:e}}return e.fn.bind(e.scope||this)}return e},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(true)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(e,t){var n,r;if(e){if(e.responseText){r=this.getResponseData(e);if(r&&r.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:r.msg})}else{n=this.readRecords(r,t)}}else{n=this.readRecords(e,t)}}return n||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(e){return{__$isError:true,msg:e}},readRecords:function(e,t){var n=this,r,i,s,o,u,a,f,l;l=this.getTransform();if(l){e=l(e)}n.buildExtractors();n.rawData=e;e=n.getData(e);r=true;i=0;s=[];if(n.getSuccessProperty()){a=n.getSuccess(e);if(a===false||a==="false"){r=false}}if(n.getMessageProperty()){f=n.getMessage(e)}if(n.getReadRecordsOnFailure()||r){o=Ext.isArray(e)?e:n.getRoot(e);if(o){u=o.length}if(n.getTotalProperty()){a=parseInt(n.getTotal(e),10);if(!isNaN(a)){u=a}}if(o){s=n.extractData(o,t);i=s.length}}return new Ext.data.ResultSet({total:u||i,count:i,records:s,success:r,message:f,readRoot:!!o})},extractData:function(e,t){var n=this,r=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):n.getModel(),i=r.schema,s=i.hasAssociations(r)&&n.getImplicitIncludes(),o=n.getFieldExtractorInfo(r.fieldExtractors),u=e.length,a=new Array(u),f=n.getTypeProperty(),l,c,h,p,d;if(!u&&Ext.isObject(e)){e=[e];u=1}for(d=0;d<u;d++){p=e[d];if(!p.isModel){c=p;if(f&&(h=n.getChildType(i,c,f))){l=h.getProxy().getReader();p=l.extractRecord(c,t,h,i.hasAssociations(h)&&l.getImplicitIncludes(),l.getFieldExtractorInfo(h.fieldExtractors))}else{p=n.extractRecord(c,t,r,s,o)}if(p.isModel){p.raw=c}}if(p.onLoad){p.onLoad()}a[d]=p}return a},getChildType:function(e,t,n){var r;switch(typeof n){case"string":return e.getEntity(t[n]);case"object":r=n.namespace;return e.getEntity((r?r+".":"")+t[n.name]);case"function":return e.getEntity(n(t))}},extractRecordData:function(e,t){var n=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):this.getModel(),r=this.getFieldExtractorInfo(n.fieldExtractors);return this.extractRecord(e,t,n,false,r)},extractRecord:function(e,t,n,r,i){var s=this,o=t&&t.recordCreator||s.defaultRecordCreator,u,a;u=s.extractModelData(e,i);a=o.call(s,u,n||s.getModel(),t);if(r&&a.isModel){s.readAssociated(a,e,t)}return a},getFieldExtractorInfo:function(e){if(!e){return}var t=this.$className,n=e[t];if(n===undefined){e[t]=n=this.buildFieldExtractors()}return n},buildFieldExtractors:function(){var e=this.getFields(),t=e.length,n=[],r=[],i=null,s=0,o,u,a,f;for(a=0;a<t;++a){o=e[a];f=this.createFieldAccessor(o);if(f){u=o.name;n.push("data['"+u+"'] = extractors["+s+"](raw);");r.push(f);++s}}if(n.length){i={extractors:r,fn:new Function("raw","data","extractors",n.join(""))}}return i},defaultRecordCreator:function(e,t){var n=new t(e);n.phantom=false;return n},getModelData:function(e){return{}},extractModelData:function(e,t){var n=this.getModelData(e),r;if(t){r=t.fn;r(e,n,t.extractors)}return n},readAssociated:function(e,t,n){var r=e.associations,i,s;for(i in r){if(r.hasOwnProperty(i)){s=r[i];if(s.cls){s.read(e,t,this,n)}}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(e){Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(e){var t=this,n=e.fields||t.getFields(),r,i,s,o;t.metaData=e;if(e.root){t.setRootProperty(e.root)}if(e.totalProperty){t.setTotalProperty(e.totalProperty)}if(e.successProperty){t.setSuccessProperty(e.successProperty)}if(e.messageProperty){t.setMessageProperty(e.messageProperty)}s=e.clientIdProperty;i=Ext.define(null,{extend:"Ext.data.Model",fields:n,clientIdProperty:s});t.setModel(i);o=t.getProxy();if(o){o.setModel(i)}t.buildExtractors(true)},buildExtractors:function(e){var t=this,n=t.getTotalProperty(),r=t.getSuccessProperty(),i=t.getMessageProperty();if(e||!t.hasExtractors){if(n){t.getTotal=t.createAccessor(n)}if(r){t.getSuccess=t.createAccessor(r)}if(i){t.getMessage=t.createAccessor(i)}t.hasExtractors=true;return true}},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var e=this;delete e.model;delete e.getTotal;delete e.getSuccess;delete e.getMessage}},function(){var e=this.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""})})});Ext.define("Ext.data.writer.Writer",{mixins:["Ext.mixin.Factoryable"],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:true},partialDataOptions:{changes:true,critical:true},writeAllFields:false,dateFormat:null,nameProperty:"name",writeRecordId:true,transform:null},isWriter:true,constructor:function(e){this.initConfig(e)},applyTransform:function(e){if(e){if(Ext.isFunction(e)){e={fn:e}}return e.fn.bind(e.scope||this)}return e},write:function(e){var t=e.getOperation(),n=t.getRecords()||[],r=n.length,i=[],s;for(s=0;s<r;s++){i.push(this.getRecordData(n[s],t))}return this.writeRecords(e,i)},writeRecords:Ext.emptyFn,getRecordData:function(e,t){var n=this,r=n.getNameProperty(),i=r!=="name",s=e.self.idField,o=s.name,u=e.id,a=n.getWriteAllFields(),f;if(s.serialize){u=s.serialize(u)}if(!a&&t&&t.isDestroyOperation){f={};f[r?s[r]:o]=u}else{var l=n.getDateFormat(),c=e.phantom,h=c||a?n.getAllDataOptions():n.getPartialDataOptions(),p=c&&n.getClientIdProperty(),d=e.getFieldsMap(),v,m;h.serialize=false;v=e.getData(h);f=i?{}:v;if(p){f[p]=u;delete v[o]}else if(!n.getWriteRecordId()){delete v[o]}for(o in v){u=v[o];if(!(m=d[o])){if(i){f[o]=u}}else{if(m.isDateField&&l&&Ext.isDate(u)){u=Ext.Date.format(u,l)}else if(m.serialize){u=m.serialize(u,e)}if(i){o=m[r]||o}f[o]=u}}}return f}});Ext.define("Ext.data.proxy.Proxy",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Observable"],$configPrefixed:false,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.schema.Schema","Ext.data.reader.Reader","Ext.data.writer.Writer"],uses:["Ext.data.Batch","Ext.data.operation.*","Ext.data.Model"],config:{batchOrder:"create,update,destroy",batchActions:true,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:true,isSynchronous:false,constructor:function(e){this.mixins.observable.constructor.call(this,e)},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},updateModel:function(e){if(e){var t=this.getReader();if(t&&!t.getModel()){t.setModel(e)}}},applyReader:function(e){return Ext.Factory.reader(e)},updateReader:function(e){if(e){var t=this,n=t.getModel();if(!n){n=e.getModel();if(n){t.setModel(n)}}else{e.setModel(n)}if(e.onMetaChange){e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,t.onMetaChange,t)}}},applyWriter:function(e){return Ext.Factory.writer(e)},abort:Ext.emptyFn,onMetaChange:function(e){this.fireEvent("metachange",this,e)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(e,t){var n=this,r=n.getBatchActions(),i,s,o,u,a,f,l,c,h;if(e.operations===undefined){e={operations:e,listeners:t}}if(e.batch){if(Ext.isDefined(e.batch.runOperation)){i=Ext.applyIf(e.batch,{proxy:n,listeners:{}})}}else{e.batch={proxy:n,listeners:e.listeners||{}}}if(!i){i=new Ext.data.Batch(e.batch)}i.on("complete",Ext.bind(n.onBatchComplete,n,[e],0));o=n.getBatchOrder().split(",");u=o.length;for(f=0;f<u;f++){a=o[f];s=e.operations[a];if(s){if(r){i.add(n.createOperation(a,{records:s,params:e.params}))}else{c=s.length;for(l=0;l<c;l++){h=s[l];i.add(n.createOperation(a,{records:[h],params:e.params}))}}}}i.start();return i},onBatchComplete:function(e,t){var n=e.scope||this;if(t.hasException()){if(Ext.isFunction(e.failure)){Ext.callback(e.failure,n,[t,e])}}else if(Ext.isFunction(e.success)){Ext.callback(e.success,n,[t,e])}if(Ext.isFunction(e.callback)){Ext.callback(e.callback,n,[t,e])}},createOperation:function(e,t){var n=Ext.createByAlias("data.operation."+e,t);n.setProxy(this);return n},clone:function(){return new this.self(this.getInitialConfig())}});Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}});Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:true,config:{enablePaging:false,data:null},finishOperation:function(e){var t=0,n=e.getRecords(),r=n.length;for(t;t<r;t++){n[t].commit()}e.setSuccessful(true)},create:function(e){this.finishOperation(e)},update:function(e){this.finishOperation(e)},erase:function(e){this.finishOperation(e)},read:function(e){var t=this,n=t.getReader().read(t.getData()),r=n.getRecords(),i=e.getSorters(),s=e.getGrouper(),o=e.getFilters(),u=e.getStart(),a=e.getLimit();if(e.process(n,null,null,false)!==false){if(o&&o.length){n.setRecords(r=Ext.Array.filter(r,Ext.util.Filter.createFilterFn(o)));n.setTotal(r.length)}if(s){i=i?i.concat(s):i}if(i&&i.length){n.setRecords(r=Ext.Array.sort(r,Ext.util.Sortable.createComparator(i)))}if(t.getEnablePaging()&&u!==undefined&&a!==undefined){if(u>=n.getTotal()){n.setConfig({success:false,records:[],total:0})}else{n.setRecords(Ext.Array.slice(r,u,u+a))}}e.setCompleted()}},clear:Ext.emptyFn});Ext.define("Ext.data.ProxyStore",{extend:"Ext.data.AbstractStore",requires:["Ext.data.Model","Ext.data.proxy.Proxy","Ext.data.proxy.Memory","Ext.data.operation.*"],config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",sortOnLoad:true,trackRemoved:true},onClassExtended:function(e,t,n){var r=t.model,i;if(typeof r==="string"){i=n.onBeforeCreated;n.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){i.apply(e,t)})}}},implicitModel:false,blockLoadCounter:0,autoSyncSuspended:0,constructor:function(e){var t=this;var n=t.model;t.removed=[];t.blockLoad();t.callParent(arguments);t.unblockLoad();if(!t.getModel()&&t.useModelWarning!==false&&t.getStoreId()!=="ext-empty-store"){var r=[Ext.getClassName(t)||"Store"," created with no model."];if(typeof n==="string"){r.push(" The name '",n,"'"," does not correspond to a valid model.")}Ext.log.warn(r.join(""))}},updateAutoLoad:function(e){var t=this,n;t.getData();if(e){n=t.loadTask||(t.loadTask=new Ext.util.DelayedTask(null,null,null,null,false));n.delay(1,t.attemptLoad,t,Ext.isObject(e)?[e]:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(e){var t=this,n,r;if(e){t.implicitModel=true;t.setModel(n=Ext.define(null,{extend:"Ext.data.Model",fields:e,proxy:r=t.getProxy()}));if(r&&!r.getModel()){r.setModel(n)}}},applyModel:function(e){if(e){e=Ext.data.schema.Schema.lookupEntity(e)}else{this.getFields();return this.getModel()}return e},applyProxy:function(e){var t=this,n=t.getModel();if(e){if(e.isProxy){e.setModel(n)}else{if(Ext.isString(e)){e={type:e,model:n}}else if(!e.model){e=Ext.apply({model:n},e)}e=Ext.createByAlias("proxy."+e.type,e)}}else if(n){e=n.getProxy()}if(!e){e=Ext.createByAlias("proxy.memory")}if(!t.disableMetaChangeEvent){e.on("metachange",t.onMetaChange,t)}return e},updateTrackRemoved:function(e){this.removed=e?[]:null},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var n=this,r=new n.model(e),i=n.getProxy(),s;t=Ext.apply({},t);if(!t.records){t.records=[r]}t.internalScope=n;t.internalCallback=n.onProxyWrite;s=i.createOperation("create",t);return s.execute()},read:function(){return this.load.apply(this,arguments)},update:function(e){var t=this,n=t.getProxy(),r;e=Ext.apply({},e);if(!e.records){e.records=t.getUpdatedRecords()}e.internalScope=t;e.internalCallback=t.onProxyWrite;r=n.createOperation("update",e);return r.execute()},onProxyWrite:function(e){var t=this,n=e.wasSuccessful(),r=e.getRecords();switch(e.getAction()){case"create":t.onCreateRecords(r,e,n);break;case"update":t.onUpdateRecords(r,e,n);break;case"destroy":t.onDestroyRecords(r,e,n);break}if(n){t.fireEvent("write",t,e);t.fireEvent("datachanged",t);t.fireEvent("refresh",t)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,n){if(n){this.removed.length=0}},erase:function(e){var t=this,n=t.getProxy(),r;e=Ext.apply({},e);if(!e.records){e.records=t.getRemovedRecords()}e.internalScope=t;e.internalCallback=t.onProxyWrite;r=n.createOperation("destroy",e);return r.execute()},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var n=this,r=e.operations,i=r.length,s;if(n.batchUpdateMode!="operation"){n.suspendEvents();for(s=0;s<i;s++){n.onProxyWrite(r[s])}n.resumeEvents()}n.isSyncing=false;n.fireEvent("datachanged",n);n.fireEvent("refresh",n)},onBatchException:function(e,t){},filterNew:function(e){return e.phantom===true&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return e.dirty===true&&e.phantom!==true&&e.isValid()},getRemovedRecords:function(){return this.removed},sync:function(e){var t=this,n={},r=t.getNewRecords(),i=t.getUpdatedRecords(),s=t.getRemovedRecords(),o=false;if(t.isSyncing){Ext.log.warn("Sync called while a sync operation is in progress. Consider configuring autoSync as false.")}t.needsSync=false;if(r.length>0){n.create=r;o=true}if(i.length>0){n.update=i;o=true}if(s.length>0){n.destroy=s;o=true}if(o&&t.fireEvent("beforesync",n)!==false){t.isSyncing=true;e=e||{};t.proxy.batch(Ext.apply(e,{operations:n,listeners:t.getBatchListeners()}))}return t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException,complete:e.onBatchComplete};if(e.batchUpdateMode=="operation"){t.operationcomplete=e.onBatchOperationComplete}return t},save:function(){return this.sync.apply(this,arguments)},blockLoad:function(e){if(e!==undefined){this.blockLoadCounter=e}else{++this.blockLoadCounter}},unblockLoad:function(e){var t=this,n=t.blockLoadCounter;if(e){t.blockLoadCounter=0}else if(n){--t.blockLoadCounter}return n},isLoadBlocked:function(){return!!this.blockLoadCounter},attemptLoad:function(e){if(!this.isLoadBlocked()){this.load(e)}},load:function(e){if(this.isLoadBlocked()){return}var t=this,n=t.getProxy(),r=t.loadTask,i={internalScope:t,internalCallback:t.onProxyLoad},s,o;if(t.getRemoteFilter()){s=t.getFilters();if(s.getCount()){i.filters=s.getRange()}}if(t.getRemoteSort()){o=t.getSorters();if(o.getCount()){i.sorters=o.getRange()}t.fireEvent("beforesort",t,i.sorters)}Ext.apply(i,e);i.scope=i.scope||t;t.lastOptions=i;i=n.createOperation("read",i);if(t.fireEvent("beforeload",t,i)!==false){t.loading=true;if(r){r.cancel();t.loadTask=null}i.execute()}return t},reload:function(e){var t=Ext.apply({},e,this.lastOptions);return this.load(t)},onEndUpdate:function(){var e=this;if(e.needsSync&&e.autoSync&&!e.autoSyncSuspended){e.sync()}},afterReject:function(e){var t=this;if(t.contains(e)){t.onUpdate(e,Ext.data.Model.REJECT,null);t.fireEvent("update",t,e,Ext.data.Model.REJECT,null)}},afterCommit:function(e,t){var n=this;if(!t){t=null}if(n.contains(e)){n.onUpdate(e,Ext.data.Model.COMMIT,t);n.fireEvent("update",n,e,Ext.data.Model.COMMIT,t)}},afterErase:function(e){this.onErase(e)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){var e=this;e.blockLoad();e.clearData();e.setProxy(null);e.setModel(null)},hasPendingLoad:function(){return!!this.loadTask||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(e){var t=this;if(!t.autoSyncSuspended){Ext.log.warn("Mismatched call to resumeAutoSync - auto synchronization is currently not suspended.")}if(t.autoSyncSuspended&&!--t.autoSyncSuspended){if(e){t.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn});Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],isRemote:true,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:3e4,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){this.getExtraParams()[e]=t},buildRequest:function(e){var t=this,n=Ext.apply({},e.getParams()),r=Ext.applyIf(n,t.getExtraParams()||{}),i,s,o;Ext.applyIf(r,t.getParams(e));s=e.getId();o=t.getIdParam();if(s!==undefined&&r[o]===undefined){r[o]=s}i=new Ext.data.Request({params:r,action:e.getAction(),records:e.getRecords(),url:e.getUrl(),operation:e,proxy:t});i.setUrl(t.buildUrl(i));e.setRequest(i);return i},processResponse:function(e,t,n,r){var i=this,s,o,u;if(e===true){o=i.getReader();if(r.status===204){u=o.getNullResultSet()}else{u=o.read(i.extractResponseData(r),{recordCreator:t.getRecordCreator()})}t.process(u,n,r);s=!t.wasSuccessful()}else{i.setException(t,r);s=true}if(s){i.fireEvent("exception",i,r,t)}i.afterRequest(n,e)},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText,response:t})},extractResponseData:Ext.identityFn,applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e,t){var n=[],r=e.length,i;for(i=0;i<r;i++){n[i]=e[i].serialize()}return this.applyEncoding(t?n[0]:n)},encodeFilters:function(e){var t=[],n=e.length,r,i;for(r=0;r<n;r++){t[r]=e[r].serialize()}return this.applyEncoding(t)},getParams:function(e){if(!e.isReadOperation){return{}}var t=this,n={},r=e.getGrouper(),i=e.getSorters(),s=e.getFilters(),o=e.getPage(),u=e.getStart(),a=e.getLimit(),f=t.getSimpleSortMode(),l=t.getSimpleGroupMode(),c=t.getPageParam(),h=t.getStartParam(),p=t.getLimitParam(),d=t.getGroupParam(),v=t.getGroupDirectionParam(),m=t.getSortParam(),g=t.getFilterParam(),y=t.getDirectionParam(),b,w;if(c&&o){n[c]=o}if(h&&(u||u===0)){n[h]=u}if(p&&a){n[p]=a}b=d&&r;if(b){if(l){n[d]=r.getProperty();n[v]=r.getDirection()}else{n[d]=t.encodeSorters([r],true)}}if(m&&i&&i.length>0){if(f){w=0;if(i.length>1&&b){w=1}n[m]=i[w].getProperty();n[y]=i[w].getDirection()}else{n[m]=t.encodeSorters(i)}}if(g&&s&&s.length>0){n[g]=t.encodeFilters(s)}return n},buildUrl:function(e){var t=this,n=t.getUrl(e);if(!n){Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url.")}if(t.getNoCache()){n=Ext.urlAppend(n,Ext.String.format("{0}={1}",t.getCacheString(),Ext.Date.now()))}return n},getUrl:function(e){var t;if(e){t=e.getUrl()||this.getApi()[e.getAction()]}return t?t:this.callParent()},doRequest:function(e){Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())}});Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:false,headers:undefined,paramsAsJson:false,withCredentials:false,useDefaultXhrHeader:true,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(e){var t=this,n=t.getWriter(),r=t.buildRequest(e),i=t.getMethod(r),s,o;if(n&&e.allowWrite()){r=n.write(r)}r.setConfig({binary:t.getBinary(),headers:t.getHeaders(),timeout:t.getTimeout(),scope:t,callback:t.createRequestCallback(r,e),method:i,useDefaultXhrHeader:t.getUseDefaultXhrHeader(),disableCaching:false});if(i.toUpperCase()!=="GET"&&t.getParamsAsJson()){o=r.getParams();if(o){s=r.getJsonData();if(s){s=Ext.Object.merge({},s,o)}else{s=o}r.setJsonData(s);r.setParams(undefined)}}if(t.getWithCredentials()){r.setWithCredentials(true);r.setUsername(t.getUsername());r.setPassword(t.getPassword())}return t.sendRequest(r)},sendRequest:function(e){e.setRawRequest(Ext.Ajax.request(e.getCurrentConfig()));this.lastRequest=e;return e},abort:function(e){e=e||this.lastRequest;if(e){Ext.Ajax.abort(e.getRawRequest())}},getMethod:function(e){var t=this.getActionMethods(),n=e.getAction(),r;if(t){r=t[n]}return r||this.defaultActionMethods[n]},createRequestCallback:function(e,t){var n=this;return function(r,i,s){if(e===n.lastRequest){n.lastRequest=null}n.processResponse(i,t,e,s)}}});Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",requires:["Ext.JSON"],alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(e,t){var n=this,r;if(n.getMeta){r=n.getMeta(e);if(r){n.onMetaChange(r)}}else if(e.metaData){n.onMetaChange(e.metaData)}return n.callParent([e,t])},getResponseData:function(e){try{return Ext.decode(e.responseText)}catch(t){Ext.Logger.warn("Unable to parse the JSON returned by the server");return this.createReadError(t.message)}},buildExtractors:function(){var e=this,t=e.getMetaProperty(),n=e.getRootProperty();if(e.callParent(arguments)){if(n){e.getRoot=e.createAccessor(n)}else{e.getRoot=Ext.identityFn}if(t){e.getMeta=e.createAccessor(t)}}},extractData:function(e,t){var n=this.getRecord(),r=[],i,s;if(n){i=e.length;if(!i&&Ext.isObject(e)){i=1;e=[e]}for(s=0;s<i;s++){r[s]=e[s][n]}}else{r=e}return this.callParent([r,t])},getModelData:function(e){return this.getPreserveRawData()?Ext.apply({},e):e},createAccessor:function(){var e=/[\[\.]/;return function(t){var n=this,r=n.getUseSimpleAccessors(),i,s,o,u,a,f,l,c,h,p,d,v,m,g;if(!(t||t===0)){return}if(typeof t==="function"){return t}if(!r){i=String(t).search(e)}if(r===true||i<0){s=function(e){return e[t]}}else{o="raw";u=[];a="";f=0;g=t.length;for(v=0;v<=g;++v){d=t[v];l=d===".";c=d==="[";h=d==="]";p=l||c||h||!d;if(!p||f>1||f&&!h){a+=d}else if(p){m=false;if(c){++f}else if(h){--f;m=true}if(a){if(m){a="["+a+"]"}else{a="."+a}o+=a;u.push(""+o);a=""}}}s=u.join(" && ");s=Ext.functionFactory("raw","return "+s)}return s}}(),createFieldAccessor:function(e){var t=this,n=e.mapping,r=n||n===0,i=r?n:e.name;if(r){if(typeof i==="function"){return function(n){return e.mapping(n,t)}}else{return t.createAccessor(i)}}}});Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:undefined,encode:false,allowSingle:true,expandData:false},constructor:function(e){if(e&&e.hasOwnProperty("root")){e=Ext.apply({},e);e.rootProperty=e.root;delete e.root;Ext.log.warn('Ext.data.writer.Json: Using the deprecated "root" configuration. Use "rootProperty" instead.')}this.callParent([e])},getExpandedData:function(e){var t=e.length,n=0,r,i,s,o,u,a=function(e,t){var n={};n[e]=t;return n};for(;n<t;n++){r=e[n];for(i in r){if(r.hasOwnProperty(i)){s=i.split(".");o=s.length-1;if(o>0){u=r[i];for(;o>0;o--){u=a(s[o],u)}r[s[0]]=r[s[0]]||{};Ext.Object.merge(r[s[0]],u);delete r[i]}}}}return e},writeRecords:function(e,t){var n=this,r=n.getRootProperty(),i,s,o;if(n.getExpandData()){t=n.getExpandedData(t)}if(n.getAllowSingle()&&t.length===1){t=t[0];s=true}o=this.getTransform();if(o){t=o(t,e);e.setJsonData(t)}if(n.getEncode()){if(r){e.setParam(r,Ext.encode(t))}else{Ext.Error.raise("Must specify a root when using encode")}}else if(s||t&&t.length){i=e.getJsonData()||{};if(r){i[r]=t}else{i=t}e.setJsonData(i)}return e}});Ext.define("Ext.util.Group",{extend:"Ext.util.Collection",config:{groupKey:null}});Ext.define("Ext.util.SorterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Sorter"],isSorterCollection:true,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(e){var t=this;t.sortFn=Ext.util.Sorter.createComparator(t);t.callParent([e]);t.setDecoder(t.decodeSorter)},addSort:function(e,t,n){var r=this,i,s,o,u,a,f,l;if(!e){r.beginUpdate();r.endUpdate()}else{u=r.getOptions();if(e instanceof Array){l=e;n=t;t=null}else if(Ext.isString(e)){if(!(f=r.get(e))){l=[{property:e,direction:t||u.getDefaultSortDirection()}]}else{l=[f]}}else if(Ext.isFunction(e)){l=[{sorterFn:e,direction:t||u.getDefaultSortDirection()}]}else{if(!Ext.isObject(e)){Ext.Error.raise("Invalid sort descriptor: "+e)}l=[e];n=t;t=null}if(n&&!r._sortModes[n]){Ext.Error.raise('Sort mode should be "multi", "append", "prepend" or "replace", not "'+n+'"')}n=r._sortModes[n||"replace"];a=r.getAt(0);i=r.length;s=n.append?i:0;r.beginUpdate();r.splice(s,n.replace?i:0,l);if(n.multi){i=r.length;o=u.getMultiSortLimit();if(i>o){r.removeAt(o,i)}}if(f&&t){f.setDirection(t)}else if(s===0&&a&&a===r.getAt(0)){a.toggle()}r.endUpdate()}},getSortFn:function(){return this.sortFn},getByProperty:function(e){var t=this.items,n=t.length,r,i;for(r=0;r<n;++r){i=t[r];if(i.getProperty()===e){return i}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(e,t){var n=this,r=n.getOptions(),i=r.getRootProperty(),s=n.getSorterOptionsFn(),o,u,a;if(e.isSorter){if(!e.getRoot()){e.setRoot(i)}}else{u={direction:r.getDefaultSortDirection(),root:i};a=typeof e;if(a==="string"){o=n.get(e);if(o){return o}u.property=e}else if(a==="function"){u.sorterFn=e}else{if(!Ext.isObject(e)){Ext.Error.raise("Invalid sorter specified: "+e)}u=Ext.apply(u,e);if(u.fn){u.sorterFn=u.fn;delete u.fn}}e=Ext.create(t||"Ext.util.Sorter",u)}if(s){s.call(n.getSorterOptionsScope()||n,e)}return e},setSorterConfigure:function(e,t){this.setSorterOptionsFn(e);this.setSorterOptionsScope(t)},decodeRemoveItems:function(e,t){var n=this,r=t===undefined?e:e[t];if(!r||!r.$cloned){if(e.length>t+1||!Ext.isIterable(r)){r=Ext.Array.slice(e,t)}var i=n.items,s=r.length,o=[],u,a,f,l,c;for(u=0;u<s;u++){l=r[u];if(l&&l.isFilter){o.push(l)}else{c=typeof l;if(c==="string"){l=n.get(l);if(l){o.push(l)}}else if(c==="function"){for(f=i.length;f-->0;){a=i[f];if(a.getSorterFn()===l){o.push(a)}}}else{Ext.Error.raise("Invalid sorter specification: "+l)}}}r=o;r.$cloned=true}return r},getOptions:function(){return this.$sortable||this}});Ext.define("Ext.util.FilterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Filter"],isFilterCollection:true,$filterable:null,filterFn:null,constructor:function(e){var t=this;t.filterFn=Ext.util.Filter.createFilterFn(t);t.callParent([e]);t.setDecoder(t.decodeFilter)},filterData:function(e){return this.filtered?Ext.Array.filter(e,this.filterFn):e},getFilterFn:function(){return this.filterFn},isItemFiltered:function(e){return!this.filterFn(e)},decodeFilter:function(e){var t=this.getOptions(),n=t.getRootProperty(),r;if(e.isFilter){if(!e.getRoot()){e.setRoot(n)}}else{r={root:n};if(Ext.isFunction(e)){r.filterFn=e}else{if(!Ext.isObject(e)){Ext.Error.raise("Invalid filter specified: "+e)}r=Ext.apply(r,e);if(r.fn){r.filterFn=r.fn;delete r.fn}if(Ext.util.Filter.isInvalid(r)){return false}}e=new Ext.util.Filter(r)}return e},decodeRemoveItems:function(e,t){var n=this,r=t===undefined?e:e[t];if(!r.$cloned){if(e.length>t+1||!Ext.isIterable(r)){r=Ext.Array.slice(e,t)}var i=n.items,s=r.length,o=[],u,a,f,l,c,h,p,d,v;for(a=0;a<s;a++){u=r[a];if(u&&u.isFilter){o.push(u)}else{v=typeof u;f=v==="function";l=u.property!==undefined&&u.value!==undefined;c=v==="string";if(!f&&!l&&!c){Ext.Error.raise("Invalid filter specification: "+u)}for(d=i.length;d-->0;){h=i[d];p=false;if(c){p=h.getProperty()===u}else if(f){p=h.getFilterFn()===u}else if(l){p=h.getProperty()===u.property&&h.getValue()===u.value}if(p){o.push(h)}}}}r=o;r.$cloned=true}return r},getOptions:function(){return this.$filterable||this}});Ext.define("Ext.util.GroupCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Group","Ext.util.SorterCollection","Ext.util.FilterCollection"],isGroupCollection:true,config:{itemRoot:null},observerPriority:-100,onCollectionAdd:function(e,t){this.addItemsToGroups(e,t.items)},onCollectionBeforeItemChange:function(e,t){var n=this,r=t.item,i=e.getKey(r);n.onCollectionAdd=n.onCollectionRemove=n.onCollectionUpdateKey=null;n.syncItemGrouping(e,r,i,t.oldKey)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){delete this.onCollectionAdd;delete this.onCollectionRemove;delete this.onCollectionUpdateKey},onCollectionRefresh:function(e){this.removeAll();this.addItemsToGroups(e,e.items)},onCollectionRemove:function(e,t){var n=this,r=n.groupItems(e,t.items,false),i,s,o,u,a;for(o=0,u=r.length;o<u;++o){s=(i=r[o]).group;if(s){s.remove(i.items);if(!s.length){(a||(a=[])).push(s)}}}if(a){n.remove(a)}},onCollectionSort:function(e){var t=this,n=e.getSorters(),r=t.items,i=t.length,s,o;for(s=0;s<i;++s){o=r[s];if(o.getSorters()!==n){o.setSorters(n)}}},onCollectionUpdateKey:function(e,t){this.syncItemGrouping(e,t.item,t.newKey,t.oldKey)},addItemsToGroups:function(e,t){var n=this,r=n.groupItems(e,t,true),i,s,o;for(s=0,o=r.length;s<o;++s){i=r[s];i.group.add(i.items)}},groupItems:function(e,t,n){var r=this,i={},s=[],o=e.getGrouper(),u=r.itemGroupKeys,a,f,l,c,h,p,d,v;for(c=0,d=t.length;c<d;++c){l=o.getGroupString(h=t[c]);p=e.getKey(h);if(n){(u||(r.itemGroupKeys=u={}))[p]=l}else if(u){delete u[p]}if(!(a=i[l])){if(!(f=r.getByKey(l))&&n){(v||(v=[])).push(f=r.createGroup(e,l))}s.push(i[l]=a={group:f,items:[]})}a.items.push(h)}if(v){r.add(v)}return s},syncItemGrouping:function(e,t,n,r){var i=this,s=i.itemGroupKeys||(i.itemGroupKeys={}),o=e.getGrouper(),u=o.getGroupString(t),a=0,f,l,c,h;if(r){h=s[r];delete s[r]}else{h=s[n]}s[n]=u;if(!(l=i.get(u))){l=i.createGroup(e,u);f=[l]}if(l.get(n)!==t){l.add(t)}else{l.itemChanged(t)}if(u!==h&&(h===0||h)){c=i.get(h);if(c){c.remove(t);if(!c.length){a=[c]}}}if(f){i.splice(0,a,f)}else if(a){i.splice(0,a)}},createGroup:function(e,t){var n=new Ext.util.Group({groupKey:t,rootProperty:this.getItemRoot(),sorters:e.getSorters()});return n},getKey:function(e){return e.getGroupKey()},getGroupByRecord:function(e){var t=this.items,n=t.length,r,i;for(i=0;i<n;i++){r=t[i];if(r.indexOf(e)){return r}}return null}});Ext.define("Ext.data.Store",{extend:"Ext.data.ProxyStore",alias:"store.store",mixins:["Ext.data.LocalStore"],requires:["Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.GroupCollection","Ext.util.DelayedTask"],uses:["Ext.data.StoreManager","Ext.util.Grouper"],config:{data:0,clearRemovedOnLoad:true,clearOnPageLoad:true,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:true},loadCount:0,complete:false,constructor:function(e){var t=this,n;if(e){if(e.buffered){if(this.self!==Ext.data.Store){Ext.Error.raise("buffered config not supported on derived Store classes. "+"Please derive from Ext.data.BufferedStore.")}return new Ext.data.BufferedStore(e)}if(e.remoteGroup){Ext.log.warn("Ext.data.Store: remoteGroup has been removed. Use remoteSort instead.")}}t.callParent(arguments);t.getData().addObserver(this);n=t.inlineData;if(n){delete t.inlineData;t.loadInlineData(n)}},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(e,t){var n=this;n.getFields();n.getModel();if(!t){t=n.constructDataCollection()}if(e){if(n.isInitializing){n.inlineData=e}else{n.loadData(e)}}return t},loadInlineData:function(e){var t=this,n=t.getProxy(),r;if(n&&n.isMemoryProxy){n.setData(e);r=t.unblockLoad(true);t.suspendEvents();t.read();t.resumeEvents();t.blockLoad(r)}else{t.removeAll(true);t.suspendEvents();t.loadData(e);t.resumeEvents()}},updateRemoteFilter:function(e){var t=this.getData(),n=this.getFilters();if(e){t.setFilters(null)}else{t.setFilters(n)}this.callParent(arguments)},updateRemoteSort:function(e){var t=this.getData(),n=this.getSorters();if(e){t.setSorters(null)}else{t.setSorters(n)}this.callParent(arguments)},insert:function(e,t){var n=this,r,i;if(t){if(!Ext.isIterable(t)){t=[t]}else{t=Ext.Array.clone(t)}r=t.length}if(!r){return[]}for(i=0;i<r;++i){t[i]=n.createModel(t[i])}n.getData().insert(e,t);return t},onCollectionAdd:function(e,t){var n=this,r=t.items,i=r.length,s=!t.next,o=n.getRemovedRecords(),u=n.ignoreCollectionAdd,a=n.getSession(),f,l,c;for(f=0;f<i;++f){c=r[f];if(a){a.adopt(c)}if(!u){c.join(n);if(o&&o.length){Ext.Array.remove(o,c)}l=l||c.phantom||c.dirty}}if(u){return}n.fireEvent("add",n,r,t.at);if(s){n.fireEvent("datachanged",n)}n.needsSync=n.needsSync||l},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(e,t){var n=this,r=t.item,i=t.modified||null,s=t.meta;n.onUpdate(r,s,i,t);n.fireEvent("update",n,r,s,i,t)},afterCommit:function(e,t){this.getData().itemChanged(e,t||null,undefined,Ext.data.Model.COMMIT)},afterEdit:function(e,t){this.needsSync=this.needsSync||e.dirty;this.getData().itemChanged(e,t||null,undefined,Ext.data.Model.EDIT)},afterReject:function(e){this.getData().itemChanged(e,null,undefined,Ext.data.Model.REJECT)},afterDrop:function(e){this.getData().remove(e)},onCollectionFilterAdd:function(e,t){var n=t.length,r=this.getSession(),i,s;for(i=0;i<n;++i){s=t[i];s.join(this);if(r){r.adopt(s)}}},add:function(e){return this.insert(this.getCount(),arguments.length===1?e:arguments)},addSorted:function(e){var t=this,n=t.getRemoteSort(),r=t.getData(),i;if(n){r.setSorters(t.getSorters())}i=r.findInsertionIndex(e);if(n){r.setSorters(null)}return t.insert(i,e)},createModel:function(e){var t=this.getSession();if(!e.isModel){var n=this.getModel();e=new n(e)}return e},remove:function(e,t,n){var r=this,i=r.getData(),s,o,u,a;if(e){if(e.isModel){if(r.indexOf(e)>-1){u=[e];s=1}else{s=0}}else{u=[];for(o=0,s=e.length;o<s;++o){a=e[o];if(a&&a.isEntity){if(!i.contains(a)){continue}}else if(!(a=i.getAt(a))){continue}u.push(a)}s=u.length}}if(!s){return[]}r.removeIsMove=t===true;r.removeIsSilent=n;i.remove(u);r.removeIsSilent=false;return u},onCollectionRemove:function(e,t){var n=this,r=n.removed,i=t.items,s=t.at,o=i.length,u=n.removeIsMove,a=n.removeIsSilent,f=!t.next,l,c,h,p;if(n.ignoreCollectionRemove){return}for(l=0;l<o;++l){c=i[l];c.unjoin(n);p=!c.phantom;if(r&&!u&&p){c.removedFrom=s+l;r.push(c)}h=h||p}if(!a){n.fireEvent("remove",n,i,s,u);if(f){n.fireEvent("datachanged",n)}}n.needsSync=n.needsSync||h&&!u},onFilterEndUpdate:function(){this.callParent(arguments);this.callObservers("Filter")},removeAt:function(e,t){var n=this.getData();e=Math.max(e,0);if(e<n.length){if(arguments.length===1){t=1}else if(!t){return}n.removeAt(e,t)}},removeAll:function(e){var t=this,n=t.getData(),r=t.hasListeners.clear,i=n.getRange();if(n.length){t.removeIsSilent=true;t.callObservers("BeforeRemoveAll");n.removeAll();if(!e){t.fireEvent("clear",t,i);t.fireEvent("datachanged",t)}t.callObservers("AfterRemoveAll",[!!e])}return i},setRecords:function(e){var t=this.getCount();++this.loadCount;if(t){this.getData().splice(0,t,e)}else{this.add(e)}},splice:function(e,t,n){return this.getData().splice(e,t,n)},load:function(e){var t=this,n=t.getPageSize(),r;if(typeof e==="function"){e={callback:e}}else{e=Ext.apply({},e)}if(t.getRemoteSort()&&!e.grouper&&t.getGrouper()){e.grouper=t.getGrouper()}if(n||"start"in e||"limit"in e||"page"in e){e.page=e.page||t.currentPage;e.start=e.start!==undefined?e.start:(e.page-1)*n;e.limit=e.limit||n}e.addRecords=e.addRecords||false;if(!e.recordCreator){r=t.getSession();if(r){e.recordCreator=r.recordCreator}}return t.callParent([e])},onProxyLoad:function(e){var t=this,n=e.getResultSet(),r=e.getRecords(),i=e.wasSuccessful(),s,o;if(t.isDestroyed){return}if(n){t.totalCount=n.getTotal()}t.loading=false;if(i){s=t.getSession();o=t.getAssociatedEntity();if(s&&o&&!o.phantom){r=t.getRole().validateAssociationRecords(s,o,r)}t.loadRecords(r,e.getAddRecords()?{addRecords:true}:undefined)}if(t.hasListeners.load){t.fireEvent("load",t,r,i,e)}},getUnfiltered:function(){var e=this.getData();return e.getSource()||e},getNewRecords:function(){return this.getUnfiltered().createFiltered(this.filterNew).getRange()},getUpdatedRecords:function(){return this.getUnfiltered().createFiltered(this.filterUpdated).getRange()},loadData:function(e,t){var n=e.length,r=[],i;for(i=0;i<n;i++){r.push(this.createModel(e[i]))}this.loadRecords(r,t?this.addRecordsOptions:undefined)},loadRawData:function(e,t){var n=this,r=n.getSession(),i=n.getProxy().getReader().read(e,r?{recordCreator:r.recordCreator}:undefined),s=i.getRecords(),o=i.getSuccess();if(o){n.totalCount=i.getTotal();n.loadRecords(s,t?n.addRecordsOptions:undefined)}return o},loadRecords:function(e,t){var n=this,r=e.length,i=n.getData(),s,o,u,a;if(t){s=t.addRecords}u=n.getRemoteSort()||!n.getSortOnLoad();if(u){o=i.getAutoSort();i.setAutoSort(false)}if(!s){n.clearData(true)}n.ignoreCollectionAdd=true;n.callObservers("BeforeLoad");i.add(e);n.ignoreCollectionAdd=false;for(a=0;a<r;a++){e[a].join(n)}if(u){i.setAutoSort(o)}++n.loadCount;n.complete=true;n.fireEvent("datachanged",n);n.fireEvent("refresh",n);n.callObservers("AfterLoad")},loadPage:function(e,t){var n=this,r=n.getPageSize();n.currentPage=e;t=Ext.apply({page:e,start:(e-1)*r,limit:r,addRecords:!n.getClearOnPageLoad()},t);n.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e,t){var n=this,r=n.removed,i,s,o;t=t||n.getData();if(t){i=t.items;for(s=0,o=i.length;s<o;++s){i[s].unjoin(n)}n.ignoreCollectionRemove=true;n.callObservers("BeforeClear");t.removeAll();n.ignoreCollectionRemove=false;n.callObservers("AfterClear")}if(r&&(e!==true||n.getClearRemovedOnLoad())){r.length=0}},onIdChanged:function(e,t,n){this.getData().updateKey(e,t);this.fireEvent("idchanged",this,e,t,n)},commitChanges:function(){var e=this,t=e.getModifiedRecords(),n=t.length,r=e.removed,i=0;for(;i<n;i++){t[i].commit()}if(r){r.length=0}},filterNewOnly:function(e){return e.phantom===true},filterRejects:function(e){return e.phantom||e.dirty},getRejectRecords:function(){return this.getData().createFiltered(this.filterRejects).getRange()},rejectChanges:function(){var e=this,t=e.getRejectRecords(),n=t.length,r=0,i;for(;r<n;r++){i=t[r];i.reject();if(i.phantom){e.remove(i)}}t=e.removed;if(t){n=t.length;for(r=n-1;r>=0;r--){i=t[r];e.insert(i.removedFrom||0,i);i.reject()}t.length=0}},onDestroy:function(){var e=this,t=e.loadTask,n=e.getData(),r=n.getSource();e.callParent();e.setSession(null);e.observers=null;if(t){t.cancel();e.loadTask=null}e.clearData(false,r||n);n.destroy();if(r){r.destroy()}e.setData(null)}});Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(e){var t=e.mapping,n=e.hasMapping()?t:e.ordinal,r;e.mapping=n;r=this.callParent(arguments);e.mapping=t;return r},getModelData:function(e){return{}}});Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(e,t){if(this.expandData){var n=[],r=0,i=e.length;for(;r<i;r++){n[n.length]=[e[r]]}e=n}this.callParent([e,t])}});Ext.define("Ext.data.PageMap",{extend:"Ext.util.LruCache",config:{pageSize:0,rootProperty:""},clear:function(e){var t=this;t.pageMapGeneration=(t.pageMapGeneration||0)+1;t.callParent(arguments)},forEach:function(e,t){var n=this,r=Ext.Object.getKeys(n.map),i=r.length,s=n.getPageSize(),o,u,a,f,l;for(o=0;o<i;o++){r[o]=Number(r[o])}Ext.Array.sort(r);t=t||n;for(o=0;o<i;o++){a=r[o];f=n.getPage(a);l=f.length;for(u=0;u<l;u++){if(e.call(t,f[u],(a-1)*s+u)===false){return}}}},findBy:function(e,t){var n=this,r=null;t=t||n;n.forEach(function(n,i){if(e.call(t,n,i)){r=n;return false}});return r},findIndexBy:function(e,t){var n=this,r=-1;t=t||n;n.forEach(function(n,i){if(e.call(t,n)){r=i;return false}});return r},find:function(e,t,n,r,i,s){if(Ext.isEmpty(t,false)){return null}var o=Ext.String.createRegex(t,r,i,s),u=this.getRootProperty();return this.findBy(function(t){return t&&o.test((u?t[u]:t)[e])},null,n)},findIndex:function(e,t,n,r,i,s){if(Ext.isEmpty(t,false)){return null}var o=Ext.String.createRegex(t,r,i,s),u=this.getRootProperty();return this.findIndexBy(function(t){return t&&o.test((u?t[u]:t)[e])},null,n)},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},addAll:function(e){if(this.getCount()){Ext.Error.raise("Cannot addAll to a non-empty PageMap")}this.addPage(1,e)},addPage:function(e,t){var n=this,r=n.getPageSize(),i=e+Math.floor((t.length-1)/r),s,o;for(s=0;e<=i;e++,s+=r){o=Ext.Array.slice(t,s,s+r);n.add(e,o);n.fireEvent("pageadded",e,o)}},getCount:function(){var e=this.callParent();if(e){e=(e-1)*this.getPageSize()+this.last.value.length}return e},indexOf:function(e){return e?e.index:-1},insert:function(){Ext.Error.raise("insert operation not suppported into buffered Store")},remove:function(){Ext.Error.raise("remove operation not suppported from buffered Store")},removeAt:function(){Ext.Error.raise("removeAt operation not suppported from buffered Store")},removeAtKey:function(e){var t=this.getPage(e);if(t&&t.value){t.value.length=0}return this.callParent(arguments)},getPage:function(e){return this.get(e)},hasRange:function(e,t){var n=this.getPageFromRecordIndex(e),r=this.getPageFromRecordIndex(t);for(;n<=r;n++){if(!this.hasPage(n)){return false}}return true},hasPage:function(e){return!!this.get(e)},getAt:function(e){return this.getRange(e,e+1)[0]},getRange:function(e,t){t--;if(!this.hasRange(e,t)){Ext.Error.raise("PageMap asked for range which it does not have")}var n=this,r=n.getPageSize(),i=n.getPageFromRecordIndex(e),s=n.getPageFromRecordIndex(t),o=(i-1)*r,u=s*r-1,a=i,f=[],l,c,h,p=0,d;for(;a<=s;a++){if(a===i){l=e-o;h=true}else{l=0;h=false}if(a===s){c=r-(u-t);h=true}if(h){Ext.Array.push(f,Ext.Array.slice(n.getPage(a),l,c))}else{Ext.Array.push(f,n.getPage(a))}}for(d=f.length;p<d;p++){f[p].index=e++}return f}});Ext.define("Ext.data.BufferedStore",{extend:"Ext.data.ProxyStore",alias:"store.buffered",requires:["Ext.data.PageMap","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isBufferedStore:true,buffered:true,config:{data:0,pageSize:25,remoteSort:true,remoteFilter:true,sortOnLoad:false,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0},applyData:function(e){var t=this.data||(this.data=this.createDataCollection());if(e&&e!==true){Ext.Error.raise("Cannot load a buffered store with local data - the store is a map of remote data")}return t},applyProxy:function(e){e=this.callParent([e]);if(e.setEnablePaging){e.setEnablePaging(true)}return e},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateRemoteFilter:function(e){if(e===false){Ext.Error.raise("Buffered stores are always remotely filtered.")}this.callParent(arguments)},updateRemoteSort:function(e){if(e===false){Ext.Error.raise("Buffered stores are always remotely sorted.")}this.callParent(arguments)},updateGroupField:function(e){if(this.isInitializing){this.blockLoad()}this.group(e);if(this.isInitializing){this.unblockLoad()}},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var e=this,t=new Ext.data.PageMap({store:e,rootProperty:"data",pageSize:e.getPageSize(),maxSize:e.getPurgePageCount(),listeners:{clear:e.onPageMapClear,scope:e}});e.pageRequests={};return t},add:function(){Ext.Error.raise("add method may not be called on a buffered store - the store is a map of remote data")},insert:function(){Ext.Error.raise("insert method may not be called on a buffered store - the store is a map of remote data")},removeAll:function(e){var t=this,n=t.getData();if(n){if(e){t.suspendEvent("clear")}n.clear();if(e){t.resumeEvent("clear")}}},load:function(e){var t=this;e=e||{};t.getData().clear();e.page=1;e.start=0;e.limit=t.getViewSize()||t.getDefaultViewSize();e.loadCallback=e.callback;delete e.callback;return t.loadToPrefetch(e)},reload:function(e){var t=this,n,r,i,s,o,u,a,f,l=t.getData();if(!e){e={}}delete t.totalCount;l.clear(true);u=function(){if(t.rangeCached(n,r)){t.loading=false;l.un("pageadded",u);f=l.getRange(n,r+1);t.fireEvent("load",t,f,true)}};a=Math.ceil((t.getLeadingBufferZone()+t.getTrailingBufferZone())/2);if(!t.lastRequestStart){n=e.start||0;r=n+(e.count||t.getPageSize())-1}else{n=t.lastRequestStart;r=t.lastRequestEnd}i=t.getPageFromRecordIndex(Math.max(n-a,0));s=t.getPageFromRecordIndex(r+a);if(t.fireEvent("beforeload",t,e)!==false){t.loading=true;l.on("pageadded",u);for(o=i;o<=s;o++){t.prefetchPage(o,e)}}},filter:function(){if(this.remoteSort){this.getData().clear();this.callParent(arguments)}else{Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")}this.callParent(arguments)},clearFilter:function(){this.getData().clear();this.callParent(arguments)},filterBy:function(e,t){Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")},loadData:function(e,t){Ext.Error.raise("LoadData may not be used on a buffered store - the store is a map of remote data")},loadPage:function(e,t){var n=this;t=t||{};t.page=n.currentPage=e;t.start=(e-1)*n.getPageSize();t.limit=n.getViewSize()||n.getDefaultViewSize();t.loadCallback=t.callback;delete t.callback;return n.loadToPrefetch(t)},clearData:function(e){var t=this,n=t.getData();if(n){n.clear()}if(e!==true||t.clearRemovedOnLoad){t.removed.length=0}},getCount:function(){return this.totalCount||0},getRange:function(e,t,n){var r=this,i=r.totalCount-1,s=r.lastRequestStart,o=[],u=r.getData(),a,f,l;n=Ext.apply({prefetchStart:e,prefetchEnd:t},n);t=t>=r.totalCount?i:t;f=e===0?0:e-1;l=t===i?t:t+1;r.lastRequestStart=e;r.lastRequestEnd=t;if(r.rangeCached(f,l)){r.onRangeAvailable(n);o=u.getRange(e,t+1)}else{r.fireEvent("cachemiss",r,e,t);a=function(i,s){if(r.rangeCached(f,l)){r.fireEvent("cachefilled",r,e,t);u.un("pageadded",a);r.onRangeAvailable(n)}};u.on("pageadded",a);r.prefetchRange(e,t)}r.primeCache(e,t,e<s?-1:1);return o},getById:function(e){var t=this.data.findBy(function(t){return t.getId()===e});if(!t){Ext.Error.raise("getById called for ID that is not present in local cache")}return t},getByInternalId:function(e){var t;t=this.data.findBy(function(t){return t.internalId===e});return t},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},group:function(e,t){var n=this,r;if(e&&typeof e==="string"){r=n.grouper;if(!r){n.grouper=new Ext.util.Grouper({property:e,direction:t||"ASC",root:"data"})}else if(t===undefined){r.toggle()}else{r.setDirection(t)}}else{n.grouper=e?n.getSorters().decodeSorter(e,"Ext.util.Grouper"):null}if(n.isLoadBlocked()){return}n.getData().clear();n.loadPage(1,{callback:function(){n.fireEvent("groupchange",n,n.getGrouper())}})},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},loadToPrefetch:function(e){var t=this,n=e,r=t.getPurgePageCount(),i,s,o,u=e.start,a=e.start+e.limit-1,f=Math.min(a,e.start+(t.getViewSize()||e.limit)-1),l=t.getPageFromRecordIndex(Math.max(u-t.getTrailingBufferZone(),0)),c=t.getPageFromRecordIndex(a+t.getLeadingBufferZone()),h=t.getData(),p=function(){if(t.rangeCached(u,f)){t.loading=false;s=h.getRange(u,f+1);h.un("pageadded",p);if(t.hasListeners.guaranteedrange){t.guaranteeRange(u,f,e.callback,e.scope)}if(e.loadCallback){e.loadCallback.call(e.scope||t,s,d,true)}if(e.callback){e.callback.call(e.scope||t,s,u,a,e)}t.fireEvent("datachanged",t);t.fireEvent("refresh",t);t.fireEvent("load",t,s,true)}},d;if(isNaN(t.pageSize)||!t.pageSize){Ext.Error.raise("Buffered store configured without a pageSize",t)}if(r){h.setMaxSize(r=Math.max(r,c-l+1))}if(t.fireEvent("beforeload",t,e)!==false){delete t.totalCount;t.loading=true;if(e.callback){n=Ext.apply({},e);delete n.callback}t.on("prefetch",function(e,r,s,u){if(s){d=u;if(o=t.getTotalCount()){h.on("pageadded",p);f=Math.min(f,o-1);c=t.getPageFromRecordIndex(Math.min(f+t.getLeadingBufferZone(),o-1));for(i=l+1;i<=c;++i){t.prefetchPage(i,n)}}else{t.fireEvent("datachanged",t);t.fireEvent("refresh",t);t.fireEvent("load",t,r,true)}}else{t.fireEvent("load",t,r,false)}},null,{single:true});t.prefetchPage(l,n)}},prefetch:function(e){var t=this,n=t.getPageSize(),r=t.getData(),i,s;if(n){if(t.lastPageSize&&n!=t.lastPageSize){Ext.Error.raise("pageSize cannot be dynamically altered")}if(!r.pageSize){r.setPageSize(n)}}else{t.pageSize=r.setPageSize(n=e.limit)}t.lastPageSize=n;if(!e.page){e.page=t.getPageFromRecordIndex(e.start);e.start=(e.page-1)*n;e.limit=Math.ceil(e.limit/n)*n}if(!t.pageRequests[e.page]){i=t.proxy;e=Ext.apply({action:"read",filters:t.getFilters().items,sorters:t.getSorters().items,grouper:t.getGrouper(),internalCallback:t.onProxyPrefetch,internalScope:t},e);s=i.createOperation("read",e);s.pageMapGeneration=r.pageMapGeneration;if(t.fireEvent("beforeprefetch",t,s)!==false){t.pageRequests[e.page]=s.execute();if(i.isSynchronous){delete t.pageRequests[e.page]}}}return t},onPageMapClear:function(){var e=this,t=e.wasLoading,n=e.pageRequests,r=e.getData(),i,s;r.clearListeners();r.on("clear",e.onPageMapClear,e);e.loading=true;e.totalCount=0;for(s in n){if(n.hasOwnProperty(s)){i=n[s];delete n[s];delete i.callback}}e.fireEvent("clear",e);e.loading=t},prefetchPage:function(e,t){var n=this,r=n.getPageSize(),i=(e-1)*r,s=n.totalCount;if(s!==undefined&&n.data.getCount()===s){return}n.prefetch(Ext.applyIf({page:e,start:i,limit:r},t))},onProxyPrefetch:function(e){var t=this,n=e.getResultSet(),r=e.getRecords(),i=e.wasSuccessful(),s=e.getPage(),o=t.totalCount;if(e.pageMapGeneration===t.getData().pageMapGeneration){if(n){t.totalCount=n.getTotal();if(t.totalCount!==o){t.fireEvent("totalcountchange",t.totalCount)}}if(s!==undefined){delete t.pageRequests[s]}t.loading=false;t.fireEvent("prefetch",t,r,i,e);if(i){t.cachePage(r,e.getPage())}Ext.callback(e.getCallback(),e.getScope()||t,[r,e,i])}},cachePage:function(e,t){var n=this,r=e.length,i;if(!Ext.isDefined(n.totalCount)){n.totalCount=e.length;n.fireEvent("totalcountchange",n.totalCount)}for(i=0;i<r;i++){e[i].join(n)}n.getData().addPage(t,e)},rangeCached:function(e,t){return this.getData().hasRange(e,t)},pageCached:function(e){return this.getData().hasPage(e)},pagePending:function(e){return!!this.pageRequests[e]},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},onRangeAvailable:function(e){var t=this,n=t.getTotalCount(),r=e.prefetchStart,i=e.prefetchEnd>n-1?n-1:e.prefetchEnd,s;i=Math.max(0,i);if(r>i){Ext.log({level:"warn",msg:"Start ("+r+") was greater than end ("+i+") for the range of records requested ("+r+"-"+e.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")})}s=t.getData().getRange(r,i+1);if(e.fireEvent!==false){t.fireEvent("guaranteedrange",s,r,i,e)}if(e.callback){e.callback.call(e.scope||t,s,r,i,e)}},guaranteeRange:function(e,t,n,r,i){i=Ext.apply({callback:n,scope:r},i);this.getRange(e,t+1,i)},prefetchRange:function(e,t){var n=this,r=n.getPurgePageCount(),i,s,o;if(!n.rangeCached(e,t)){i=n.getPageFromRecordIndex(e);s=n.getPageFromRecordIndex(t);n.getData().setMaxSize(r?s-i+1+r:0);for(o=i;o<=s;o++){if(!n.pageCached(o)){n.prefetchPage(o)}}}},primeCache:function(e,t,n){var r=this,i=r.getLeadingBufferZone(),s=r.getTrailingBufferZone(),o=r.getPageSize(),u=r.totalCount;if(n===-1){e=Math.max(e-i,0);t=Math.min(t+s,u-1)}else if(n===1){e=Math.max(Math.min(e-s,u-o),0);t=Math.min(t+i,u-1)}else{e=Math.min(Math.max(Math.floor(e-(i+s)/2),0),u-r.pageSize);t=Math.min(Math.max(Math.ceil(t+(i+s)/2),0),u-1)}r.prefetchRange(e,t)},sort:function(e,t,n){if(arguments.length===0){this.clearAndLoad()}else{this.getSorters().addSort(e,t,n)}},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange();if(t.length){e.clearAndLoad({callback:function(){e.fireEvent("sort",e,t)}})}else{e.fireEvent("sort",e,t)}},clearAndLoad:function(e){this.getData().clear();this.loadPage(1,e)}});Ext.define("Ext.direct.Manager",{singleton:true,requires:["Ext.util.MixedCollection"],mixins:{observable:"Ext.util.Observable"},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var e=this;e.transactions=new Ext.util.MixedCollection;e.providers=new Ext.util.MixedCollection;e.mixins.observable.constructor.call(e)},addProvider:function(e){var t=this,n=arguments,r=t.relayers||(t.relayers={}),i,s;if(n.length>1){for(i=0,s=n.length;i<s;++i){t.addProvider(n[i])}return}if(!e.isProvider){e=Ext.create("direct."+e.type+"provider",e)}t.providers.add(e);e.on("data",t.onProviderData,t);if(e.relayedEvents){r[e.id]=t.relayEvents(e,e.relayedEvents)}if(!e.isConnected()){e.connect()}return e},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t=this,n=t.providers,r=t.relayers,i;e=e.isProvider?e:n.get(e);if(e){e.un("data",t.onProviderData,t);i=e.id;if(r[i]){r[i].destroy();delete r[i]}n.remove(e);return e}return null},addTransaction:function(e){this.transactions.add(e);return e},removeTransaction:function(e){var t=this;e=t.getTransaction(e);t.transactions.remove(e);return e},getTransaction:function(e){return typeof e==="object"?e:this.transactions.get(e)},onProviderData:function(e,t){var n=this,r,i;if(Ext.isArray(t)){for(r=0,i=t.length;r<i;++r){n.onProviderData(e,t[r])}return}if(t.name&&t.name!="event"&&t.name!="exception"){n.fireEvent(t.name,t)}else if(t.status===false){n.fireEvent("exception",t)}n.fireEvent("event",t,e)},parseMethod:function(e){if(Ext.isString(e)){var t=e.split("."),n=0,r=t.length,i=Ext.global;while(i&&n<r){i=i[t[n]];++n}e=Ext.isFunction(i)?i:null}return e||null}},function(){Ext.Direct=Ext.direct.Manager});Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],config:{paramOrder:undefined,paramsAsHash:true,directFn:undefined,api:undefined},paramOrderRe:/[\s,|]/,applyParamOrder:function(e){if(Ext.isString(e)){e=e.split(this.paramOrderRe)}return e},resolveMethods:function(){var e=this,t=e.getDirectFn(),n=e.getApi(),r=Ext.direct.Manager,i;if(t){e.setDirectFn(i=r.parseMethod(t));if(!Ext.isFunction(i)){Ext.Error.raise("Cannot resolve directFn "+t)}}else if(n){for(t in n){if(n.hasOwnProperty(t)){i=n[t];n[t]=r.parseMethod(i);if(!Ext.isFunction(n[t])){Ext.Error.raise("Cannot resolve Direct api "+t+" method "+i)}}}}e.methodsResolved=true},doRequest:function(e){var t=this,n=t.getWriter(),r=t.buildRequest(e),i=r.getParams(),s=[],o=r.getAction(),u=t.getApi(),a,f;if(!t.methodsResolved){t.resolveMethods()}if(u){a=u[o]}a=a||t.getDirectFn();if(!a){Ext.Error.raise("No direct function specified for this proxy")}if(n&&e.allowWrite()){r=n.write(r)}if(o==="read"){f=a.directCfg.method;s=f.getArgs(i,t.getParamOrder(),t.getParamsAsHash())}else{s.push(r.getJsonData())}s.push(t.createRequestCallback(r,e),t);r.setConfig({args:s,directFn:a});a.apply(window,s);return r},applyEncoding:Ext.identityFn,createRequestCallback:function(e,t){var n=this;return function(r,i){n.processResponse(i.status,t,e,i)}},extractResponseData:function(e){return Ext.isDefined(e.result)?e.result:e.data},setException:function(e,t){e.setException(t.message)},buildUrl:function(){return""}});Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(e){e=Ext.apply({},e);if(!e.proxy){var t={type:"direct",reader:{type:"json"}};Ext.copyTo(t,e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode");Ext.copyTo(t.reader,e,"totalProperty,root,idProperty");e.proxy=t}this.callParent([e])}});Ext.define("Ext.data.JsonP",{singleton:true,requestCount:0,requests:{},timeout:3e4,disableCaching:true,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){e=Ext.apply({},e);if(!e.url){Ext.Error.raise("A url must be specified for a JSONP request.")}var t=this,n=Ext.isDefined(e.disableCaching)?e.disableCaching:t.disableCaching,r=e.disableCachingParam||t.disableCachingParam,i=++t.requestCount,s=e.callbackName||"callback"+i,o=e.callbackKey||t.callbackKey,u=Ext.isDefined(e.timeout)?e.timeout:t.timeout,a=Ext.apply({},e.params),f=e.url,l=Ext.name,c,h;if(n&&!a[r]){a[r]=Ext.Date.now()}e.params=a;a[o]=l+".data.JsonP."+s;h=t.createScript(f,a,e);t.requests[i]=c={url:f,params:a,script:h,id:i,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:o,callbackName:s};if(u>0){c.timeout=Ext.defer(t.handleTimeout,u,t,[c])}t.setupErrorHandling(c);t[s]=Ext.bind(t.handleResponse,t,[c],true);t.loadScript(c);return c},abort:function(e){var t=this,n=t.requests,r;if(e){if(!e.id){e=n[e]}t.handleAbort(e)}else{for(r in n){if(n.hasOwnProperty(r)){t.abort(n[r])}}}},setupErrorHandling:function(e){e.script.onerror=Ext.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort";this.handleResponse(null,e)},handleError:function(e){e.errorType="error";this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout";this.handleResponse(null,e)},handleResponse:function(e,t){var n=true,r=Ext.GlobalEvents;if(t.timeout){clearTimeout(t.timeout)}delete this[t.callbackName];delete this.requests[t.id];this.cleanupErrorHandling(t);Ext.fly(t.script).destroy();if(t.errorType){n=false;Ext.callback(t.failure,t.scope,[t.errorType])}else{Ext.callback(t.success,t.scope,[e])}Ext.callback(t.callback,t.scope,[n,e,t.errorType]);if(r.hasListeners.idle){r.fireEvent("idle")}},createScript:function(e,t,n){var r=document.createElement("script");r.setAttribute("src",Ext.urlAppend(e,Ext.Object.toQueryString(t)));r.setAttribute("async",true);r.setAttribute("type","text/javascript");return r},loadScript:function(e){Ext.getHead().appendChild(e.script)}});Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],config:{callbackKey:"callback",recordParam:"records",autoAppendParams:true},doRequest:function(e){var t=this,n=t.buildRequest(e),r=n.getParams();n.setConfig({callbackKey:t.callbackKey,timeout:t.timeout,scope:t,disableCaching:false,callback:t.createRequestCallback(n,e)});if(t.getAutoAppendParams()){n.setParams({})}n.setRawRequest(Ext.data.JsonP.request(n.getCurrentConfig()));n.setParams(r);t.lastRequest=n;return n},createRequestCallback:function(e,t){var n=this;return function(r,i,s){if(e===n.lastRequest){n.lastRequest=null}n.processResponse(r,t,e,i)}},setException:function(e,t){e.setException(e.getRequest().getRawRequest().errorType)},buildUrl:function(e){var t=this,n=t.callParent(arguments),r=e.getRecords(),i=t.getWriter(),s,o,u,a,f;if(i&&e.getOperation().allowWrite()){e=i.write(e)}s=e.getParams();o=s.filters;delete s.filters;if(o&&o.length){for(a=0;a<o.length;a++){u=o[a];f=u.getValue();if(f){s[u.getProperty()]=f}}}if(Ext.isArray(r)&&r.length>0&&(!i||!i.getEncode())){s[t.getRecordParam()]=t.encodeRecords(r)}if(t.getAutoAppendParams()){n=Ext.urlAppend(n,Ext.Object.toQueryString(s))}return n},abort:function(e){e=e||this.lastRequest;if(e){Ext.data.JsonP.abort(e.getRawRequest())}},encodeRecords:function(e){var t=[],n=0,r=e.length;for(;n<r;n++){t.push(Ext.encode(e[n].getData()))}return t}});Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"jsonp",reader:"json"}},e);this.callParent([e])}});Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e);this.callParent([e])}});Ext.define("Ext.data.ModelManager",{alternateClassName:"Ext.ModelMgr",requires:["Ext.data.schema.Schema"],singleton:true,deprecated:{5:{methods:{clear:null,create:function(e,t,n){var r=t;if(!r.isEntity){r=this.getModel(t||e.name)}return r.createWithId(n,e)},each:function(e,t){Ext.data.Model.schema.eachEntity(e,t)},get:function(e){return this.getModel(e)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},isRegistered:function(e){return!!this.getModel(e)}}}}});Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.field.Boolean","Ext.data.field.Integer","Ext.data.field.String","Ext.data.writer.Json","Ext.mixin.Observable"],statics:{decorate:function(e){var t=Ext.data.schema.Schema.lookupEntity(e),n=t.prototype,r,i,s;if(!t.prototype.isObservable){t.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable)}if(n.isNode){return}r=n.idProperty;i=t.getField(r);s=i.type;t.override(this.getPrototypeBody());t.addFields([{name:"parentId",type:s,defaultValue:null,allowNull:i.allowNull},{name:"index",type:"int",defaultValue:-1,persist:false,convert:null},{name:"depth",type:"int",defaultValue:0,persist:false,convert:null},{name:"expanded",type:"bool",defaultValue:false,persist:false,convert:null},{name:"expandable",type:"bool",defaultValue:true,persist:false,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:false,convert:null},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:"",persist:false,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:false,convert:null},{name:"icon",type:"string",defaultValue:"",persist:false,convert:null},{name:"root",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isLast",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isFirst",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"loaded",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"loading",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"href",type:"string",defaultValue:"",persist:false,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:false,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:false,convert:null},{name:"children",type:"auto",defaultValue:null,persist:false,convert:null},{name:"visible",type:"boolean",defaultValue:true,persist:false},{name:"text",type:"string",persist:false}])},getPrototypeBody:function(){var e={idchanged:true,append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true,expand:true,collapse:true,beforeexpand:true,beforecollapse:true,sort:true};return{isNode:true,constructor:function(){var e=this;e.mixins.observable.constructor.call(e);e.callParent(arguments);e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null;e.childNodes=[];return e},createNode:function(e){var t=this,n=t.childType,r,i,s,o,u,a,f=t.self;if(!e.isModel){if(n){f=t.schema.getEntity(n)}else{r=t.getTreeStore();i=r&&r.getProxy().getReader();s=t.getProxy();o=s?s.getReader():null;u=!i||o&&o.initialConfig.typeProperty?o:i;if(u){a=u.getTypeProperty();if(a){f=u.getChildType(t.schema,e,a)}}}e=new f(e)}if(!e.childNodes){e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null;e.childNodes=[]}return e},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e,t){var n=this,r=n.data.depth,i={},s=n.childNodes,o=s.length,u,a=n.phantom,f=n.data,l=n.fields,c=n.modified||(n.modified={}),h,p,d,v,m,g=t.parentId,y,b;if(!t){Ext.Error.raise("NodeInterface expects update info to be passed")}for(h in t){d=l[n.fieldOrdinals[h]];p=t[h];b=d&&d.persist;v=f[h];y=b&&h==="index"&&v!==-1&&g&&g!==c.parentId;if(!y&&n.isEqual(v,p)){continue}f[h]=p;if(b){if(!y&&c.hasOwnProperty(h)){if(n.isEqual(c[h],p)){delete c[h];n.dirty=false;for(m in c){if(c.hasOwnProperty(m)){n.dirty=true;break}}}}else{n.dirty=true;c[h]=v}}}if(e){n.commit();n.phantom=a}if(n.data.depth!==r){i={depth:n.data.depth+1};for(u=0;u<o;u++){s[u].updateInfo(e,i)}}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var e=this;if(e.get("expandable")){return!(e.isLeaf()||e.isLoaded()&&!e.phantom&&!e.hasChildNodes())}return false},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(e,t,n){var r=this,i,s,o,u,a,f={isLast:true,parentId:r.getId(),depth:(r.data.depth||0)+1},l,c=r.getTreeStore();Ext.suspendLayouts();if(Ext.isArray(e)){s=e.length;l=new Array(s);r.callTreeStore("beginFill");for(i=0;i<s;i++){l[i]=r.appendChild(e[i],t,n)}r.callTreeStore("endFill",[l])}else{e=r.createNode(e);if(t!==true&&r.fireEventArgs("beforeappend",[r,e])===false){return false}o=r.childNodes.length;u=e.parentNode;if(u){if(u.removeChild(e,false,t,u.getTreeStore()===r.getTreeStore())===false){return false}}c&&c.beginUpdate();o=r.childNodes.length;if(o===0){r.setFirstChild(e)}r.childNodes[o]=e;e.parentNode=r;e.nextSibling=null;r.setLastChild(e);a=r.childNodes[o-1];if(a){e.previousSibling=a;a.nextSibling=e;a.updateInfo(n,{isLast:false});a.triggerUIUpdate()}else{e.previousSibling=null}f.isFirst=o===0;f.index=o;e.updateInfo(n,f);if(r.isLeaf()){r.set("leaf",false)}if(!r.isLoaded()){r.set("loaded",true)}else if(r.childNodes.length===1){r.triggerUIUpdate()}if(o&&r.childNodes[o-1].isExpanded()){r.childNodes[o-1].cascadeBy(r.triggerUIUpdate)}if(t!==true){r.fireEventArgs("append",[r,e,o]);if(u){e.fireEventArgs("move",[e,u,r,o])}}r.callTreeStore("onNodeAppend",[e,o]);l=e;c&&c.endUpdate()}Ext.resumeLayouts(true);return l},getOwnerTree:function(){var e=this.getTreeStore();if(e){return e.ownerTree}},getTreeStore:function(){var e=this;while(e&&!e.treeStore){e=e.parentNode}return e&&e.treeStore},removeChild:function(e,t,n,r){var i=this,s=i.indexOf(e),o,u,a;if(s===-1||n!==true&&i.fireEventArgs("beforeremove",[i,e,!!r])===false){return false}Ext.suspendLayouts();Ext.Array.erase(i.childNodes,s,1);if(i.firstChild===e){i.setFirstChild(e.nextSibling)}if(i.lastChild===e){i.setLastChild(e.previousSibling)}a=e.previousSibling;if(a){e.previousSibling.nextSibling=e.nextSibling}if(e.nextSibling){e.nextSibling.previousSibling=e.previousSibling;if(s===0){e.nextSibling.updateInfo(false,{isFirst:true})}for(o=s,u=i.childNodes.length;o<u;o++){i.childNodes[o].updateInfo(false,{index:o})}}else if(a){a.updateInfo(false,{isLast:true});if(a.isExpanded()){a.cascadeBy(i.triggerUIUpdate)}else{a.triggerUIUpdate()}}if(!i.childNodes.length){i.triggerUIUpdate()}Ext.resumeLayouts(true);if(n!==true){i.callTreeStore("beforeNodeRemove",[[e],!!r]);e.previousSibling=e.nextSibling=e.parentNode=null;i.fireEventArgs("remove",[i,e,!!r]);i.callTreeStore("onNodeRemove",[[e],!!r])}if(t){e.erase(true)}else{e.clear()}return e},copy:function(e,t){var n=this,r=n.callParent([e,t]),i=n.childNodes?n.childNodes.length:0,s;if(t){for(s=0;s<i;s++){r.appendChild(n.childNodes[s].copy(undefined,true))}}return r},clear:function(e){var t=this;t.parentNode=t.previousSibling=t.nextSibling=null;if(e){t.firstChild=t.lastChild=null}},drop:function(){var e=this,t=e.childNodes,n=e.parentNode,r=t?t.length:0,i;e.callParent();for(i=0;i<r;i++){t[i].drop()}if(n){n.removeChild(e)}},erase:function(e){var t=this,n=t.destroyOptions,r=t.childNodes,i=r.length,s;if(e===true){t.clear(true);for(s=0;s<i;s++){r[s].erase(true)}t.childNodes=null;delete t.destroyOptions;t.callParent([n])}else{t.destroyOptions=e;t.remove(true)}},insertBefore:function(e,t,n){var r=this,i=r.indexOf(t),s=e.parentNode,o=i,u,a,f,l=r.getTreeStore();if(!t){return r.appendChild(e)}if(e===t){return false}e=r.createNode(e);if(n!==true&&r.fireEventArgs("beforeinsert",[r,e,t])===false){return false}if(s===r&&r.indexOf(e)<i){o--}if(s){if(s.removeChild(e,false,n,s.getTreeStore()===r.getTreeStore())===false){return false}}l&&l.beginUpdate();if(o===0){r.setFirstChild(e)}Ext.Array.splice(r.childNodes,o,0,e);e.parentNode=r;e.nextSibling=t;t.previousSibling=e;a=r.childNodes[o-1];if(a){e.previousSibling=a;a.nextSibling=e}else{e.previousSibling=null}e.updateInfo(false,{parentId:r.getId(),index:o,isFirst:o===0,isLast:false,depth:(r.data.depth||0)+1});for(f=o+1,u=r.childNodes.length;f<u;f++){r.childNodes[f].updateInfo(false,{index:f})}if(!r.isLoaded()){r.set("loaded",true)}else if(r.childNodes.length===1){r.triggerUIUpdate()}if(n!==true){r.fireEventArgs("insert",[r,e,t]);if(s){e.fireEventArgs("move",[e,s,r,o,t])}}r.callTreeStore("onNodeInsert",[e,o]);l&&l.endUpdate();return e},insertChild:function(e,t){var n=this.childNodes[e];if(n){return this.insertBefore(t,n)}else{return this.appendChild(t)}},isLastVisible:function(){var e=this,t=e.data.isLast,n=e.nextSibling;if(!t&&e.getTreeStore().isFiltered()){while(n){if(n.data.visible){return false}n=n.nextSibling}return true}return t},remove:function(e,t){var n=this,r=n.parentNode;if(r){r.removeChild(n,e,t)}else if(e){n.erase(true)}return n},removeAll:function(e,t,n){var r=this,i=r.childNodes,s=0,o=i.length,u;if(!o){return}if(!n){r.callTreeStore("beforeNodeRemove",[i,false])}for(;s<o;++s){u=i[s];u.previousSibling=u.nextSibling=u.parentNode=null;r.fireEventArgs("remove",[r,u,false]);if(e){u.erase(true)}else{u.removeAll(false,t,true)}}if(!n){r.callTreeStore("onNodeRemove",[i,false])}r.firstChild=r.lastChild=null;r.childNodes.length=0;if(!n){r.triggerUIUpdate()}return r},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,n){var r=t?t.nextSibling:null;this.removeChild(t,false,n);this.insertBefore(e,r,n);return t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){var t=this.childNodes,n=t.length,r=0;for(;r<n;++r){if(t[r].getId()===e){return r}}return-1},getPath:function(e,t){e=e||this.idProperty;t=t||"/";var n=[this.get(e)],r=this.parentNode;while(r){n.unshift(r.get(e));r=r.parentNode}return t+n.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,n){var r=this;while(r){if(e.apply(t||r,n||[r])===false){break}r=r.parentNode}},cascade:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.")}return this.cascadeBy.apply(this,arguments)},cascadeBy:function(e,t,n,r){var i=this;if(arguments.length===1&&!Ext.isFunction(e)){r=e.after;t=e.scope;n=e.args;e=e.before}if(!e||e.apply(t||i,n||[i])!==false){var s=i.childNodes,o=s.length,u;for(u=0;u<o;u++){s[u].cascadeBy.call(s[u],e,t,n,r)}if(r){r.apply(t||i,n||[i])}}},eachChild:function(e,t,n){var r=this.childNodes,i=r.length,s;for(s=0;s<i;s++){if(e.apply(t||this,n||[r[s]])===false){break}}},findChild:function(e,t,n){return this.findChildBy(function(){return this.get(e)==t},null,n)},findChildBy:function(e,t,n){var r=this.childNodes,i=r.length,s=0,o,u;for(;s<i;s++){o=r[s];if(e.call(t||o,o)===true){return o}else if(n){u=o.findChildBy(e,t,n);if(u!==null){return u}}}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){var t=this.parentNode;while(t){if(t===e){return true}t=t.parentNode}return false},sort:function(e,t,n){var r=this,i=r.childNodes,s=i.length,o,u,a={isFirst:true};if(s>0){if(!e){e=r.getTreeStore().getSortFn()}Ext.Array.sort(i,e);r.setFirstChild(i[0]);r.setLastChild(i[s-1]);for(o=0;o<s;o++){u=i[o];u.previousSibling=i[o-1];u.nextSibling=i[o+1];a.isLast=o===s-1;a.index=o;u.updateInfo(false,a);a.isFirst=false;if(t&&!u.isLeaf()){u.sort(e,true,true)}}if(n!==true){r.fireEventArgs("sort",[r,i]);r.callTreeStore("onNodeSort",[i])}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){var e=this.parentNode;while(e){if(!e.isExpanded()){return false}e=e.parentNode}return true},expand:function(e,t,n){var r=this;if(!r.isLeaf()){if(r.isLoading()){r.on("expand",function(){r.expand(e,t,n)},r,{single:true})}else{if(!r.isExpanded()){if(r.fireEventArgs("beforeexpand",[r])!==false){r.callTreeStore("onBeforeNodeExpand",[r.onChildNodesAvailable,r,[e,t,n]])}}else if(e){r.expandChildren(true,t,n)}else{Ext.callback(t,n||r,[r.childNodes])}}}else{Ext.callback(t,n||r)}},onChildNodesAvailable:function(e,t,n,r){var i=this;Ext.suspendLayouts();i.set("expanded",true);i.callTreeStore("onNodeExpand",[e,false]);i.fireEventArgs("expand",[i,e]);if(t){i.expandChildren(true,n,r)}else{Ext.callback(n,r||i,[i.childNodes])}Ext.resumeLayouts(true)},expandChildren:function(e,t,n,r){var i=this,s,o,u,a,f,l,c;if(Ext.isBoolean(t)){s=t;t=n;n=r;r=s}if(r===undefined){c=i.getTreeStore();r=c&&c.singleExpand}u=i.childNodes;a=[];f=r?Math.min(u.length,1):u.length;for(o=0;o<f;++o){l=u[o];if(!l.isLeaf()){a[a.length]=l}}f=a.length;for(o=0;o<f;++o){a[o].expand(e)}if(t){Ext.callback(t,n||i,[i.childNodes])}},collapse:function(e,t,n){var r=this,i=r.isExpanded(),s=r.childNodes.length,o,u;if(!r.isLeaf()&&(!i&&e||r.fireEventArgs("beforecollapse",[r])!==false)){Ext.suspendLayouts();if(r.isExpanded()){if(e){u=function(){for(o=0;o<s;o++){r.childNodes[o].setCollapsed(true)}};if(t){t=Ext.Function.createSequence(u,Ext.Function.bind(t,n,[r.childNodes]))}else{t=u}}else if(t){t=Ext.Function.bind(t,n,[r.childNodes])}r.set("expanded",false);r.callTreeStore("onNodeCollapse",[r.childNodes,t,n]);r.fireEventArgs("collapse",[r,r.childNodes]);t=null}else if(e){for(o=0;o<s;o++){r.childNodes[o].setCollapsed(true)}}Ext.resumeLayouts(true)}Ext.callback(t,n||r,[r.childNodes])},setCollapsed:function(e){var t=this,n=t.childNodes.length,r;if(!t.isLeaf()&&t.fireEventArgs("beforecollapse",[t])!==false){t.data.expanded=false;t.fireEventArgs("collapse",[t,t.childNodes]);if(e){for(r=0;r<n;r++){t.childNodes[r].setCollapsed(true)}}}},collapseChildren:function(e,t,n){var r=this,i,s=r.childNodes,o=s.length,u=[],a;for(i=0;i<o;++i){a=s[i];if(!a.isLeaf()&&a.isLoaded()&&a.isExpanded()){u.push(a)}}o=u.length;if(o){for(i=0;i<o;++i){a=u[i];if(i===o-1){a.collapse(e,t,n)}else{a.collapse(e)}}}else{Ext.callback(t,n)}},fireEvent:function(e){return this.fireEventArgs(e,Ext.Array.slice(arguments,1))},fireEventArgs:function(t,n){var r=Ext.mixin.Observable.prototype.fireEventArgs,i,s,o;if(e[t]){for(s=this;i!==false&&s;s=(o=s).parentNode){if(s.hasListeners&&s.hasListeners[t]){i=r.call(s,t,n)}}if(i!==false){s=o.getTreeStore();if(s&&s.hasListeners&&s.hasListeners[t="node"+t]){i=s.fireEventArgs(t,n)}}return i}else{return r.apply(this,arguments)}},serialize:function(){var e=Ext.data.writer.Json.prototype.getRecordData(this),t=this.childNodes,n=t.length,r,i;if(n>0){r=[];for(i=0;i<n;i++){r.push(t[i].serialize())}e.children=r}return e},callTreeStore:function(e,t){var n=this.getTreeStore(),r=n&&n[e];if(n&&r){(t||(t=[])).unshift(this);r.apply(n,t)}},privates:{join:function(e){if(e.isTreeStore){if(this.isRoot()){this.treeStore=this.store=e}}else{this.callParent([e])}},callJoined:function(e,t){this.callParent([e,t]);this.callTreeStore(e,t)}}}}}});Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],isNodeStore:true,config:{node:null,recursive:false,rootVisible:false,folderSort:false},isExpandingOrCollapsing:0,getTotalCount:function(){return this.getCount()},afterEdit:function(e,t){if(this.getNode()&&t){if(t.indexOf("loaded")!==-1){return this.add(this.retrieveChildNodes(e))}if(t.indexOf("expanded")!==-1){return this.filter()}if(t.indexOf("sorted")!==-1){return this.sort()}}this.callParent(arguments)},afterReject:function(e){var t=this;if(t.contains(e)){t.onUpdate(e,Ext.data.Model.REJECT,null);t.fireEvent("update",t,e,Ext.data.Model.REJECT,null)}},afterCommit:function(e,t){var n=this;if(!t){t=null}if(n.contains(e)){n.onUpdate(e,Ext.data.Model.COMMIT,t);n.fireEvent("update",n,e,Ext.data.Model.COMMIT,t)}},onNodeAppend:function(e,t){this.add([t].concat(this.retrieveChildNodes(t)))},onNodeInsert:function(e,t){this.add([t].concat(this.retrieveChildNodes(t)))},onNodeRemove:function(e,t){this.remove([t].concat(this.retrieveChildNodes(t)))},onNodeExpand:function(e,t){this.loadRecords(t)},applyNode:function(e){if(e){Ext.data.NodeInterface.decorate(e)}return e},updateNode:function(e,t){var n=this,r;if(t&&!t.isDestroyed){t.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad",scope:n});t.unjoin(n)}if(e){e.on({scope:n,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad"});e.join(n);r=[];if(e.childNodes.length){r=r.concat(n.retrieveChildNodes(e))}if(n.getRootVisible()){r.push(e)}else if(e.isLoaded()||e.isLoading()){e.set("expanded",true)}n.getData().clear();n.fireEvent("clear",n);n.suspendEvents();n.add(r);n.resumeEvents();if(r.length===0){n.loaded=e.loaded=true}n.fireEvent("refresh",n,n.data)}},retrieveChildNodes:function(e){var t=this.getNode(),n=this.getRecursive(),r=[],i=e;if(!e.childNodes.length||!n&&e!==t){return r}if(!n){return e.childNodes}while(i){if(i._added){delete i._added;if(i===e){break}else{i=i.nextSibling||i.parentNode}}else{if(i!==e){r.push(i)}if(i.firstChild){i._added=true;i=i.firstChild}else{i=i.nextSibling||i.parentNode}}}return r},isVisible:function(e){var t=e.parentNode;if(!this.getRecursive()&&t!==this.getNode()){return false}while(t){if(!t.isExpanded()){return false}if(t===this.getNode()){break}t=t.parentNode}return true}});Ext.define("Ext.data.Request",{config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:false,username:null,password:null,binary:false,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(e){this.initConfig(e)},getParam:function(e){var t=this.getParams(),n;if(t){return t[e]}return n},setParam:function(e,t){var n=this.getParams()||{};n[e]=t;this.setParams(n)}});Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,requires:["Ext.data.ArrayStore"],register:function(){for(var e=0,t;t=arguments[e];e++){this.add(t)}},unregister:function(){for(var e=0,t;t=arguments[e];e++){this.remove(this.lookup(t))}},lookup:function(e){if(Ext.isArray(e)){var t=["field1"],n=!Ext.isArray(e[0]),r=e,i,s;if(n){r=[];for(i=0,s=e.length;i<s;++i){r.push([e[i]])}}else{for(i=2,s=e[0].length;i<=s;++i){t.push("field"+i)}}return new Ext.data.ArrayStore({data:r,fields:t,autoDestroy:true,autoCreated:true,expanded:n})}if(Ext.isString(e)){return this.get(e)}else{return Ext.Factory.store(e)}},getKey:function(e){return e.storeId}},function(){Ext.regStore=function(e,t){var n;if(Ext.isObject(e)){t=e}else{if(Ext.data.StoreManager.containsKey(e)){return Ext.data.StoreManager.lookup(e)}t.storeId=e}if(t instanceof Ext.data.Store){n=t}else{n=new Ext.data.Store(t)}Ext.data.StoreManager.register(n);return n};Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)};var e=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:false});e.isEmptyStore=true;e.add=e.remove=e.insert=e.load=e.loadData=function(){Ext.Error.raise("Cannot modify ext-empty-store")}});Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:true,query:function(e){e=e||"*";return Ext.ComponentQuery.query(e,this.getQueryRoot())},queryBy:function(e,t){var n=[],r=this.getQueryRoot().getRefItems(true),i=0,s=r.length,o;for(;i<s;++i){o=r[i];if(e.call(t||o,o)!==false){n.push(o)}}return n},queryById:function(e){return this.down(Ext.makeIdSelector(e))},child:function(e){var t=this.getQueryRoot().getRefItems();if(e&&e.isComponent){return this.matchById(t,e.getItemId())}if(e){t=Ext.ComponentQuery.query(e,t)}if(t.length){return t[0]}return null},down:function(e){if(e&&e.isComponent){return this.matchById(this.getRefItems(true),e.getItemId())}e=e||"";return this.query(e)[0]||null},visitPreOrder:function(e,t,n,r){Ext.ComponentQuery._visit(true,e,this.getQueryRoot(),t,n,r)},visitPostOrder:function(e,t,n,r){Ext.ComponentQuery._visit(false,e,this.getQueryRoot(),t,n,r)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(e,t){var n=e.length,r,i;for(r=0;r<n;++r){i=e[r];if(i.getItemId()===t){return i}}return null}}});Ext.define("Ext.data.TreeModel",{extend:"Ext.data.Model",requires:["Ext.data.NodeInterface"],mixins:["Ext.mixin.Queryable"],getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode}},function(){Ext.data.NodeInterface.decorate(this)});Ext.define("Ext.data.TreeStore",{extend:"Ext.data.NodeStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.TreeModel","Ext.data.NodeInterface"],isTreeStore:true,config:{root:null,rootVisible:false,recursive:true,defaultRootProperty:"children",parentIdProperty:null},clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",fillCount:0,folderSort:false,constructor:function(e){var t=this;t.byIdMap={};t.byInternalIdMap={};t.callParent([e]);if(Ext.isDefined(t.nodeParameter)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.")}t.nodeParam=t.nodeParameter;delete t.nodeParameter}},applyFields:function(e){var t=this;if(e){if(t.defaultRootProperty!==t.self.prototype.config.defaultRootProperty){e=e.concat({name:t.defaultRootProperty,type:"auto",defaultValue:null,persist:false})}t.setModel(Ext.define(null,{extend:"Ext.data.TreeModel",fields:e,proxy:t.getProxy()}));t.implicitModel=true}},onSorterEndUpdate:function(){var e=this,t=e.getSorters(),n=t.getRange(),r=e.getRoot();if(r&&n.length){if(e.getRemoteSort()){e.attemptLoad({callback:function(){e.fireEvent("sort",e,n)}})}else{r.sort(this.getSortFn(),true);e.fireEvent("datachanged",e);e.fireEvent("refresh",e);e.fireEvent("sort",e,n)}}else{e.fireEvent("sort",e,n)}},updateRemoteFilter:function(){var e=this.getData(),t=this.getFilters();e.setFilters(null);t.on("endupdate",this.onFilterEndUpdate,this)},updateRemoteSort:function(){var e=this.getData(),t=this.getSorters();e.setSorters(null);t.on("endupdate",this.onSorterEndUpdate,this)},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var e=this.sorters.getSortFn(),t=e;if(this.getFolderSort()){t=function(t,n){var r=t.get("leaf")?1:0,i=n.get("leaf")?1:0;return r-i||e(t,n)}}return t},updateRootVisible:function(e){var t=this.getRoot(),n;if(t){n=this.getData();if(e){n.insert(0,t)}else{n.remove(t)}}},updateTrackRemoved:function(e){this.callParent(arguments);this.removedNodes=this.removed;this.removed=null},getRemovedRecords:function(){return this.removedNodes},onDestroyRecords:function(e,t,n){if(n){this.removedNodes.length=0}},applyProxy:function(e){var t=this,n;t.changingProxy=true;e=t.callParent(arguments);if(e.setIdParam){e.setIdParam(t.nodeParam)}if(Ext.isEmpty(e.getReader().getRootProperty())){n=e.getReader();n.setRootProperty(t.defaultRootProperty);n.buildExtractors(true)}t.changingProxy=false;return e},applyModel:function(e){return this.callParent(arguments)||Ext.data.TreeModel},updateModel:function(e){var t=e.prototype.isNode;Ext.data.NodeInterface.decorate(e);if(!t&&!this.changingProxy){this.getProxy().getReader().buildExtractors(true)}},onFilterEndUpdate:function(e){var t=this,n,r=e.length,i=e.getFilterFn(),s=t.getRoot(),o;if(r){o=[];s.cascadeBy({after:function(e){e.set("visible",i(e))}});for(n=0,r=s.childNodes.length;n<r;n++){if(s.childNodes[n].get("visible")){o.push(s.childNodes[n])}}}else{o=s.childNodes}t.onNodeFilter(s,o);s.fireEvent("filterchange",s,o);t.fireEvent("filterchange",t,e);t.callParent([e])},clearFilter:function(){var e=this,t=e.getRoot();e.callParent();e.filterFn=null;t.cascadeBy(function(e){e.set("visible",true)});e.onNodeFilter(t,t.childNodes);t.fireEvent("filterchange",t,t.childNodes);e.fireEvent("filterchange",e,[])},onNodeFilter:function(e,t){var n=this,r=n.getData(),i=[];n.handleNodeExpand(e,t,i);n.suspendEvents();r.splice(0,r.getCount(),i);n.resumeEvents();n.fireEvent("datachanged",n);n.fireEvent("refresh",n)},onBeforeNodeExpand:function(e,t,n,r){var i=this,s,o,u,a,f,l,c;if(e.isLoaded()){l=[e.childNodes];if(r){l.push.apply(l,r)}Ext.callback(t,n||e,l)}else if(e.isLoading()){i.on("load",function(){l=[e.childNodes];if(r){l.push.apply(l,r)}Ext.callback(t,n||e,l)},i,{single:true,priority:1001})}else{s=i.getProxy().getReader();o=e.getProxy();u=o?o.getReader():null;a=u&&u.initialConfig.rootProperty?u:s;f=a.getRoot(e.raw||e.data);if(f||e.phantom){c=e.childType;if(f){i.fillNode(e,a.extractData(f,c?{model:c}:undefined))}l=[e.childNodes];if(r){l.push.apply(l,r)}Ext.callback(t,n||e,l)}else{i.read({node:e,onChildNodesAvailable:function(){delete i.lastOptions.onChildNodesAvailable;l=[e.childNodes];if(r){l.push.apply(l,r)}Ext.callback(t,n||e,l)}})}}},onNodeExpand:function(e,t){var n=this,r=n.indexOf(e)+1,i=[];n.handleNodeExpand(e,t,i);if(!n.refreshCounter&&e.isRoot()&&!e.get("visible")){n.loadRecords(i)}else{n.insert(r,i)}},handleNodeExpand:function(e,t,n){var r=this,i=t?t.length:0,s,o;if(e!==this.getRoot()&&!r.isVisible(e)){return}if(i){for(s=0;s<i;s++){o=t[s];if(o.get("visible")){n.push(o);if(o.isExpanded()){if(o.isLoaded()){r.handleNodeExpand(o,o.childNodes,n)}else{o.set("expanded",false);o.expand()}}}}}},onNodeCollapse:function(e,t,n,r){var i=this,s=i.indexOf(e)+1,o;if(!i.recursive&&e!==i.getRoot()){return}if(!i.remoteFilter&&i.getFilters().getCount()){t=Ext.Array.filter(t,i.filterVisible)}if(t.length&&i.data.contains(t[0])){o=i.indexOfNextVisibleNode(e);i.removeAt(s,o-s)}Ext.callback(n,r)},indexOfNextVisibleNode:function(e){var t;while(e.parentNode){for(t=e.nextSibling;t&&!t.get("visible");t=t.nextSibling);if(t){return this.indexOf(t)}e=e.parentNode}return this.getCount()},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(e,t){if(!Ext.isArray(t)){t=[t]}var n=this,r=t.length,i,s;for(i=0;!s&&i<r;i++){if(t[i].get("visible")){s=t[i]}}if(s){n.startRemoveIndex=n.indexOf(t[0]);n.lastRemoveIndexPlusOne=n.indexOfNextVisibleNode(t[t.length-1])}else{n.startRemoveIndex=-1;n.lastRemoveIndexPlusOne=0}},onNodeRemove:function(e,t,n){var r=this,i=r.removedNodes,s=t.length,o=r.startRemoveIndex,u=r.lastRemoveIndexPlusOne,a;if(o!==-1){r.removeIsMove=n;r.removeAt(o,u-o);r.removeIsMove=false}for(a=0;a<s;a++){t[a].cascadeBy(function(e){if(i&&!n&&!e.phantom&&!r.loading){e.removedFrom=r.indexOf(e);i.push(e)}r.unregisterNode(e)})}},onNodeAppend:function(e,t,n){this.onNodeInsert(e,t,n)},onNodeInsert:function(e,t,n){var r=this,i,s,o,u,a,f,l=t.raw||t.data,c,h,p;if(r.filterFn){h=r.filterFn(t);t.set("visible",h);if(h){e.set("visible",r.filterFn(e))}}r.registerNode(t,true);r.beginUpdate();if(r.isVisible(t)){if(n===0||!t.previousSibling){i=e}else{for(s=t.previousSibling;s&&!s.get("visible");s=s.previousSibling);while(s.isExpanded()&&s.lastChild){s=s.lastChild}i=s}r.insert(r.indexOf(i)+1,t);if(!t.isLeaf()&&t.isExpanded()){if(t.isLoaded()){r.onNodeExpand(t,t.childNodes)}else if(!r.fillCount){t.set("expanded",false);t.expand()}}}else{r.needsSync=r.needsSync||t.phantom||t.dirty}if(!t.isLeaf()&&!t.isLoaded()&&!r.lazyFill){o=r.getProxy().getReader();u=t.getProxy();a=u?u.getReader():null;f=a&&a.initialConfig.rootProperty?a:o;c=f.getRoot(l);if(c){p=t.childType;r.fillNode(t,f.extractData(c,p?{model:p}:undefined))}}r.endUpdate()},registerNode:function(e,t){var n=this,r,i,s;n.byIdMap[e.id]=e;n.byInternalIdMap[e.internalId]=e;if(t===true){r=e.childNodes;i=r.length;for(s=0;s<i;s++){n.registerNode(r[s],true)}}},unregisterNode:function(e,t){var n=this,r,i,s;delete n.byIdMap[e.id];delete n.byInternalIdMap[e.internalId];if(t===true){r=e.childNodes;i=r.length;for(s=0;s<i;s++){n.unregisterNode(r[s],true)}}},onNodeSort:function(e,t){var n=this;n.suspendAutoSync();if(n.indexOf(e)!==-1||e===n.getRoot()&&!n.rootVisible&&e.isExpanded()){Ext.suspendLayouts();n.onNodeCollapse(e,t);n.onNodeExpand(e,t);Ext.resumeLayouts(true)}n.resumeAutoSync(n.autoSync)},applyRoot:function(e){var t=this,n=t.getModel(),r=n.prototype.idProperty;if(e&&!e.isNode){e=Ext.apply({text:t.defaultRootText,root:true,isFirst:true,isLast:true,depth:0,index:0,parentId:null,allowDrag:false},e);if(t.defaultRootId&&e[r]===undefined){e[r]=t.defaultRootId}e=new n(e);e.store=e.treeStore=t}return e},updateRoot:function(e,t){var n=this,r;n.byIdMap={};n.byInternalIdMap={};n.getTrackRemoved();n.suspendEvents();n.getData().clear();if(e){if(e.fireEventArgs("beforeappend",[null,e])===false){e=null}else{if(r=e.parentNode){if(!r.removeChild(e,false,false,r.getTreeStore()===n)){return}}else if((r=e.getTreeStore())&&r!==n&&e===r.getRoot()){r.setRoot(null)}e.set("root",true);e.updateInfo(true,{isFirst:true,isLast:true,depth:0,index:0,parentId:null});e.fireEvent("append",null,e,false);e.fireEvent("rootchange",e);n.onNodeAppend(null,e,0)}}n.fireEvent("rootchange",e,t);if(t&&t.isModel){t.set("root",false);n.remove(t);t.fireEvent("remove",null,t,false);t.fireEvent("rootchange",null);t.store=t.treeStore=null}n.resumeEvents();if(e&&(n.autoLoad||e.isExpanded())){if(e.isLoaded()){n.onNodeExpand(e,e.childNodes);n.fireEvent("datachanged",n);n.fireEvent("refresh",n)}else{e.data.expanded=false;e.expand(false,function(){n.fireEvent("datachanged",n);n.fireEvent("refresh",n)})}}return e},getNodeById:function(e){return this.byIdMap[e]||null},load:function(e){e=e||{};e.params=e.params||{};var t=this,n=e.node||t.getRoot(),r=t.getProxy(),i=e.callback,s=e.scope,o;if(!n){t.setRoot({expanded:true});return}if(n.data.expanded){n.data.loaded=false;if(t.clearOnLoad){n.data.expanded=false}e.callback=function(){if(!t.clearOnLoad){n.collapse()}n.expand();Ext.callback(i,s,arguments)}}e.id=n.getId();e=Ext.apply({filters:t.getFilters().items,sorters:t.getSorters().items,node:e.node||n,internalScope:t,internalCallback:t.onProxyLoad},e);t.lastOptions=Ext.apply({},e);o=r.createOperation("read",e);if(t.fireEvent("beforeload",t,o)!==false){t.loading=true;if(t.clearOnLoad){if(t.clearRemovedOnLoad){t.clearRemoved(n)}n.removeAll(false)}o.execute()}if(t.loading&&n){n.set("loading",true)}return t},clearRemoved:function(e){var t=this,n=t.removedNodes,r=e.getId(),i=n.length,s=i,o={},u=[],a={},f,l,c;if(e===t.getRoot()){t.removedNodes=[];return}for(;s--;){f=n[s];a[f.getId()]=f}for(s=i;s--;){f=n[s];l=f;while(l&&l.getId()!==r){c=l.get("parentId");l=l.parentNode||t.getNodeById(c)||a[c]}if(l){o[f.getId()]=f}}for(s=0;s<i;s++){f=n[s];if(!o[f.getId()]){u.push(f)}}t.removedNodes=u},fillNode:function(e,t){var n=this,r=t?t.length:0,i=n.getSorters(),s,o=false,u=n.sortOnLoad&&r>1&&!n.remoteSort&&i&&i.items&&i.items.length,a,f;if(r){if(!n.remoteFilter&&n.getFilters().getCount()){t[0].set("visible",n.filterFn(t[0]))}for(s=1;!o&&s<r;s++){a=t[s];f=t[s-1];if(n.filterFn){a.set("visible",n.filterFn(a))}o=a.data.index!==f.data.index}if(u){if(o){n.indexSorter=i.insert(0,n.indexSorter)}Ext.Array.sort(t,i.getSortFn());if(o){i.remove(n.indexSorter)}}else if(o){Ext.Array.sort(t,n.sortByIndex)}}e.set("loaded",true);if(t.length){e.appendChild(t,undefined,true)}return t},beginFill:function(){var e=this;if(!(e.fillCount++)){e.beginUpdate();e.suspendEvent("add","update");e.suspendAutoSync();e.fillArray=[]}},endFill:function(e,t){var n=this,r,i,s;n.fillArray.push(t);if(!--n.fillCount){n.resumeAutoSync();n.resumeEvent("add","update");for(r=0,i=n.fillArray.length;r<i;r++){s=n.indexOf(n.fillArray[r][0]);if(s!==-1){n.fireEvent("add",n,n.fillArray[r],s)}}n.fillArray=null;n.endUpdate()}},sortByIndex:function(e,t){return e.data.index-t.data.index},onIdChanged:function(e,t,n){var r=e.childNodes,i=r&&r.length,s;this.callParent(arguments);delete this.byIdMap[t];this.byIdMap[n]=e;for(s=0;s<i;s++){r[s].set("parentId",n)}},onProxyLoad:function(e){var t=this,n=e.initialConfig,r=e.wasSuccessful(),i=e.getRecords(),s=n.node,o=e.getScope()||t,u=[i,e,r];if(t.isDestroyed){return}t.loading=false;s.set("loading",false);if(r){if(!t.clearOnLoad){i=t.cleanRecords(s,i)}if(t.parentIdProperty){i=t.treeify(s,i)}i=t.fillNode(s,i)}Ext.callback(n.onChildNodesAvailable,o,u);t.fireEvent("load",t,i,r,e,s)},treeify:function(e,t){var n=this,r=e.getId(),i=t.length,s,o,u,a=[],f={};for(s=0;s<i;s++){o=t[s];f[o.getId()]=o}for(s=0;s<i;s++){o=t[s];u=o.data[n.parentIdProperty];if(!u||u===r){a.push(o)}else{f[u].appendChild(o)}}return a},cleanRecords:function(e,t){var n={},r=e.childNodes,i=0,s=r.length,o=[],u;for(;i<s;++i){n[r[i].getId()]=true}for(i=0,s=t.length;i<s;++i){u=t[i];if(!n[u.getId()]){o.push(u)}}return o},removeAll:function(){this.suspendEvents();this.setRoot(null);this.resumeEvents();this.callParent()},doSort:function(e){var t=this;if(t.remoteSort){t.load()}else{t.tree.sort(e,true);t.fireEvent("datachanged",t);t.fireEvent("refresh",t)}t.fireEvent("sort",t,t.sorters.getRange())},filterVisible:function(e){return e.get("visible")},isVisible:function(e){var t=e.parentNode,n=e.data.visible,r=this.getRoot();while(n&&t){n=t.data.expanded&&t.data.visible;t=t.parentNode}return n&&!(e===r&&!this.rootVisible)},getRootNode:function(){return this.getRoot()},setRootNode:function(e){this.setRoot(e);return this.getRoot()},deprecated:{5:{properties:{tree:null}}}},function(){var e=this.prototype;e.indexSorter=new Ext.util.Sorter({sorterFn:e.sortByIndex})});Ext.define("Ext.data.Types",{singleton:true,requires:["Ext.data.SortTypes"]},function(e){var t=Ext.data.SortTypes;Ext.apply(e,{stripRe:/[\$,%]/g,AUTO:{sortType:t.none,type:"auto"},STRING:{convert:function(e){var t=this.getAllowNull()?null:"";return e===undefined||e===null?t:String(e)},sortType:t.asUCString,type:"string"},INT:{convert:function(t){if(typeof t=="number"){return parseInt(t)}return t!==undefined&&t!==null&&t!==""?parseInt(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"int"},FLOAT:{convert:function(t){if(typeof t==="number"){return t}return t!==undefined&&t!==null&&t!==""?parseFloat(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"float"},BOOL:{convert:function(e){if(typeof e==="boolean"){return e}if(this.getAllowNull()&&(e===undefined||e===null||e==="")){return null}return e==="true"||e==1},sortType:t.none,type:"bool"},DATE:{convert:function(e){var t=this.getDateReadFormat()||this.getDateFormat(),n;if(!e){return null}if(e instanceof Date){return e}if(t){return Ext.Date.parse(e,t)}n=Date.parse(e);return n?new Date(n):null},sortType:t.asDate,type:"date"}});e.BOOLEAN=e.BOOL;e.INTEGER=e.INT;e.NUMBER=e.FLOAT});Ext.define("Ext.data.Validation",{extend:"Ext.data.Model",isValidation:true,syncGeneration:0,attach:function(e){this.record=e;delete this.data.id},getValidation:function(){return null},isValid:function(){var e=this;if(e.syncGeneration!==e.record.generation){e.refresh()}return e.dirty},refresh:function(e){var t=this,n=t.data,r=t.record,i=r.fields,s=r.generation,o=r.data,u=r.validationSeparator,a=null,f,l,c,h,p,d,v,m,g,y,b,w;if(e||t.syncGeneration!==s){t.syncGeneration=s;for(d=0,g=i.length;d<g;++d){h=i[d];w=h.name;b=o[w];f=h.defaultInvalidMessage;c=0;if(!(w in n)){n[w]=l=true}else{l=n[w]}if(h.validate!==Ext.emptyFn){y=h.validate(b,u);if(y!==true){c=y||f}}if(!c){c=true}if(c!==l){(a||(a={}))[w]=c}}if(a){t.set(a)}}}});Ext.define("Ext.dom.Helper",function(){var e="afterbegin",t="afterend",n="beforebegin",r="beforeend",i=["BeforeBegin","previousSibling"],s=["AfterEnd","nextSibling"],o={beforebegin:i,afterend:s},u={beforebegin:i,afterend:s,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:true,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){function n(e,t,n){return t+"-"+n.toLowerCase()}var e=/([a-z])([A-Z])/g,t={};return function(r){return t[r]||(t[r]=r.replace(e,n))}}(),generateMarkup:function(e,t){var n=this,r=typeof e,i,s,o,u,a;if(r==="string"||r==="number"){t.push(e)}else if(Ext.isArray(e)){for(u=0;u<e.length;u++){if(e[u]){n.generateMarkup(e[u],t)}}}else{o=e.tag||"div";t.push("<",o);for(i in e){if(e.hasOwnProperty(i)){s=e[i];if(s!==undefined&&!n.confRe.test(i)){if(typeof s==="object"){t.push(" ",i,'="');n.generateStyles(s,t,true).push('"')}else{t.push(" ",n.attributeTransform[i]||i,'="',s,'"')}}}}if(n.emptyTags.test(o)){t.push("/>")}else{t.push(">");if(s=e.tpl){s.applyOut(e.tplData,t)}if(s=e.html){t.push(s)}if(s=e.cn||e.children){n.generateMarkup(s,t)}a=n.closeTags;t.push(a[o]||(a[o]="</"+o+">"))}}return t},generateStyles:function(e,t,n){var r=t||[],i,s;for(i in e){if(e.hasOwnProperty(i)){s=e[i];i=this.decamelizeName(i);if(n&&Ext.String.hasHtmlCharacters(s)){s=Ext.String.htmlEncode(s)}r.push(i,":",s,";")}}return t||r.join("")},markup:function(e){if(typeof e==="string"){return e}var t=this.generateMarkup(e,[]);return t.join("")},applyStyles:function(e,t){Ext.fly(e).applyStyles(t)},createContextualFragment:function(e){var t=this.detachedDiv,n=document.createDocumentFragment(),r,i;t.innerHTML=e;i=t.childNodes;r=i.length;while(r--){n.appendChild(i[0])}return n},createDom:function(e,t){var n=this,r=n.markup(e),i=n.detachedDiv;i.innerHTML=r;return i.firstChild},insertHtml:function(i,s,a){var f=this,l,c,h,p,d;i=i.toLowerCase();if(s.insertAdjacentHTML){if(f.ieInsertHtml){d=f.ieInsertHtml(i,s,a);if(d){return d}}l=u[i];if(l){s.insertAdjacentHTML(l[0],a);return s[l[1]]}}else{if(s.nodeType===3){i=i===e?n:i;i=i===r?t:i}c=Ext.supports.CreateContextualFragment?s.ownerDocument.createRange():undefined;p="setStart"+(this.endRe.test(i)?"After":"Before");if(o[i]){if(c){c[p](s);d=c.createContextualFragment(a)}else{d=this.createContextualFragment(a)}s.parentNode.insertBefore(d,i===n?s:s.nextSibling);return s[(i===n?"previous":"next")+"Sibling"]}else{h=(i===e?"first":"last")+"Child";if(s.firstChild){if(c){try{c[p](s[h]);d=c.createContextualFragment(a)}catch(v){d=this.createContextualFragment(a)}}else{d=this.createContextualFragment(a)}if(i===e){s.insertBefore(d,s.firstChild)}else{s.appendChild(d)}}else{s.innerHTML=a}return s[h]}}Ext.Error.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:a,targetElement:s,msg:'Illegal insertion point reached: "'+i+'"'})},insertBefore:function(e,t,r){return this.doInsert(e,t,r,n)},insertAfter:function(e,n,r){return this.doInsert(e,n,r,t)},insertFirst:function(t,n,r){return this.doInsert(t,n,r,e)},append:function(e,t,n){return this.doInsert(e,t,n,r)},overwrite:function(e,t,n){var r=this,i;e=Ext.getDom(e);t=r.markup(t);if(r.ieOverwrite){i=r.ieOverwrite(e,t)}if(!i){e.innerHTML=t;i=e.firstChild}return n?Ext.get(i):i},doInsert:function(i,s,u,a){var f=this,l;i=i.dom||Ext.getDom(i);if("innerHTML"in i){l=f.insertHtml(a,i,f.markup(s))}else{l=f.createDom(s,null);if(i.nodeType===3){a=a===e?n:a;a=a===r?t:a}if(o[a]){i.parentNode.insertBefore(l,a===n?i:i.nextSibling)}else if(i.firstChild&&a===e){i.insertBefore(l,i.firstChild)}else{i.appendChild(l)}}return u?Ext.get(l):l},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)},createHtml:function(e){return this.markup(e)}}});Ext.define("Ext.overrides.dom.Helper",function(){var e=/^(?:table|thead|tbody|tr|td)$/i,t=/td|tr|tbody|thead/i,n="<table>",r="</table>",i=n+"<tbody>",s="</tbody>"+r,o=i+"<tr>",u="</tr>"+s;return{override:"Ext.dom.Helper",ieInsertHtml:function(t,n,r){var i=null;if(Ext.isIE9m&&e.test(n.tagName)){i=this.insertIntoTable(n.tagName.toLowerCase(),t,n,r)}return i},ieOverwrite:function(t,n){if(Ext.isIE9m&&e.test(t.tagName)){while(t.firstChild){t.removeChild(t.firstChild)}if(n){return this.insertHtml("afterbegin",t,n)}}},ieTable:function(e,t,n,r){var i=-1,s=this.detachedDiv,o,u;s.innerHTML=[t,n,r].join("");while(++i<e){s=s.firstChild}o=s.nextSibling;if(o){o=s;s=document.createDocumentFragment();while(o){u=o.nextSibling;s.appendChild(o);o=u}}return s},insertIntoTable:function(e,a,f,l){var c,h,p=a==="beforebegin",d=a==="afterbegin",v=a==="beforeend",m=a==="afterend";if(e==="td"&&(d||v)||!t.test(e)&&(p||m)){return null}h=p?f:m?f.nextSibling:d?f.firstChild:null;if(p||m){f=f.parentNode}if(e==="td"||e==="tr"&&(v||d)){c=this.ieTable(4,o,l,u)}else if((e==="tbody"||e==="thead")&&(v||d)||e==="tr"&&(p||m)){c=this.ieTable(3,i,l,s)}else{c=this.ieTable(2,n,l,r)}f.insertBefore(c,h);return c}}}());Ext.define("Ext.dom.Query",function(){function children(e){var t=e.firstChild,n=-1,r;while(t){r=t.nextSibling;if(t.nodeType==3&&!nonSpace.test(t.nodeValue)){e.removeChild(t)}else{t.nodeIndex=++n}t=r}return this}function attrValue(e,t){if(!e.tagName&&typeof e.length!="undefined"){e=e[0]}if(!e){return null}if(t=="for"){return e.htmlFor}if(t=="class"||t=="className"){return e.className}return e.getAttribute(t)||e[t]}function getNodes(e,t,n){var r=[],i=-1,s,o,u,a,f,l,c,h,p;if(!e){return r}n=n.replace("|",":")||"*";if(typeof e.getElementsByTagName!="undefined"){e=[e]}if(!t){n=unescapeCssSelector(n);if(!supportsColonNsSeparator&&DQ.isXml(e[0])&&n.indexOf(":")!==-1){for(o=0;u=e[o];o++){s=u.getElementsByTagName(n.split(":").pop());for(a=0;f=s[a];a++){if(f.tagName===n){r[++i]=f}}}}else{for(o=0;u=e[o];o++){s=u.getElementsByTagName(n);for(a=0;f=s[a];a++){r[++i]=f}}}}else if(t=="/"||t==">"){c=n.toUpperCase();for(o=0;u=e[o];o++){l=u.childNodes;for(a=0;p=l[a];a++){if(p.nodeName==c||p.nodeName==n||n=="*"){r[++i]=p}}}}else if(t=="+"){c=n.toUpperCase();for(o=0;h=e[o];o++){while((h=h.nextSibling)&&h.nodeType!=1);if(h&&(h.nodeName==c||h.nodeName==n||n=="*")){r[++i]=h}}}else if(t=="~"){c=n.toUpperCase();for(o=0;h=e[o];o++){while(h=h.nextSibling){if(h.nodeName==c||h.nodeName==n||n=="*"){r[++i]=h}}}}return r}function concat(e,t){e.push.apply(e,t);return e}function byTag(e,t){if(e.tagName||e===doc){e=[e]}if(!t){return e}var n=[],r=-1,i,s;t=t.toLowerCase();for(i=0;s=e[i];i++){if(s.nodeType==1&&s.tagName.toLowerCase()==t){n[++r]=s}}return n}function byId(e,t){t=unescapeCssSelector(t);if(e.tagName||e===doc){e=[e]}if(!t){return e}var n=[],r=-1,i,s;for(i=0;s=e[i];i++){if(s&&s.id==t){n[++r]=s;return n}}return n}function byAttribute(e,t,n,r,i){var s=[],o=-1,u=i=="{",a=DQ.operators[r],f,l,c,h,p;n=unescapeCssSelector(n);for(h=0;p=e[h];h++){if(p.nodeType===1){if(!c){l=DQ.isXml(p);c=true}if(!l){if(u){f=DQ.getStyle(p,t)}else if(t=="class"||t=="className"){f=p.className}else if(t=="for"){f=p.htmlFor}else if(t=="href"){f=p.getAttribute("href",2)}else{f=p.getAttribute(t)}}else{f=p.getAttribute(t)}if(a&&a(f,n)||!a&&f){s[++o]=p}}}return s}function byPseudo(e,t,n){n=unescapeCssSelector(n);return DQ.pseudos[t](e,n)}function nodupIEXml(e){var t=++key,n,r,i,s;e[0].setAttribute("_nodup",t);n=[e[0]];for(r=1,i=e.length;r<i;r++){s=e[r];if(!s.getAttribute("_nodup")!=t){s.setAttribute("_nodup",t);n[n.length]=s}}for(r=0,i=e.length;r<i;r++){e[r].removeAttribute("_nodup")}return n}function nodup(e){if(!e){return[]}var t=e.length,n,r,i=e,s,o=-1,u,a;if(!t||typeof e.nodeType!="undefined"||t==1){return e}if(isIE&&typeof e[0].selectSingleNode!="undefined"){return nodupIEXml(e)}u=++key;e[0]._nodup=u;for(r=1;n=e[r];r++){if(n._nodup!=u){n._nodup=u}else{i=[];for(a=0;a<r;a++){i[++o]=e[a]}for(a=r+1;s=e[a];a++){if(s._nodup!=u){s._nodup=u;i[++o]=s}}return i}}return i}function quickDiffIEXml(e,t){var n=++key,r=[],i,s;for(i=0,s=e.length;i<s;i++){e[i].setAttribute("_qdiff",n)}for(i=0,s=t.length;i<s;i++){if(t[i].getAttribute("_qdiff")!=n){r[r.length]=t[i]}}for(i=0,s=e.length;i<s;i++){e[i].removeAttribute("_qdiff")}return r}function quickDiff(e,t){var n=e.length,r=++key,i=[],s,o;if(!n){return t}if(isIE&&typeof e[0].selectSingleNode!="undefined"){return quickDiffIEXml(e,t)}for(s=0;s<n;s++){e[s]._qdiff=r}for(s=0,o=t.length;s<o;s++){if(t[s]._qdiff!=r){i[i.length]=t[s]}}return i}function quickId(e,t,n,r){if(e==n){r=unescapeCssSelector(r);var i=n.ownerDocument||n;return i.getElementById(r)}e=getNodes(e,t,"*");return byId(e,r)}var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var e=doc.createElement("div");e.innerHTML="<!-- -->text<!-- -->";return e.children&&e.children.length===0}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?true:false,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var e,t='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){e=(new DOMParser).parseFromString(t,"application/xml")}else{e=new ActiveXObject("Microsoft.XMLDOM");e.loadXML(t)}return!!e.getElementsByTagName("a:b").length}(),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){while(t.length<6){t="0"+t}return"\\"+t},charToLongHex=function(e,t){num=t.charCodeAt(0).toString(16);if(num.length===1){num="0"+num}return"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){hasEscapes=e.indexOf("\\")>-1;if(hasEscapes){e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")}return e};eval("var batch = 30803, child, next, prev, byClassName;");child=useChildrenCollection?function(t,n){return t.children[n]}:function(t,n){var r=0,i=t.firstChild;while(i){if(i.nodeType==1){if(++r==n){return i}}i=i.nextSibling}return null};next=useElementPointer?function(e){return e.nextElementSibling}:function(e){while((e=e.nextSibling)&&e.nodeType!=1);return e};prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){while((e=e.previousSibling)&&e.nodeType!=1);return e};byClassName=useClassList?function(e,t){t=unescapeCssSelector(t);if(!t){return e}var n=[],r=-1,i,s,o;for(i=0;s=e[i];i++){o=s.classList;if(o){if(o.contains(t)){n[++r]=s}}else if((" "+s.className+" ").indexOf(t)!==-1){n[++r]=s}}return n}:function(e,t){t=unescapeCssSelector(t);if(!t){return e}var n=[],r=-1,i,s;for(i=0;s=e[i];i++){if((" "+s.className+" ").indexOf(t)!==-1){n[++r]=s}}return n};return{singleton:true,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],requires:["Ext.dom.Helper","Ext.util.Operators"],_init:function(){DQ=this;DQ.operators=Ext.Object.chain(Ext.util.Operators);DQ._cache=cache=new Ext.util.LruCache({maxSize:200});DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200});DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear();valueCache.clear();simpleCache.clear()},getStyle:function(e,t){return Ext.fly(e,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){matched=false;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]});path=path.replace(m[0],"");matched=true;break}}if(!matched){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(e,t,n){t=t||doc;if(typeof t=="string"){t=doc.getElementById(t)}var r=Ext.splitAndUnescape(e,","),i=[],s,o,u,a,f;for(o=0,u=r.length;o<u;o++){a=r[o].replace(trimRe,"");s=cache.get(a);if(!s){s=DQ.compile(a,n);if(!s){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:a+" is not a valid selector"})}cache.add(a,s)}else{setupEscapes(a)}f=s(t);if(f&&f!==doc){i=i.concat(f)}}if(r.length>1){return nodup(i)}return i},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":false},select:doc.querySelectorAll?function(e,t,n,r){t=t||doc;if(!DQ.isXml(t)){try{if(t.parentNode&&t.nodeType!==9&&e.indexOf(",")===-1&&!startIdRe.test(e)){e=Ext.makeIdSelector(Ext.id(t))+" "+e;t=t.parentNode}return r?[t.querySelector(e)]:Ext.Array.toArray(t.querySelectorAll(e))}catch(i){}}return DQ.jsSelect.call(this,e,t,n)}:function(e,t,n){return DQ.jsSelect.call(this,e,t,n)},selectNode:function(e,t){return Ext.DomQuery.select(e,t,null,true)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,"");var r=valueCache.get(e),i,s;if(!r){r=DQ.compile(e,"select");valueCache.add(e,r)}else{setupEscapes(e)}i=r(t);return DQ.getNodeValue(i[0]?i[0]:i)},getNodeValue:function(e,t){if(typeof e.normalize=="function"){e.normalize()}var n=e&&e.firstChild?e.firstChild.nodeValue:null;return n===null||n===undefined||n===""?t:n},selectNumber:function(e,t,n){var r=DQ.selectValue(e,t,n||0);return parseFloat(r)},is:function(e,t){if(typeof e=="string"){e=doc.getElementById(e)}var n=Ext.isArray(e),r=DQ.filter(n?e:[e],t);return n?r.length==e.length:r.length>0},filter:function(e,t,n){t=t.replace(trimRe,"");var r=simpleCache.get(t),i;if(!r){r=DQ.compile(t,"simple");simpleCache.add(t,r)}else{setupEscapes(t)}i=r(e);return n?quickDiff(i,e):i},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(e){var t=[],n=-1,r,i,s;for(i=0;s=r=e[i];i++){while((r=r.previousSibling)&&r.nodeType!=1);if(!r){t[++n]=s}}return t},"last-child":function(e){var t=[],n=-1,r,i,s;for(i=0;s=r=e[i];i++){while((r=r.nextSibling)&&r.nodeType!=1);if(!r){t[++n]=s}}return t},"nth-child":function(e,t){var n=[],r=-1,i=nthRe.exec(t=="even"&&"2n"||t=="odd"&&"2n+1"||!nthRe2.test(t)&&"n+"+t||t),s=(i[1]||1)-0,o=i[2]-0,u,a,f,l,c;for(u=0;a=e[u];u++){c=a.parentNode;if(batch!=c._batch){f=0;for(l=c.firstChild;l;l=l.nextSibling){if(l.nodeType==1){l.nodeIndex=++f}}c._batch=batch}if(s==1){if(o===0||a.nodeIndex==o){n[++r]=a}}else if((a.nodeIndex+o)%s===0){n[++r]=a}}return n},"only-child":function(e){var t=[],n=-1,r,i;for(r=0;i=e[r];r++){if(!prev(i)&&!next(i)){t[++n]=i}}return t},empty:function(e){var t=[],n=-1,r,i,s,o,u,a;for(r=0;i=e[r];r++){s=i.childNodes;o=0;a=true;while(u=s[o]){++o;if(u.nodeType==1||u.nodeType==3){a=false;break}}if(a){t[++n]=i}}return t},contains:function(e,t){var n=[],r=-1,i,s;for(i=0;s=e[i];i++){if((s.textContent||s.innerText||s.text||"").indexOf(t)!=-1){n[++r]=s}}return n},nodeValue:function(e,t){var n=[],r=-1,i,s;for(i=0;s=e[i];i++){if(s.firstChild&&s.firstChild.nodeValue==t){n[++r]=s}}return n},checked:function(e){var t=[],n=-1,r,i;for(r=0;i=e[r];r++){if(i.checked===true){t[++n]=i}}return t},not:function(e,t){return DQ.filter(e,t,true)},any:function(e,t){var n=t.split("|"),r=[],i=-1,s,o,u,a;for(o=0;u=e[o];o++){for(a=0;s=n[a];a++){if(DQ.is(u,s)){r[++i]=u;break}}}return r},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var n=DQ.select,r=[],i=-1,s,o;for(s=0;o=e[s];s++){if(n(t,o).length>0){r[++i]=o}}return r},next:function(e,t){var n=DQ.is,r=[],i=-1,s,o,u;for(s=0;o=e[s];s++){u=next(o);if(u&&n(u,t)){r[++i]=o}}return r},prev:function(e,t){var n=DQ.is,r=[],i=-1,s,o,u;for(s=0;o=e[s];s++){u=prev(o);if(u&&n(u,t)){r[++i]=o}}return r},focusable:function(e){var t=e.length,n=[],r=0,i;for(;r<t;r++){i=e[r];if(Ext.fly(i,"_DomQuery").isFocusable()){n.push(i)}}return n},visible:function(e,t){var n=e.length,r=[],i=0,s;for(;i<n;i++){s=e[i];if(Ext.fly(s,"_DomQuery").isVisible(t)){r.push(s)}}return r},isScrolled:function(e){var t=[],n=-1,r,i,s;for(r=0;i=e[r];r++){s=Ext.fly(i,"_DomQuery").getScroll();if(s.top>0||s.left>0){t[++n]=i}}return t}}}},function(){this._init()});Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",requires:["Ext.dom.Query"],alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",config:{record:"",namespace:""},createAccessor:function(e){var t=this;if(Ext.isEmpty(e)){return Ext.emptyFn}if(Ext.isFunction(e)){return e}return function(n){return t.getNodeValue(Ext.DomQuery.selectNode(e,n))}},getNodeValue:function(e){if(e){if(typeof e.normalize==="function"){e.normalize()}e=e.firstChild;if(e){return e.nodeValue}}return undefined},getResponseData:function(e){var t=e.responseXML,n="XML data not found in the response";if(!t){Ext.Logger.warn(n);return this.createReadError(n)}return t},getData:function(e){return e.documentElement||e},getRoot:function(e){var t=e.nodeName,n=this.getRootProperty();if(!n||t&&t==n){return e}else if(Ext.DomQuery.isXml(e)){return Ext.DomQuery.selectNode(n,e)}},extractData:function(e,t){var n=this.getRecord();if(!n){Ext.Error.raise("Record is a required parameter")}if(n!==e.nodeName){e=Ext.DomQuery.select(n,e)}else{e=[e]}return this.callParent([e,t])},readRecords:function(e,t){if(Ext.isArray(e)){e=e[0]}this.xmlData=e;return this.callParent([e,t])},createFieldAccessor:function(e){var t=this,n=t.getNamespace(),r,i;r=e.mapping||(n?n+"|":"")+e.name;if(typeof r==="function"){i=function(n){return e.mapping(n,t)}}else{i=function(e){return t.getNodeValue(Ext.DomQuery.selectNode(r,e))}}return i}});Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},writeRecords:function(e,t){var n=this,r=[],i=0,s=t.length,o=n.getDocumentRoot(),u=n.getRecord(),a=t.length!==1,f,l,c;c=this.getTransform();if(c){t=c(t,e)}r.push(n.getHeader()||"");if(!o&&a){o=n.getDefaultDocumentRoot()}if(o){r.push("<",o,">")}for(;i<s;++i){f=t[i];r.push("<",u,">");for(l in f){if(f.hasOwnProperty(l)){r.push("<",l,">",f[l],"</",l,">")}}r.push("</",u,">")}if(o){r.push("</",o,">")}e.setXmlData(r.join(""));return e}});Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},e);this.callParent([e])}});Ext.define("Ext.data.identifier.Negative",{extend:"Ext.data.identifier.Sequential",alias:"data.identifier.negative",config:{increment:-1,seed:-1}});Ext.define("Ext.data.identifier.Uuid",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.uuid",isUnique:true,config:{id:null},constructor:function(e){this.callParent([e]);this.reconfigure(e)},reconfigure:function(e){var t=this.self;this.generate=e&&e.version===1?t.createSequential(e.salt,e.timestamp,e.clockSeq):t.createRandom()},clone:null,statics:{createRandom:function(){var e="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),t="0123456789abcdef".split(""),n=e.length,r=[];return function(){for(var i,s,o=0;o<n;++o){s=e[o];if(s!=="-"&&s!=="4"){i=Math.random()*16;i=s==="R"?i&3|8:i|(s==="M"?1:0);s=t[i]}r[o]=s}return r.join("")}},createSequential:function(e,t,n){var r=[],i=Math.pow(2,32),s=e.lo,o=e.hi,u=t.lo,a=t.hi,f=function(e,t){var n=e.toString(16).toLowerCase();if(n.length>t){n=n.substring(n.length-t)}else if(n.length<t){n=Ext.String.leftPad(n,t,"0")}return n};if(typeof e==="number"){o=Math.floor(e/i);s=Math.floor(e-o*i)}if(typeof t==="number"){a=Math.floor(t/i);u=Math.floor(t-a*i)}o|=256;r[3]=f(128|n>>>8&63,2)+f(n&255,2);r[4]=f(o,4)+f(s,8);return function(){r[0]=f(u,8);r[1]=f(a&65535,4);r[2]=f(a>>>16&4095|1<<12,4);++u;if(u>=i){u=0;++a}return r.join("-")}}}},function(){this.Global=new this({id:"uuid"})});Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.identifier.Sequential"],config:{id:undefined},constructor:function(e){this.callParent(arguments);this.cache={};if(this.getStorageObject()===undefined){Ext.Error.raise("Local Storage is not supported in this browser, please use another type of data proxy")}if(this.getId()===undefined){Ext.Error.raise("No unique id was provided to the local storage proxy. See Ext.data.proxy.LocalStorage documentation for details")}this.initialize()},create:function(e){var t=this,n=e.getRecords(),r=n.length,i=t.getIds(),s,o,u;e.setStarted();if(t.isHierarchical===undefined){t.isHierarchical=!!n[0].isNode;if(t.isHierarchical){t.getStorageObject().setItem(t.getTreeKey(),true)}}for(u=0;u<r;u++){o=n[u];if(o.phantom){o.phantom=false;s=t.getNextId()}else{s=o.getId()}t.setRecord(o,s);o.commit();i.push(s)}t.setIds(i);e.setSuccessful(true)},read:function(e){var t=this,n,r=[],i=true,s=t.getModel(),o=0,u=e.getRecordCreator(),a,f,l,c,h,p,d,v,m,g,y,b;e.setStarted();if(t.isHierarchical){r=t.getTreeData()}else{d=t.getIds();v=d.length;g=e.getId();if(g){m=t.getRecord(g);if(m!==null){p=u?u(m,s):new s(m)}if(p){r.push(p)}else{i=false}}else{f=e.getSorters();a=e.getFilters();l=e.getLimit();n=[];for(y=0;y<v;y++){m=t.getRecord(d[y]);p=u?u(m,s):new s(m);n.push(p)}if(f){Ext.Array.sort(n,Ext.util.Sorter.createComparator(f))}for(y=e.getStart()||0;y<v;y++){p=n[y];h=true;if(a){for(b=0,c=a.length;b<c;b++){h=a[b].filter(p)}}if(h){r.push(p);o++}if(l&&o===l){break}}}}if(i){e.setResultSet(new Ext.data.ResultSet({records:r,total:r.length,loaded:true}));e.setSuccessful(true)}else{e.setException("Unable to load records")}},update:function(e){var t=e.getRecords(),n=t.length,r=this.getIds(),i,s,o;e.setStarted();for(o=0;o<n;o++){i=t[o];this.setRecord(i);i.commit();s=i.getId();if(s!==undefined&&Ext.Array.indexOf(r,s)===-1){r.push(s)}}this.setIds(r);e.setSuccessful(true)},erase:function(e){var t=this,n=e.getRecords(),r=t.getIds(),i=r.length,s=[],o={},u=n.length,a;e.setStarted();for(;u--;){Ext.apply(o,t.removeRecord(n[u]))}for(u=0;u<i;u++){a=r[u];if(!o[a]){s.push(a)}}t.setIds(s);e.setSuccessful(true)},getRecord:function(e){var t=this,n=t.cache,r=!n[e]?Ext.decode(t.getStorageObject().getItem(t.getRecordKey(e))):n[e];if(!r){return null}n[e]=r;r[t.getModel().prototype.idProperty]=e;return Ext.merge({},r)},setRecord:function(e,t){if(t){e.set("id",t,{commit:true})}else{t=e.getId()}var n=this,r=e.getData(),i={},s=n.getModel(),o=s.getFields(),u=o.length,a=0,f,l,c,h;for(;a<u;a++){f=o[a];l=f.name;if(f.persist){i[l]=r[l]}}delete i[s.prototype.idProperty];if(e.isNode&&e.get("depth")===1){delete i.parentId}c=n.getStorageObject();h=n.getRecordKey(t);n.cache[t]=i;c.removeItem(h);c.setItem(h,Ext.encode(i))},removeRecord:function(e){var t=this,n=e.getId(),r={},i,s;r[n]=e;t.getStorageObject().removeItem(t.getRecordKey(n));delete t.cache[n];if(e.childNodes){s=e.childNodes;for(i=s.length;i--;){Ext.apply(r,t.removeRecord(s[i]))}}return r},getRecordKey:function(e){if(e.isModel){e=e.getId()}return Ext.String.format("{0}-{1}",this.getId(),e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var e=this,t=(e.getStorageObject().getItem(e.getId())||"").split(","),n=t.length,r=this.getIdField().isStringField,i;if(n===1&&t[0]===""){t=[]}else{for(i=0;i<n;i++){t[i]=r?t[i]:+t[i]}}return t},getIdField:function(){return this.getModel().prototype.idField},setIds:function(e){var t=this.getStorageObject(),n=e.join(","),r=this.getId();t.removeItem(r);if(!Ext.isEmpty(n)){t.setItem(r,n)}},getNextId:function(){var e=this,t=e.getStorageObject(),n=e.getRecordCounterKey(),r=e.getIdField().isStringField,i;i=e.idGenerator.generate();t.setItem(n,i);if(r){i=i+""}return i},getTreeData:function(){var e=this,t=e.getIds(),n=t.length,r=[],i={},s=[],o=0,u=e.getModel(),a=u.prototype.idProperty,f,l,c,h,p,d;for(;o<n;o++){d=t[o];l=e.getRecord(d);r.push(l);i[d]=l;if(!l.parentId){s.push(l)}}f=s.length;Ext.Array.sort(r,e.sortByParentId);for(o=f;o<n;o++){l=r[o];h=l.parentId;if(!c||c[a]!==h){c=i[h];c.children=p=[]}p.push(l)}for(o=n;o--;){l=r[o];if(!l.children&&!l.leaf){l.loaded=true}}for(o=f;o--;){l=s[o];s[o]=new u(l)}return s},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this,t=e.getStorageObject(),n=+t.getItem(e.getRecordCounterKey()),r=e.getId();t.setItem(r,t.getItem(r)||"");if(t.getItem(e.getTreeKey())){e.isHierarchical=true}e.idGenerator=new Ext.data.identifier.Sequential({seed:n?n+1:1})},clear:function(){var e=this,t=e.getStorageObject(),n=e.getIds(),r=n.length,i;for(i=0;i<r;i++){t.removeItem(e.getRecordKey(n[i]))}t.removeItem(e.getRecordCounterKey());t.removeItem(e.getTreeKey());t.removeItem(e.getId());e.cache={}},getStorageObject:function(){Ext.Error.raise("The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass")}});Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:true,format:null,batchActions:false,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(e){var t=this,n=e.getOperation(),r=n.getRecords(),i=r?r[0]:null,s=t.getFormat(),o=t.getUrl(e),u,a;if(i&&!i.phantom){u=i.getId()}else{u=n.getId()}if(t.getAppendId()&&t.isValidId(u)){if(!o.match(t.slashRe)){o+="/"}o+=u;a=e.getParams();if(a){delete a[t.getIdParam()]}}if(s){if(!o.match(t.periodRe)){o+="."}o+=s}e.setUrl(o);return t.callParent([e])},isValidId:function(e){return e||e===0}});Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}});Ext.define("Ext.data.proxy.Sql",{alias:"proxy.sql",extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.proxy.SQL",isSQLProxy:true,config:{reader:null,writer:null,table:null,database:"Sencha",columns:"",uniqueIdStrategy:false,tableExists:false,defaultDateFormat:"Y-m-d H:i:s.u"},updateModel:function(e){if(e){var t=e.modelName,n=this.getDefaultDateFormat(),r=t.slice(t.lastIndexOf(".")+1);e.getFields().each(function(e){if(e.isDateField&&!e.getDateFormat()){e.dateFormat=n}});this.setUniqueIdStrategy(e.getIdentifier().isUnique);if(!this.getTable()){this.setTable(r)}this.setColumns(this.getPersistedModelColumns(e))}this.callParent(arguments)},setException:function(e,t){e.setException(t)},create:function(e,t,n){var r=this,i=r.getDatabaseObject(),s=e.getRecords(),o=r.getTableExists();e.setStarted();i.transaction(function(t){if(!o){r.createTable(t)}r.insertRecords(s,t,function(t,n){if(e.process(e.getAction(),t)===false){r.fireEvent("exception",r,e)}if(n){e.setException(n)}},r)},function(i,s){r.setException(e,s);if(typeof t=="function"){t.call(n||r,e)}},function(i){if(typeof t=="function"){t.call(n||r,e)}})},read:function(e,t,n){var r=this,i=r.getDatabaseObject(),s=r.getModel(),o=s.getIdProperty(),u=r.getTableExists(),a=e.getParams()||{},f=a[o],l=e.getSorters(),c=e.getFilters(),h=e.getPage(),p=e.getStart(),d=e.getLimit(),v,m,g;a=Ext.apply(a,{page:h,start:p,limit:d,sorters:l,filters:c});e.setStarted();i.transaction(function(t){if(!u){r.createTable(t)}r.selectRecords(t,f!==undefined?f:a,function(t,n){if(e.process(e.getAction(),t)===false){r.fireEvent("exception",r,e)}if(n){e.setException(n)}if(c&&c.length){v=Ext.create("Ext.util.Collection",function(e){return e.getId()});v.setFilterRoot("data");for(m=0,g=c.length;m<g;m++){if(c[m].getProperty()===null){v.addFilter(c[m])}}v.addAll(e.getRecords());e.setRecords(v.items.slice());t.setRecords(e.getRecords());t.setCount(v.items.length);t.setTotal(v.items.length)}})},function(i,s){r.setException(e,s);if(typeof t=="function"){t.call(n||r,e)}},function(i){if(typeof t=="function"){t.call(n||r,e)}})},update:function(e,t,n){var r=this,i=e.getRecords(),s=r.getDatabaseObject(),o=r.getTableExists();e.setStarted();s.transaction(function(t){if(!o){r.createTable(t)}r.updateRecords(t,i,function(t,n){if(e.process(e.getAction(),t)===false){r.fireEvent("exception",r,e)}if(n){e.setException(n)}})},function(i,s){r.setException(e,s);if(typeof t=="function"){t.call(n||r,e)}},function(i){if(typeof t=="function"){t.call(n||r,e)}})},erase:function(e,t,n){var r=this,i=e.getRecords(),s=r.getDatabaseObject(),o=r.getTableExists();e.setStarted();s.transaction(function(t){if(!o){r.createTable(t)}r.destroyRecords(t,i,function(t,n){if(e.process(e.getAction(),t)===false){r.fireEvent("exception",r,e)}if(n){e.setException(n)}})},function(i,s){r.setException(e,s);if(typeof t=="function"){t.call(n||r,e)}},function(i){if(typeof t=="function"){t.call(n||r,e)}})},createTable:function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+this.getTable()+" ("+this.getSchemaString()+")");this.setTableExists(true)},insertRecords:function(e,t,n,r){var i=this,s=i.getTable(),o=i.getColumns(),u=e.length,a=0,f=[],l=[],c=[],h=i.getUniqueIdStrategy(),p,d,v,m;m=new Ext.data.ResultSet({records:l,success:true});for(p=0,d=o.length;p<d;p++){f.push("?")}v=f.join(", ");Ext.each(e,function(e){var f=e.getId(),p=i.getRecordData(e),d=i.getColumnValues(o,p);t.executeSql("INSERT INTO "+s+" ("+o.join(", ")+") VALUES ("+v+")",d,function(e,t){a++;l.push({clientId:f,id:h?f:t.insertId,data:p,node:p});if(a===u&&typeof n=="function"){n.call(r||i,m,c.length>0?c:null)}},function(e,t){a++;c.push({clientId:f,error:t});if(a===u&&typeof n=="function"){n.call(r||i,m,c)}})})},selectRecords:function(e,t,n,r){var i=this,s=i.getTable(),o=i.getModel().getIdProperty(),u="SELECT * FROM "+s,a=[],f=" WHERE ",l=" ORDER BY ",c,h,p,d,v,m,g,y,b,w;d=new Ext.data.ResultSet({records:a,success:true});if(!Ext.isObject(t)){u+=f+o+" = "+t}else{h=t.filters&&t.filters.length;if(h){for(c=0;c<h;c++){g=t.filters[c];b=g.getProperty();w=g.getValue();if(b!==null){u+=f+b+" "+(g.getAnyMatch()?"LIKE '%"+w+"%'":"= '"+w+"'");f=" AND "}}}h=t.sorters&&t.sorters.length;if(h){for(c=0;c<h;c++){y=t.sorters[c];b=y.getProperty();if(b!==null){u+=l+b+" "+y.getDirection();l=", "}}}if(t.page!==undefined){u+=" LIMIT "+parseInt(t.start,10)+", "+parseInt(t.limit,10)}}e.executeSql(u,null,function(e,t){m=t.rows;v=m.length;for(c=0,h=v;c<h;c++){p=m.item(c);a.push({clientId:null,id:p[o],data:p,node:p})}d.setSuccess(true);d.setTotal(v);d.setCount(v);if(typeof n=="function"){n.call(r||i,d)}},function(e,t){d.setSuccess(false);d.setTotal(0);d.setCount(0);if(typeof n=="function"){n.call(r||i,d,t)}})},updateRecords:function(e,t,n,r){var i=this,s=i.getTable(),o=i.getColumns(),u=t.length,a=i.getModel().getIdProperty(),f=0,l=[],c=[],h,p,d;d=new Ext.data.ResultSet({records:l,success:true});Ext.each(t,function(t){var v=t.getId(),m=i.getRecordData(t),g=i.getColumnValues(o,m),y=[];for(h=0,p=o.length;h<p;h++){y.push(o[h]+" = ?")}e.executeSql("UPDATE "+s+" SET "+y.join(", ")+" WHERE "+a+" = ?",g.concat(v),function(e,t){f++;l.push({clientId:v,id:v,data:m,node:m});if(f===u&&typeof n=="function"){n.call(r||i,d,c.length>0?c:null)}},function(e,t){f++;c.push({clientId:v,error:t});if(f===u&&typeof n=="function"){n.call(r||i,d,c)}})})},destroyRecords:function(e,t,n,r){var i=this,s=i.getTable(),o=i.getModel().getIdProperty(),u=[],a=[],f=[],l,c,h,p;for(l=0,c=t.length;l<c;l++){u.push(o+" = ?");a.push(t[l].getId())}h=new Ext.data.ResultSet({records:f,success:true});e.executeSql("DELETE FROM "+s+" WHERE "+u.join(" OR "),a,function(e,s){for(l=0,c=t.length;l<c;l++){p=t[l];f.push({id:p.getId()})}if(typeof n=="function"){n.call(r||i,h)}},function(e,t){if(typeof n=="function"){n.call(r||i,h,t)}})},getRecordData:function(e){var t=this,n=e.getFields(),r=e.getIdProperty(),i=t.getUniqueIdStrategy(),s={},o,u;n.each(function(n){if(n.persist){o=n.name;if(o===r&&!i){return}u=e.get(o);if(n.isDateField){u=t.writeDate(n,u)}s[o]=u}},t);return s},getColumnValues:function(e,t){var n=e.length,r=[],i,s,o;for(i=0;i<n;i++){s=e[i];o=t[s];if(o!==undefined){r.push(o)}}return r},getSchemaString:function(){var e=this,t=[],n=e.getModel(),r=n.getIdProperty(),i=n.getFields().items,s=e.getUniqueIdStrategy(),o=i.length,u,a,f,l;for(u=0;u<o;u++){a=i[u];f=a.getType();l=a.name;if(l===r){if(s){f=e.convertToSqlType(f);t.unshift(r+" "+f)}else{t.unshift(r+" INTEGER PRIMARY KEY AUTOINCREMENT")}}else{f=e.convertToSqlType(f);t.push(l+" "+f)}}return t.join(", ")},getPersistedModelColumns:function(e){var t=e.getFields().items,n=this.getUniqueIdStrategy(),r=e.getIdProperty(),i=[],s=t.length,o,u,a;for(o=0;o<s;o++){u=t[o];a=u.name;if(a===r&&!n){continue}if(u.persist){i.push(u.name)}}return i},convertToSqlType:function(e){switch(e.toLowerCase()){case"date":case"string":case"auto":return"TEXT";case"int":return"INTEGER";case"float":return"REAL";case"bool":return"NUMERIC"}},writeDate:function(e,t){if(Ext.isEmpty(t)){return null}var n=e.getDateFormat()||this.getDefaultDateFormat();switch(n){case"timestamp":return t.getTime()/1e3;case"time":return t.getTime();default:return Ext.Date.format(t,n)}},dropTable:function(e){var t=this,n=t.getTable(),r=e?e.callback:null,i=e?e.scope||t:null,s=t.getDatabaseObject();s.transaction(function(e){e.executeSql("DROP TABLE "+n)},function(e,s){if(typeof r=="function"){r.call(i||t,false,n,s)}},function(e){if(typeof r=="function"){r.call(i||t,true,n)}});t.setTableExists(false)},getDatabaseObject:function(){return openDatabase(this.getDatabase(),"1.0","Sencha Database",5*1024*1024)}});Ext.define("Ext.data.validator.Bound",{extend:"Ext.data.validator.Validator",alias:"data.validator.bound",type:"bound",config:{min:undefined,max:undefined,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){var e=this;e.preventConfigure=true;e.callParent(arguments);delete e.preventConfigure;e.configure()},setConfig:function(){var e=this;e.preventConfigure=true;e.callParent(arguments);delete e.preventConfigure;e.configure()},configure:function(){var e=this,t,n,r,i;if(e.preventConfigure){return}r=e.getMin();i=e.getMax();t=e.hasMin=r!==undefined;n=e.hasMax=i!==undefined;if(t&&n){e._bothMsg=Ext.String.format(e.getBothMessage(),r,i)}else if(t){e._minMsg=Ext.String.format(e.getMinOnlyMessage(),r)}else if(n){e._maxMsg=Ext.String.format(e.getMaxOnlyMessage(),i)}},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(e){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(e){var t=this,n=t.hasMin,r=t.hasMax,i=t.getMin(),s=t.getMax(),o=this.validateValue(e),u;if(o!==true){return o}e=t.getValue(e);if(n&&r){if(e<i||e>s){o=t._bothMsg}}else if(n){if(e<i){o=t._minMsg}}else if(r){if(e>s){o=t._maxMsg}}return o},validateValue:function(e){if(e===undefined||e===null){return this.getEmptyMessage()}return true},getValue:Ext.identityFn});Ext.define("Ext.data.validator.Format",{extend:"Ext.data.validator.Validator",alias:"data.validator.format",type:"format",config:{message:"Is in the wrong format",matcher:undefined},constructor:function(){this.callParent(arguments);if(!this.getMatcher()){Ext.Error.raise("validator.Format must be configured with a matcher")}},validate:function(e){var t=this.getMatcher(),n=t&&t.test(e);return n?n:this.getMessage()}});Ext.define("Ext.data.validator.Email",{extend:"Ext.data.validator.Format",alias:"data.validator.email",type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}});Ext.define("Ext.data.validator.List",{extend:"Ext.data.validator.Validator",alias:"data.validator.list",type:"list",config:{list:null},inclusion:null,validate:function(e){var t=Ext.Array.contains(this.getList(),e),n=this.inclusion,r=!n,i;i=n&&t||r&&!t;return i||this.getMessage()}});Ext.define("Ext.data.validator.Exclusion",{extend:"Ext.data.validator.List",alias:"data.validator.exclusion",type:"exclusion",config:{message:"Is a value that has been excluded"},constructor:function(){this.callParent(arguments);if(!this.getList()){Ext.Error.raise("validator.Exclusion requires a list")}},inclusion:false});Ext.define("Ext.data.validator.Inclusion",{extend:"Ext.data.validator.List",alias:"data.validator.inclusion",type:"inclusion",config:{message:"Is not in the list of acceptable values"},constructor:function(){this.callParent(arguments);if(!this.getList()){Ext.Error.raise("validator.Inclusion requires a list")}},inclusion:true});Ext.define("Ext.data.validator.Length",{extend:"Ext.data.validator.Bound",alias:"data.validator.length",type:"length",config:{minOnlyMessage:"Length must be at least {0}",maxOnlyMessage:"Length must be no more than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(e){return String(e).length}});Ext.define("Ext.data.validator.Presence",{extend:"Ext.data.validator.Validator",alias:"data.validator.presence",type:"presence",config:{message:"Must be present",allowEmpty:false},validate:function(e){var t=!(e===undefined||e===null);if(t&&!this.getAllowEmpty()){t=!(e==="")}return t?true:this.getMessage()}});Ext.define("Ext.data.validator.Range",{extend:"Ext.data.validator.Bound",alias:"data.validator.range",type:"range",config:{minOnlyMessage:"Must be must be at least {0}",maxOnlyMessage:"Must be no more than than {0}",bothMessage:"Must be between {0} and {1}",nanMessage:"Must be numeric"},validateValue:function(e){var t=this.callParent([e]);if(t===true&&isNaN(e)){t=this.getNanMessage()}return t}});Ext.define("Ext.direct.Event",{alias:"direct.event",status:true,constructor:function(e){Ext.apply(this,e)},getName:function(){return this.name},getData:function(){return this.data}});Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){var e=this;return e.transaction||Ext.direct.Manager.getTransaction(e.tid)}});Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:false});Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:"Ext.util.Observable"},isProvider:true,constructor:function(e){var t=this;Ext.apply(t,e);Ext.applyIf(t,{id:Ext.id(null,"provider-")});t.mixins.observable.constructor.call(t,e)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(e){if(!Ext.isEmpty(e.responseText)){if(Ext.isObject(e.responseText)){return e.responseText}return Ext.decode(e.responseText)}return null},createEvents:function(e){var t=this,n=null,r=[],i,s,o;try{n=t.parseResponse(e)}catch(u){i=new Ext.direct.ExceptionEvent({data:u,xhr:e,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+u});return[i]}if(Ext.isArray(n)){for(s=0,o=n.length;s<o;++s){r.push(t.createEvent(n[s]))}}else if(Ext.isObject(n)){r.push(t.createEvent(n))}return r},createEvent:function(e){if(typeof e!=="object"||!("type"in e)){return new Ext.direct.ExceptionEvent({data:e,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}return Ext.create("direct."+e.type,e)}});Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",requires:["Ext.Ajax","Ext.util.DelayedTask"],uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],interval:3e3,isConnected:function(){return!!this.pollTask},connect:function(){var e=this,t=e.url;if(t&&!e.pollTask){e.pollTask=Ext.TaskManager.start({run:e.runPoll,interval:e.interval,scope:e});e.fireEvent("connect",e)}else if(!t){Ext.Error.raise("Error initializing PollingProvider, no url configured.")}},disconnect:function(){var e=this;if(e.pollTask){Ext.TaskManager.stop(e.pollTask);delete e.pollTask;e.fireEvent("disconnect",e)}},runPoll:function(){var e=this,t=e.url;if(e.fireEvent("beforepoll",e)!==false){if(Ext.isFunction(t)){t(e.baseParams)}else{Ext.Ajax.request({url:t,callback:e.onData,scope:e,params:e.baseParams})}e.fireEvent("poll",e)}},onData:function(e,t,n){var r=this,i,s,o;if(t){o=r.createEvents(n);for(i=0,s=o.length;i<s;++i){r.fireEvent("data",r,o[i])}}else{o=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n});r.fireEvent("data",r,o)}}});Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var t=this,n=Ext.isDefined(e.params)?e.params:e.len,r,i,s,o;t.name=e.name;t.formHandler=e.formHandler;if(Ext.isNumeric(n)){t.len=n;t.ordered=true}else{t.strict=e.strict!==undefined?e.strict:true;t.params={};i=n.length;for(s=0;s<i;s++){o=n[s];r=Ext.isObject(o)?o.name:o;t.params[r]=true}}},getArgs:function(e,t,n){var r=this,i=[],s,o;if(r.ordered){if(r.len>0){if(t){for(s=0,o=t.length;s<o;s++){i.push(e[t[s]])}}else if(n){i.push(e)}}}else{i.push(e)}return i},getCallData:function(e){var t=this,n=null,r=t.len,i=t.params,s=t.strict,o,u,a,f;if(t.ordered){o=e[r];u=e[r+1];f=e[r+2];if(r!==0){n=e.slice(0,r)}}else{n=Ext.apply({},e[0]);o=e[1];u=e[2];f=e[3];if(s){for(a in n){if(n.hasOwnProperty(a)&&!i[a]){delete n[a]}}}}return{data:n,callback:o,scope:u,options:f}}});Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(e){var t=this;Ext.apply(t,e);t.id=t.tid=++t.self.TRANSACTION_ID;t.retryCount=0},send:function(){var e=this;e.provider.queueTransaction(e)},retry:function(){var e=this;e.retryCount++;e.send()},getProvider:function(){return this.provider}});Ext.define("Ext.direct.RemotingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.remotingprovider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod"],enableBuffer:10,maxRetries:1,constructor:function(e){var t=this;t.callParent(arguments);t.namespace=Ext.isString(t.namespace)?Ext.ns(t.namespace):t.namespace||Ext.global;t.transactions=new Ext.util.MixedCollection;t.callBuffer=[]},getNamespace:function(e,t){var n,r,i,s;e=e||Ext.global;n=t.toString().split(".");for(i=0,s=n.length;i<s;i++){r=n[i];e=e[r];if(typeof e==="undefined"){return e}}return e},createNamespaces:function(e,t){var n,r;e=e||Ext.global;n=t.toString().split(".");for(var i=0,s=n.length;i<s;i++){r=n[i];e[r]=e[r]||{};e=e[r]}return e},initAPI:function(){var e=this,t=e.actions,n=e.namespace,r,i,s,o,u,a;for(r in t){if(t.hasOwnProperty(r)){if(e.disableNestedActions){i=n[r];if(!i){i=n[r]={}}}else{i=e.getNamespace(n,r);if(!i){i=e.createNamespaces(n,r)}}s=t[r];for(o=0,u=s.length;o<u;++o){a=new Ext.direct.RemotingMethod(s[o]);i[a.name]=e.createHandler(r,a)}}}},createHandler:function(e,t){var n=this,r=Array.prototype.slice,i;if(!t.formHandler){i=function(){n.configureRequest(e,t,r.call(arguments,0))}}else{i=function(i,s,o){n.configureFormRequest(e,t,r.call(arguments,0))}}i.directCfg={action:e,method:t};return i},isConnected:function(){return!!this.connected},connect:function(){var e=this;if(e.url){e.initAPI();e.connected=true;e.fireEvent("connect",e)}else if(!e.url){Ext.Error.raise('Error initializing RemotingProvider "'+e.id+'", no url configured.')}},disconnect:function(){var e=this;if(e.connected){e.connected=false;e.fireEvent("disconnect",e)}},runCallback:function(e,t){var n=!!t.status,r=n?"success":"failure",i,s,o;if(e&&e.callback){i=e.callback;s=e.callbackOptions;o=typeof t.result!=="undefined"?t.result:t.data;if(Ext.isFunction(i)){i(o,t,n,s)}else{Ext.callback(i[r],i.scope,[o,t,n,s]);Ext.callback(i.callback,i.scope,[o,t,n,s])}}},onData:function(e,t,n){var r=this,i,s,o,u,a,f;if(t){o=r.createEvents(n);for(i=0,s=o.length;i<s;++i){u=o[i];a=r.getTransaction(u);r.fireEvent("data",r,u);if(a&&r.fireEvent("beforecallback",r,u,a)!==false){r.runCallback(a,u,true);Ext.direct.Manager.removeTransaction(a)}}}else{f=[].concat(e.transaction);for(i=0,s=f.length;i<s;++i){a=r.getTransaction(f[i]);if(a&&a.retryCount<r.maxRetries){a.retry()}else{u=new Ext.direct.ExceptionEvent({data:null,transaction:a,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n});r.fireEvent("data",r,u);if(a&&r.fireEvent("beforecallback",r,a)!==false){r.runCallback(a,u,false);Ext.direct.Manager.removeTransaction(a)}}}}},getTransaction:function(e){return e&&e.tid?Ext.direct.Manager.getTransaction(e.tid):null},configureRequest:function(e,t,n){var r=this,i,s,o,u,a,f,l;i=t.getCallData(n);s=i.data;o=i.callback;u=i.scope;a=i.options||{};l=Ext.apply({},{provider:r,args:n,action:e,method:t.name,data:s,callbackOptions:a,callback:u&&Ext.isFunction(o)?Ext.Function.bind(o,u):o});if(a.timeout){Ext.applyIf(l,{timeout:a.timeout})}f=new Ext.direct.Transaction(l);if(r.fireEvent("beforecall",r,f,t)!==false){Ext.direct.Manager.addTransaction(f);r.queueTransaction(f);r.fireEvent("call",r,f,t)}},getCallData:function(e){return{action:e.action,method:e.method,data:e.data,type:"rpc",tid:e.id}},sendRequest:function(e){var t=this,n,r,i,s=t.enableUrlEncode,o,u;n={url:t.url,callback:t.onData,scope:t,transaction:e,timeout:t.timeout};if(e.timeout){n.timeout=e.timeout}if(Ext.isArray(e)){r=[];for(o=0,u=e.length;o<u;++o){r.push(t.getCallData(e[o]))}}else{r=t.getCallData(e)}if(s){i={};i[Ext.isString(s)?s:"data"]=Ext.encode(r);n.params=i}else{n.jsonData=r}Ext.Ajax.request(n)},queueTransaction:function(e){var t=this,n=t.enableBuffer;if(e.form){t.sendFormRequest(e);return}if(n===false||typeof e.timeout!=="undefined"){t.sendRequest(e);return}t.callBuffer.push(e);if(n){if(!t.callTask){t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)}t.callTask.delay(Ext.isNumber(n)?n:10)}else{t.combineAndSend()}},combineAndSend:function(){var e=this,t=e.callBuffer,n=t.length;if(n>0){e.sendRequest(n==1?t[0]:t);e.callBuffer=[]}},configureFormRequest:function(e,t,n){var r=this,i=n[0],s=n[1],o=n[2],u,a,f;u=new Ext.direct.Transaction({provider:r,action:e,method:t.name,args:[i,s,o],callback:o&&Ext.isFunction(s)?Ext.Function.bind(s,o):s,isForm:true});if(r.fireEvent("beforecall",r,u,t)!==false){Ext.direct.Manager.addTransaction(u);a=String(i.getAttribute("enctype")).toLowerCase()=="multipart/form-data";f={extTID:u.id,extAction:e,extMethod:t.name,extType:"rpc",extUpload:String(a)};Ext.apply(u,{form:Ext.getDom(i),isUpload:a,params:s&&Ext.isObject(s.params)?Ext.apply(f,s.params):f});r.fireEvent("call",r,u,t);r.sendFormRequest(u)}},sendFormRequest:function(e){var t=this;Ext.Ajax.request({url:t.url,params:e.params,callback:t.onData,scope:t,form:e.form,isUpload:e.isUpload,transaction:e})}});Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(e){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(e)},bindListeners:function(e){this.monitorElement[e?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,true)},applyElement:function(e){if(e){return Ext.get(e)}},updateElement:function(e){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},true);e.appendChild(this.monitorElement);e.addCls("x-paint-monitored");this.bindListeners(true)},onElementPainted:function(){},destroy:function(){var e=this.monitorElement,t=e.parentNode,n=this.getElement();this.bindListeners(false);delete this.monitorElement;if(n&&!n.isDestroyed){n.removeCls("x-paint-monitored");delete this._element}if(t){t.removeChild(e)}this.callParent()}});Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(e){if(e.animationName==="x-paint-monitor-helper"){this.getCallback().apply(this.getScope(),this.getArgs())}}});Ext.define("Ext.util.paintmonitor.OverflowChange",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(e){this.getCallback().apply(this.getScope(),this.getArgs())}});Ext.define("Ext.util.PaintMonitor",{requires:["Ext.util.paintmonitor.CssAnimation","Ext.util.paintmonitor.OverflowChange"],constructor:function(e){if(Ext.browser.is.Firefox||Ext.browser.is.WebKit&&Ext.browser.engineVersion.gtEq("536")&&!Ext.os.is.Blackberry){return new Ext.util.paintmonitor.OverflowChange(e)}else{return new Ext.util.paintmonitor.CssAnimation(e)}}});Ext.define("Ext.event.publisher.ElementPaint",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.PaintMonitor","Ext.TaskQueue"],targetType:"element",handledEvents:["painted"],constructor:function(){this.monitors={};this.callSuper(arguments)},subscribe:function(e){var t=e.match(this.idSelectorRegex),n=this.subscribers,r,i;if(!t){return false}r=t[1];if(n.hasOwnProperty(r)){n[r]++;return true}n[r]=1;i=Ext.get(r);this.monitors[r]=new Ext.util.PaintMonitor({element:i,callback:this.onElementPainted,scope:this,args:[e,i]});return true},unsubscribe:function(e,t,n){var r=e.match(this.idSelectorRegex),i=this.subscribers,s;if(!r){return false}s=r[1];if(!i.hasOwnProperty(s)||!n&&--i[s]>0){return true}delete i[s];this.monitors[s].destroy();delete this.monitors[s];return true},onElementPainted:function(e,t){Ext.TaskQueue.requestRead("dispatch",this,[e,"painted",[t]])}});Ext.define("Ext.mixin.Templatable",{extend:"Ext.Mixin",mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var e=document.createDocumentFragment();e.appendChild(Ext.Element.create(this.getElementConfig(),true));return e},initElement:function(){var e=this.self.prototype;e.elementTemplate=this.getElementTemplate();e.initElement=e.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(e,t){this.link(e,t)},doInitElement:function(){var e=this.referenceAttributeName,t,n,r,i,s,o;t=this.elementTemplate.cloneNode(true);n=t.querySelectorAll(this.referenceSelector);for(r=0,i=n.length;r<i;r++){s=n[r];o=s.getAttribute(e);s.removeAttribute(e);this.linkElement(o,s)}}});Ext.define("Ext.util.sizemonitor.Abstract",{mixins:["Ext.mixin.Templatable"],requires:["Ext.TaskQueue"],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(e){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(e);this.bindListeners(true)},bindListeners:Ext.emptyFn,applyElement:function(e){if(e){return Ext.get(e)}},updateElement:function(e){e.append(this.detectorsContainer);e.addCls("x-size-monitored")},applyArgs:function(e){return e.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var e=this.getElement();if(!e||e.isDestroyed){return false}var t=e.getWidth(),n=e.getHeight(),r=this.getContentWidth(),i=this.getContentHeight(),s=this.contentWidth,o=this.contentHeight,u=this.info,a=false,f;this.width=t;this.height=n;this.contentWidth=r;this.contentHeight=i;f=(s!==r?1:0)+(o!==i?2:0);if(f>0){u.width=t;u.height=n;u.contentWidth=r;u.contentHeight=i;u.flag=f;a=true;this.getCallback().apply(this.getScope(),this.getArgs())}return a},refresh:function(e){if(this.refreshSize()||e){Ext.TaskQueue.requestWrite("refreshMonitors",this)}},destroy:function(){var e=this.getElement();this.bindListeners(false);if(e&&!e.isDestroyed){e.removeCls("x-size-monitored")}delete this._element;this.callParent()}});Ext.define("Ext.util.sizemonitor.Default",{extend:"Ext.util.sizemonitor.Abstract",updateElement:function(e){},bindListeners:function(e){var t=this.getElement().dom;if(!t){return}if(e){t.onresize=this.refresh}else{delete t.onresize}},getContentBounds:function(){return this.getElement().dom.getBoundingClientRect()},getContentWidth:function(){return this.getElement().getWidth()},getContentHeight:function(){return this.getElement().getHeight()}});Ext.define("Ext.util.sizemonitor.Scroll",{extend:"Ext.util.sizemonitor.Abstract",getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(e){this.onScroll=Ext.Function.bind(this.onScroll,this);this.callSuper(arguments)},bindListeners:function(e){var t=e?"addEventListener":"removeEventListener";this.expandMonitor[t]("scroll",this.onScroll,true);this.shrinkMonitor[t]("scroll",this.onScroll,true)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[true])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var e=this.expandMonitor,t=this.shrinkMonitor,n=1e6;if(e&&!e.isDestroyed){e.scrollLeft=n;e.scrollTop=n}if(t&&!t.isDestroyed){t.scrollLeft=n;t.scrollTop=n}}});Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:"Ext.util.sizemonitor.Abstract",constructor:function(e){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);this.callSuper(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(e){var t=e?"addEventListener":"removeEventListener";this.expandMonitor[t](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,true);this.shrinkMonitor[t](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,true)},onExpand:function(e){if(Ext.browser.is.Webkit&&e.horizontalOverflow&&e.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(e){if(Ext.browser.is.Webkit&&!e.horizontalOverflow&&!e.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(this.isDestroyed){return}var e=this.expandHelper,t=this.shrinkHelper,n=this.getContentBounds(),r=n.width,i=n.height,s;if(e&&!e.isDestroyed){s=e.style;s.width=r+1+"px";s.height=i+1+"px"}if(t&&!t.isDestroyed){s=t.style;s.width=r+"px";s.height=i+"px"}Ext.TaskQueue.requestRead("refresh",this)}});Ext.define("Ext.util.SizeMonitor",{requires:["Ext.util.sizemonitor.Default","Ext.util.sizemonitor.Scroll","Ext.util.sizemonitor.OverflowChange"],constructor:function(e){var t=Ext.util.sizemonitor;if(Ext.browser.is.Firefox){return new t.OverflowChange(e)}else if(Ext.browser.is.WebKit){if(!Ext.browser.is.Silk&&Ext.browser.engineVersion.gtEq("535")){return new t.OverflowChange(e)}else{return new t.Scroll(e)}}else if(Ext.browser.is.IE11){return new t.Scroll(e)}else{return new t.Default(e)}}});Ext.define("Ext.event.publisher.ElementSize",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.SizeMonitor"],targetType:"element",handledEvents:["resize"],constructor:function(){this.monitors={};this.callSuper(arguments)},subscribe:function(e){var t=e.match(this.idSelectorRegex),n=this.subscribers,r,i,s;if(!t||e==="#ext-window"){return false}r=t[1];if(n.hasOwnProperty(r)){n[r]++;return true}n[r]=1;i=Ext.get(r);this.monitors[r]=s=new Ext.util.SizeMonitor({element:i,callback:this.onElementResize,scope:this,args:[e,i]});this.dispatcher.addListener("element",e,"painted","forceRefresh",s);return true},unsubscribe:function(e,t,n){var r=e.match(this.idSelectorRegex),i=this.subscribers,s=this.monitors,o,u;if(!r){return false}o=r[1];if(!i.hasOwnProperty(o)||!n&&--i[o]>0){return true}delete i[o];u=s[o];this.dispatcher.removeListener("element",e,"painted","forceRefresh",u);u.destroy();delete s[o];return true},onElementResize:function(e,t,n){Ext.TaskQueue.requestRead("dispatch",this,[e,"resize",[t,n]])}});Ext.define("Ext.fx.State",{isAnimatable:{"background-color":true,"background-image":true,"background-position":true,"border-bottom-color":true,"border-bottom-width":true,"border-color":true,"border-left-color":true,"border-left-width":true,"border-right-color":true,"border-right-width":true,"border-spacing":true,"border-top-color":true,"border-top-width":true,"border-width":true,bottom:true,color:true,crop:true,"font-size":true,"font-weight":true,height:true,left:true,"letter-spacing":true,"line-height":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,opacity:true,"outline-color":true,"outline-offset":true,"outline-width":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,right:true,"text-indent":true,"text-shadow":true,top:true,"vertical-align":true,visibility:true,width:true,"word-spacing":true,"z-index":true,zoom:true,transform:true},constructor:function(e){this.data={};this.set(e)},setConfig:function(e){this.set(e);return this},setRaw:function(e){this.data=e;return this},clear:function(){return this.setRaw({})},setTransform:function(e,t){var n=this.data,r=Ext.isArray(t),i=n.transform,s,o;if(!i){i=n.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof e=="string"){switch(e){case"translate":if(r){s=t.length;if(s==0){break}i.translateX=t[0];if(s==1){break}i.translateY=t[1];if(s==2){break}i.translateZ=t[2]}else{i.translateX=t}break;case"rotate":if(r){s=t.length;if(s==0){break}i.rotateX=t[0];if(s==1){break}i.rotateY=t[1];if(s==2){break}i.rotateZ=t[2]}else{i.rotate=t}break;case"scale":if(r){s=t.length;if(s==0){break}i.scaleX=t[0];if(s==1){break}i.scaleY=t[1];if(s==2){break}i.scaleZ=t[2]}else{i.scaleX=t;i.scaleY=t}break;case"skew":if(r){s=t.length;if(s==0){break}i.skewX=t[0];if(s==1){break}i.skewY=t[1]}else{i.skewX=t}break;default:i[e]=t}}else{for(o in e){if(e.hasOwnProperty(o)){t=e[o];this.setTransform(o,t)}}}},set:function(e,t){var n=this.data,r;if(typeof e!="string"){for(r in e){t=e[r];if(r==="transform"){this.setTransform(t)}else{n[r]=t}}}else{if(e==="transform"){this.setTransform(t)}else{n[e]=t}}return this},unset:function(e){var t=this.data;if(t.hasOwnProperty(e)){delete t[e]}return this},getData:function(){return this.data}});Ext.define("Ext.fx.animation.Abstract",{extend:"Ext.Evented",isAnimation:true,requires:["Ext.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states={};this.callParent(arguments);return this},applyElement:function(e){return Ext.get(e)},applyBefore:function(e,t){if(e){return Ext.factory(e,Ext.fx.State,t)}},applyAfter:function(e,t){if(e){return Ext.factory(e,Ext.fx.State,t)}},setFrom:function(e){return this.setState(this.STATE_FROM,e)},setTo:function(e){return this.setState(this.STATE_TO,e)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(e){var t=this.stateNameRegex,n;for(n in e){if(t.test(n)){this.setState(n,e[n])}}return this},getStates:function(){return this.states},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();this.callParent()},setState:function(e,t){var n=this.getStates(),r;r=Ext.factory(t,Ext.fx.State,n[e]);if(r){n[e]=r}else if(e===this.STATE_TO){Ext.Logger.error("Setting and invalid '100%' / 'to' state of: "+t)}return this},getState:function(e){return this.getStates()[e]},getData:function(){var e=this.getStates(),t={},n=this.getBefore(),r=this.getAfter(),i=e[this.STATE_FROM],s=e[this.STATE_TO],o=i.getData(),u=s.getData(),a,f,l;for(f in e){if(e.hasOwnProperty(f)){l=e[f];a=l.getData();t[f]=a}}if(Ext.browser.is.AndroidStock2){t["0.0001%"]=o}return{before:n?n.getData():{},after:r?r.getData():{},states:t,from:o,to:u,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});Ext.define("Ext.fx.animation.Slide",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:false,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(e){if(e==="auto"){return"ease-"+(this.getOut()?"in":"out")}return e},getContainerBox:function(){var e=this._containerBox;if(e==="auto"){e=this.getElement().getParent().getBox()}return e},getElementBox:function(){var e=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(e==="auto"){e=this.getElement().getBox()}return e},getData:function(){var e=this.getElementBox(),t=this.getContainerBox(),n=e?e:t,r=this.getFrom(),i=this.getTo(),s=this.getOut(),o=this.getOffset(),u=this.getDirection(),a=this.getUseCssTransform(),f=this.getReverse(),l=0,c=0,h,p,d,v;if(f){u=this.reverseDirectionMap[u]}switch(u){case this.DIRECTION_UP:if(s){c=t.top-n.top-n.height-o}else{c=t.bottom-n.bottom+n.height+o}break;case this.DIRECTION_DOWN:if(s){c=t.bottom-n.bottom+n.height+o}else{c=t.top-n.height-n.top-o}break;case this.DIRECTION_RIGHT:if(s){l=t.right-n.right+n.width+o}else{l=t.left-n.left-n.width-o}break;case this.DIRECTION_LEFT:if(s){l=t.left-n.left-n.width-o}else{l=t.right-n.right+n.width+o}break}h=s?0:l;p=s?0:c;if(a){r.setTransform({translateX:h,translateY:p})}else{r.set("left",h);r.set("top",p)}d=s?l:0;v=s?c:0;if(a){i.setTransform({translateX:d,translateY:v})}else{i.set("left",d);i.set("top",v)}return this.callParent(arguments)}});Ext.define("Ext.fx.animation.SlideOut",{extend:"Ext.fx.animation.Slide",alias:["animation.slideOut"],config:{out:true}});Ext.define("Ext.fx.animation.Fade",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(e){var t=this.getTo(),n=this.getFrom();if(e){n.set("opacity",1);t.set("opacity",0)}else{n.set("opacity",0);t.set("opacity",1)}}});Ext.define("Ext.fx.animation.FadeOut",{extend:"Ext.fx.animation.Fade",alias:"animation.fadeOut",config:{out:true,before:{}}});Ext.define("Ext.fx.animation.Flip",{extend:"Ext.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:false,out:null},getData:function(){var e=this.getFrom(),t=this.getTo(),n=this.getDirection(),r=this.getOut(),i=this.getHalf(),s=i?90:180,o=1,u=1,a=0,f=0,l=0,c=0;if(r){u=.8}else{o=.8}switch(n){case this.DIRECTION_UP:if(r){l=s}else{a=-s}break;case this.DIRECTION_DOWN:if(r){l=-s}else{a=s}break;case this.DIRECTION_RIGHT:if(r){c=s}else{f=-s}break;case this.DIRECTION_LEFT:if(r){c=-s}else{f=s}break}e.setTransform({rotateX:a,rotateY:f,scale:o});t.setTransform({rotateX:l,rotateY:c,scale:u});return this.callParent(arguments)}});Ext.define("Ext.fx.animation.Pop",{extend:"Ext.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var e=this.getTo(),t=this.getFrom(),n=this.getOut();if(n){t.set("opacity",1);t.setTransform({scale:1});e.set("opacity",0);e.setTransform({scale:0})}else{t.set("opacity",0);t.setTransform({scale:0});e.set("opacity",1);e.setTransform({scale:1})}return this.callParent(arguments)}});Ext.define("Ext.fx.animation.PopOut",{extend:"Ext.fx.animation.Pop",alias:"animation.popOut",config:{out:true,before:{}}});Ext.define("Ext.fx.Animation",{requires:["Ext.fx.animation.Slide","Ext.fx.animation.SlideOut","Ext.fx.animation.Fade","Ext.fx.animation.FadeOut","Ext.fx.animation.Flip","Ext.fx.animation.Pop","Ext.fx.animation.PopOut"],constructor:function(e){var t=Ext.fx.animation.Abstract,n;if(typeof e=="string"){n=e;e={}}else if(e&&e.type){n=e.type}if(n){if(Ext.browser.is.AndroidStock2){if(n=="pop"){n="fade"}if(n=="popIn"){n="fadeIn"}if(n=="popOut"){n="fadeOut"}}t=Ext.ClassManager.getByAlias("animation."+n);if(!t){Ext.Logger.error("Invalid animation type of: '"+n+"'")}}return Ext.factory(e,t)}});Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{transform:true,"transform-origin":true,perspective:true,"transform-style":true,transition:true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,animation:true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){var e=Ext.feature.has.Css3dTransforms;if(e){this.transformMethods=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"]}else{this.transformMethods=["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"]}this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};return this},getStyleSheet:function(){var e=this.styleSheet,t,n;if(!e){t=document.createElement("style");t.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(t);n=document.styleSheets;this.styleSheet=e=n[n.length-1]}return e},applyRules:function(e){var t=this.getStyleSheet(),n=this.ruleStylesCache,r=t.cssRules,i,s,o,u,a,f,l;for(i in e){s=e[i];o=n[i];if(o===undefined){a=r.length;t.insertRule(i+"{}",a);o=n[i]=r.item(a).style}u=o.$cache;if(!u){u=o.$cache={}}for(f in s){l=this.formatValue(s[f],f);f=this.formatName(f);if(u[f]!==l){u[f]=l;if(l===null){o.removeProperty(f)}else{o.setProperty(f,l,"important")}}}}return this},applyStyles:function(e){var t,n,r,i,s,o;for(t in e){if(e.hasOwnProperty(t)){n=document.getElementById(t);if(!n){return this}r=n.style;i=e[t];for(s in i){if(i.hasOwnProperty(s)){o=this.formatValue(i[s],s);s=this.formatName(s);if(o===null){r.removeProperty(s)}else{r.setProperty(s,o,"important")}}}}}return this},formatName:function(e){var t=this.formattedNameCache,n=t[e];if(!n){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[e]){n=this.vendorPrefix+e}else{n=e}t[e]=n}return n},formatValue:function(e,t){var n=typeof e,r=this.DEFAULT_UNIT_LENGTH,i,s,o,u,a,f,l;if(e===null){return""}if(n=="string"){if(this.lengthProperties[t]){l=e.match(this.lengthUnitRegex)[1];if(l.length>0){if(l!==r){Ext.Logger.error("Length unit: '"+l+"' in value: '"+e+"' of property: '"+t+"' is not "+"valid for animation. Only 'px' is allowed")}}else{return e+r}}return e}else if(n=="number"){if(e==0){return"0"}if(this.lengthProperties[t]){return e+r}if(this.angleProperties[t]){return e+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[t]){return e+this.DEFAULT_UNIT_DURATION}}else if(t==="transform"){i=this.transformMethods;a=[];for(o=0,u=i.length;o<u;o++){s=i[o];a.push(s+"("+this.formatValue(e[s],s)+")")}return a.join(" ")}else if(Ext.isArray(e)){f=[];for(o=0,u=e.length;o<u;o++){f.push(this.formatValue(e[o],t))}return f.length>0?f.join(", "):"none"}return e}});Ext.define("Ext.fx.runner.CssTransition",{extend:"Ext.fx.runner.Css",requires:["Ext.AnimationQueue"],listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;this.getEventDispatcher().addListener("element","*","transitionend","onTransitionEnd",this)},onTransitionEnd:function(e){var t=e.target,n=t.id;if(n&&this.runningAnimationsData.hasOwnProperty(n)){this.refreshRunningAnimationsData(Ext.get(t),[e.browserEvent.propertyName])}},onAnimationEnd:function(e,t,n,r,i){var s=e.getId(),o=this.runningAnimationsData[s],u={},a={},f,l,c,h,p;n.un("stop","onAnimationStop",this);if(o){f=o.nameMap}u[s]=a;if(t.onBeforeEnd){t.onBeforeEnd.call(t.scope||this,e,r)}n.fireEvent("animationbeforeend",n,e,r);this.fireEvent("animationbeforeend",this,n,e,r);if(i||!r&&!t.preserveEndState){l=t.toPropertyNames;for(c=0,h=l.length;c<h;c++){p=l[c];if(f&&!f.hasOwnProperty(p)){a[p]=null}}}if(t.after){Ext.merge(a,t.after)}this.applyStyles(u);if(t.onEnd){t.onEnd.call(t.scope||this,e,r)}n.fireEvent("animationend",n,e,r);this.fireEvent("animationend",this,n,e,r);Ext.AnimationQueue.stop(Ext.emptyFn,n)},onAllAnimationsEnd:function(e){var t=e.getId(),n={};delete this.runningAnimationsData[t];n[t]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(n);this.fireEvent("animationallend",this,e)},hasRunningAnimations:function(e){var t=e.getId(),n=this.runningAnimationsData;return n.hasOwnProperty(t)&&n[t].sessions.length>0},refreshRunningAnimationsData:function(e,t,n,r){var i=e.getId(),s=this.runningAnimationsData,o=s[i];if(!o){return}var u=o.nameMap,a=o.nameList,f=o.sessions,l,c,h,p,d,v,m,g,y=false;n=Boolean(n);r=Boolean(r);if(!f){return this}l=f.length;if(l===0){return this}if(r){o.nameMap={};a.length=0;for(d=0;d<l;d++){v=f[d];this.onAnimationEnd(e,v.data,v.animation,n,r)}f.length=0}else{for(d=0;d<l;d++){v=f[d];m=v.map;g=v.list;for(c=0,h=t.length;c<h;c++){p=t[c];if(m[p]){delete m[p];Ext.Array.remove(g,p);v.length--;if(--u[p]==0){delete u[p];Ext.Array.remove(a,p)}}}if(v.length==0){f.splice(d,1);d--;l--;y=true;this.onAnimationEnd(e,v.data,v.animation,n)}}}if(!r&&!n&&f.length==0&&y){this.onAllAnimationsEnd(e)}},getRunningData:function(e){var t=this.runningAnimationsData;if(!t.hasOwnProperty(e)){t[e]={nameMap:{},nameList:[],sessions:[]}}return t[e]},getTestElement:function(){var e=this.testElement,t,n,r;if(!e){t=document.createElement("iframe");t.setAttribute("tabindex",-1);r=t.style;r.setProperty("visibility","hidden","important");r.setProperty("width","0px","important");r.setProperty("height","0px","important");r.setProperty("position","absolute","important");r.setProperty("border","0px","important");r.setProperty("zIndex","-1000","important");document.body.appendChild(t);n=t.contentDocument;n.open();n.writeln("</body>");n.close();this.testElement=e=n.createElement("div");e.style.setProperty("position","absolute","important");n.body.appendChild(e);this.testElementComputedStyle=window.getComputedStyle(e)}return e},getCssStyleValue:function(e,t){var n=this.getTestElement(),r=this.testElementComputedStyle,i=n.style;i.setProperty(e,t);if(Ext.browser.is.Firefox){n.offsetHeight}t=r.getPropertyValue(e);i.removeProperty(e);return t},run:function(e){var t=this,n=this.lengthProperties,r={},i={},s={},o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D;if(!this.listenersAttached){this.attachListeners()}e=Ext.Array.from(e);for(g=0,b=e.length;g<b;g++){w=e[g];w=Ext.factory(w,Ext.fx.Animation);o=w.getElement();Ext.AnimationQueue.start(Ext.emptyFn,w);x=window.getComputedStyle(o.dom);u=o.getId();s=Ext.merge({},w.getData());if(w.onBeforeStart){w.onBeforeStart.call(w.scope||this,o)}w.fireEvent("animationstart",w);this.fireEvent("animationstart",this,w);s[u]=s;l=s.before;a=s.from;f=s.to;s.fromPropertyNames=c=[];s.toPropertyNames=h=[];for(N in f){if(f.hasOwnProperty(N)){f[N]=C=this.formatValue(f[N],N);T=this.formatName(N);A=n.hasOwnProperty(N);if(!A){C=this.getCssStyleValue(T,C)}if(a.hasOwnProperty(N)){a[N]=L=this.formatValue(a[N],N);if(!A){L=this.getCssStyleValue(T,L)}if(C!==L){c.push(T);h.push(T)}}else{k=x.getPropertyValue(T);if(C!==k){h.push(T)}}}}E=h.length;if(E===0){this.onAnimationEnd(o,s,w);continue}v=this.getRunningData(u);_=v.sessions;if(_.length>0){this.refreshRunningAnimationsData(o,Ext.Array.merge(c,h),true,s.replacePrevious)}O=v.nameMap;M=v.nameList;S={};for(y=0;y<E;y++){N=h[y];S[N]=true;if(!O.hasOwnProperty(N)){O[N]=1;M.push(N)}else{O[N]++}}D={element:o,map:S,list:h.slice(),length:E,data:s,animation:w};_.push(D);w.on("stop","onAnimationStop",this);m=Ext.apply({},l);Ext.apply(m,a);if(M.length>0){c=Ext.Array.difference(M,c);h=Ext.Array.merge(c,h);m["transition-property"]=c}r[u]=m;i[u]=Ext.apply({},f);i[u]["transition-property"]=h;i[u]["transition-duration"]=s.duration;i[u]["transition-timing-function"]=s.easing;i[u]["transition-delay"]=s.delay;w.startTime=Date.now()}d=this.$className;this.applyStyles(r);p=function(e){if(e.data===d&&e.source===window){window.removeEventListener("message",p,false);t.applyStyles(i)}};if(Ext.browser.is.IE){Ext.Function.requestAnimationFrame(function(){window.addEventListener("message",p,false);window.postMessage(d,"*")})}else{window.addEventListener("message",p,false);window.postMessage(d,"*")}},onAnimationStop:function(e){var t=this.runningAnimationsData,n,r,i,s,o,u;for(n in t){if(t.hasOwnProperty(n)){r=t[n];i=r.sessions;for(s=0,o=i.length;s<o;s++){u=i[s];if(u.animation===e){this.refreshRunningAnimationsData(u.element,u.list.slice(),false)}}}}}});Ext.define("Ext.fx.Runner",{requires:["Ext.fx.runner.CssTransition"],constructor:function(){return new Ext.fx.runner.CssTransition}});Ext.define("Ext.fx.animation.Cube",{extend:"Ext.fx.animation.Abstract",alias:"animation.cube",config:{before:{},after:{},direction:"right",out:false},getData:function(){var e=this.getTo(),t=this.getFrom(),n=this.getBefore(),r=this.getAfter(),i=this.getOut(),s=this.getDirection(),o=this.getElement(),u=o.getWidth(),a=o.getHeight(),f=i?"100% 100%":"0% 0%",l=1,c=1,h={rotateY:0,translateZ:0},p={rotateY:0,translateZ:0};if(s=="left"||s=="right"){if(i){c=.5;p.translateZ=u;p.rotateY=-90}else{l=.5;h.translateZ=u;h.rotateY=90}}n["transform-origin"]=f;r["transform-origin"]=null;e.set("transform",p);t.set("transform",h);t.set("opacity",l);e.set("opacity",c);return this.callParent(arguments)}});Ext.define("Ext.fx.animation.Wipe",{extend:"Ext.fx.Animation",alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:false},refresh:function(){var e=this,t=e.getElement(),n=t.dom.getBoundingClientRect(),r=n.width,i=n.height,s=e.getFrom(),o=e.getTo(),u=e.getOut(),a=e.getDirection(),f=0,l=0,c=0,h=0,p,d;switch(a){case"up":if(u){p="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))";l=i*3+"px";h=i+"px"}else{p="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))";l=-i*2+"px";h=0}break;case"down":if(u){p="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))";l=-i*2+"px";h=0}else{p="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))";l=i*3+"px";h=i+"px"}break;case"right":if(u){p="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))";f=-r*2+"px";c=0}else{p="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))";c=-r*2+"px"}break;case"left":if(u){p="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))";c=-r*2+"px"}else{p="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))";f=-r*2+"px";c=0}break}if(!u){d=l;l=h;h=d;d=f;f=c;c=d}s.set("mask-image",p);s.set("mask-size",r*3+"px "+i*3+"px");s.set("mask-position-x",f);s.set("mask-position-y",l);o.set("mask-position-x",c);o.set("mask-position-y",h)}});Ext.define("Ext.fx.animation.WipeOut",{extend:"Ext.fx.animation.Wipe",config:{out:true}});Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(e){this.initConfig(e);return this},applyStartTime:function(e){if(!e){e=Ext.Date.now()}return e},updateStartTime:function(e){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn});Ext.define("Ext.fx.easing.Bounce",{extend:"Ext.fx.easing.Abstract",config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=e/this.getAcceleration(),n=t*Math.pow(Math.E,-this.getSpringTension()*t);return this.getStartValue()+this.getStartVelocity()*n}});Ext.define("Ext.fx.easing.Momentum",{extend:"Ext.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(e){var t=Math.log(1-e/10);this.theta=t;this.alpha=t/this.getAcceleration()},updateStartVelocity:function(e){this.velocity=e*this.getAcceleration()},updateAcceleration:function(e){this.velocity=this.getStartVelocity()*e;this.alpha=this.theta/e},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var e=Ext.Date.now()-this.getStartTime();return Math.exp(e*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define("Ext.fx.easing.BoundMomentum",{extend:"Ext.fx.easing.Abstract",requires:["Ext.fx.easing.Momentum","Ext.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(e,t){return Ext.factory(e,Ext.fx.easing.Momentum,t)},applyBounce:function(e,t){return Ext.factory(e,Ext.fx.easing.Bounce,t)},updateStartTime:function(e){this.getMomentum().setStartTime(e);this.callParent(arguments)},updateStartVelocity:function(e){this.getMomentum().setStartVelocity(e)},updateStartValue:function(e){this.getMomentum().setStartValue(e)},reset:function(){this.lastValue=null;this.isBouncingBack=false;this.isOutOfBound=false;return this.callParent(arguments)},getValue:function(){var e=this.getMomentum(),t=this.getBounce(),n=e.getStartVelocity(),r=n>0?1:-1,i=this.getMinMomentumValue(),s=this.getMaxMomentumValue(),o=r==1?s:i,u=this.lastValue,a,f;if(n===0){return this.getStartValue()}if(!this.isOutOfBound){a=e.getValue();f=e.getVelocity();if(Math.abs(f)<this.getMinVelocity()){this.isEnded=true}if(a>=i&&a<=s){return a}this.isOutOfBound=true;t.setStartTime(Ext.Date.now()).setStartVelocity(f).setStartValue(o)}a=t.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(u!==null){if(r==1&&a<u||r==-1&&a>u){this.isBouncingBack=true}}}else{if(Math.round(a)==o){this.isEnded=true}}}this.lastValue=a;return a}});Ext.define("Ext.fx.easing.Linear",{extend:"Ext.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(e){this.distance=this.getEndValue()-e},updateEndValue:function(e){this.distance=e-this.getStartValue()},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration();if(e>t){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+e/t*this.distance}}});Ext.define("Ext.fx.easing.EaseIn",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-in",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),r=this.getEndValue(),i=this.distance,s=e/t,o=Math.pow(s,this.getExponent()),u=n+o*i;if(e>=t){this.isEnded=true;return r}return u}});Ext.define("Ext.fx.easing.EaseOut",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),r=this.getEndValue(),i=this.distance,s=e/t,o=1-s,u=1-Math.pow(o,this.getExponent()),a=n+u*i;if(e>=t){this.isEnded=true;return r}return a}});Ext.define("Ext.fx.easing.Easing",{requires:["Ext.fx.easing.Linear"],constructor:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")}});Ext.define("Ext.fx.layout.card.Abstract",{extend:"Ext.Evented",isAnimation:true,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var e=this.getLayout();if(e){e.onBefore("activeitemchange","onActiveItemChange",this)}},disable:function(){var e=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(e){e.unBefore("activeitemchange","onActiveItemChange",this)}},onActiveItemChange:Ext.emptyFn,destroy:function(){var e=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(e){e.unBefore("activeitemchange","onActiveItemChange",this)}this.setLayout(null);if(this.observableId){this.fireEvent("destroy",this);this.clearListeners();this.clearManagedListeners()}}});Ext.define("Ext.fx.layout.card.Style",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.Animation"],config:{inAnimation:{before:{visibility:null},preserveEndState:false,replacePrevious:true},outAnimation:{preserveEndState:false,replacePrevious:true}},constructor:function(e){var t,n;this.callParent([e]);this.endAnimationCounter=0;t=this.getInAnimation();n=this.getOutAnimation();t.on("animationend","incrementEnd",this);n.on("animationend","incrementEnd",this)},updateDirection:function(e){this.getInAnimation().setDirection(e);this.getOutAnimation().setDirection(e)},updateDuration:function(e){this.getInAnimation().setDuration(e);this.getOutAnimation().setDuration(e)},updateReverse:function(e){this.getInAnimation().setReverse(e);this.getOutAnimation().setReverse(e)},incrementEnd:function(){this.endAnimationCounter++;if(this.endAnimationCounter>1){this.endAnimationCounter=0;this.fireEvent("animationend",this)}},applyInAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},applyOutAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},updateInAnimation:function(e){e.setScope(this)},updateOutAnimation:function(e){e.setScope(this)},onActiveItemChange:function(e,t,n,r,i){var s=this.getInAnimation(),o=this.getOutAnimation(),u,a;if(t&&n&&n.isPainted()){u=t.renderElement;a=n.renderElement;s.setElement(u);o.setElement(a);o.setOnBeforeEnd(function(e,t){if(t||Ext.Animator.hasRunningAnimations(e)){i.firingArguments[1]=null;i.firingArguments[2]=null}});o.setOnEnd(function(){i.resume()});u.dom.style.setProperty("visibility","hidden","important");t.show();Ext.Animator.run([o,s]);i.pause()}},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation());this.callParent(arguments)}});Ext.define("Ext.fx.layout.card.Slide",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:true}},updateReverse:function(e){this.getInAnimation().setReverse(e);this.getOutAnimation().setReverse(e)}});Ext.define("Ext.fx.layout.card.Cover",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:true}},updateReverse:function(e){this.getInAnimation().setReverse(e);this.getOutAnimation().setReverse(e)}});Ext.define("Ext.fx.layout.card.Reveal",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:true}},updateReverse:function(e){this.getInAnimation().setReverse(e);this.getOutAnimation().setReverse(e)}});Ext.define("Ext.fx.layout.card.Fade",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:true}}});Ext.define("Ext.fx.layout.card.Flip",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:true,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:true,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:true}},onActiveItemChange:function(e,t,n,r,i){var s=t.element.getParent();s.addCls("x-layout-card-perspective");this.on("animationend",function(){s.removeCls("x-layout-card-perspective")},this,{single:true});this.callParent(arguments)},updateDuration:function(e){var t=e/2,n=this.getInAnimation(),r=this.getOutAnimation();n.setDelay(t);n.setDuration(t);r.setDuration(t)}});Ext.define("Ext.fx.layout.card.Pop",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:true}},updateDuration:function(e){var t=e/2,n=this.getInAnimation(),r=this.getOutAnimation();n.setDelay(t);n.setDuration(t);r.setDuration(t)}});Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(e){this.initConfig(e)},getEasing:function(){var e=this.easing;if(!e){this.easing=e=new Ext.fx.easing.Linear}return e},updateDuration:function(e){this.getEasing().setDuration(e)},onActiveItemChange:function(e,t,n,r,i){var s=this.getDirection(),o=this.getEasing(),u,a,f,l,c,h;if(t&&n){if(this.isAnimating){this.stopAnimation()}t.setWidth("100%");t.setHeight("100%");u=this.getLayout().container.innerElement;l=u.getWidth();c=u.getHeight();a=t.renderElement;f=n.renderElement;this.oldItem=n;this.newItem=t;this.currentEventController=i;this.containerElement=u;this.isReverse=h=this.getReverse();t.show();if(s=="right"){s="left";this.isReverse=h=!h}else if(s=="down"){s="up";this.isReverse=h=!h}if(s=="left"){if(h){o.setConfig({startValue:l,endValue:0});u.dom.scrollLeft=l;f.setLeft(l)}else{o.setConfig({startValue:0,endValue:l});a.setLeft(l)}}else{if(h){o.setConfig({startValue:c,endValue:0});u.dom.scrollTop=c;f.setTop(c)}else{o.setConfig({startValue:0,endValue:c});a.setTop(c)}}this.startAnimation();i.pause()}},startAnimation:function(){this.isAnimating=true;this.getEasing().setStartTime(Date.now());Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var e=this.getEasing(),t=this.getDirection(),n="scrollTop",r;if(t=="left"||t=="right"){n="scrollLeft"}if(e.isEnded){this.stopAnimation()}else{r=e.getValue();this.containerElement.dom[n]=r}},stopAnimation:function(){var e=this,t=e.getDirection(),n="setTop",r=e.oldItem,i=e.newItem;if(t=="left"||t=="right"){n="setLeft"}e.currentEventController.resume();if(e.isReverse&&r&&r.renderElement&&r.renderElement.dom){r.renderElement[n](null)}else if(i&&i.renderElement&&i.renderElement.dom){i.renderElement[n](null)}Ext.AnimationQueue.stop(this.doAnimationFrame,this);e.isAnimating=false;e.fireEvent("animationend",e)}});Ext.define("Ext.fx.layout.Card",{requires:["Ext.fx.layout.card.Slide","Ext.fx.layout.card.Cover","Ext.fx.layout.card.Reveal","Ext.fx.layout.card.Fade","Ext.fx.layout.card.Flip","Ext.fx.layout.card.Pop","Ext.fx.layout.card.Scroll"],constructor:function(e){var t=Ext.fx.layout.card.Abstract,n;if(!e){return null}if(typeof e=="string"){n=e;e={}}else if(e.type){n=e.type}e.elementBox=false;if(n){if(Ext.browser.is.AndroidStock2){if(n!="fade"){n="scroll"}}t=Ext.ClassManager.getByAlias("fx.layout.card."+n);if(!t){Ext.Logger.error("Unknown card animation type: '"+n+"'")}}return Ext.factory(e,t)}});Ext.define("Ext.fx.layout.card.Cube",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cube",config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:true}}});Ext.define("Ext.fx.layout.card.ScrollCover",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollcover",onActiveItemChange:function(e,t,n,r,i){var s,o,u,a,f,l;this.lastController=i;this.inItem=t;if(t&&n){s=this.getLayout().container.innerElement;o=s.getSize();u=this.calculateXY(o);a={easing:this.getEasing(),duration:this.getDuration()};t.renderElement.dom.style.setProperty("visibility","hidden","important");f=t.setTranslatable(true).getTranslatable();l=n.setTranslatable(true).getTranslatable();l.translate({x:0,y:0});f.translate({x:u.left,y:u.top});f.getWrapper().dom.style.setProperty("z-index","100","important");t.show();f.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this});f.translateAnimated({x:0,y:0},a);i.pause()}},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index");this.lastController.resume()}});Ext.define("Ext.fx.layout.card.ScrollReveal",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollreveal",onActiveItemChange:function(e,t,n,r,i){var s,o,u,a,f,l;this.lastController=i;this.outItem=n;this.inItem=t;if(t&&n){s=this.getLayout().container.innerElement;o=s.getSize();u=this.calculateXY(o);a={easing:this.getEasing(),duration:this.getDuration()};f=n.setTranslatable(true).getTranslatable();l=t.setTranslatable(true).getTranslatable();f.getWrapper().dom.style.setProperty("z-index","100","important");f.translate({x:0,y:0});l.translate({x:0,y:0});t.show();f.on({animationend:"onOutAnimationEnd",scope:this});f.translateAnimated({x:u.x,y:u.y},a);i.pause()}},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index");this.lastController.resume()}});Ext.define("Ext.fx.runner.CssAnimation",{extend:"Ext.fx.runner.Css",constructor:function(){this.runningAnimationsMap={};this.elementEndStates={};this.animationElementMap={};this.keyframesRulesCache={};this.uniqueId=0;return this.callParent(arguments)},attachListeners:function(){var e=this.getEventDispatcher();this.listenersAttached=true;e.addListener("element","*","animationstart","onAnimationStart",this);e.addListener("element","*","animationend","onAnimationEnd",this)},onAnimationStart:function(e){var t=e.browserEvent.animationName,n=this.animationElementMap[t],r=this.runningAnimationsMap[n][t],i=this.elementEndStates,s=i[n],o={};console.log("START============= "+t);if(s){delete i[n];o[n]=s;this.applyStyles(o)}if(r.before){o[n]=r.before;this.applyStyles(o)}},onAnimationEnd:function(e){var t=e.target,n=e.browserEvent.animationName,r=this.animationElementMap,i=r[n],s=this.runningAnimationsMap,o=s[i],u=o[n];console.log("END============= "+n);if(u.onBeforeEnd){u.onBeforeEnd.call(u.scope||this,t)}if(u.onEnd){u.onEnd.call(u.scope||this,t)}delete r[n];delete o[n];this.removeKeyframesRule(n)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(e){var t={},n=this.elementEndStates,r=this.animationElementMap,i=this.runningAnimationsMap,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;if(!this.listenersAttached){this.attachListeners()}e=Ext.Array.from(e);for(f=0,l=e.length;f<l;f++){c=e[f];c=Ext.factory(c,Ext.fx.Animation);u=c.getElement().getId();a=c.getName()||this.generateAnimationId();r[a]=u;c=c.getData();o=c.states;this.addKeyframesRule(a,o);s=i[u];if(!s){s=i[u]={}}s[a]=c;d=[];v=[];m=[];g=[];y=[];b=[];for(h in s){if(s.hasOwnProperty(h)){p=s[h];d.push(h);v.push(p.duration);m.push(p.easing);g.push(p.delay);y.push(p.direction);b.push(p.iteration)}}t[u]={"animation-name":d,"animation-duration":v,"animation-timing-function":m,"animation-delay":g,"animation-direction":y,"animation-iteration-count":b};if(c.preserveEndState){n[u]=o["100%"]}}this.applyStyles(t)},addKeyframesRule:function(e,t){var n,r,i,s,o,u,a,f,l;s=this.getStyleSheet();o=s.cssRules;a=o.length;s.insertRule("@"+this.vendorPrefix+"keyframes "+e+"{}",a);i=o[a];for(n in t){r=t[n];o=i.cssRules;a=o.length;u=[];for(f in r){l=this.formatValue(r[f],f);f=this.formatName(f);u.push(f+":"+l)}i.insertRule(n+"{"+u.join(";")+"}",a)}return this},removeKeyframesRule:function(e){var t=this.getStyleSheet(),n=t.cssRules,r,i,s;for(r=0,i=n.length;r<i;r++){s=n[r];if(s.name===e){t.removeRule(r);break}}return this}});Ext.define("Ext.mixin.Hookable",{extend:"Ext.Mixin",mixinConfig:{id:"hookable"},bind:function(e,t,n,r,i){if(!n){n=t}var s=e[t],o,u;if(s&&s.hasOwnProperty("$binding")){u=s.$binding;if(u.bindingMethod===n&&u.bindingScope===this){return this}}e[t]=o=function(){var e=o.$binding,t=e.bindingScope,n=Array.prototype.slice.call(arguments);n.push(arguments);if(i){n.push.apply(n,i)}if(!e.preventDefault&&t[e.bindingMethod].apply(t,n)!==false){return e.boundFn.apply(this,arguments)}};o.$binding={preventDefault:!!r,boundFn:s,bindingMethod:n,bindingScope:this};return this},unbind:function(e,t,n){if(!n){n=t}var r=e[t],i=r.$binding,s,o;while(i){s=i.boundFn;if(i.bindingMethod===n&&i.bindingScope===this){if(o){o.boundFn=s}else{e[t]=s}return this}o=i;i=s.$binding}return this}});Ext.define("Ext.mixin.Mashup",function(e){return{extend:"Ext.Mixin",mixinConfig:{id:"mashup",extended:function(t,n){e.process(n)}},statics:{process:function(e){var t=e.prototype,n=t.requiredScripts,r=e._classHooks,i=r.onCreated;if(n){delete t.requiredScripts;r.onCreated=function(){var e=this,t=Ext.Array.slice(arguments);Ext.Loader.loadScripts({url:n,cache:true,onLoad:function(){r.onCreated=i;r.onCreated.call(e,t)}})}}}},onClassMixedIn:function(t){e.process(t)}}});Ext.define("Ext.mixin.Responsive",function(e){return{extend:"Ext.Mixin",requires:["Ext.GlobalEvents"],mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:undefined,merge:function(e,t,n,r){if(!e){return t}var i=t?Ext.Object.chain(t):{},s;for(s in e){if(!r||!(s in i)){i[s]={fn:null,config:e[s]}}}return i}},responsiveFormulas:{$value:0,merge:function(e,t,n,r){return this.mergeNew(e,t,n,r)}}},destroy:function(){e.unregister(this);this.callParent()},privates:{statics:{active:false,all:{},context:{},count:0,nextId:0,activate:function(){e.active=true;e.updateContext();Ext.on("resize",e.onResize,e)},createRuleFn:function(e){return new Function("$c","with($c) { return ("+e+"); }")},deactivate:function(){e.active=false;Ext.un("resize",e.onResize,e)},notify:function(){var t=e.all,n=e.context,r=Ext.GlobalEvents,i=e.timer,s;if(i){e.timer=null;Ext.Function.cancelAnimationFrame(i)}e.updateContext();Ext.suspendLayouts();r.fireEvent("beforeresponsiveupdate",n);for(s in t){t[s].setupResponsiveContext()}r.fireEvent("beginresponsiveupdate",n);for(s in t){t[s].updateResponsiveState()}r.fireEvent("responsiveupdate",n);Ext.resumeLayouts(true)},onResize:function(){if(!e.timer){e.timer=Ext.Function.requestAnimationFrame(e.onTimer)}},onTimer:function(){e.timer=null;e.notify()},processConfig:function(e,t,n){var r=t&&t[n],i=e.config,s,o;if(r){o=e.getConfigurator();s=o.configs[n];i[n]=s.merge(r,i[n],e)}},register:function(t){var n=t.$responsiveId;if(!n){t.$responsiveId=n=++e.nextId;e.all[n]=t;if(++e.count===1){e.activate()}}},unregister:function(t){var n=t.$responsiveId;if(n in e.all){t.$responsiveId=null;delete e.all[n];if(--e.count===0){e.deactivate()}}},updateContext:function(){var t=Ext.Element,n=t.getViewportWidth(),r=t.getViewportHeight(),i=Ext.Microloader,s=e.context;s.width=n;s.height=r;s.tall=n<r;s.wide=!s.tall;s.landscape=s.portrait=false;if(!s.platform){s.platform=i&&i.platformTags||{desktop:true}}if(!s.platform.desktop||Ext.supports.OrientationChange){s[Ext.dom.Element.getOrientation()]=true}else{s.landscape=true}}},afterClassMixedIn:function(e){var t=e.prototype,n=t.responsiveConfig,r=t.responsiveFormulas,i;if(n||r){i={};if(n){delete t.responsiveConfig;i.responsiveConfig=n}if(r){delete t.responsiveFormulas;i.responsiveFormulas=r}e.getConfigurator().add(i)}},applyResponsiveConfig:function(t){for(var n in t){t[n].fn=e.createRuleFn(n)}return t},applyResponsiveFormulas:function(t){var n={},r,i;if(t){for(i in t){if(Ext.isString(r=t[i])){r=e.createRuleFn(r)}n[i]=r}}return n},getResponsiveState:function(){var t=e.context,n=this.getResponsiveConfig(),r={},i,s;if(n){for(s in n){i=n[s];if(i.fn.call(this,t)){Ext.merge(r,i.config)}}}return r},setupResponsiveContext:function(){var t=this.getResponsiveFormulas(),n=e.context,r;if(t){for(r in t){n[r]=t[r].call(this,n)}}},transformInstanceConfig:function(t){var n=this,r;e.register(n);if(t){e.processConfig(n,t,"responsiveConfig");e.processConfig(n,t,"responsiveFormulas")}n.setupResponsiveContext();r=n.getResponsiveState();if(t){r=Ext.merge({},t,r);delete r.responsiveConfig;delete r.responsiveFormulas}return r},updateResponsiveState:function(){var e=this.getResponsiveState();this.setConfig(e)}}}});Ext.define("Ext.mixin.Selectable",{extend:"Ext.Mixin",mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:false,lastSelected:null,lastFocused:null,deselectOnContainerClick:true},modes:{SINGLE:true,SIMPLE:true,MULTI:true},selectableEventHooks:{addrecords:"onSelectionStoreAdd",removerecords:"onSelectionStoreRemove",updaterecord:"onSelectionStoreUpdate",load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection;this.callParent(arguments)},applyMode:function(e){e=e?e.toUpperCase():"SINGLE";return this.modes[e]?e:"SINGLE"},updateStore:function(e,t){var n=this,r=Ext.apply({},n.selectableEventHooks,{scope:n});if(t&&Ext.isObject(t)&&t.isStore){if(t.autoDestroy){t.destroy()}else{t.un(r);if(e){e.un("clear","onSelectionStoreClear",this)}}}if(e){e.on(r);e.onBefore("clear","onSelectionStoreClear",this);n.refreshSelection()}},selectAll:function(e){var t=this,n=t.getStore().getRange();t.select(n,true,e)},deselectAll:function(e){var t=this,n=t.getStore().getRange();t.deselect(n,e);t.selected.clear();t.setLastSelected(null);t.setLastFocused(null)},selectWithEvent:function(e){var t=this,n=t.isSelected(e);switch(t.getMode()){case"MULTI":case"SIMPLE":if(n){t.deselect(e)}else{t.select(e,true)}break;case"SINGLE":if(t.getAllowDeselect()&&n){t.deselect(e)}else{t.select(e,false)}break}},selectRange:function(e,t,n){var r=this,i=r.getStore(),s=[],o,u;if(r.getDisableSelection()){return}if(e>t){o=t;t=e;e=o}for(u=e;u<=t;u++){s.push(i.getAt(u))}this.doMultiSelect(s,n)},select:function(e,t,n){var r=this,i;if(r.getDisableSelection()){return}if(typeof e==="number"){e=[r.getStore().getAt(e)]}if(!e){return}if(r.getMode()=="SINGLE"&&e){i=e.length?e[0]:e;r.doSingleSelect(i,n)}else{r.doMultiSelect(e,t,n)}},doSingleSelect:function(e,t){var n=this,r=n.selected;if(n.getDisableSelection()){return}if(n.isSelected(e)){return}if(r.getCount()>0){n.deselect(n.getLastSelected(),t)}r.add(e);n.setLastSelected(e);n.onItemSelect(e,t);n.setLastFocused(e);if(!t){n.fireSelectionChange([e])}},doMultiSelect:function(e,t,n){if(e===null||this.getDisableSelection()){return}e=!Ext.isArray(e)?[e]:e;var r=this,i=r.selected,s=e.length,o=false,u=0,a;if(!t&&i.getCount()>0){o=true;r.deselect(r.getSelection(),true)}for(;u<s;u++){a=e[u];if(t&&r.isSelected(a)){continue}o=true;r.setLastSelected(a);i.add(a);if(!n){r.setLastFocused(a)}r.onItemSelect(a,n)}if(o&&!n){this.fireSelectionChange(e)}},deselect:function(e,t){var n=this;if(n.getDisableSelection()){return}e=Ext.isArray(e)?e:[e];var r=n.selected,i=false,s=0,o=n.getStore(),u=e.length,a;for(;s<u;s++){a=e[s];if(typeof a==="number"){a=o.getAt(a)}if(r.remove(a)){if(n.getLastSelected()==a){n.setLastSelected(r.last())}i=true}if(a){n.onItemDeselect(a,t)}}if(i&&!t){n.fireSelectionChange(e)}},updateLastFocused:function(e,t){this.onLastFocusChanged(t,e)},fireSelectionChange:function(e){var t=this;t.fireAction("beforeselectionchange",[t],function(){t.fireAction("selectionchange",[t,e],"getSelection")})},getSelection:function(){return this.selected.getRange()},isSelected:function(e){e=Ext.isNumber(e)?this.getStore().getAt(e):e;return this.selected.indexOf(e)!==-1},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var e=this,t=e.getSelection();e.deselectAll(true);if(t.length){e.select(t,false,true)}},onSelectionStoreRemove:function(e,t){var n=this,r=n.selected,i=t.length,s,o;if(n.getDisableSelection()){return}for(o=0;o<i;o++){s=t[o];if(r.remove(s)){if(n.getLastSelected()==s){n.setLastSelected(null)}if(n.getLastFocused()==s){n.setLastFocused(null)}n.fireSelectionChange([s])}}},onSelectionStoreClear:function(e){var t=e.getData().items;this.onSelectionStoreRemove(e,t)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){});Ext.define("Ext.mixin.Traversable",{extend:"Ext.Mixin",mixinConfig:{id:"traversable"},setParent:function(e){this.parent=e;return this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){var e=[],t=this.getParent();while(t){e.push(t);t=t.getParent()}return e},getAncestorIds:function(){var e=[],t=this.getParent();while(t){e.push(t.getId());t=t.getParent()}return e}});Ext.define("Ext.perf.Accumulator",function(){function i(e,t){e.sum+=t;e.min=Math.min(e.min,t);e.max=Math.max(e.max,t)}function s(t){var n=t?t:r()-this.time,s=this,o=s.accum;++o.count;if(!--o.depth){i(o.total,n)}i(o.pure,n-s.childTime);e=s.parent;if(e){++e.accum.childCount;e.childTime+=n}}function o(){return{min:Number.MAX_VALUE,max:0,sum:0}}function u(e,t){return function(){var n=e.enter(),r=t.apply(this,arguments);n.leave();return r}}function a(e){return Math.round(e*100)/100}function f(e,t,n,r){var i={avg:0,min:r.min,max:r.max,sum:0};if(e){n=n||0;i.sum=r.sum-t*n;i.avg=i.sum/e}return i}var e=null,t=Ext.global["chrome"],n,r=function(){r=Ext.now;var e,n;if(Ext.isChrome&&t&&t.Interval){e=new t.Interval;e.start();r=function(){return e.microseconds()/1e3}}else if(window.ActiveXObject){try{n=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=n;r=function(){return n.milliseconds}}catch(i){}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=r;return r()};return{requires:["Ext.XTemplate","Ext.ClassManager"],constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0;t.pure=o();t.total=o();t.name=e},statics:{getTimestamp:r},format:function(e){if(!n){n=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(e*100)/100}})}var t=this.getData(e);t.name=this.name;t.pure.type="Pure";t.total.type="Total";t.times=[t.pure,t.total];return n.apply(t)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:f(t.count,t.childCount,e,t.pure),total:f(t.count,t.childCount,e,t.total)}},enter:function(){var t=this,n={accum:t,leave:s,childTime:0,parent:e};++t.depth;if(t.maxDepth<t.depth){t.maxDepth=t.depth}e=n;n.time=r();return n},monitor:function(e,t,n){var r=this.enter();if(n){e.apply(t,n)}else{e.call(t)}r.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var n=this,r=typeof t=="string"?[t]:t,i,s,o,a,f,l,c,h;h=function(){if(typeof e=="string"){i=Ext.global;a=e.split(".");for(o=0,f=a.length;o<f;++o){i=i[a[o]]}}else{i=e}for(o=0,f=r.length;o<f;++o){l=r[o];s=l.charAt(0)=="!";if(s){l=l.substring(1)}else{s=!(l in i.prototype)}c=s?i:i.prototype;c[l]=u(n,c[l])}};Ext.ClassManager.onCreated(h,n,e);return n}}},function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.define("Ext.perf.Monitor",{singleton:true,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var e=new Ext.perf.Accumulator("$"),t=e.total,n=Ext.perf.Accumulator.getTimestamp,r=0,i,s,o;o=n();do{i=e.enter();i.leave();++r}while(t.sum<100);s=n();return(s-o)/r},get:function(e){var t=this,n=t.accumulatorsByName[e];if(!n){t.accumulatorsByName[e]=n=new Ext.perf.Accumulator(e);t.accumulators.push(n)}return n},enter:function(e){return this.get(e).enter()},monitor:function(e,t,n){this.get(e).monitor(t,n)},report:function(){var e=this,t=e.accumulators,n=e.calibrate();t.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0});e.updateGC();Ext.log("Calibration: "+Math.round(n*100)/100+" msec/sample");Ext.each(t,function(e){Ext.log(e.format(n))})},getData:function(e){var t={},n=this.accumulators;Ext.each(n,function(n){if(e||n.count){t[n.name]=n.getData()}});return t},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0;t.pure={min:Number.MAX_VALUE,max:0,sum:0};t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e=this.accumulatorsByName.GC,t=Ext.senchaToolbox,n;if(e){e.count=t.garbageCollectionCounter||0;if(e.count){n=e.pure;e.total.sum=n.sum=t.garbageCollectionMilliseconds;n.min=n.max=n.sum/e.count;n=e.total;n.min=n.max=n.sum/e.count}}},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;if(e){this.get("GC");e.watchGarbageCollector(false)}},setup:function(e){if(!e){e={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=e;var t,n,r,i,s;for(t in e){if(e.hasOwnProperty(t)){n=e[t];r=Ext.Perf.get(t);for(i in n){if(n.hasOwnProperty(i)){s=n[i];r.tap(i,s)}}}}this.watchGC()}});Ext.define("Ext.util.translatable.Abstract",{extend:"Ext.Evented",requires:["Ext.fx.easing.Linear"],config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:false,isTranslatable:true,constructor:function(e){this.mixins.observable.constructor.call(this,e);this.position={x:0,y:0}},factoryEasing:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(e){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(e))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(e))}},applyEasingX:function(e){return this.factoryEasing(e)},applyEasingY:function(e){return this.factoryEasing(e)},doTranslate:Ext.emptyFn,translate:function(e,t,n){if(n){return this.translateAnimated(e,t,n)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(e)&&typeof e=="number"){this.x=e}if(!isNaN(t)&&typeof t=="number"){this.y=t}this.doTranslate(e,t)},translateAxis:function(e,t,n){var r,i;if(e=="x"){r=t}else{i=t}return this.translate(r,i,n)},getPosition:function(){var e=this,t=e.position;t.x=-e.x;t.y=-e.y;return t},animate:function(e,t){this.activeEasingX=e;this.activeEasingY=t;this.isAnimating=true;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(e,t,n){var r=this;if(!Ext.isObject(n)){n={}}if(r.isAnimating){r.stopAnimation()}r.callback=n.callback;r.callbackScope=n.scope;var i=Ext.Date.now(),s=n.easing,o=typeof e=="number"?n.easingX||s||r.getEasingX()||true:null,u=typeof t=="number"?n.easingY||s||r.getEasingY()||true:null;if(o){o=r.factoryEasing(o);o.setStartTime(i);o.setStartValue(r.x);o.setEndValue(e);if("duration"in n){o.setDuration(n.duration)}}if(u){u=r.factoryEasing(u);u.setStartTime(i);u.setStartValue(r.y);u.setEndValue(t);if("duration"in n){u.setDuration(n.duration)}}return r.animate(o,u)},doAnimationFrame:function(){var e=this,t=e.activeEasingX,n=e.activeEasingY,r=Date.now(),i,s;if(!e.isAnimating){return}e.lastRun=r;if(t===null&&n===null){e.stopAnimation();return}if(t!==null){e.x=i=Math.round(t.getValue());if(t.isEnded){e.activeEasingX=null;e.fireEvent("axisanimationend",e,"x",i)}}else{i=e.x}if(n!==null){e.y=s=Math.round(n.getValue());if(n.isEnded){e.activeEasingY=null;e.fireEvent("axisanimationend",e,"y",s)}}else{s=e.y}if(e.lastX!==i||e.lastY!==s){e.doTranslate(i,s);e.lastX=i;e.lastY=s}e.fireEvent("animationframe",e,i,s)},stopAnimation:function(){var e=this;if(!e.isAnimating){return}e.activeEasingX=null;e.activeEasingY=null;e.isAnimating=false;Ext.AnimationQueue.stop(e.doAnimationFrame,e);e.fireEvent("animationend",e,e.x,e.y);if(e.callback){e.callback.call(e.callbackScope);e.callback=null}},refresh:function(){this.translate(this.x,this.y)},destroy:function(){if(this.isAnimating){this.stopAnimation()}this.callParent(arguments)}});Ext.define("Ext.util.translatable.Dom",{extend:"Ext.util.translatable.Abstract",config:{element:null},applyElement:function(e){if(!e){return}return Ext.get(e)},updateElement:function(){this.refresh()}});Ext.define("Ext.util.translatable.CssTransform",{extend:"Ext.util.translatable.Dom",doTranslate:function(e,t){var n=this.getElement();if(!this.isDestroyed&&!n.isDestroyed){n.translate(e,t)}},destroy:function(){var e=this.getElement();if(e&&!e.isDestroyed){e.dom.style.webkitTransform=null}this.callSuper()}});Ext.define("Ext.util.translatable.ScrollPosition",{extend:"Ext.util.translatable.Dom",type:"scrollposition",config:{useWrapper:true},getWrapper:function(){var e=this.wrapper,t=this.getElement(),n;if(!e){n=t.getParent();if(!n){return null}if(n.hasCls(Ext.baseCSSPrefix+"translatable-hboxfix")){n=n.getParent()}if(this.getUseWrapper()){e=t.wrap()}else{e=n}t.addCls("x-translatable");e.addCls("x-translatable-container");this.wrapper=e;e.on("painted",function(){if(!this.isAnimating){this.refresh()}},this);this.refresh()}return e},doTranslate:function(e,t){var n=this.getWrapper(),r;if(n){r=n.dom;if(typeof e=="number"){r.scrollLeft=5e5-e}if(typeof t=="number"){r.scrollTop=5e5-t}}},destroy:function(){var e=this.getElement(),t=this.wrapper;if(t){if(!e.isDestroyed){if(this.getUseWrapper()){t.doReplaceWith(e)}e.removeCls("x-translatable")}if(!t.isDestroyed){t.removeCls("x-translatable-container");t.un("painted","refresh",this)}delete this.wrapper;delete this._element}this.callSuper()}});Ext.define("Ext.util.translatable.ScrollParent",{extend:"Ext.util.translatable.Dom",applyElement:function(e){var t=Ext.get(e);this.parent=t.parent();return t},doTranslate:function(e,t){var n=this.parent;n.setScrollLeft(Math.round(-e));n.setScrollTop(Math.round(-t))},getPosition:function(){var e=this,t=e.position,n=e.parent;t.x=n.getScrollLeft();t.y=n.getScrollTop();return t}});Ext.define("Ext.util.translatable.CssPosition",{extend:"Ext.util.translatable.Dom",doTranslate:function(e,t){var n=this.getElement().dom.style;if(typeof e=="number"){n.left=e+"px"}if(typeof t=="number"){n.top=t+"px"}},destroy:function(){var e=this.getElement().dom.style;e.left=null;e.top=null;this.callParent(arguments)}});Ext.define("Ext.util.Translatable",{requires:["Ext.util.translatable.CssTransform","Ext.util.translatable.ScrollPosition","Ext.util.translatable.ScrollParent","Ext.util.translatable.CssPosition"],constructor:function(e){var t=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(e)){case"scrollposition":return new t.ScrollPosition(e);case"scrollparent":return new t.ScrollParent(e);case"csstransform":return new t.CssTransform(e);case"cssposition":return new t.CssPosition(e)}}});Ext.define("Ext.scroll.Scroller",{extend:"Ext.Evented",requires:["Ext.fx.easing.BoundMomentum","Ext.fx.easing.EaseOut","Ext.util.Translatable"],config:{element:null,direction:"auto",fps:"auto",disabled:null,directionLock:false,momentumEasing:{momentum:{acceleration:30,friction:.5},bounce:{acceleration:30,springTension:.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",size:"auto",autoRefresh:true,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150},translatable:{translationMethod:"auto",useWrapper:false},mouseEnabled:false,snapToBoundary:true},statics:{instances:{}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:false,isAnimating:false,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},constructor:function(e){var t=this,n=e&&e.element,r="onEvent";t.listenerMap={touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"};t.listeners={touchstart:r,touchend:r,dragstart:r,drag:r,dragend:r,scope:t};t.minPosition={x:0,y:0};t.startPosition={x:0,y:0};t.lastMaxPosition={x:0,y:0};t.velocity={x:0,y:0};t.isAxisEnabledFlags={x:false,y:false};t.flickStartPosition={x:0,y:0};t.flickStartTime={x:0,y:0};t.lastDragPosition={x:0,y:0};t.dragDirection={x:0,y:0};t.initialConfig=e;if(n){t.setElement(n)}t.self.instances[t.id]=t;return this},initialize:function(){var e=this;if(!e.initialized){e.mixins.observable.constructor.call(e,e.initialConfig);e.initialized=true}},applyElement:function(e){if(!e){return}return Ext.get(e)},updateElement:function(e){var t=this;t.initialize();if(!t.FixedHBoxStretching){e.addCls(t.cls)}if(!t.getDisabled()){t.attachListeners()}var n=function(){t.refreshMaxPosition()},r=Ext.Function.createSequence,i=t.updateContainerSize,s=t.updateSize;t.updateContainerSize=i?r(i,n):n;t.updateSize=s?r(s,n):n;t.on({maxpositionchange:"snapToBoundary",minpositionchange:"snapToBoundary",scope:t});return t},applyTranslatable:function(e,t){return Ext.factory(e,Ext.util.Translatable,t)},updateTranslatable:function(e){e.setConfig({element:this.getElement(),listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this}})},updateFps:function(e){if(e!=="auto"){this.getTranslatable().setFps(e)}},attachListeners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(e){if(e){this.detachListeners()}else{this.attachListeners()}},updateInitialOffset:function(e){if(typeof e=="number"){e={x:e,y:e}}this.getTranslatable().translate(-e.x,-e.y)},applyDirection:function(e){var t=this.getMinPosition(),n=this.getMaxPosition(),r,i;this.givenDirection=e;if(e==="auto"){r=n.x>t.x;i=n.y>t.y;if(r&&i){e="both"}else if(r){e="horizontal"}else{e="vertical"}}return e},updateDirection:function(e,t){var n=this.isAxisEnabledFlags,r=this.cls+"-vertical",i=this.cls+"-horizontal",s=this.getElement();if(t==="both"||t==="horizontal"){s.removeCls(i)}if(t==="both"||t==="vertical"){s.removeCls(r)}n.x=n.y=false;if(e==="both"||e==="horizontal"){n.x=true;s.addCls(i)}if(e==="both"||e==="vertical"){n.y=true;s.addCls(r)}},isAxisEnabled:function(e){this.getDirection();return this.isAxisEnabledFlags[e]},applyMomentumEasing:function(e){var t=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(e,t),y:Ext.factory(e,t)}},applyBounceEasing:function(e){var t=Ext.fx.easing.EaseOut;return{x:Ext.factory(e,t),y:Ext.factory(e,t)}},updateBounceEasing:function(e){this.getTranslatable().setEasingX(e.x).setEasingY(e.y)},applySlotSnapEasing:function(e){var t=Ext.fx.easing.EaseOut;return{x:Ext.factory(e,t),y:Ext.factory(e,t)}},getPosition:function(){return this.getTranslatable().getPosition()},getMinPosition:function(){var e=this.minPosition;if(!e){this.minPosition=e={x:0,y:0};this.fireEvent("minpositionchange",this,e)}return e},getMaxPosition:function(){var e=this,t=e.maxPosition,n,r;if(!t){n=e.getSize();r=e.getContainerSize();e.maxPosition=t={x:Math.max(0,n.x-r.x),y:Math.max(0,n.y-r.y)};if(t.x!==e.lastMaxPosition.x||t.y!==e.lastMaxPosition.y){e.fireEvent("maxpositionchange",e,t);e.lastMaxPosition.x=t.x;e.lastMaxPosition.y=t.y}}return t},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(e){var t=this.getContainer().dom,n,r;if(!t){return}this.givenContainerSize=e;if(e==="auto"){n=t.clientWidth;r=t.clientHeight}else{n=e.x;r=e.y}return{x:n,y:r}},applySize:function(e){var t=this.getElement().dom,n=this.getContainer().dom,r,i;if(!t){return}this.givenSize=e;if(e==="auto"){r=Math.max(t.offsetWidth,n.clientWidth);i=Math.max(t.offsetHeight,n.clientHeight)}else if(typeof e=="number"){r=e;i=e}else{r=e.x;i=e.y}return{x:r,y:i}},updateAutoRefresh:function(e){this.getElement().toggleListener(e,"resize","onElementResize",this);this.getContainer().toggleListener(e,"resize","onContainerResize",this)},applySlotSnapSize:function(e){if(typeof e=="number"){return{x:e,y:e}}return e},applySlotSnapOffset:function(e){if(typeof e=="number"){return{x:e,y:e}}return e},getContainer:function(){var e=this.container,t;if(!e){t=this.getElement().getParent();this.container=e=this.FixedHBoxStretching?t.getParent():t;if(!e){Ext.Logger.error("Making an element scrollable that doesn't have any container")}e.addCls(this.containerCls)}return e},refresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setDirection(this.givenDirection);this.fireEvent("refresh",this);return this},onElementResize:function(e,t){this.setSize({x:t.width,y:t.height});this.refresh()},onContainerResize:function(e,t){this.setContainerSize({x:t.width,y:t.height});this.refresh()},scrollTo:function(e,t,n){var r=this,i;if(r.isDestroyed){return r}if(typeof e!="number"&&arguments.length===1){Ext.Logger.deprecate("Calling scrollTo() with an object argument is deprecated, "+"please pass x and y arguments instead",r);t=e.y;e=e.x}var s=r.getTranslatable(),o=r.getPosition(),u=false,a,f;if(r.isAxisEnabled("x")){if(isNaN(e)||typeof e!="number"){e=o.x}else{if(o.x!==e){u=true}}a=this.convertX(-e)}if(r.isAxisEnabled("y")){if(isNaN(t)||typeof t!="number"){t=o.y}else{if(o.y!==t){u=true}}f=-t}if(u){if(n!==undefined&&n!==false){i=function(){r.fireEvent("scroll",r,e,t)};if(n===true){n={callback:i}}else if(n.callback){n.callback=Ext.Function.createSequence(n.callback,i)}else{n.callback=i}s.translateAnimated(a,f,n)}else{s.translate(a,f);r.fireEvent("scroll",r,e,t)}}return this},scrollToTop:function(e){var t=this.getInitialOffset();return this.scrollTo(t.x,t.y,e)},scrollToEnd:function(e){var t=this.getSize(),n=this.getContainerSize();return this.scrollTo(t.x-n.x,t.y-n.y,e)},scrollBy:function(e,t,n){var r=this.getPosition();e=typeof e=="number"?e+r.x:null;t=typeof t=="number"?t+r.y:null;return this.scrollTo(e,t,n)},onEvent:function(e){var t=this,n=e.browserEvent;if(!Ext.supports.Touch||t.getMouseEnabled()||!t.isMouseEvent[n.type]&&n.pointerType!=="mouse"){t[t.listenerMap[e.type]](e)}},onTouchStart:function(){this.isTouching=this.self.isTouching=true;this.stopAnimation()},onTouchEnd:function(){var e=this.getPosition();this.isTouching=this.self.isTouching=false;if(!this.isDragging&&this.snapToSlot()){this.fireEvent("scrollstart",this,e.x,e.y)}},onDragStart:function(e){var t=this.getDirection(),n=e.absDeltaX,r=e.absDeltaY,i=this.getDirectionLock(),s=this.startPosition,o=this.flickStartPosition,u=this.flickStartTime,a=this.lastDragPosition,f=this.getPosition(),l=this.dragDirection,c=f.x,h=f.y,p=Ext.Date.now();this.isDragging=true;if(i&&t!=="both"){if(t==="horizontal"&&n>r||t==="vertical"&&r>n){e.stopPropagation()}else{this.isDragging=false;return}}a.x=c;a.y=h;o.x=c;o.y=h;s.x=c;s.y=h;u.x=p;u.y=p;l.x=0;l.y=0;this.dragStartTime=p;this.isDragging=true;this.fireEvent("scrollstart",this,c,h)},onAxisDrag:function(e,t){if(!this.isAxisEnabled(e)){return}var n=this.flickStartPosition,r=this.flickStartTime,i=this.lastDragPosition,s=this.dragDirection,o=this.getPosition()[e],u=this.getMinPosition()[e],a=this.getMaxPosition()[e],f=this.startPosition[e],l=i[e],c=f-t,h=s[e],p=this.getOutOfBoundRestrictFactor(),d=this.getStartMomentumResetTime(),v=Ext.Date.now(),m;if(c<u){c*=p}else if(c>a){m=c-a;c=a+m*p}if(c>l){s[e]=1}else if(c<l){s[e]=-1}if(h!==0&&s[e]!==h||v-r[e]>d){n[e]=o;r[e]=v}i[e]=c},onDrag:function(e){if(!this.isDragging){return}var t=this.lastDragPosition;this.onAxisDrag("x",this.convertX(e.deltaX));this.onAxisDrag("y",e.deltaY);this.scrollTo(t.x,t.y)},onDragEnd:function(e){var t,n;if(!this.isDragging){return}this.dragEndTime=Ext.Date.now();this.onDrag(e);this.isDragging=false;t=this.getAnimationEasing("x",e);n=this.getAnimationEasing("y",e);if(t||n){this.getTranslatable().animate(t,n)}else{this.onScrollEnd()}},getAnimationEasing:function(e,t){if(!this.isAxisEnabled(e)){return null}var n=this.getPosition()[e],r=this.getMinPosition()[e],i=this.getMaxPosition()[e],s=this.getMaxAbsoluteVelocity(),o=null,u=this.dragEndTime,a=t.flick.velocity[e],f=e==="x",l,c;if(n<r){o=r}else if(n>i){o=i}if(f){n=this.convertX(n);o=this.convertX(o)}if(o!==null){c=this.getBounceEasing()[e];c.setConfig({startTime:u,startValue:-n,endValue:-o});return c}if(a===0){return null}if(a<-s){a=-s}else if(a>s){a=s}if(Ext.browser.is.IE){a*=2}c=this.getMomentumEasing()[e];l={startTime:u,startValue:-n,startVelocity:a*1.5,minMomentumValue:-i,maxMomentumValue:0};if(f){this.convertEasingConfig(l)}c.setConfig(l);return c},onAnimationFrame:function(e,t,n){var r=this.getPosition();this.fireEvent("scroll",this,this.convertX(r.x),r.y)},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var e=this.getPosition();if(this.isTouching||!this.snapToSlot()){this.fireEvent("scrollend",this,e.x,e.y)}},snapToSlot:function(){var e=this.getSnapPosition("x"),t=this.getSnapPosition("y"),n=this.getSlotSnapEasing();if(e!==null||t!==null){this.scrollTo(e,t,{easingX:n.x,easingY:n.y});return true}return false},getSnapPosition:function(e){var t=this.getSlotSnapSize()[e],n=null,r,i,s,o;if(t!==0&&this.isAxisEnabled(e)){r=this.getPosition()[e];i=this.getSlotSnapOffset()[e];s=this.getMaxPosition()[e];o=Math.floor((r-i)%t);if(o!==0){if(r!==s){if(Math.abs(o)>t/2){n=Math.min(s,r+(o>0?t-o:o-t))}else{n=r-o}}else{n=r-o}}}return n},snapToBoundary:function(){if(!this.getSnapToBoundary()){return}var e=this.getPosition(),t=this.getMinPosition(),n=this.getMaxPosition(),r=t.x,i=t.y,s=n.x,o=n.y,u=Math.round(e.x),a=Math.round(e.y);if(u<r){u=r}else if(u>s){u=s}if(a<i){a=i}else if(a>o){a=o}this.scrollTo(u,a)},destroy:function(){var e=this.getElement(),t=this.sizeMonitors,n;if(t){t.element.destroy();t.container.destroy()}if(e&&!e.isDestroyed){e.removeCls(this.cls);n=this.getContainer();if(n&&!n.isDestroyed){n.removeCls(this.containerCls)}}Ext.destroy(this.getTranslatable());delete this.self.instances[this.id];this.callParent(arguments)},convertX:function(e){return e},convertEasingConfig:function(e){return e}},function(){this.override({constructor:function(e){var t,n,r,i,s,o;if(!e){e={}}if(typeof e=="string"){e={direction:e}}if(arguments.length==2){Ext.Logger.deprecate("Passing element as the first argument is deprecated, pass it as the "+"'element' property of the config object instead");t=e;e=arguments[1];if(!e){e={}}e.element=t}if(e.hasOwnProperty("acceleration")){n=e.acceleration;delete e.acceleration;Ext.Logger.deprecate("'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead");Ext.merge(e,{momentumEasing:{momentum:{acceleration:n},bounce:{acceleration:n}}})}if(e.hasOwnProperty("snap")){e.slotSnapOffset=e.snap;Ext.Logger.deprecate("'snap' config is deprecated, please use the 'slotSnapOffset' config instead")}if(e.hasOwnProperty("friction")){i=e.friction;delete e.friction;Ext.Logger.deprecate("'friction' config is deprecated, set momentumEasing.momentum.friction config instead");Ext.merge(e,{momentumEasing:{momentum:{friction:i}}})}if(e.hasOwnProperty("springTension")){s=e.springTension;delete e.springTension;Ext.Logger.deprecate("'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead");Ext.merge(e,{momentumEasing:{momentum:{springTension:s}}})}if(e.hasOwnProperty("minVelocityForAnimation")){o=e.minVelocityForAnimation;delete e.minVelocityForAnimation;Ext.Logger.deprecate("'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead");Ext.merge(e,{momentumEasing:{minVelocity:o}})}this.callOverridden(arguments)},scrollToAnimated:function(e,t,n){Ext.Logger.deprecate("scrollToAnimated() is deprecated, please use `scrollTo()` and pass 'animation' as "+"the third argument instead");return this.scrollTo.apply(this,arguments)},scrollBy:function(e,t,n){if(Ext.isObject(e)){Ext.Logger.deprecate("calling `scrollBy()` with an object of `x` and `y` properties is no longer supported. "+"Please pass `x` and `y` values as two separate arguments instead");t=e.y;e=e.x}return this.callOverridden([e,t,n])},setOffset:function(e){return this.scrollToAnimated(-e.x,-e.y)}})});Ext.define("Ext.util.Base64",{singleton:true,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t=this;var n="",r,i,s,o,u,a,f,l=0;e=t._utf8_encode(e);var c=e.length;while(l<c){r=e.charCodeAt(l++);i=e.charCodeAt(l++);s=e.charCodeAt(l++);o=r>>2;u=(r&3)<<4|i>>4;a=(i&15)<<2|s>>6;f=s&63;if(isNaN(i)){a=f=64}else if(isNaN(s)){f=64}n=n+t._str.charAt(o)+t._str.charAt(u)+t._str.charAt(a)+t._str.charAt(f)}return n},decode:function(e){var t=this;var n="",r,i,s,o,u,a,f,l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var c=e.length;while(l<c){o=t._str.indexOf(e.charAt(l++));u=t._str.indexOf(e.charAt(l++));a=t._str.indexOf(e.charAt(l++));f=t._str.indexOf(e.charAt(l++));r=o<<2|u>>4;i=(u&15)<<4|a>>2;s=(a&3)<<6|f;n=n+String.fromCharCode(r);if(a!=64){n=n+String.fromCharCode(i)}if(f!=64){n=n+String.fromCharCode(s)}}n=t._utf8_decode(n);return n},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="",n=0,r=e.length;for(;n<r;n++){var i=e.charCodeAt(n);if(i<128){t+=String.fromCharCode(i)}else if(i>127&&i<2048){t+=String.fromCharCode(i>>6|192);t+=String.fromCharCode(i&63|128)}else{t+=String.fromCharCode(i>>12|224);t+=String.fromCharCode(i>>6&63|128);t+=String.fromCharCode(i&63|128)}}return t},_utf8_decode:function(e){var t="",n=0,r=0,i=0,s=0,o=e.length;while(n<o){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){s=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|s&63);n+=2}else{s=e.charCodeAt(n+1);i=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);n+=3}}return t}});Ext.define("Ext.util.LocalStorage",{id:null,destroyed:false,lazyKeys:true,prefix:"",session:false,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(e){var t=this,n=t.cache,r={_users:1},i;if(Ext.isString(e)){r.id=e}else{Ext.apply(r,e)}if(!(i=n[r.id])){i=new t(r)}else{if(i===true){Ext.Error.raise('Creating a shared instance of private local store "'+t.id+'".')}++i._users}return i},supported:true},constructor:function(e){var t=this;Ext.apply(t,e);if(!t.hasOwnProperty("id")){Ext.Error.raise("No id was provided to the local store.")}if(t._users){Ext.util.LocalStorage.cache[t.id]=t}else{if(Ext.util.LocalStorage.cache[t.id]){Ext.Error.raise('Cannot create duplicate instance of local store "'+t.id+'". Use Ext.util.LocalStorage.get() to share instances.')}Ext.util.LocalStorage.cache[t.id]=true}t.init()},init:function(){var e=this,t=e.id;if(!e.prefix&&t){e.prefix=t+"-"}e._store=e.session?window.sessionStorage:window.localStorage},destroy:function(){var e=this;if(e._users){Ext.log.warn("LocalStorage(id="+e.id+") destroyed while in use")}delete Ext.util.LocalStorage.cache[e.id];e._store=e._keys=null;e.destroyed=true;e.destroy=Ext.emptyFn},getKeys:function(){var e=this,t=e._store,n=e.prefix,r=e._keys,i=n.length,s,o;if(!r){e._keys=r=[];for(s=t.length;s--;){o=t.key(s);if(o.length>i){if(n===o.substring(0,i)){r.push(o.substring(i))}}}}return r},release:function(){if(!--this._users){this.destroy()}},save:Ext.emptyFn,clear:function(){var e=this,t=e._store,n=e.prefix,r=e._keys||e.getKeys(),i;for(i=r.length;i--;){t.removeItem(n+r[i])}r.length=0},key:function(e){var t=this._keys||this.getKeys();return 0<=e&&e<t.length?t[e]:null},getItem:function(e){var t=this.prefix+e;return this._store.getItem(t)},removeItem:function(e){var t=this,n=t.prefix+e,r=t._store,i=t._keys,s=r.length;r.removeItem(n);if(i&&s!==r.length){if(t.lazyKeys){t._keys=null}else{Ext.Array.remove(i,e)}}},setItem:function(e,t){var n=this,r=n.prefix+e,i=n._store,s=i.length,o=n._keys;i.setItem(r,t);if(o&&s!==i.length){o.push(e)}}},function(){var e=this;if("localStorage"in window){return}if(!Ext.isIE){e.supported=false;e.prototype.init=function(){Ext.Error.raise("Local storage is not supported on this browser")};return}e.override({data:null,flushDelay:1,init:function(){var e=this,t=e.data,n;e.el=n=document.createElement("div");n.id=e.id||(e.id="extjs-localstore");n.addBehavior("#default#userdata");Ext.getHead().dom.appendChild(n);n.load(e.id);t=n.getAttribute("xdata");e.data=t=t?Ext.decode(t):{};e._flushFn=function(){e._timer=null;e.save(0)}},destroy:function(){var e=this,t=e.el;if(t){if(e._timer){e.save()}t.parentNode.removeChild(t);e.data=e.el=null;e.callParent()}},getKeys:function(){var e=this,t=e._keys;if(!t){e._keys=t=Ext.Object.getKeys(e.data)}return t},save:function(e){var t=this;if(!e){if(t._timer){clearTimeout(t._timer);t._timer=null}t.el.setAttribute("xdata",Ext.encode(t.data));t.el.save(t.id)}else if(!t._timer){t._timer=Ext.defer(t._flushFn,e)}},clear:function(){var e=this;e.data={};e._keys=null;e.save(e.flushDelay)},getItem:function(e){var t=this.data;return e in t?t[e]:null},removeItem:function(e){var t=this,n=t._keys,r=t.data;if(e in r){delete r[e];if(n){if(t.lazyKeys){t._keys=null}else{Ext.Array.remove(n,e)}}t.save(t.flushDelay)}},setItem:function(e,t){var n=this,r=n.data,i=n._keys;if(i&&!(e in r)){i.push(e)}r[e]=t;n.save(n.flushDelay)}})});Ext.define("Ext.util.TaskManager",{extend:"Ext.util.TaskRunner",alternateClassName:["Ext.TaskManager"],singleton:true});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(e,t,n){var r=this,i=r.shared;if(!i){i=r.shared=new r(e,n)}i.bind(e);i.setFixedWidth(n||"auto");return i.getSize(t)},destroy:function(){var e=this;Ext.destroy(e.shared);e.shared=null}},constructor:function(e,t){var n=this,r=Ext.getBody().createChild({"data-sticky":true,role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});n.measure=r;if(e){n.bind(e)}r.position("absolute");r.setLocalXY(-1e3,-1e3);r.hide();if(t){r.setWidth(t)}},getSize:function(e){var t=this.measure,n;t.setHtml(e);n=t.getSize();t.setHtml("");return n},bind:function(e){var t=this;t.el=Ext.get(e);t.measure.setStyle(t.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){this.measure.dom.style.width="auto";return this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){var e=this;e.measure.destroy();delete e.el;delete e.measure}},function(){Ext.Element.override({getTextWidth:function(e,t,n){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(e,this.dom.innerHTML,true)).width,t||0,n||1e6)}})});Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e;this.itemId=e.itemId=e.itemId||e.id||Ext.id();this.items=[]},isAction:true,setText:function(e){this.initialConfig.text=e;this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e;this.callEach("setIconCls",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e;this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e;this.callEach("setVisible",[!e])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e;this.initialConfig.scope=t;this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)},callEach:function(e,t){var n=this.items,r=0,i=n.length,s;Ext.suspendLayouts();for(;r<i;r++){s=n[r];s[e].apply(s,t)}Ext.resumeLayouts(true)},addComponent:function(e){this.items.push(e);e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}});Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(e,t,n){e.getTarget().setHtml(t.responseText,n.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(e){var t=this,n;e=e||{};Ext.apply(t,e);t.mixins.observable.constructor.call(t);t.setTarget(t.target);if(t.autoLoad){n=t.autoLoad;if(n===true){n=null}t.load(n)}},setTarget:function(e){var t=this;e=Ext.get(e);if(t.target&&t.target!=e){t.abort()}t.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;if(e!==undefined){Ext.Ajax.abort(e.request);if(e.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(e===true?null:e)},load:function(e){if(!this.target){Ext.Error.raise("A valid target is required when loading content")}e=Ext.apply({},e);var t=this,n=Ext.isDefined(e.loadMask)?e.loadMask:t.loadMask,r=Ext.apply({},e.params),i=Ext.apply({},e.ajaxOptions),s=e.callback||t.callback,o=e.scope||t.scope||t,u=e.rendererScope||t.rendererScope||t;Ext.applyIf(i,t.ajaxOptions);Ext.applyIf(e,i);Ext.applyIf(r,t.params);Ext.apply(r,t.baseParams);Ext.applyIf(e,{url:t.url});if(!e.url){Ext.Error.raise("You must specify the URL from which content should be loaded")}Ext.apply(e,{scope:t,params:r,callback:t.onComplete});if(t.fireEvent("beforeload",t,e)===false){return}if(n){t.addMask(n)}t.active={options:e,mask:n,scope:o,rendererScope:u,callback:s,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:t.scripts};t.active.request=Ext.Ajax.request(e);t.setOptions(t.active,e)},setOptions:Ext.emptyFn,onComplete:function(e,t,n){var r=this,i=r.active,s,o;if(i){o=i.scope;s=i.rendererScope;if(t){t=r.getRenderer(i.renderer).call(s,r,n,i)!==false}if(t){Ext.callback(i.success,o,[r,n,e]);r.fireEvent("load",r,n,e)}else{Ext.callback(i.failure,o,[r,n,e]);r.fireEvent("exception",r,n,e)}Ext.callback(i.callback,o,[r,t,n,e]);if(i.mask){r.removeMask()}}delete r.active},getRenderer:function(e){if(Ext.isFunction(e)){return e}return this.statics().Renderer.Html},startAutoRefresh:function(e,t){var n=this;n.stopAutoRefresh();n.autoRefresh=Ext.interval(function(){n.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var e=this;e.stopAutoRefresh();delete e.target;e.abort();e.clearListeners()}});Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(e,t,n){var r=true;try{e.getTarget().update(Ext.decode(t.responseText))}catch(i){r=false}return r},Component:function(e,t,n){var r=true,i=e.getTarget(),s=[];if(!i.isContainer){Ext.Error.raise({target:i,msg:"Components can only be loaded into a container"})}try{s=Ext.decode(t.responseText)}catch(o){r=false}if(r){i.suspendLayouts();if(n.removeAll){i.removeAll()}i.add(s);i.resumeLayouts(true)}return r}}},target:null,loadOnRender:false,loadMask:false,renderer:"html",setTarget:function(e){var t=this;if(Ext.isString(e)){e=Ext.getCmp(e)}if(t.target&&t.target!=e){t.abort()}t.target=e;if(e&&t.loadOnRender){if(e.rendered){t.doLoadOnRender()}else{t.mon(e,"render",t.doLoadOnRender,t)}}},doLoadOnRender:function(){var e=this.loadOnRender;this.load(Ext.isObject(e)?e:null)},removeMask:function(){this.target.setLoading(false)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(e){if(Ext.isFunction(e)){return e}var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.layout.SizeModel",{constructor:function(e){var t=this,n=t.self,r=n.sizeModelsArray,i;Ext.apply(t,e);t[i=t.name]=true;t.fixed=!(t.auto=t.natural||t.shrinkWrap);r[t.ordinal=r.length]=n[i]=n.sizeModels[i]=t},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},function(){var e=this,t=e.sizeModelsArray,n,r,i,s,o;new e({name:"calculated"});new e({name:"configured",names:{width:"width",height:"height"}});new e({name:"natural"});new e({name:"shrinkWrap"});new e({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new e({name:"calculatedFromNatural",natural:true});new e({name:"calculatedFromShrinkWrap",shrinkWrap:true});new e({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new e({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new e({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(n=0,i=t.length;n<i;++n){o=t[n];o.pairsByHeightOrdinal=s=[];for(r=0;r<i;++r){s.push({width:o,height:t[r]})}}});Ext.define("Ext.layout.Layout",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.XTemplate","Ext.layout.SizeModel"],uses:["Ext.layout.Context"],factoryConfig:{type:"layout"},isLayout:true,initialized:false,running:false,needsItemSize:true,setsItemSize:true,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:false,$configStrict:false,constructor:function(e){var t=this;t.id=Ext.id(null,t.type+"-");t.initConfig(e);delete t.type;t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t=this,n=t.context,r;if(t.lastWidthModel!=e.widthModel){if(t.lastWidthModel){r=true}t.lastWidthModel=e.widthModel}if(t.lastHeightModel!=e.heightModel){if(t.lastWidthModel){r=true}t.lastHeightModel=e.heightModel}if(r){(n=e.context).clearTriggers(t,false);n.clearTriggers(t,true);t.triggerCount=0}},finishedLayout:function(e){this.lastWidthModel=e.widthModel;this.lastHeightModel=e.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},getScrollerEl:Ext.emptyFn,isItemBoxParent:function(e){return false},isItemLayoutRoot:function(e){var t=e.getSizeModel(),n=t.width,r=t.height;if(!e.componentLayout.lastComponentSize&&(n.calculated||r.calculated)){return false}return!n.shrinkWrap&&!r.shrinkWrap},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var n=e.length,r,i,s,o;if(n){o=[];for(r=0;r<n;++r){i=e[r];if(!i.rendered){if(t&&t[i.id]!==undefined){s=t[i.id]}else{this.configureItem(i);s=i.getRenderTree();if(t){t[i.id]=s}}if(s){o.push(s)}}}}return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var n=t.length,r,i;for(r=0;r<n;r++){i=t[r];if(i.rendering){i.finishRender(r)}}},renderChildren:function(){var e=this,t=e.getLayoutItems(),n=e.getRenderTarget();e.renderItems(t,n)},renderItems:function(e,t){var n=this,r=e.length,i=0,s;if(r){Ext.suspendLayouts();for(;i<r;i++){s=e[i];if(s&&!s.rendered){n.renderItem(s,t,i)}else if(!n.isValidParent(s,t,i)){n.moveItem(s,t,i)}else{n.configureItem(s)}}Ext.resumeLayouts(true)}},isValidParent:function(e,t,n){var r=t&&t.dom||t,i=this.getItemLayoutEl(e);if(i&&r){if(typeof n=="number"){n=this.getPositionOffset(n);return i===r.childNodes[n]}return i.parentNode===r}return false},getItemLayoutEl:function(e){var t=e.el?e.el.dom:Ext.getDom(e),n=t.parentNode,r;if(n){r=n.className;if(r&&r.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1){t=t.parentNode}}return t},getPositionOffset:function(e){return e},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,n){var r=this;if(!e.rendered){r.configureItem(e);e.render(t,n)}},moveItem:function(e,t,n){t=t.dom||t;if(typeof n=="number"){n=t.childNodes[n]}t.insertBefore(e.el.dom,n||null);e.container=Ext.get(t);this.configureItem(e)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},onAdd:function(e){e.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t=this,n=e.el,r=t.owner,i;if(e.rendered){i=[].concat(t.itemCls||[]);if(r.itemCls){i=Ext.Array.push(i,r.itemCls)}if(i.length){n.removeCls(i)}}delete e.ownerLayout},destroy:function(){var e=this,t;if(e.targetCls){t=e.getTarget();if(t){t.removeCls(e.targetCls)}}e.onDestroy()},sortWeightedItems:function(e,t){for(var n=0,r=e.length;n<r;++n){e[n].$i=n}Ext.Array.sort(e,function(e,n){var r=n.weight-e.weight;if(!r){r=e.$i-n.$i;if(e[t]){r=-r}}return r});for(n=0;n<r;++n){delete e[n].$i}}},function(){var e=this;e.prototype.sizeModels=e.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:["Ext.util.ElementContainer"],requires:["Ext.XTemplate"],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},beginLayout:function(e){this.callParent(arguments);e.targetContext=e.paddingContext=e.getEl("getTarget",this);this.cacheChildItems(e)},beginLayoutCycle:function(e,t){var n=this;n.callParent(arguments);if(t){if(n.usesContainerHeight){++e.consumersContainerHeight}if(n.usesContainerWidth){++e.consumersContainerWidth}}},cacheChildItems:function(e){var t=this,n,r,i,s,o;if(t.needsItemSize||t.setsItemSize){n=e.context;r=e.childItems=[];i=e.visibleItems=t.getVisibleItems();s=i.length;for(o=0;o<s;++o){r.push(n.getCmp(i[o]))}}},cacheElements:function(){var e=this.owner;this.attachChildEls(e.el,e)},calculate:function(e){var t=e.props,n=e.el;if(e.widthModel.shrinkWrap&&isNaN(t.width)){e.setContentWidth(n.getWidth())}if(e.heightModel.shrinkWrap&&isNaN(t.height)){e.setContentHeight(n.getHeight())}},configureItem:function(e){var t=this,n=t.itemCls,r=t.owner.itemCls,i,s;e.ownerLayout=t;if(n){if(typeof n==="string"){s=[n]}else{s=n;i=!!s}}if(r){if(i){s=Ext.Array.clone(s)}s=Ext.Array.push(s||[],r)}if(s){e.addCls(s)}},doRenderBody:function(e,t){this.renderItems(e,t);this.renderContent(e,t)},doRenderContainer:function(e,t){var n=t.$comp.layout,r=n.getRenderTpl(),i=n.getRenderData();r.applyOut(i,e)},doRenderItems:function(e,t){var n=t.$layout,r=n.getRenderTree();if(r){Ext.DomHelper.generateMarkup(r,e)}},finishRender:function(){var e=this,t,n;e.callParent();e.cacheElements();t=e.getRenderTarget();n=e.getLayoutItems();e.finishRenderItems(t,n)},notifyOwner:function(){if(!this._hasTargetWarning&&this.targetCls&&!this.getTarget().hasCls(this.targetCls)){this._hasTargetWarning=true;Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+this.owner.id)}this.owner.afterLayout(this)},getContainerSize:function(e,t){var n=e.targetContext,r=n.getFrameInfo(),i=e.paddingContext.getPaddingInfo(),s=0,o=0,u,a,f,l;if(!e.widthModel.shrinkWrap){++o;f=t?n.getDomProp("width"):n.getProp("width");u=typeof f=="number";if(u){++s;f-=r.width+i.width;if(f<0){f=0}}}if(!e.heightModel.shrinkWrap){++o;l=t?n.getDomProp("height"):n.getProp("height");a=typeof l=="number";if(a){++s;l-=r.height+i.height;if(l<0){l=0}}}return{width:f,height:l,needed:o,got:s,gotAll:s==o,gotWidth:u,gotHeight:a}},getPositionOffset:function(e){if(!this.createsInnerCt){var t=this.owner.itemNodeOffset;if(t){e+=t}}return e},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e=this,t=e.getRenderTarget(),n=e.getLayoutItems(),r=n.length,i=[],s,o;for(s=0;s<r;s++){o=n[s];if(o.rendered&&e.isValidParent(o,t,s)){i.push(o)}}return i},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=this,t=Ext.XTemplate.getTpl(this,"renderTpl");if(!t.renderContent){e.owner.setupRenderTpl(t)}return t},getRenderTree:function(){var e,t=this.owner.items,n,r={};do{n=t.generation;e=this.getItemsRenderTree(this.getLayoutItems(),r)}while(t.generation!==n);return e},renderChildren:function(){var e=this,t=e.owner.items,n=e.getRenderTarget(),r,i;do{r=t.generation;i=e.getLayoutItems();e.renderItems(i,n)}while(t.generation!==r)},getScrollbarsNeeded:function(e,t,n,r){var i=Ext.getScrollbarSize(),s=typeof e=="number",o=typeof t=="number",u=0,a=0;if(!i.width){return 0}if(o&&t<r){a=2;e-=i.width}if(s&&e<n){u=1;if(!a&&o){t-=i.height;if(t<r){a=2}}}return a+u},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e=this.getRenderTarget(),t=this.getLayoutItems(),n=t.length,r=[],i,s;for(i=0;i<n;i++){s=t[i];if(s.rendered&&this.isValidParent(s,e,i)&&s.hidden!==true&&!s.floated){r.push(s)}}return r},getMoveAfterIndex:function(e){var t=this.owner,n=t.items;return n.indexOf(e)+1},moveItemBefore:function(e,t){var n=this.owner,r=e.ownerCt,i=n.items,s;if(e===t){return e}if(r){r.remove(e,false)}if(t){s=i.indexOf(t)}else{s=i.length}return n.insert(s,e)},setupRenderTpl:function(e){var t=this;e.renderBody=t.doRenderBody;e.renderContainer=t.doRenderContainer;e.renderItems=t.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(e){if(!e.liquidLayout){++this.activeItemCount}this.callParent([e])},onRemove:function(e){if(!e.liquidLayout){--this.activeItemCount}this.callParent([e])}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:false,managePadding:true,manageOverflow:false,needsItemSize:false,setsItemSize:false,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(e){this.callParent(arguments);this.initContextItems(e)},beforeLayoutCycle:function(e){var t=this.owner,n=t.inheritedState,r=t.inheritedStateInner;if(!n||n.invalid){n=t.getInherited();r=t.inheritedStateInner}if(e.widthModel.shrinkWrap){r.inShrinkWrapTable=true}else{delete r.inShrinkWrapTable}},beginLayoutCycle:function(e){var t=this,n=t.outerCt,r=t.lastOuterCtWidth||"",i=t.lastOuterCtHeight||"",s=t.lastOuterCtTableLayout||"",o=e.state,u,a,f,l,c;t.callParent(arguments);a=f=l="";if(!e.widthModel.shrinkWrap){a="100%";c=t.owner.inheritedStateInner;u=t.getOverflowXStyle(e);l=c.inShrinkWrapTable||u==="auto"||u==="scroll"?"":"fixed"}if(!e.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){f="100%"}if(a!==r||t.hasOuterCtPxWidth){n.setStyle("width",a);t.lastOuterCtWidth=a;t.hasOuterCtPxWidth=false}if(l!==s){n.setStyle("table-layout",l);t.lastOuterCtTableLayout=l}if(f!==i||t.hasOuterCtPxHeight){n.setStyle("height",f);t.lastOuterCtHeight=f;t.hasOuterCtPxHeight=false}if(t.hasInnerCtPxHeight){t.innerCt.setStyle("height","");t.hasInnerCtPxHeight=false}o.overflowAdjust=o.overflowAdjust||t.lastOverflowAdjust},calculate:function(e){var t=this,n=e.state,r=t.getContainerSize(e,true),i=n.calculatedItems||(n.calculatedItems=t.calculateItems?t.calculateItems(e,r):true);t.setCtSizeIfNeeded(e,r);if(i&&e.hasDomProp("containerChildrenSizeDone")){t.calculateContentSize(e);if(r.gotAll){if(t.manageOverflow&&!e.state.secondPass&&!t.reserveScrollbar){t.calculateOverflow(e,r)}return}}t.done=false},calculateContentSize:function(e){var t=this,n=(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),r=n&1||undefined,i=n&2||undefined,s=0,o=e.props;if(r){if(isNaN(o.contentWidth)){++s}else{r=undefined}}if(i){if(isNaN(o.contentHeight)){++s}else{i=undefined}}if(s){if(r&&!e.setContentWidth(t.measureContentWidth(e))){t.done=false}if(i&&!e.setContentHeight(t.measureContentHeight(e))){t.done=false}}},calculateOverflow:function(e){var t=this,n,r,i,s,o,u,a;o=t.getOverflowXStyle(e)==="auto";u=t.getOverflowYStyle(e)==="auto";if(o||u){i=Ext.getScrollbarSize();a=e.overflowContext.el.dom;s=0;if(a.scrollWidth>a.clientWidth){s|=1}if(a.scrollHeight>a.clientHeight){s|=2}n=u&&s&2?i.width:0;r=o&&s&1?i.height:0;if(n!==t.lastOverflowAdjust.width||r!==t.lastOverflowAdjust.height){t.done=false;e.invalidate({state:{overflowAdjust:{width:n,height:r},overflowState:s,secondPass:true}})}}},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderBody:function(e,t){var n=t.$layout,r=Ext.XTemplate,i=n.beforeBodyTpl,s=n.afterBodyTpl;if(i){r.getTpl(n,"beforeBodyTpl").applyOut(t,e)}this.renderItems(e,t);this.renderContent(e,t);if(s){r.getTpl(n,"afterBodyTpl").applyOut(t,e)}},doRenderPadding:function(e,t){var n=t.$layout,r=t.$layout.owner,i=r[r.contentPaddingProperty];if(n.managePadding&&i){e.push("padding:",r.unitizeBox(i))}},finishedLayout:function(e){var t=this.innerCt;this.callParent(arguments);if(Ext.isIE8){t.repaint()}if(Ext.isOpera){t.setStyle("position","relative");t.dom.scrollWidth;t.setStyle("position","")}},getContainerSize:function(e,t){var n=this.callParent(arguments),r=e.state.overflowAdjust;if(r){n.width-=r.width;n.height-=r.height}return n},getRenderData:function(){var e=this,t=e.callParent();t.innerCtCls=e.innerCtCls;t.outerCtCls=e.outerCtCls;return t},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(e){return e.overflowXStyle||(e.overflowXStyle=this.owner.scrollFlags.overflowX||e.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return e.overflowYStyle||(e.overflowYStyle=this.owner.scrollFlags.overflowY||e.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var t=this,n=e.target,r=t.owner.customOverflowEl;e.outerCtContext=e.getEl("outerCt",t);e.innerCtContext=e.getEl("innerCt",t);if(r){e.overflowContext=e.getEl(r)}else{e.overflowContext=e.targetContext}if(n[n.contentPaddingProperty]!==undefined){e.paddingContext=e.innerCtContext}},initLayout:function(){var e=this,t=Ext.getScrollbarSize().width,n=e.owner;e.callParent();if(t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")){if(n.autoScroll||e.reserveScrollbar){e.lastOverflowAdjust={width:t,height:0}}}},measureContentHeight:function(e){var t=this.outerCt.getHeight(),n=e.target;if(this.managePadding&&n[n.contentPaddingProperty]===undefined){t+=e.targetContext.getPaddingInfo().height}return t},measureContentWidth:function(e){var t,n,r,i,s;if(this.chromeCellMeasureBug){t=this.innerCt.dom;n=t.style;r=n.display;if(r=="table-cell"){n.display="";t.offsetWidth;n.display=r}}if(Ext.isSafari){t=this.outerCt.dom;n=t.style;n.display="table-cell";t.offsetWidth;t.style.display=""}i=this.outerCt.getWidth();s=e.target;if(this.managePadding&&s[s.contentPaddingProperty]===undefined){i+=e.targetContext.getPaddingInfo().width}return i},setCtSizeIfNeeded:function(e,t){var n=this,r=t.height,i=e.paddingContext.getPaddingInfo(),s=n.getTarget(),o=n.getOverflowXStyle(e),u=o==="auto"||o==="scroll",a=Ext.getScrollbarSize(),f,l;if(r&&!e.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){f=true}if(Ext.isIE8){l=true}if((f||l)&&u&&s.dom.scrollWidth>s.dom.clientWidth){r=Math.max(r-a.height,0)}if(f){e.outerCtContext.setProp("height",r+i.height);n.hasOuterCtPxHeight=true}if(l){e.innerCtContext.setProp("height",r);n.hasInnerCtPxHeight=true}}},setupRenderTpl:function(e){this.callParent(arguments);e.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",requires:["Ext.util.SorterCollection","Ext.util.FilterCollection"],statics:{zBase:9e3,activeCounter:0},constructor:function(e){var t=this;t.id=Ext.id(null,"zindex-mgr-");t.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(e,t){var n=(e.alwaysOnTop||0)-(t.alwaysOnTop||0);if(!n){n=e.getActiveCounter()-t.getActiveCounter()}return n}},filters:{filterFn:function(e){return e.isVisible()}}});t.zIndexStack.addObserver(t);t.front=null;t.globalListeners=Ext.globalEvents.on({hide:t.onComponentShowHide,show:t.onComponentShowHide,scope:t,destroyable:true});if(e){if(e.isContainer){e.on("resize",t._onContainerResize,t);t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):undefined,t.getNextZSeed());t.targetEl=e.getTargetEl();t.container=e}else{Ext.on("resize",t._onContainerResize,t);t.zseed=t.getNextZSeed();t.targetEl=Ext.get(e)}}else{t.zseed=t.getNextZSeed();Ext.onReady(function(){Ext.on("resize",t._onContainerResize,t);t.targetEl=Ext.getBody()})}},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){this.zseed=e;return this.onCollectionSort()},onCollectionSort:function(){var e=this,t=e.front,n=e.zIndexStack.getRange(),r=n.length,i,s=e.zseed,o,u,a;for(i=0;i<r;i++){o=n[i];s=o.setZIndex(s);if(o.modal){u=o}}if(o&&o!==t){if(t&&!t.destroying){t.setActive(false,o)}a=o.modal||o.focusOnToFront&&!o.preventFocusOnActivate;o.setActive(true,null,a)}e.front=o;if(u){e._showModalMask(u)}else{e._hideModalMask()}return s},onComponentUpdate:function(e){if(this.zIndexStack.contains(e)){this.zIndexStack.sort()}},onComponentShowHide:function(e){var t=this.zIndexStack;if(e.isFloating()&&!this.hidingAll&&(t.getSource()||t).contains(e)){t.itemChanged(e,"hidden");t.sort();if(!e.isVisible()){e.setActive(false)}}},_showModalMask:function(e){var t=this,n=e.el.getStyle("zIndex")-4,r=e.floatParent?e.floatParent.getTargetEl():e.container,i=t.mask,s=t.maskShim,o,u;if(!i){i=t.mask=Ext.getBody().createChild({"data-sticky":true,role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"});i.setVisibilityMode(Ext.Element.DISPLAY);i.on("click",t._onMaskClick,t)}i.maskTarget=r;o=t._getMaskBox();if(s){s.setStyle("zIndex",n);s.show();s.setBox(o)}i.setStyle("zIndex",n);u="data-savedtabindex-"+r.getId();r.saveTabbableState(u);r.saveChildrenTabbableState(u);i.show();i.setBox(o)},_hideModalMask:function(){var e=this.mask,t=this.maskShim,n,r;if(e&&e.isVisible()){n=e.maskTarget;r="data-savedtabindex-"+n.getId();n.restoreChildrenTabbableState(r);n.restoreTabbableState(r);e.maskTarget=undefined;e.hide();if(t){t.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},_getMaskBox:function(){var e=this.mask.maskTarget;if(e.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return e.getBox()}},_onContainerResize:function(){var e=this,t=e.mask,n=e.maskShim,r;if(t&&t.isVisible()){t.hide();if(n){n.hide()}r=e._getMaskBox();if(n){n.setSize(r);n.show()}t.setSize(r);t.show()}},register:function(e){var t=this;if(e.zIndexManager){e.zIndexManager.unregister(e)}e.zIndexManager=t;t.zIndexStack.add(e)},unregister:function(e){delete e.zIndexManager;this.zIndexStack.remove(e);this.onCollectionSort()},get:function(e){return e.isComponent?e:this.zIndexStack.get(e)},bringToFront:function(e,t){var n=this,r=n.zIndexStack,i=r.last(),s,o=e.preventFocusOnActivate;if(r.find("alwaysOnTop",true)){return false}e=n.get(e);e.preventFocusOnActivate=t;e.setActiveCounter(++Ext.ZIndexManager.activeCounter);e.preventFocusOnActivate=o;s=r.last();return s===e&&s!==i},sendToBack:function(e){e=this.get(e);e.setActiveCounter(0);return e},hideAll:function(){var e=this.zIndexStack.getRange(),t=e.length,n;this.hidingAll=true;for(n=0;n<t;n++){e[n].hide()}this.hidingAll=true},hide:function(){var e=this,t=e.tempHidden=e.zIndexStack.getRange(),n=t.length,r,i;for(r=0;r<n;r++){i=t[r];i.el.hide();i.hidden=true}},show:function(){var e,t=this.tempHidden,n=t?t.length:0,r;for(e=0;e<n;e++){r=t[e];r.el.show();r.hidden=false;r.setPosition(r.x,r.y)}this.tempHidden=null},getActive:function(){return this.zIndexStack.last()},getBy:function(e,t){return this.zIndexStack.filterBy(e,t).getRange()},each:function(e,t){this.zIndexStack.each(e,t)},eachBottomUp:function(e,t){var n=this.zIndexStack.getRange(),r,i=n.length,s;for(r=0;r<i;r++){s=n[r];if(s.isComponent&&e.call(t||s,s)===false){return}}},eachTopDown:function(e,t){var n=this.zIndexStack.getRange(),r,i;for(r=n.length;r-->0;){i=n[r];if(i.isComponent&&e.call(t||i,i)===false){return}}},destroy:function(){var e=this,t=e.zIndexStack.getRange(),n=t.length,r;for(r=0;r<n;r++){Ext.destroy(t[r])}Ext.destroy(e.mask,e.maskShim,e.zIndexStack,e.globalListeners);e.zIndexStack=e.container=e.targetEl=e.globalListeners=null}},function(){Ext.WindowManager=Ext.WindowMgr=new this});Ext.define("Ext.container.Container",{extend:"Ext.Component",xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],mixins:["Ext.mixin.Queryable"],renderTpl:"{%this.renderContainer(out,values)%}",isContainer:true,autoDestroy:true,defaultType:"panel",detachOnRemove:true,items:undefined,layout:"auto",suspendLayout:false,_applyDefaultsOptions:{defaults:true,strict:false},ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var e=this,t=Ext.Array.slice(arguments),n=typeof t[0]=="number"?t.shift():-1,r=e.getLayout(),i=false,s,o,u,a,f,l,c,h;if(t.length==1&&Ext.isArray(t[0])){o=t[0];s=true}else{o=t}if(e.rendered){Ext.suspendLayouts()}c=o=e.prepareItems(o,true);a=o.length;if(!s&&a==1){c=o[0]}for(u=0;u<a;u++){f=o[u];if(!f){Ext.Error.raise("Cannot add null item to Container with itemId/id: "+e.getItemId())}if(f.isDestroyed){Ext.Error.raise("Cannot add destroyed item '"+f.getId()+"' to Container '"+e.getId()+"'")}l=n<0?e.items.length:n+u;h=!!f.instancedCmp;delete f.instancedCmp;if(f.floating){e.floatingItems.add(f);f.onAdded(e,l,h);delete f.initOwnerCt;if(e.hasListeners.add){e.fireEvent("add",e,f,l)}}else if((!e.hasListeners.beforeadd||e.fireEvent("beforeadd",e,f,l)!==false)&&e.onBeforeAdd(f)!==false){e.items.insert(l,f);f.onAdded(e,l,h);delete f.initOwnerCt;e.onAdd(f,l);r.onAdd(f,l);i=true;if(e.hasListeners.add){e.fireEvent("add",e,f,l)}}}if(i){e.updateLayout()}if(e.rendered){Ext.resumeLayouts(true)}return c},onAdded:function(e,t,n){this.callParent(arguments);if(n){Ext.ComponentManager.markReferencesDirty()}},onRemoved:function(e){var t;if(!e){t=this.lookupReferenceHolder();if(t){Ext.ComponentManager.markReferencesDirty();t.clearReferences()}}this.callParent(arguments)},afterComponentLayout:function(){var e=this.floatingItems.items,t=e.length,n,r;this.callParent(arguments);for(n=0;n<t;n++){r=e[n];if(!r.rendered&&r.autoShow){r.show()}}},afterLayout:function(e){var t=this,n=t.scrollManager;++t.layoutCounter;if(n&&t.layoutCounter>1){n.refresh()}if(t.hasListeners.afterlayout){t.fireEvent("afterlayout",t,e)}},onDestroy:function(){this.callParent();this.refs=null},beforeDestroy:function(){var e=this,t=e.items,n=e.floatingItems,r;if(t){while(r=t.first()){e.doRemove(r,true)}}if(n){while(r=n.first()){e.doRemove(r,true)}}Ext.destroy(e.layout);e.callParent()},beforeRender:function(){var e=this,t=e.getLayout(),n;e.callParent();if(!t.initialized){t.initLayout()}n=t.targetCls;if(n){e.applyTargetCls(n)}},cascade:function(e,t,n){var r=this,i=r.items?r.items.items:[],s=i.length,o=0,u,a=n?n.concat(r):[r],f=a.length-1;if(e.apply(t||r,a)!==false){for(;o<s;o++){u=i[o];if(u.cascade){u.cascade(e,t,n)}else{a[f]=u;e.apply(t||u,a)}}}return this},contains:function(e,t){var n=false;if(t){this.cascade(function(t){if(t.contains&&t.contains(e)){n=true;return false}});return n}else{return this.items.contains(e)||this.floatingItems.contains(e)}},disable:function(){this.callParent(arguments);var e=this.getChildItemsToDisable(),t=e.length,n,r;for(r=0;r<t;r++){n=e[r];if(n.resetDisable!==false&&!n.disabled){n.disable();n.resetDisable=true}}return this},doLayout:function(){this.updateLayout();return this},enable:function(){this.callParent(arguments);var e=this.getChildItemsToDisable(),t=e.length,n,r;for(r=0;r<t;r++){n=e[r];if(n.resetDisable){n.enable()}}return this},getChildByElement:function(e,t){var n,r,i=0,s=this.getRefItems(),o=s.length;e=Ext.getDom(e);for(;i<o;i++){n=s[i];r=n.getEl();if(r&&(r.dom===e||r.contains(e))){return t&&n.getChildByElement?n.getChildByElement(e,t):n}}return null},getComponent:function(e){if(Ext.isObject(e)){e=e.getItemId()}var t=this.items.get(e);if(!t&&typeof e!="number"){t=this.floatingItems.get(e)}return t},getLayout:function(){var e=this,t=e.layout;if(!t||!t.isLayout){e.setLayout(t)}return e.layout},getRefItems:function(e){var t=this,n=t.items.items,r=n.length,i=0,s,o=[];for(;i<r;i++){s=n[i];o[o.length]=s;if(e&&s.getRefItems){o.push.apply(o,s.getRefItems(true))}}n=t.floatingItems.items;r=n.length;for(i=0;i<r;i++){s=n[i];o[o.length]=s;if(e&&s.getRefItems){o.push.apply(o,s.getRefItems(true))}}return o},initComponent:function(){var e=this;e.callParent();e.getLayout();e.constructing=true;e.initItems();delete e.constructing},getReferences:function(){var e=Ext.ComponentManager;if(e.referencesDirty){e.fixReferences()}return this.refs||null},lookupReference:function(e){var t=this.getReferences();return t&&t[e]||null},initItems:function(){var e=this,t=e.items;if(!t||!t.isMixedCollection){e.items=new Ext.util.AbstractMixedCollection(false,e.getComponentId);e.floatingItems=new Ext.util.MixedCollection(false,e.getComponentId);if(t){if(!Ext.isArray(t)){t=[t]}e.add(t)}}},initInheritedState:function(e,t){var n=this,r=n.controller,i=n.layout,s=n.session,o=n.viewModel,u=n.reference,a=n.referenceHolder;n.callParent([e,t]);if(n.collapsed){e.collapsed=true}if(r){e.referenceHolder=r;a=true}else if(a){e.referenceHolder=n}if(a){e.referencePath=""}else if(u&&n.isParentReference){e.referencePath=n.referenceKey+"."}if(s){e.session=s}if(o){e.viewModelPath=""}else if(u&&n.isParentReference){e.viewModelPath=n.viewModelKey+"."}if(i&&i.initInheritedState){i.initInheritedState(e,t)}},insert:function(e,t){var n;if(t&&t.isComponent){n=this.items.indexOf(t);if(n!==-1){return this.move(n,e)}}return this.add(e,t)},isAncestor:function(e){while(e){if(e.ownerCt===this){return true}e=e.ownerCt}},lookupComponent:function(e){if(!e.isComponent){if(typeof e==="string"){e=Ext.ComponentManager.get(e)}else{e=Ext.ComponentManager.create(e,this.defaultType)}}return e},move:function(e,t){var n=this,r=n.items,i;if(e.isComponent){e=r.indexOf(e)}i=r.getAt(e);if(e!==t){i=r.removeAt(e);if(i===false){return false}r.insert(t,i);n.onMove(i,e,t);if(n.hasListeners.move){n.fireEvent("move",n,i,e,t)}n.updateLayout()}return i},moveBefore:function(e,t){return this.layout.moveItemBefore(e,t)},moveAfter:function(e,t){var n=this,r=n.items,i=n.layout,s=t?i.getMoveAfterIndex(t):0,o=r.getAt(s);return i.moveItemBefore(e,o)},nextChild:function(e,t){var n=this,r=n.items,i=r.indexOf(e),s=0,o=r.length,u;if(i!==-1){if(t){for(;s<o;s++){u=r.getAt(i+s);if(!u||Ext.ComponentQuery.is(u,t)){break}}}else{u=r.getAt(i+1)}if(!u&&n.ownerCt){u=n.ownerCt.nextChild(n,t)}}return u},onAdd:Ext.emptyFn,onBeforeAdd:function(e){var t=e.ownerCt;if(t&&t!==this){t.remove(e,false)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},prevChild:function(e,t){var n=this,r=n.items,i=r.indexOf(e),s=0,o=r.length,u;if(i!==-1){if(t){for(;s<o;s++){u=r.getAt(i-s);if(!u||Ext.ComponentQuery.is(u,t)){break}}}else{u=r.getAt(i-1)}if(!u&&n.ownerCt){u=n.ownerCt.nextChild(n,t)}}return u},remove:function(e,t){var n=this,r=n.getComponent(e);if(!arguments.length){Ext.log.warn("Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.")}if(r&&(!n.hasListeners.beforeremove||n.fireEvent("beforeremove",n,r)!==false)){n.doRemove(r,t);if(n.hasListeners.remove){n.fireEvent("remove",n,r)}if(!n.destroying&&!r.floating){n.updateLayout()}}return r},removeAll:function(e){var t=this,n=t.items.items.slice().concat(t.floatingItems.items),r=[],i=0,s=n.length,o;Ext.suspendLayouts();t.removingAll=true;for(;i<s;i++){o=n[i];t.remove(o,e);if(o.ownerCt!==t){r.push(o)}}t.removingAll=false;Ext.resumeLayouts(!!s);return r},setLayout:function(e){var t=this,n=t.layout,r=n&&n.isLayout,i,s;if(typeof e==="string"){e={type:e}}s=e.type;if(r&&(!s||s===n.type)){delete e.type;n.setConfig(e)}else{if(r){n.setOwner(null)}i=t.self.prototype.layout;if(typeof i==="string"){e.type=s||i}else{Ext.merge(Ext.merge({},i),e)}e=this.layout=Ext.Factory.layout(e);e.setOwner(this)}if(t.rendered){t.updateLayout()}},setActiveItem:function(e){return this.getLayout().setActiveItem(e)},privates:{applyDefaults:function(e){var t=this,n=t.defaults;if(n){if(Ext.isFunction(n)){n=n.call(t,e)}if(Ext.isString(e)){e=Ext.ComponentManager.get(e)}if(e.isComponent){e.setConfig(n,null,t._applyDefaultsOptions)}else{e=t.getConfigurator().merge(t,Ext.Object.fork(n),e)}}return e},applyReference:function(e){var t;if(e&&e.charAt(t=e.length-1)===">"){this.isParentReference=true;e=e.substring(0,t)}if(e&&!this.validIdRe.test(e)){Ext.Error.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier")}return e},applyTargetCls:function(e){this.addCls(e)},attachReference:function(e){var t=this,n,r;if(t.destroying||t.isDestroyed){return}r=t.refs||(t.refs={});n=e.referenceKey;if(r[n]&&r[n]!==e){Ext.log.warn('Duplicate reference: "'+n+'" on '+t.id)}r[n]=e},clearReference:function(e){var t=this.refs,n=e.referenceKey;if(t&&n){e.viewModelKey=e.referenceKey=t[n]=null}},clearReferences:function(){this.refs=null},detachComponent:function(e){Ext.getDetachedBody().appendChild(e.getEl())},doRemove:function(e,t){t=t===true||t!==false&&this.autoDestroy;var n=this,r=n.layout,i=r&&n.rendered,s=e.destroying||t,o=e.floating;if(o){n.floatingItems.remove(e)}else{n.items.remove(e)}if(i&&!o){if(r.running){Ext.Component.cancelLayout(e,s)}r.onRemove(e,s)}e.onRemoved(s);n.onRemove(e,s);if(t){e.destroy()}else{if(i&&!o){r.afterRemove(e)}if(n.detachOnRemove&&e.rendered){n.detachComponent(e)}}},finishRenderChildren:function(){this.callParent();var e=this.getLayout();if(e){e.finishRender()}},getChildItemsToDisable:function(){return this.query("[isFormField],button")},getComponentId:function(e){return e.getItemId&&e.getItemId()},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getFocusEl:function(){return this.getTargetEl()},getScrollerEl:function(){return this.layout.getScrollerEl()||this.callParent()},prepareItems:function(e,t){if(Ext.isArray(e)){e=e.slice()}else{e=[e]}var n=this,r=0,i=e.length,s;for(;r<i;r++){s=e[r];if(s==null){Ext.Array.erase(e,r,1);--r;--i}else{if(t){s=this.applyDefaults(s)}s.initOwnerCt=n;if(s.isComponent){s.instancedCmp=true}e[r]=n.lookupComponent(s);delete s.initOwnerCt}}return e},repositionFloatingItems:function(){var e=this.floatingItems.items,t=e.length,n,r;for(n=0;n<t;n++){r=e[n];if(r.el&&!r.hidden){r.setPosition(r.x,r.y)}}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){var e=this.items.items,t=e.length,n=this._noMargin,r;while(t--){r=e[t];r.margin$=null;r.el.setStyle(n)}},setupRenderTpl:function(e){this.callParent(arguments);this.getLayout().setupRenderTpl(e)}}});Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=this,n=t.owner.autoSize,r=n&&n.width,i=t.sizePolicies;i=i[r]||i.$;r=n&&n.height;i=i[r]||i.$;return i},calculate:function(e){var t=this,n=t.owner,r=n.autoSize,i,s;if(r===true){r=t.autoSizeDefault}if(r){i=t.getDimension(n,r.width,"getWidth",n.width);s=t.getDimension(n,r.height,"getHeight",n.height)}e.childItems[0].setSize(i,s);e.setWidth(i);e.setHeight(s);e.setContentSize(i||n.field.getWidth(),s||n.field.getHeight())},getDimension:function(e,t,n,r){switch(t){case"boundEl":return e.boundEl[n]();case"field":return undefined;default:return r}}});Ext.define("Ext.Editor",{extend:"Ext.container.Container",xtype:"editor",requires:["Ext.layout.container.Editor"],layout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,focusOnToFront:false,hidden:true,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field,"textfield");t.inEditor=true;t.msgTarget=t.msgTarget||"qtip";e.mon(t,{scope:e,blur:e.onFieldBlur,specialkey:e.onSpecialKey});if(t.grow){e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1})}e.floating={constrain:e.constrain};e.items=t;e.callParent(arguments)},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,t){var n=this,r=n.field,i=r.inputEl;n.callParent(arguments);if(i){i.dom.name="";if(n.swallowKeys){i.swallowEvent(["keypress","keydown"])}}},onSpecialKey:function(e,t){var n=this,r=t.getKey(),i=n.completeOnEnter&&r==t.ENTER,s=n.cancelOnEsc&&r==t.ESC;if(i||s){t.stopEvent();Ext.defer(function(){if(i){n.completeEdit()}else{n.cancelEdit()}},1)}n.fireEvent("specialkey",n,e,t)},startEdit:function(e,t){var n=this,r=n.field,i;n.completeEdit();n.boundEl=Ext.get(e);i=n.boundEl.dom;t=Ext.isDefined(t)?t:Ext.String.trim(i.textContent||i.innerText||i.innerHTML);if(!n.rendered&&!n.renderTo&&n.ownerCt){(n.renderTo=n.ownerCt.el).position()}if(n.fireEvent("beforestartedit",n,n.boundEl,t)!==false){n.startValue=t;n.show();r.suspendEvents();r.reset();r.setValue(t);r.resumeEvents();n.realign(true);r.focus([r.getRawValue().length]);if(r.autoSize){r.autoSize()}n.editing=true}},realign:function(e){var t=this;if(e===true){t.updateLayout()}t.alignTo(t.boundEl,t.alignment,t.offsets)},completeEdit:function(e){var t=this,n=t.field,r;if(!t.editing){return}if(n.assertValue){n.assertValue()}r=t.getValue();if(!n.isValid()){if(t.revertInvalid!==false){t.cancelEdit(e)}return}if(String(r)===String(t.startValue)&&t.ignoreNoChange){t.onEditComplete(e);return}if(t.fireEvent("beforecomplete",t,r,t.startValue)!==false){r=t.getValue();if(t.updateEl&&t.boundEl){t.boundEl.setHtml(r)}t.onEditComplete(e);t.fireEvent("complete",t,r,t.startValue)}},onShow:function(){var e=this;e.callParent(arguments);if(e.hideEl!==false){e.boundEl.hide()}e.fireEvent("startedit",e,e.boundEl,e.startValue)},cancelEdit:function(e){var t=this,n=t.startValue,r=t.field,i;if(t.editing){if(r){i=t.editedValue=t.getValue();r.suspendEvents();t.setValue(n);r.resumeEvents()}t.onEditComplete(e);t.fireEvent("canceledit",t,i,n);delete t.editedValue}},onEditComplete:function(e){this.editing=false;if(e!==true){this.hide()}},onFieldBlur:function(e,t){var n=this,r=Ext.Element.getActiveElement();if(n.allowBlur===true&&n.editing&&n.selectSameEditor!==true){n.completeEdit()}if(Ext.fly(r).isFocusable()||r.getAttribute("tabindex")){r.focus()}},onHide:function(){var e=this,t=e.field;if(e.editing){e.completeEdit();return}if(t.collapse){t.collapse()}if(e.hideEl!==false){e.boundEl.show()}e.callParent(arguments)},setValue:function(e){this.field.setValue(e)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var e=this;Ext.destroy(e.field);delete e.field;delete e.boundEl;e.callParent(arguments)}});Ext.define("Ext.EventManager",{singleton:true,mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,addListener:function(e,t,n,r,i){Ext.log.warn("Ext.EventManager is deprecated. "+"Use Ext.dom.Element#addListener to attach an event listener.");Ext.get(e).addListener(t,n,r,i)},onWindowResize:function(e,t,n){Ext.log.warn("Ext.EventManager is deprecated. "+"Use Ext.on('resize', fn) to attach a window resize listener.");Ext.GlobalEvents.on("resize",e,t,n)},onWindowUnload:function(e,t,n){Ext.log.warn("Ext.EventManager is deprecated. "+"Use Ext.getWin().on('unload', fn) to attach a window unload listener.");Ext.getWin().on("unload",e,t,n)},purgeElement:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. "+"Call clearListeners() on a Ext.dom.Element to remove all listeners.");Ext.get(e).clearListeners()},removeAll:function(e){Ext.log.warn("Ext.EventManager is deprecated. "+"Call clearListeners() on a Ext.dom.Element to remove all listeners.");Ext.get(e).clearListeners()},removeListener:function(e,t,n,r,i){Ext.log.warn("Ext.EventManager is deprecated. "+"Use Ext.dom.Element#removeListener to remove an event listener.");Ext.get(e).removeListener(t,n,r,i)},removeResizeListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. "+"Use Ext.on('resize', fn) to detach a window resize listener.");Ext.GlobalEvents.un("resize",e,t)},removeUnloadListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. "+"Use Ext.getWin().un('unload', fn) to detach a window unload listener.");Ext.getWin().un("unload",e,t)},stopEvent:function(e){Ext.log.warn("Ext.EventManager.stopEvent() is deprecated. "+"Call stopEvent() directly on the Ext.event.Event instance instead.");this.stopPropagation(e);this.preventDefault(e)},stopPropagation:function(e){Ext.log.warn("Ext.EventManager.stopPropagation() is deprecated. "+"Call stopPropagation() directly on the Ext.event.Event instance instead.");e=e.browserEvent||e;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}},preventDefault:function(e){Ext.log.warn("Ext.EventManager.preventDefault() is deprecated. "+"Call preventDefault() directly on the Ext.event.Event instance instead.");e=e.browserEvent||e;if(e.preventDefault){e.preventDefault()}else{e.returnValue=false;try{if(e.ctrlKey||e.keyCode>111&&e.keyCode<124){e.keyCode=-1}}catch(t){}}},getId:function(e){Ext.log.warn("Ext.EventManager.getId() is deprecated. "+"Call Ext.get() to assign ids to elements.");e=Ext.get(e);return e.id},getRelatedTarget:function(e){Ext.log.warn("Ext.EventManager.getRelatedTarget() is deprecated. "+"Call getRelatedTarget() directly on the Ext.event.Event instance instead.");e=e.browserEvent||e;var t=e.relatedTarget;if(!t){if(this.mouseLeaveRe.test(e.type)){t=e.toElement}else if(this.mouseEnterRe.test(e.type)){t=e.fromElement}}return this.resolveTextNode(t)},getPageX:function(e){Ext.log.warn("Ext.EventManager.getPageX() is deprecated. "+"Call getX() directly on the Ext.event.Event instance instead.");return this.getPageXY(e)[0]},getPageXY:function(e){Ext.log.warn("Ext.EventManager.getPageXY() is deprecated. "+"Call getXY() directly on the Ext.event.Event instance instead.");e=e.browserEvent||e;var t=e.pageX,n=e.pageY,r=doc.documentElement,i=doc.body;if(!t&&t!==0){t=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0);n=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)}return[t,n]},getPageY:function(e){Ext.log.warn("Ext.EventManager.getPageY() is deprecated. "+"Call getY() directly on the Ext.event.Event instance instead.");return this.getPageXY(e)[1]},getTarget:function(e){Ext.log.warn("Ext.EventManager.getTarget() is deprecated. "+"Call getTarget() directly on the Ext.event.Event instance instead.");e=e.browserEvent||e;return EventManager.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if(t!=="[xpconnect wrapped native prototype]"&&t!=="[object XULElement]"){return e.nodeType==3?e.parentNode:e}}}:function(e){return e&&e.nodeType==3?e.parentNode:e}},function(e){e.on=e.addListener;e.un=e.removeListener});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",inputTagRe:/input|textarea/i,eventName:"keydown",constructor:function(e){var t=this;if(arguments.length!==1||typeof e==="string"||e.dom||e.tagName||e===document||e.isComponent){t.legacyConstructor.apply(t,arguments);return}Ext.apply(t,e);t.bindings=[];if(!t.target.isComponent){t.target=Ext.get(t.target)}if(t.binding){t.addBinding(t.binding)}else if(e.key){t.addBinding(e)}t.enable()},legacyConstructor:function(e,t,n){var r=this;Ext.apply(r,{target:Ext.get(e),eventName:n||r.eventName,bindings:[]});if(t){r.addBinding(t)}r.enable()},addBinding:function(e){var t=this,n=e.key,r,i;if(t.processing){t.bindings=bindings.slice(0)}if(Ext.isArray(e)){for(r=0,i=e.length;r<i;r++){t.addBinding(e[r])}return}t.bindings.push(Ext.apply({keyCode:t.processKeys(n)},e))},removeBinding:function(e){var t=this,n=t.bindings,r=n.length,i,s,o;if(t.processing){t.bindings=n.slice(0)}o=t.processKeys(e.key);for(i=0;i<r;++i){s=n[i];if((s.fn||s.handler)===(e.fn||e.handler)&&s.scope===e.scope){if(e.alt===s.alt&&e.crtl===s.crtl&&e.shift===s.shift){if(Ext.Array.equals(s.keyCode,o)){Ext.Array.erase(t.bindings,i,1);return}}}}},processKeys:function(e){var t=false,n,r,i,s,o;if(Ext.isString(e)){r=[];i=e.toUpperCase();for(o=0,s=i.length;o<s;++o){r.push(i.charCodeAt(o))}e=r;t=true}if(!Ext.isArray(e)){e=[e]}if(!t){for(o=0,s=e.length;o<s;++o){n=e[o];if(Ext.isString(n)){e[o]=n.toUpperCase().charCodeAt(0)}}}return e},handleTargetEvent:function(e){var t=this,n=t.inputTagRe,r,i,s,o,u;if(t.enabled){r=t.bindings;i=0;s=r.length;t.lastKeyEvent=e=t.processEvent.apply(t||t.processEventScope,arguments);if(t.ignoreInputFields){o=e.target;u=o.contentEditable;if(n.test(o.tagName)&&o.type!=="button"||u===""||u==="true"){return}}if(!e.getKey){return e}t.processing=true;for(;i<s;++i){t.processBinding(r[i],e)}t.processing=false}},processEvent:Ext.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var n=t.getKey(),r=e.fn||e.handler,i=e.scope||this,s=e.keyCode,o=e.defaultEventAction,u,a;for(u=0,a=s.length;u<a;++u){if(n===s[u]){if(r.call(i,n,t)!==true&&o){t[o]()}break}}}},checkModifiers:function(e,t){var n=["shift","ctrl","alt"],r=0,i=n.length,s,o;for(;r<i;++r){o=n[r];s=e[o];if(!(s===undefined||s===t[o+"Key"])){return false}}return true},on:function(e,t,n){var r,i,s,o;if(Ext.isObject(e)&&!Ext.isArray(e)){r=e.key;i=e.shift;s=e.ctrl;o=e.alt}else{r=e}this.addBinding({key:r,shift:i,ctrl:s,alt:o,fn:t,scope:n})},un:function(e,t,n){var r,i,s,o;if(Ext.isObject(e)&&!Ext.isArray(e)){r=e.key;i=e.shift;s=e.ctrl;o=e.alt}else{r=e}this.removeBinding({key:r,shift:i,ctrl:s,alt:o,fn:t,scope:n})},isEnabled:function(){return this.enabled},enable:function(){var e=this;if(!e.enabled){e.target.on(e.eventName,e.handleTargetEvent,e,{capture:e.capture});e.enabled=true}},disable:function(){var e=this;if(e.enabled){e.target.removeListener(e.eventName,e.handleTargetEvent,e);e.enabled=false}},setDisabled:function(e){if(e){this.disable()}else{this.enable()}},destroy:function(e){var t=this,n=t.target;t.bindings=[];t.disable();if(e){n.destroy()}delete t.target}});Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){var t=this;if(arguments.length===2){t.legacyConstructor.apply(t,arguments);return}t.setConfig(e)},legacyConstructor:function(e,t){this.setConfig(Ext.apply({target:e},t))},setConfig:function(e){var t=this,n={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:t.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:t.forceKeyDown,e.eventName),capture:e.capture},r;if(t.map){t.map.destroy()}if(e.processEvent){n.processEvent=e.processEvent;n.processEventScope=e.processEventScope||t}if(e.keyMap){r=t.map=e.keyMap}else{r=t.map=new Ext.util.KeyMap(n);t.destroyKeyMap=true}this.addBindings(e);r.disable();if(!e.disabled){r.enable()}},addBindings:function(e){var t=this,n,r,i=t.map,s=Ext.util.KeyNav.keyOptions,o=e.scope||t;for(n in e){r=e[n];if(r&&(n.length===1||(n=s[n])||!isNaN(n=parseInt(n,10)))){if(typeof r==="function"){r={handler:r,defaultEventAction:e.defaultEventAction!==undefined?e.defaultEventAction:t.defaultEventAction}}i.addBinding({key:n,ctrl:r.ctrl,shift:r.shift,alt:r.alt,handler:Ext.Function.bind(t.handleEvent,r.scope||o,[r.handler||r.fn,t],true),defaultEventAction:r.defaultEventAction!==undefined?r.defaultEventAction:t.defaultEventAction})}}},handleEvent:function(e,t,n,r){r.lastKeyEvent=t;return n.call(this,t)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,eventName:"keypress",destroy:function(e){if(this.destroyKeyMap){this.map.destroy(e)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(e){this.map.setDisabled(e);this.disabled=e},getKeyEvent:function(e,t){if(e||Ext.supports.SpecialKeyDownRepeat&&!t){return"keydown"}else{return t||this.eventName}}});Ext.define("Ext.FocusManager",{singleton:true,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:["Ext.Component","Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:false,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(e){var t=this,n=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,e);t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t);Ext.override(Ext.Component,{onBlur:function(){this.callParent(arguments);if(t.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);t.onComponentBlur.apply(t,arguments)}},onDestroy:function(){this.callParent(arguments);if(t.enabled){Array.prototype.unshift.call(arguments,this);t.onComponentDestroy.apply(t,arguments)}},onFocus:function(){this.callParent(arguments);if(t.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);t.onComponentFocus.apply(t,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(t.enabled){Array.prototype.unshift.call(arguments,this);t.onComponentHide.apply(t,arguments)}}});t.focusData={};t.subscribers=new Ext.util.HashMap;t.focusChain={};Ext.apply(n.pseudos,{nextFocus:function(e,t,n){n=n||1;t=parseInt(t,10);var r=e.length,i=t,s;for(;;){if((i+=n)>=r){i=0}else if(i<0){i=r-1}if(i===t){return[]}if((s=e[i]).isFocusable()){return[s]}}return[]},prevFocus:function(e,t){return this.nextFocus(e,t,-1)},root:function(e){var t=e.length,n=[],r=0,i;for(;r<t;r++){i=e[r];if(!i.ownerCt){n.push(i)}}return n}})},getKeyNav:function(){var e=this;e.keyNav=e.keyNav||new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:e,backspace:e.focusLast,enter:e.navigateIn,esc:e.navigateOut,tab:e.navigateSiblings,space:e.navigateIn,del:e.focusLast,left:e.navigateSiblings,right:e.navigateSiblings,down:e.navigateSiblings,up:e.navigateSiblings});return e.keyNav},addXTypeToWhitelist:function(e){var t=this;if(Ext.isArray(e)){Ext.Array.forEach(e,t.addXTypeToWhitelist,t);return}if(!Ext.Array.contains(t.whitelist,e)){t.whitelist.push(e)}},clearComponent:function(e){clearTimeout(this.cmpFocusDelay);if(!e.isDestroyed){e.blur()}},disable:function(){var e=this;if(!e.enabled){return}delete e.options;e.enabled=false;e.removeDOM();e.getKeyNav().disable();e.fireEvent("disable",e)},enable:function(e){var t=this;if(e===true){e={focusFrame:true}}t.options=e=e||{};if(t.enabled){return}t.enabled=Ext.enableFocusManager=true;t.initDOM(e);t.getKeyNav().enable();t.focusEl.focus();delete t.focusedCmp;t.fireEvent("enable",t)},focusLast:function(e){var t=this;if(t.isWhitelisted(t.focusedCmp)){return true}if(t.previousFocusedCmp){t.previousFocusedCmp.focus()}},getRootComponents:function(){var e=Ext.ComponentQuery,t=e.query(":focusable:root:not([floating])"),n=e.query(":focusable:root[floating]");n.sort(function(e,t){return e.el.getZIndex()>t.el.getZIndex()});return n.concat(t)},initDOM:function(e){var t=this,n=t.focusFrameCls,r=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),i=0,s=r.length;if(!Ext.isReady){return Ext.onReady(t.initDOM,t)}for(;i<s;i++){r[i].addFocusListener()}if(!t.focusEl){t.focusEl=Ext.getBody();t.focusEl.dom.tabIndex=-1}if(!t.focusFrame&&e.focusFrame){t.focusFrame=Ext.getBody().createChild({cls:n,children:[{cls:n+"-top"},{cls:n+"-bottom"},{cls:n+"-left"},{cls:n+"-right"}],style:"top: -100px; left: -100px;"});t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);t.focusFrame.hide().setLocalXY(0,0)}},isWhitelisted:function(e){return e&&Ext.Array.some(this.whitelist,function(t){return e.isXType(t)})},navigateIn:function(e){var t=this,n=t.focusedCmp,r,i;if(t.isWhitelisted(n)){return true}if(!n){r=t.getRootComponents()[0];if(r){if(r.getFocusEl()===t.focusEl){t.focusEl.blur()}r.focus()}}else{i=n.hasFocus?Ext.ComponentQuery.query(">:focusable",n)[0]:n;if(i){i.focus()}else{if(Ext.isFunction(n.onClick)){e.button=0;n.onClick(e);if(n.isVisible(true)){n.focus()}else{t.navigateOut()}}}}},navigateOut:function(e){var t=this,n;if(!t.focusedCmp||!(n=t.focusedCmp.up(":focusable"))){t.focusEl.focus()}else{n.focus()}return true},navigateSiblings:function(e,t,n){var r=this,i=t||r,s=e.getKey(),o=e.shiftKey||s==e.LEFT||s==e.UP,u=s===e.LEFT||s===e.RIGHT||s===e.UP||s===e.DOWN,a=o?"prev":"next",f,l,c,h;c=i.focusedCmp&&i.focusedCmp.comp||i.focusedCmp;if(!c&&!n){return true}if(u&&r.isWhitelisted(c)){return true}if(!c||c.is(":root")){h=r.getRootComponents()}else{n=n||c.up();if(n){h=n.getRefItems()}}if(h){f=c?Ext.Array.indexOf(h,c):-1;l=Ext.ComponentQuery.query(":"+a+"Focus("+f+")",h)[0];if(l&&c!==l){l.focus();return l}}},onComponentBlur:function(e,t){var n=this;if(n.focusedCmp===e){n.previousFocusedCmp=e;delete n.focusedCmp}if(n.focusFrame){n.focusFrame.hide()}},onComponentFocus:function(e,t){var n=this,r=n.focusChain,i;if(!e.isFocusable()){n.clearComponent(e);if(r[e.id]){return}i=e.up();if(i){r[e.id]=true;i.focus()}return}n.focusChain={};n.focusTask.delay(10,null,null,[e,e.getFocusEl()])},handleComponentFocus:function(e,t){var n=this,r,i,s,o,u,a,f,l,c,h,p;if(n.fireEvent("beforecomponentfocus",n,e,n.previousFocusedCmp)===false){n.clearComponent(e);return}n.focusedCmp=e;if(n.shouldShowFocusFrame(e)){r="."+n.focusFrameCls+"-";i=n.focusFrame;s=(t.dom?t:t.el).getBox();o=s.top;u=s.left;a=s.width;f=s.height;l=i.child(r+"top");c=i.child(r+"bottom");h=i.child(r+"left");p=i.child(r+"right");l.setWidth(a).setLocalXY(u,o);c.setWidth(a).setLocalXY(u,o+f-2);h.setHeight(f-2).setLocalXY(u,o+2);p.setHeight(f-2).setLocalXY(u+a-2,o+2);i.show()}n.fireEvent("componentfocus",n,e,n.previousFocusedCmp)},onComponentHide:function(e){var t=this,n=false,r=t.focusedCmp,i;if(r){n=e.hasFocus||e.isContainer&&e.isAncestor(t.focusedCmp)}t.clearComponent(e);if(n&&(i=e.up(":focusable"))){i.focus()}else{t.focusEl.focus()}},onComponentDestroy:function(){},removeDOM:function(){var e=this;if(e.enabled||e.subscribers.length){return}Ext.destroy(e.focusFrame);delete e.focusEl;delete e.focusFrame},removeXTypeFromWhitelist:function(e){var t=this;if(Ext.isArray(e)){Ext.Array.forEach(e,t.removeXTypeFromWhitelist,t);return}Ext.Array.remove(t.whitelist,e)},setupSubscriberKeys:function(e,t){var n=this,r=e.getFocusEl(),i=t.scope,s={backspace:n.focusLast,enter:n.navigateIn,esc:n.navigateOut,scope:n},o=function(t){if(n.focusedCmp===e){return n.navigateSiblings(t,n,e)}else{return n.navigateSiblings(t)}};Ext.iterate(t,function(t,n){s[t]=function(t){var r=o(t);if(Ext.isFunction(n)&&n.call(i||e,t,r)===true){return true}return r}},n);return new Ext.util.KeyNav(r,s)},shouldShowFocusFrame:function(e){var t=this,n=t.options||{};if(!t.focusFrame||!e){return false}if(n.focusFrame){return true}if(t.focusData[e.id].focusFrame){return true}return false}});Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",ariaRole:"img",maskOnDisable:false,initComponent:function(){if(this.glyph){this.autoEl="div"}this.callParent()},getElConfig:function(){var e=this,t=e.autoEl,n=e.callParent(),r=Ext._glyphFontFamily,i=e.glyph,s,o;if(t==="img"||Ext.isObject(t)&&t.tag==="img"){s=n}else if(e.glyph){if(typeof i==="string"){o=i.split("@");i=o[0];r=o[1]}n.html="&#"+i+";";if(r){n.style="font-family:"+r}}else{n.cn=[s={tag:"img",role:e.ariaRole,id:e.id+"-img"}]}if(s){if(e.imgCls){s.cls=(s.cls?s.cls+" ":"")+e.imgCls}s.src=e.src||Ext.BLANK_IMAGE_URL}if(e.alt){(s||n).alt=e.alt}if(e.title){(s||n).title=e.title}return n},onRender:function(){var e=this,t=e.autoEl,n;e.callParent(arguments);n=e.el;if(t==="img"||Ext.isObject(t)&&t.tag==="img"){e.imgEl=n}else{e.imgEl=n.getById(e.id+"-img")}},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},setSrc:function(e){var t=this,n=t.imgEl;t.src=e;if(n){n.dom.src=e||Ext.BLANK_IMAGE_URL}},setGlyph:function(e){var t=this,n=Ext._glyphFontFamily,r,i;if(e!=t.glyph){if(typeof e==="string"){r=e.split("@");e=r[0];n=r[1]}i=t.el.dom;i.innerHTML="&#"+e+";";if(n){i.style="font-family:"+n}}}});Ext.define("Ext.util.StoreHolder",{mixinId:"storeholder",bindStore:function(e,t,n){n=n||"store";var r=this,i=r[n];if(!t&&i){r.onUnbindStore(i,t,n);if(e!==i){if(n==="store"&&i.autoDestroy){i.destroy()}else{r.unbindStoreListeners(i)}}}if(e){r[n]=e=Ext.data.StoreManager.lookup(e);r.bindStoreListeners(e);r.onBindStore(e,t,n,i)}else{r[n]=null}return r},getStore:function(){return this.store},setStore:function(e){this.bindStore(e)},unbindStoreListeners:function(e){var t=this.storeListeners;if(t){e.un(t)}},bindStoreListeners:function(e){var t=this.getStoreListeners(e);if(t){t=Ext.apply({},t);if(!t.scope){t.scope=this}this.storeListeners=t;e.on(t)}},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:["Ext.util.StoreHolder"],uses:["Ext.data.StoreManager"],isLoadMask:true,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",cls:Ext.baseCSSPrefix+"mask-msg",useMsg:true,useTargetEl:false,ariaRole:"presentation",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" data-ref="msgEl" role="{role}"','<tpl if="ariaAttr"> {ariaAttr}</tpl>',' class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}">{msg}</div>',"</div>"],constructor:function(e){var t=this,n;if(arguments.length===2){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config")}n=t.target=e;e=arguments[1]}else{n=e.target}t.callParent([e]);if(n.isComponent){t.ownerCt=n;t.hidden=true;t.renderTo=t.getMaskTarget();t.external=t.renderTo===Ext.getBody();t.bindComponent(n)}else{if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask")}n=Ext.get(n);t.isElement=true;t.renderTo=t.target}t.render(t.renderTo);if(t.store){t.bindStore(t.store,true)}},getRenderTree:function(){return[{cls:this.maskCls,style:"display:none"},this.callParent()]},onRender:function(){this.callParent(arguments);this.maskEl=this.el.prev()},initRenderData:function(){var e=this.callParent(arguments);e.msg=this.msg||"";return e},bindComponent:function(e){var t=this,n={scope:this,resize:t.sizeMask};if(t.external){n.added=t.onComponentAdded;n.removed=t.onComponentRemoved;if(e.floating){n.move=t.sizeMask;t.activeOwner=e}else if(e.ownerCt){t.onComponentAdded(e.ownerCt)}}t.mon(e,n);if(t.external){t.mon(Ext.GlobalEvents,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})}},onComponentAdded:function(e){var t=this;delete t.activeOwner;t.floatParent=e;if(!e.floating){e=e.up("[floating]")}if(e){t.activeOwner=e;t.mon(e,"move",t.sizeMask,t);t.mon(e,"tofront",t.onOwnerToFront,t)}else{t.preventBringToFront=true}e=t.floatParent.ownerCt;if(t.rendered&&t.isVisible()&&e){t.floatOwner=e;t.mon(e,"afterlayout",t.sizeMask,t,{single:true})}},onComponentRemoved:function(e){var t=this,n=t.activeOwner,r=t.floatOwner;if(n){t.mun(n,"move",t.sizeMask,t);t.mun(n,"tofront",t.onOwnerToFront,t)}if(r){t.mun(r,"afterlayout",t.sizeMask,t)}delete t.activeOwner;delete t.floatOwner},afterRender:function(){this.callParent(arguments);this.el.skipGarbageCollection=true;this.maskEl.skipGarbageCollection=true},onOwnerToFront:function(e,t){this.maskEl.setStyle("zIndex",t+1);this.el.setStyle("zIndex",t+2)},onContainerShow:function(e){this.onComponentShow()},onContainerHide:function(e){this.onComponentHide()},onContainerExpand:function(e){this.onComponentShow()},onContainerCollapse:function(e){this.onComponentHide()},onComponentHide:function(){var e=this;if(e.rendered&&e.isVisible()){e.hide();e.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var e=this,t=e.target,n=e.external?e.getOwner().el:e.getMaskTarget();if(e.rendered&&e.isVisible()){if(e.external){if(!e.isElement&&t.floating){e.onOwnerToFront(t,t.el.getZIndex())}e.maskEl.setSize(n.getSize()).alignTo(n,"tl-tl")}e.el.center(e.maskEl)}},bindStore:function(e,t){var n=this;n.mixins.storeholder.bindStore.apply(n,arguments);e=n.store;if(e&&e.isLoading()){n.onBeforeLoad()}},getStoreListeners:function(e){var t=this.onLoad,n=this.onBeforeLoad,r={cachemiss:n,cachefilled:t};if(!e.proxy.isSynchronous){r.beforeload=n;r.load=t}return r},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var e=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?e.getTargetEl():e.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var e=this,t=e.getOwner(),n;if(!e.disabled){e.loading=true;if(t.componentLayoutCounter){e.maybeShow()}else{n=t.afterComponentLayout;t.afterComponentLayout=function(){t.afterComponentLayout=n;n.apply(t,arguments);e.maybeShow()}}}},maybeShow:function(){var e=this,t=e.getOwner();if(!t.isVisible(true)){e.showNext=true}else if(e.loading&&t.rendered){e.show()}},hide:function(){var e=this;if(e.isElement){e.ownerCt.unmask();e.fireEvent("hide",this);return}else{e.ownerCt.enableTabbing()}delete e.showNext;e.maskEl.setDisplayed(false);e.ownerCt.setMasked(false);return e.callParent(arguments)},show:function(){var e=this;if(e.isElement){e.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);e.fireEvent("show",this);return}else{e.ownerCt.disableTabbing()}e.maskEl.setDisplayed(true);e.ownerCt.setMasked(true);return e.callParent(arguments)},afterShow:function(){var e=this;e.loading=true;e.callParent(arguments);if(e.hasOwnProperty("maskCls")){e.maskEl.dom.className=e.maskCls}if(e.useMsg){e.msgTextEl.setHtml(e.msg)}else{e.el.hide()}e.sizeMask()},onLoad:function(){this.loading=false;this.hide()},beforeDestroy:function(){this.ownerCt=null;this.bindStore(null);this.callParent()},onDestroy:function(){var e=this;if(e.isElement){e.ownerCt.unmask()}Ext.destroy(e.maskEl);e.callParent()}});Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(e,t){var n=this,r=n.owner,i=e.ownerCtContext,s=e.heightModel,o=e.widthModel,u=r.el.dom===document.body,a=r.lastBox||n.nullBox,f=r.el.lastBox||n.nullBox,l=!u,c,h,p,d;n.callParent(arguments);if(t){if(n.usesContentWidth){++e.consumersContentWidth}if(n.usesContentHeight){++e.consumersContentHeight}if(n.usesWidth){++e.consumersWidth}if(n.usesHeight){++e.consumersHeight}if(i&&!i.hasRawContent){c=r.ownerLayout;if(c){if(c.usesWidth){++e.consumersWidth}if(c.usesHeight){++e.consumersHeight}}}}if(o.configured){p=o.names.width;if(!u){l=n.setWidthInDom||(t?r[p]!==f.width:o.constrained)}e.setWidth(r[p],l)}else if(e.isTopLevel){if(o.calculated){h=a.width;e.setWidth(h,h!=f.width)}h=a.x;e.setProp("x",h,h!=f.x)}if(s.configured){d=s.names.height;if(!u){l=t?r[d]!==f.height:s.constrained}e.setHeight(r[d],l)}else if(e.isTopLevel){if(s.calculated){h=a.height;e.setHeight(h,h!=f.height)}h=a.y;e.setProp("y",h,h!=f.y)}},finishedLayout:function(e){var t=this,n=e.children,r=t.owner,i,s,o,u,a;if(n){i=n.length;for(s=0;s<i;s++){o=n[s];o.el.lastBox=o.props}}e.previousSize=t.lastComponentSize;t.lastComponentSize=r.el.lastBox=a=e.props;u=r.lastBox||(r.lastBox={});u.x=a.x;u.y=a.y;u.width=a.width;u.height=a.height;u.invalid=false;t.callParent(arguments)},notifyOwner:function(e){var t=this,n=t.lastComponentSize,r=e.previousSize,i=[n.width,n.height];if(r){i.push(r.width,r.height)}t.owner.afterComponentLayout.apply(t.owner,i)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t=this,n=t.targetInfo,r;if(!n){r=e.getEl("getTarget",t);t.targetInfo=n={padding:r.getPaddingInfo(),border:r.getBorderInfo()}}return n},measureAutoDimensions:function(e,t){var n=this,r=n.owner,i=r.layout,s=e.heightModel,o=e.widthModel,u=e.boxParent,a=e.isBoxParent,f=e.target,l=e.props,c,h={gotWidth:false,gotHeight:false,isContainer:c=!e.hasRawContent},p=t||3,d,v,m=0,g=0,y,b,w,E,S;if(o.shrinkWrap&&e.consumersContentWidth){++m;d=!(p&1);if(c){if(d){h.contentWidth=0;h.gotWidth=true;++g}else if((h.contentWidth=e.getProp("contentWidth"))!==undefined){h.gotWidth=true;++g}}else{b=l.contentWidth;if(typeof b=="number"){h.contentWidth=b;h.gotWidth=true;++g}else{if(d){y=true}else if(!e.hasDomProp("containerChildrenSizeDone")){y=false}else if(a||!u||u.widthModel.shrinkWrap){y=true}else{y=u.hasDomProp("width")}if(y){if(d){w=0}else if(i&&i.measureContentWidth){w=i.measureContentWidth(e)}else{if(f.cacheWidth){E=f.xtype+"-"+f.ui;S=n.widthCache;w=S[E]||(S[E]=n.measureContentWidth(e))}else{w=n.measureContentWidth(e)}}if(!isNaN(h.contentWidth=w)){e.setContentWidth(w,true);h.gotWidth=true;++g}}}}}else if(o.natural&&e.consumersWidth){++m;b=l.width;if(typeof b=="number"){h.width=b;h.gotWidth=true;++g}else{if(a||!u){y=true}else{y=u.hasDomProp("width")}if(y){if(!isNaN(h.width=n.measureOwnerWidth(e))){e.setWidth(h.width,false);h.gotWidth=true;++g}}}}if(s.shrinkWrap&&e.consumersContentHeight){++m;v=!(p&2);if(c){if(v){h.contentHeight=0;h.gotHeight=true;++g}else if((h.contentHeight=e.getProp("contentHeight"))!==undefined){h.gotHeight=true;++g}}else{b=l.contentHeight;if(typeof b=="number"){h.contentHeight=b;h.gotHeight=true;++g}else{if(v){y=true}else if(!e.hasDomProp("containerChildrenSizeDone")){y=false}else if(r.noWrap){y=true}else if(!o.shrinkWrap){y=(e.bodyContext||e).hasDomProp("width")}else if(a||!u||u.widthModel.shrinkWrap){y=true}else{y=u.hasDomProp("width")}if(y){if(v){w=0}else if(i&&i.measureContentHeight){w=i.measureContentHeight(e)}else{if(f.cacheHeight){E=f.xtype+"-"+f.ui;S=n.heightCache;w=S[E]||(S[E]=n.measureContentHeight(e))}else{w=n.measureContentHeight(e)}}if(!isNaN(h.contentHeight=w)){e.setContentHeight(w,true);h.gotHeight=true;++g}}}}}else if(s.natural&&e.consumersHeight){++m;b=l.height;if(typeof b=="number"){h.height=b;h.gotHeight=true;++g}else{if(a||!u){y=true}else{y=u.hasDomProp("width")}if(y){if(!isNaN(h.height=n.measureOwnerHeight(e))){e.setHeight(h.height,false);h.gotHeight=true;++g}}}}if(u){e.onBoxMeasured()}h.gotAll=g==m;return h},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(e,t){var n=this,r=n.lastWidthModel,i=n.lastHeightModel,s=n.owner.el;n.callParent(arguments);if(r&&r.fixed&&e.widthModel.shrinkWrap){s.setWidth(null)}if(i&&i.fixed&&e.heightModel.shrinkWrap){s.setHeight(null)}},calculate:function(e){var t=this,n=t.measureAutoDimensions(e),r=e.heightModel,i=e.widthModel,s,o;if(n.gotWidth){if(i.shrinkWrap){t.publishOwnerWidth(e,n.contentWidth)}else if(t.publishInnerWidth){t.publishInnerWidth(e,n.width)}}else if(!i.auto&&t.publishInnerWidth){s=t.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width");if(s===undefined){t.done=false}else{t.publishInnerWidth(e,s)}}if(n.gotHeight){if(r.shrinkWrap){t.publishOwnerHeight(e,n.contentHeight)}else if(t.publishInnerHeight){t.publishInnerHeight(e,n.height)}}else if(!r.auto&&t.publishInnerHeight){o=t.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height");if(o===undefined){t.done=false}else{t.publishInnerHeight(e,o)}}if(!n.gotAll){t.done=false}},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var n=this,r=n.owner,i=n.calculateOwnerHeightFromContentHeight(e,t),s,o,u;if(isNaN(i)){n.done=false}else{s=Ext.Number.constrain(i,r.minHeight,r.maxHeight);if(s==i){o=n.setHeightInDom}else{u=n.sizeModels[s<i?"constrainedMax":"constrainedMin"];i=s;if(e.heightModel.calculatedFromShrinkWrap){e.heightModel=u}else{e.invalidate({heightModel:u})}}e.setHeight(i,o)}},publishOwnerWidth:function(e,t){var n=this,r=n.owner,i=n.calculateOwnerWidthFromContentWidth(e,t),s,o,u;if(isNaN(i)){n.done=false}else{s=Ext.Number.constrain(i,r.minWidth,r.maxWidth);if(s==i){o=n.setWidthInDom}else{u=n.sizeModels[s<i?"constrainedMax":"constrainedMin"];i=s;if(e.widthModel.calculatedFromShrinkWrap){e.widthModel=u}else{e.invalidate({widthModel:u})}}e.setWidth(i,o)}}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(e){var t=this,n,r;t.callParent(arguments);if(!e.textEls){r=t.owner.textEl;if(r.isComposite){e.textEls=[];r=r.elements;for(n=r.length;n--;){e.textEls[n]=e.getEl(Ext.get(r[n]))}}else{e.textEls=[e.getEl("textEl")]}}},calculate:function(e){var t=this,n,r,i;t.callParent(arguments);if(Ext.isNumber(i=e.getProp("width"))){i-=e.getBorderInfo().width;r=e.textEls;for(n=r.length;n--;){r[n].setWidth(i)}}else{t.done=false}}});Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],config:{value:0,textTpl:null},baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{internalText:!e.hasOwnProperty("textEl"),text:e.text||"&#160;",percentage:e.value?e.value*100:0})},onRender:function(){var e=this;e.callParent(arguments);if(e.textEl){e.textEl=Ext.get(e.textEl);e.updateText(e.text)}else{e.textEl=e.el.select("."+e.baseCls+"-text")}},updateValue:function(e){this.updateProgress(e,Math.round(e*100)+"%")},updateProgress:function(e,t,n){var r=this,i=r.value,s=r.getTextTpl();r.value=e||(e=0);if(t!=null){r.updateText(t)}else if(s){r.updateText(s.apply({value:e,percent:e*100}))}if(r.rendered&&!r.isDestroyed){if(n===true||n!==false&&r.animate){r.bar.stopAnimation();r.bar.animate(Ext.apply({from:{width:i*100+"%"},to:{width:e*100+"%"}},r.animate))}else{r.bar.setStyle("width",e*100+"%")}}r.fireEvent("update",r,e,t);return r},updateText:function(e){var t=this;t.text=e;if(t.rendered){t.textEl.setHtml(t.text)}return t},applyTextTpl:function(e){if(!e.isTemplate){e=new Ext.XTemplate(e)}return e},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(e){var t=this,n;if(!t.waitTimer){n=t;e=e||{};t.updateText(e.text);t.waitTimer=Ext.TaskManager.start({run:function(n){var r=e.increment||10;n-=1;t.updateProgress(((n+r)%r+1)*(100/r)*.01,null,e.animate)},interval:e.interval||1e3,duration:e.duration,onStop:function(){if(e.fn){e.fn.apply(e.scope||t)}t.reset()},scope:n})}return t},isWaiting:function(){return this.waitTimer!==null},reset:function(e){var t=this;t.updateProgress(0);t.clearTimer();if(e===true){t.hide()}return t},clearTimer:function(){var e=this;if(e.waitTimer){e.waitTimer.onStop=null;Ext.TaskManager.stop(e.waitTimer);e.waitTimer=null}},onDestroy:function(){var e=this,t=e.bar;e.clearTimer();if(e.rendered){if(e.textEl.isComposite){e.textEl.clear()}Ext.destroyMembers(e,"textEl","progressBar");if(t&&e.animate){t.stopAnimation()}}e.callParent()}});Ext.define("Ext.ProgressBarWidget",{extend:"Ext.Widget",alias:"widget.progressbarwidget",requires:["Ext.ProgressBar"],config:{text:null,value:0,animate:false,textTpl:null},cachedConfig:{baseCls:Ext.baseCSSPrefix+"progress",textCls:Ext.baseCSSPrefix+"progress-text",ui:"default"},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",updateUi:function(e,t){var n=this.getBaseCls()+"-";if(t){this.element.removeCls(n+t);this.barEl.removeCls(n+"bar-"+t)}this.element.addCls(n+e);this.barEl.addCls(n+"bar-"+e)},updateBaseCls:function(e,t){if(t){Ext.Error.raise("You cannot configure baseCls - use a subclass")}this.element.addCls(e);this.barEl.addCls(e+"-bar")},updateTextCls:function(e){this.backgroundEl.addCls(e+" "+e+"-back");this.textEl.addCls(e)},updateValue:function(e,t){var n=this,r=n.getTextTpl();if(r){n.setText(r.apply({value:e,percent:e*100}))}if(n.getAnimate()){n.barEl.stopAnimation();n.barEl.animate(Ext.apply({from:{width:t*100+"%"},to:{width:e*100+"%"}},n.animate))}else{n.barEl.setStyle("width",e*100+"%")}},updateText:function(e){var t=this;t.backgroundEl.setHtml(e);t.textEl.setHtml(e)},applyTextTpl:function(e){if(!e.isTemplate){e=new Ext.XTemplate(e)}return e}});Ext.define("Ext.ShadowPool",{singleton:true,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var e=this.shadows.shift();if(!e){e=Ext.get(Ext.DomHelper.insertHtml("afterBegin",document.body,this.markup));e.autoBoxAdjust=false;e.dom.setAttribute("data-sticky",true)}return e},push:function(e){this.shadows.push(e)},reset:function(){var e=[].concat(this.shadows),t,n=e.length;for(t=0;t<n;t++){e[t].destroy()}this.shadows=[]}});Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e){var t=this,n,r,i;Ext.apply(t,e);if(!Ext.isString(t.mode)){t.mode=t.defaultMode}r=t.offset;i=Math.floor(r/2);t.opacity=50;switch(t.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow){n={t:r,l:r,h:-r,w:-r}}else{n={t:-i,l:-i,h:-i,w:-i}}break;case"sides":if(Ext.supports.CSS3BoxShadow){n={t:r,l:0,h:-r,w:0}}else{n={t:-(1+i),l:1+i-2*r,h:-1,w:i-1}}break;case"frame":if(Ext.supports.CSS3BoxShadow){n={t:0,l:0,h:0,w:0}}else{n={t:1+i-2*r,l:1+i-2*r,h:r-i-1,w:r-i-1}}break;case"bottom":if(Ext.supports.CSS3BoxShadow){n={t:r,l:0,h:-r,w:0}}else{n={t:r,l:0,h:0,w:0}}break}t.adjusts=n},getShadowSize:function(){var e=this,t=e.el?e.offset:0,n=[t,t,t,t],r=e.mode.toLowerCase();if(e.el&&r!=="frame"){n[0]=0;if(r=="drop"){n[3]=0}}return n},offset:4,defaultMode:"drop",boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;if(!("boxShadow"in t)){if("WebkitBoxShadow"in t){e="WebkitBoxShadow"}else if("MozBoxShadow"in t){e="MozBoxShadow"}}return e}(),show:function(e){var t=this,n,r;e=Ext.get(e);n=parseInt(e.getStyle("z-index"),10)-1||0;r=e[t.localXYNames.get]();if(!t.el){t.el=Ext.ShadowPool.pull();if(t.fixed){t.el.dom.style.position="fixed"}else{t.el.dom.style.position=""}if(t.el.dom.nextSibling!=e.dom){t.el.insertBefore(e)}}t.el.setStyle("z-index",t.zIndex||n);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){t.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+t.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+t.offset+")"}t.realign(r[0],r[1],e.dom.offsetWidth,e.dom.offsetHeight);t.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(e,t,n,r){if(!this.el){return}var i=this.adjusts,s=this.el,o=s.dom.style,u,a,f,l;s[this.localXYNames.set](e+i.l,t+i.t);u=Math.max(n+i.w,0);a=Math.max(r+i.h,0);f=u+"px";l=a+"px";if(o.width!=f||o.height!=l){o.width=f;o.height=l;if(Ext.supports.CSS3BoxShadow){o[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"}}},hide:function(){var e=this;if(e.el){e.el.dom.style.display="none";Ext.ShadowPool.push(e.el);delete e.el}},setZIndex:function(e){this.zIndex=e;if(this.el){this.el.setStyle("z-index",e)}},setOpacity:function(e){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){e=Math.floor(e*100/2)/100}this.opacity=e;this.el.setOpacity(e)}}});Ext.define("Ext.app.EventDomain",{requires:["Ext.util.Event"],statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var e=this;if(!e.isInstance){Ext.app.EventDomain.instances[e.type]=e}e.bus={};e.monitoredClasses=[]},dispatch:function(e,t,n){var r=this,i=r.bus,s=i[t],o,u,a,f,l,c,h,p;if(!s){return true}for(o in s){if(s.hasOwnProperty(o)&&r.match(e,o,r.controller)){u=s[o];for(a in u){if(u.hasOwnProperty(a)){f=u[a];if(f.controller.isActive()){l=f.list;c=l.length;for(h=0;h<c;h++){p=l[h];if(p.fire.apply(p,n)===false){return false}}}}}}}return true},listen:function(e,t){var n=this,r=n.bus,i=n.idProperty,s=n.monitoredClasses,o=s.length,u=t.getId(),a=Ext.$eventNameMap,f,l,c,h,p,d,v,m,g,y,b;for(h in e){g=e[h];if(g){if(i){if(!/^[*#]/.test(h)){Ext.Error.raise("Selectors containing id should begin with #")}h=h==="*"?h:h.substring(1)}for(y in g){p=null;d=g[y];v=t;y=a[y]||(a[y]=y.toLowerCase());m=new Ext.util.Event(t,y);if(Ext.isObject(d)){p=d;d=p.fn;v=p.scope||t;delete p.fn;delete p.scope}if((!p||!p.scope)&&typeof d==="string"){v=null}else if(typeof d==="string"){d=v[d]}m.addListener(d,v,p);for(f=0;f<o;++f){b=s[f].hasListeners;if(b){b._incr_(y)}}l=r[y]||(r[y]={});l=l[h]||(l[h]={});c=l[u]||(l[u]={controller:t,list:[]});c.list.push(m)}}}},match:function(e,t){var n=this.idProperty;if(n){return t==="*"||e[n]===t}return false},monitor:function(e){var t=this,n=e.isInstance?e:e.prototype,r=n.doFireEvent;t.monitoredClasses.push(e);n.doFireEvent=function(e,n){var i=r.apply(this,arguments);if(i!==false&&!this.isSuspended(e)){i=t.dispatch(this,e,n)}return i}},unlisten:function(e){var t=this.bus,n=e,r=this.monitoredClasses,i=r.length,s=Ext.$eventNameMap,o,u,a,f,l,c,h,p,d,v,m;if(e.isController){n=e.getId()}for(u in t){u=s[u]||(s[u]=u.toLowerCase());if(t.hasOwnProperty(u)&&(h=t[u])){for(c in h){o=h[c];v=o[n];if(v){a=v.list;if(a){for(p=0,f=a.length;p<f;++p){l=a[p];l.clearListeners();for(d=0;d<i;++d){m=r[d].hasListeners;if(m){m._decr_(l.name)}}}delete o[n]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null}});Ext.define("Ext.app.domain.Component",{extend:"Ext.app.EventDomain",singleton:true,requires:["Ext.Widget","Ext.Component"],type:"component",constructor:function(){var e=this,t=Ext.Component;e.callParent();e.monitor(Ext.Widget);if(!t.prototype.isWidget){e.monitor(t)}},dispatch:function(e,t,n){var r=e.lookupController(false),i,s;while(r){i=r.compDomain;if(i){if(i.dispatch(e,t,n)===false){return false}}s=r.getView();r=s?s.lookupController(true):null}return this.callParent(arguments)},match:function(e,t){return e.is(t)}});Ext.define("Ext.app.EventBus",{singleton:true,requires:["Ext.app.domain.Component"],constructor:function(){var e=this,t=Ext.app.EventDomain.instances;e.callParent();e.domains=t;e.bus=t.component.bus},control:function(e,t){return this.domains.component.listen(e,t)},listen:function(e,t){var n=this.domains,r;for(r in e){if(e.hasOwnProperty(r)){n[r].listen(e[r],t)}}},unlisten:function(e){var t=Ext.app.EventDomain.instances,n;for(n in t){t[n].unlisten(e)}}});Ext.define("Ext.app.domain.Global",{extend:"Ext.app.EventDomain",singleton:true,type:"global",listen:function(e,t){e.scope=e.scope||t;Ext.on(e)},match:Ext.returnTrue});Ext.define("Ext.app.BaseController",{requires:["Ext.app.EventBus","Ext.app.domain.Global"],uses:["Ext.app.domain.Controller"],mixins:{observable:"Ext.util.Observable"},isController:true,config:{id:null,control:null,listen:null,routes:null,before:null},constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e);delete t.control;delete t.listen;t.eventbus=Ext.app.EventBus;t.initConfig(e)},applyListen:function(e){if(Ext.isObject(e)){e=Ext.clone(e)}return e},applyControl:function(e){if(Ext.isObject(e)){e=Ext.clone(e)}return e},updateControl:function(e){if(e){this.control(e)}},updateListen:function(e){if(e){this.listen(e)}},updateRoutes:function(e){if(e){var t=this,n=t.getBefore()||{},r=Ext.app.route.Router,i,s,o;for(i in e){s=e[i];if(Ext.isString(s)){s={action:s}}o=s.action;if(!s.before){s.before=n[o]}else if(n[o]){Ext.log.warn('You have a before method configured on a route ("'+i+'") and in the before object property also in the "'+t.self.getName()+'" controller. Will use the before method in the route and disregard the one in the before property.')}r.connect(i,s,t)}}},isActive:function(){return true},control:function(e,t,n){var r=this,i=n,s;if(Ext.isString(e)){s={};s[e]=t}else{s=e;i=t}r.eventbus.control(s,i||r)},listen:function(e,t){this.eventbus.listen(e,t||this)},destroy:function(){var e=this,t=e.eventbus;Ext.app.route.Router.disconnectAll(e);if(t){t.unlisten(e);e.eventbus=null}e.clearListeners();e.callParent()},redirectTo:function(e,t){if(!t){var n=Ext.util.History.getToken();if(n===e){return false}}else{Ext.app.route.Router.onStateChange(e)}Ext.util.History.add(e);return true}});Ext.define("Ext.app.Util",{},function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(e){var t=Ext.app.namespaces,n,r;if(!Ext.isArray(e)){e=[e]}for(n=0,r=e.length;n<r;n++){t[e[n]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var t=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),n="",r;for(r in t){if(t.hasOwnProperty(r)&&r.length>n.length&&r+"."===e.substring(0,r.length+1)){n=r}}return n===""?undefined:n}})});Ext.define("Ext.app.domain.Store",{extend:"Ext.app.EventDomain",singleton:true,requires:["Ext.data.AbstractStore"],type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var e=this;e.callParent();e.monitor(Ext.data.AbstractStore)},match:function(e,t){var n=false,r=e.alias;if(t==="*"){n=true}else if(this.idMatchRe.test(t)){n=e.getStoreId()===t.substring(1)}else if(r){n=Ext.Array.indexOf(r,this.prefix+t)>-1}return n}});Ext.define("Ext.app.route.Queue",{queue:null,token:null,constructor:function(e){Ext.apply(this,e);this.queue=new Ext.util.MixedCollection},queueAction:function(e,t){this.queue.add({route:e,args:t})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var e=this.queue,t=e.removeAt(0),n;if(t){n=t&&t.route;n.execute(this.token,t.args,this.onActionExecute,this)}},onActionExecute:function(e){if(e){this.clearQueue()}else{this.runQueue()}}});Ext.define("Ext.app.route.Route",{action:null,conditions:null,controller:null,allowInactive:false,url:null,before:null,caseInsensitive:false,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(e){var t=this,n;Ext.apply(t,e,{conditions:{}});n=t.url;t.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);t.paramsInMatchString=n.match(t.paramMatchingRegex)||[];t.matcherRegex=t.createMatcherRegex(n)},recognize:function(e){var t=this,n=t.controller,r,i;if((t.allowInactive||n.isActive())&&t.recognizes(e)){r=t.matchesFor(e);i=e.match(t.matcherRegex);i.shift();return Ext.applyIf(r,{controller:n,action:t.action,historyUrl:e,args:i})}return false},recognizes:function(e){return this.matcherRegex.test(e)},execute:function(e,t,n,r){var i=t.args||[],s=this.before,o=this.controller,u=this.createCallback(t,n,r);if(s){i.push(u);if(Ext.isString(s)){s=this.before=o[s]}if(s){s.apply(o,i)}else{Ext.log.warn("The before action: "+this.before+" was not found on the controller. The action method will not be executed.")}}else{u.resume()}},matchesFor:function(e){var t={},n=this.paramsInMatchString,r=e.match(this.matcherRegex),i=0,s=n.length;r.shift();for(;i<s;i++){t[n[i].replace(":","")]=r[i]}return t},createMatcherRegex:function(e){var t=this.paramsInMatchString,n=this.conditions,r=0,i=t.length,s=Ext.util.Format.format,o=this.caseInsensitive?"i":"",u,a,f;for(;r<i;r++){u=t[r];a=n[u];f=s("{0}",a||"([%a-zA-Z0-9\\-\\_\\s,]+)");e=e.replace(new RegExp(u),f)}return new RegExp("^"+e+"$",o)},createCallback:function(e,t,n){var r=this;n=n||r;return{resume:function(){var i=r.controller,s=r.action,o;if(Ext.isString(s)){s=i[s]}e=e&&e.args?e.args:[];o=e.pop();if(o&&!Ext.isObject(o)){e.push(o)}if(s){r.action=s;s.apply(i,e)}else{Ext.log.warn("The action: "+r.action+" was not found on the controller.")}if(t){t.call(n)}},stop:function(e){if(t){t.call(n,e)}}}}});Ext.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:false,constructor:function(){var e=this;e.hiddenField=null;e.ready=false;e.currentToken=null;e.mixins.observable.constructor.call(e)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(e){try{this.win.location.hash=e;this.currentToken=e}catch(t){}},handleStateChange:function(e){this.currentToken=e;this.fireEvent("change",e)},startUp:function(){var e=this;e.currentToken=e.getHash();if(Ext.supports.Hashchange){Ext.get(e.win).on("hashchange",e.onHashChange,e)}else{Ext.TaskManager.start({fireIdleEvent:false,run:e.onHashChange,interval:50,scope:e})}e.ready=true;e.fireEvent("ready",e)},onHashChange:function(){var e=this,t=e.getHash();if(t!==e.hash){e.hash=t;e.handleStateChange(t)}},init:function(e,t){var n=this;if(n.ready){Ext.callback(e,t,[n]);return}if(!Ext.isReady){Ext.onReady(function(){n.init(e,t)});return}n.win=n.useTopWindow?window.top:window;n.hash=n.getHash();if(e){n.on("ready",e,t,{single:true})}n.startUp()},add:function(e,t){var n=this,r=false;if(t===false||n.getToken()!==e){n.setHash(e);r=true}return r},back:function(){var e=this.useTopWindow?window.top:window;e.history.go(-1)},forward:function(){var e=this.useTopWindow?window.top:window;e.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});Ext.define("Ext.app.route.Router",{singleton:true,requires:["Ext.app.route.Queue","Ext.app.route.Route","Ext.util.History"],multipleToken:"|",queueRoutes:true,constructor:function(){var e=Ext.util.History;if(!e.ready){e.init()}e.on("change",this.onStateChange,this);this.clear()},onStateChange:function(e){var t=this,n=t.application,r=t.routes,i=r.length,s=t.queueRoutes,o=e.split(t.multipleToken),u=0,a=o.length,f,l,c,h,p;for(;u<a;u++){e=o[u];p=false;if(s){l=new Ext.app.route.Queue({token:e})}for(f=0;f<i;f++){c=r[f];h=c.recognize(e);if(h){p=true;if(s){l.queueAction(c,h)}else{c.execute(e,h)}}}if(s){l.runQueue()}if(!p&&n){n.fireEvent("unmatchedroute",e)}}},connect:function(e,t,n){var r={url:e,action:t,controller:n};if(Ext.isObject(t)){Ext.merge(r,t)}this.routes.push(new Ext.app.route.Route(r))},disconnectAll:function(e){var t=this.routes,n=t.length,r=[],i,s;for(i=0;i<n;++i){s=t[i];if(s.controller!==e){r.push(s)}}this.routes=r},recognize:function(e){var t=this.routes||[],n=0,r=t.length,i,s;for(;n<r;n++){i=t[n];s=i.recognize(e);if(s){return{route:i,args:s}}}return false},draw:function(e){e.call(this,this)},clear:function(){this.routes=[]}});Ext.define("Ext.app.Controller",{extend:"Ext.app.BaseController",requires:["Ext.app.Util","Ext.data.StoreManager","Ext.ComponentManager","Ext.app.domain.Component","Ext.app.domain.Store","Ext.app.route.Router"],statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(e,t){return function(){return this[e](t)}},getGetterName:function(e,t){var n="get",r=e.split("."),i=r.length,s;for(s=0;s<i;s++){n+=Ext.String.capitalize(r[s])}n+=t;return n},processDependencies:function(e,t,n,r,i){if(!i||!i.length){return}var s=this,o=s.strings[r],u,a,f,l,c,h,p,d;if(!Ext.isArray(i)){i=[i]}for(c=0,h=i.length;c<h;c++){l=i[c];u=s.getFullName(l,r,n);a=u.absoluteName;f=u.shortName;t.push(a);p=s.getGetterName(f,o.upper);e[p]=d=s.createGetter(o.getter,l);if(r!=="controller"){d["Ext.app.getter"]=true}}},getFullName:function(e,t,n){var r=e,i,s;if((i=e.indexOf("@"))>0){r=e.substring(0,i);s=e.substring(i+1)+"."+r}else if(e.indexOf(".")>0&&(Ext.ClassManager.isCreated(e)||this.hasRegisteredPrefix(e))){s=e}else{if(!n){Ext.log.warn("Cannot find namespace for "+t+" "+e+", "+"assuming it is fully qualified class name")}if(n){s=n+"."+t+"."+e;r=e}else{s=e}}return{absoluteName:s,shortName:r}},hasRegisteredPrefix:function(e){var t=Ext.ClassManager,n=t.getPrefix(e);return n&&n!==e}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:true,moduleClassName:null},onClassExtended:function(e,t,n){var r=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var n=Ext.app.Controller,i=n.controllerRegex,s=[],o,u,a,f;a=e.prototype;o=Ext.getClassName(e);u=t.$namespace||t.namespace||Ext.app.getNamespace(o)||(f=i.exec(o))&&f[1];if(u){a.$namespace=u}else{Ext.log.warn("Missing namespace for "+o+", please define it "+"in namespaces property of your Application class.")}n.processDependencies(a,s,u,"model",t.models);n.processDependencies(a,s,u,"view",t.views);n.processDependencies(a,s,u,"store",t.stores);n.processDependencies(a,s,u,"controller",t.controllers);Ext.require(s,Ext.Function.pass(r,arguments,this))}},constructor:function(e){this.callParent(arguments);this.initAutoGetters();this.ensureId()},normalizeRefs:function(e){var t=this,n=[];if(e){if(Ext.isObject(e)){Ext.Object.each(e,function(e,t){if(Ext.isString(t)){t={selector:t}}t.ref=e;n.push(t)})}else if(Ext.isArray(e)){n=Ext.Array.merge(n,e)}}e=t.refs;if(e){t.refs=null;e=t.normalizeRefs(e);if(e){n=Ext.Array.merge(n,e)}}return n},applyRefs:function(e){return this.normalizeRefs(Ext.clone(e))},updateRefs:function(e){if(e){this.ref(e)}},initAutoGetters:function(){var e=this.self.prototype,t,n;for(t in e){n=e[t];if(n&&n["Ext.app.getter"]){n.call(this)}}},updateControl:function(e){this.ensureId();this.callParent([e])},updateListen:function(e){this.ensureId();this.callParent([e])},doInit:function(e){var t=this;if(!t._initialized){t.init(e);t._initialized=true}},finishInit:function(e){var t=this,n=t.controllers,r,i,s;if(t._initialized&&n&&n.length){for(i=0,s=n.length;i<s;i++){r=t.getController(n[i]);r.finishInit(e)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)},isActive:function(){return this.getActive()},ref:function(e){var t=this,n=0,r=e.length,i,s,o;e=Ext.Array.from(e);t.references=t.references||[];for(;n<r;n++){i=e[n];s=i.ref;o="get"+Ext.String.capitalize(s);if(!t[o]){t[o]=Ext.Function.pass(t.getRef,[s,i],t)}t.references.push(s.toLowerCase())}},addRef:function(e){this.ref(e)},getRef:function(e,t,n){var r=this,i=r.refCache||(r.refCache={}),s=i[e];t=t||{};n=n||{};Ext.apply(t,n);if(t.forceCreate){return Ext.ComponentManager.create(t,"component")}if(!s){if(t.selector){i[e]=s=Ext.ComponentQuery.query(t.selector)[0]}if(!s&&t.autoCreate){i[e]=s=Ext.ComponentManager.create(t,"component")}if(s){s.on("beforedestroy",function(){i[e]=null})}}return s},hasRef:function(e){var t=this.references;return t&&Ext.Array.indexOf(t,e.toLowerCase())!==-1},getController:function(e){var t=this.application;if(e===this.getId()){return this}return t&&t.getController(e)},getStore:function(e){var t,n;t=e.indexOf("@")===-1?e:e.split("@")[0];n=Ext.StoreManager.get(t);if(!n){e=Ext.app.Controller.getFullName(e,"store",this.$namespace);if(e){n=Ext.create(e.absoluteName,{storeId:t})}}return n},getModel:function(e){var t=Ext.app.Controller.getFullName(e,"model",this.$namespace),n=Ext.ClassManager.get(t.absoluteName);if(!n){n=Ext.data.schema.Schema.lookupEntity(e)}return n},getView:function(e){var t=Ext.app.Controller.getFullName(e,"view",this.$namespace);return t&&Ext.ClassManager.get(t.absoluteName)},ensureId:function(){var e=this.getId();if(!e){this.setId(this.getModuleClassName(this.$className,"controller"))}},destroy:function(e,t){var n=this,r=n.application,i,s;if(!t&&r){r.unregister(n)}n.application=null;if(e){i=n.refCache;for(s in i){if(i.hasOwnProperty(s)){Ext.destroy(i[s])}}}n.callParent()}});Ext.define("Ext.panel.Bar",{extend:"Ext.container.Container",vertical:false,_verticalSides:{left:1,right:1},initComponent:function(){var e=this,t=e.vertical;e.dock=e.dock||(t?"left":"top");e.layout=Ext.apply(t?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},e.layout);this.callParent()},onAdded:function(e,t,n){this.initOrientation();this.callParent([e,t,n])},onRemoved:function(e){this.removeClsWithUI(this.uiCls);this.callParent([e])},beforeRender:function(){if(!this.ownerCt){this.initOrientation()}this.callParent()},setDock:function(e){var t=this,n,r;if(e!==t.dock){Ext.suspendLayouts();t.clearOrientation();t.callParent([e]);t.initOrientation();r=t.vertical;n=t.layout;n.setVertical(r);n.setAlignRoundingMethod(r?"ceil":"floor");Ext.resumeLayouts(true)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var e=this,t=e.dock,n=e.vertical=t?t in e._verticalSides:e.vertical;e.addClsWithUI([this.vertical?"vertical":"horizontal",e.getDockName()])}}});Ext.define("Ext.panel.Title",{extend:"Ext.Component",xtype:"title",isTitle:true,noWrap:true,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{unselectable:"on"},childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl>'+'<div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"'+'<tpl if="headerRole">'+' role="{headerRole}"'+"</tpl>"+">{text}</div>"+'<tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" '+'class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"'+'<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>>'+'<div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" '+'class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="'+'<tpl if="iconUrl">background-image:url({iconUrl});</tpl>'+'<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">'+'<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>'+"</div>"+"</div>",_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{0:Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var e=this,t=e.getRotation(),n,r,i;if(t&&!Ext.isIE8){i=e.el;n=e.lastBox;r=n.x;i.setStyle(e._getVerticalAdjustDirection(),r+(t===1?n.width:-n.height)+"px")}this.callParent()},onRender:function(){var e=this,t=e.getRotation(),n=e.el;e.callParent();if(t){n.setVertical(e._rotationAngles[t])}if(Ext.supports.FixedTableWidthBug){n._needsTableWidthFix=true}},applyText:function(e){if(!e){e="&#160;"}return e},beforeRender:function(){var e=this;e.callParent();e.addCls(e._rotationClasses[e.getRotation()]);e.addCls(e._textAlignClasses[e.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var e=this,t=e.getIcon(),n=e.getIconCls(),r=e.getGlyph(),i=Ext._glyphFontFamily,s=e.getIconAlign(),o;if(typeof r==="string"){o=r.split("@");r=o[0];i=o[1]}return{id:e.id,ui:e.ui,itemCls:e._itemCls,iconUrl:t,iconCls:n,iconWrapCls:e._iconWrapCls,baseIconCls:e._baseIconCls,iconAlignCls:e._iconAlignClasses[s],glyph:r,glyphCls:r?e._glyphCls:"",glyphFontFamily:i}},initRenderData:function(){var e=this,t,n;n=Ext.apply({text:e.getText(),headerRole:e.headerRole,id:e.id,ui:e.ui,itemCls:e._itemCls,textCls:e._textCls,iconMarkup:null,iconBeforeTitle:null},e.callParent());if(e._hasIcon()){t=e.getIconAlign();n.iconMarkup=e.getIconMarkup();n.iconBeforeTitle=t==="top"||t==="left"}return n},onAdded:function(e,t,n){var r=this,i=r.cls||"",s=r._titleSuffix,o=e.baseCls;r.addCls([o+s,o+s+"-"+e.ui]);r.callParent([e,t,n])},updateGlyph:function(e,t){e=e||0;var n=this,r=n._glyphCls,i,s,o;n.glyph=e;if(n.rendered){n._syncIconVisibility();i=n.iconEl;if(typeof e==="string"){o=e.split("@");e=o[0];s=o[1]||Ext._glyphFontFamily}if(!e){i.dom.innerHTML="";i.removeCls(r)}else if(t!=e){i.dom.innerHTML="&#"+e+";";i.addCls(r)}if(s){i.setStyle("font-family",s)}if(n._didIconStateChange(t,e)){n.updateLayout()}}},updateIcon:function(e,t){e=e||"";var n=this,r;if(n.rendered&&e!=t){n._syncIconVisibility();r=n.iconEl;r.setStyle("background-image",e?"url("+e+")":"");if(n._didIconStateChange(t,e)){n.updateLayout()}}},updateIconAlign:function(e,t){var n=this,r=n.iconWrapEl,i,r,s;if(n.iconWrapEl){i=n.el;s=n._iconAlignClasses;if(t){r.removeCls(s[t])}r.addCls(s[e]);if(e==="top"||e==="left"){i.insertFirst(r)}else{i.appendChild(r)}n.updateLayout()}},updateIconCls:function(e,t){e=e||"";var n=this,r;if(n.rendered&&t!=e){n._syncIconVisibility();r=n.iconEl;if(t){r.removeCls(t)}r.addCls(e);if(n._didIconStateChange(t,e)){n.updateLayout()}}},updateRotation:function(e,t){var n=this,r,i,s;if(n.rendered){i=n.el;s=n._rotationClasses;n.removeCls(s[t]);n.addCls(s[e]);i.setHorizontal();if(e){i.setVertical(n._rotationAngles[e])}i.setStyle({right:"",left:"",top:"",height:"",width:""});n.lastBox=null;n.updateLayout()}},updateText:function(e){if(this.rendered){this.textEl.setHtml(e)}},updateTextAlign:function(e,t){var n=this,r=n._textAlignClasses;if(n.rendered){if(t){n.removeCls(r[t])}n.addCls(r[e]);n.updateLayout()}},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var e=this,t=e.el,n=e._hasIcon(),r=e.iconWrapEl,i,s;if(n&&!r){s=e.iconAlign;i=s==="left"||s==="top";t.dom.insertAdjacentHTML(i?"afterbegin":"beforeend",e.getIconMarkup());r=e.iconWrapEl=t[i?"first":"last"]();e.iconEl=r.first()}if(r){r.setDisplayed(n)}}}});Ext.define("Ext.panel.Tool",{extend:"Ext.Component",uses:["Ext.tip.QuickTipManager"],xtype:"tool",isTool:true,focusable:true,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" data-ref="toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}'+'{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,cacheHeight:true,cacheWidth:true,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){var e=this;if(e.id&&e._toolTypes[e.id]){Ext.Error.raise("When specifying a tool you should use the type option, the id can conflict now that tool is a Component")}e.type=e.type||e.id;Ext.applyIf(e.renderData,{baseCls:e.baseCls,blank:Ext.BLANK_IMAGE_URL,type:e.type});e.tooltip=e.tooltip||e.qtip;e.callParent()},afterRender:function(){var e=this,t;e.callParent(arguments);e.el.on({click:e.onClick,mousedown:e.onMouseDown,mouseover:e.onMouseOver,mouseout:e.onMouseOut,scope:e});t=e.tooltip;if(t){e.setTooltip(t)}},tipAttrs:{qtip:"data-qtip"},setTooltip:function(e,t){var n=this,r=n.tooltip,i=n.tooltipType,s=n.id,o=n.el,u;if(r&&Ext.quickTipsActive&&Ext.isObject(r)){Ext.tip.QuickTipManager.unregister(s)}n.tooltip=e;if(t){n.tooltipType=t}if(e){if(Ext.quickTipsActive&&Ext.isObject(e)){Ext.tip.QuickTipManager.register(Ext.apply({target:s},e))}else if(o){if(t&&i&&t!==i){u=n.tipAttrs[i]||"title";o.dom.removeAttribute(u)}u=n.tipAttrs[t||i]||"title";o.dom.setAttribute(u,e)}}},setType:function(e){var t=this,n=t.type;t.type=e;if(t.rendered){if(n){t.toolEl.removeCls(t.baseCls+"-"+n)}t.toolEl.addCls(t.baseCls+"-"+e)}else{t.renderData.type=e}return t},onDestroy:function(){var e=this,t=e.keyMap;e.setTooltip(null);if(t){t.destroy();e.keyMap=null}delete e.toolOwner;e.callParent()},privates:{getFocusEl:function(){return this.el},onClick:function(e,t){var n=this;if(n.disabled){return false}n.el.removeCls(n.toolPressedCls+" "+n.toolOverCls);if(n.stopEvent!==false){e.stopEvent()}if(n.handler){Ext.callback(n.handler,n.scope,[e,t,n.ownerCt,n],0,n)}else if(n.callback){Ext.callback(n.callback,n.scope,[n.toolOwner||n.ownerCt,n,e],0,n)}n.fireEvent("click",n,e,n.toolOwner||n.ownerCt);return true},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}});Ext.define("Ext.panel.Header",{extend:"Ext.panel.Bar",requires:["Ext.panel.Title","Ext.panel.Tool"],xtype:"header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{ariaRole:"presentation",xtype:"title",flex:1},merge:function(e,t){if(typeof e=="string"){e={text:e}}return Ext.merge(t?Ext.Object.chain(t):{},e)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var e=this,t=e.items,n=e.itemPosition,r=[e.headerCls];e.tools=e.tools||[];e.items=t=t?t.slice():[];if(n!==undefined){e._userItems=t.slice();e.items=t=[]}e.indicateDragCls=e.headerCls+"-draggable";if(e.indicateDrag){r.push(e.indicateDragCls)}e.addCls(r);e.syncNoBorderCls();Ext.Array.push(t,e.tools);e.tools.length=0;e.callParent();e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},addTool:function(e){this.add(Ext.ComponentManager.create(e,"tool"))},afterLayout:function(){var e=this,t,n,r,i;if(e.vertical){n=e.frameTR;if(n){t=e.frameBR;r=e.frameTL;i=e.getWidth()-n.getPadding("r")-(r?r.getPadding("l"):e.el.getBorderWidth("l"))+"px";t.setStyle("background-position-x",i);n.setStyle("background-position-x",i)}}this.callParent()},applyTitle:function(e,t){var n=this,r,i;e=e||"";if(typeof e==="string"){e={text:e}}if(t){Ext.suspendLayouts();t.setConfig(e);Ext.resumeLayouts(true);e=t}else{e.ui=n.ui;e.headerRole=n.headerRole;i="rotation"in e;e=Ext.create(e);if(!i&&n.vertical&&n.titleRotation==="default"){e.rotation=1}}return e},applyTitlePosition:function(e){var t=this.items.getCount();if(this._titleInItems){--t}return Math.max(Math.min(e,t),0)},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},beforeRender:function(){var e=this,t=e.itemPosition;e.protoEl.unselectable();e.callParent();if(t!==undefined){e.insert(t,e._userItems)}},getTools:function(){return this.tools.slice()},onAdd:function(e,t){var n=this.tools;this.callParent([e,t]);if(e.isTool){n.push(e);n[e.type]=e}},onAdded:function(e,t,n){this.syncNoBorderCls();this.callParent([e,t,n])},onRemoved:function(e,t,n){this.syncNoBorderCls();this.callParent([e,t,n])},setDock:function(e){var t=this,n=t.getTitle(),r=t.getTitleRotation(),i=n.getRotation();Ext.suspendLayouts();t.callParent([e]);if(r==="default"){r=t.vertical?1:0;if(r!==i){n.setRotation(r)}if(t.rendered){t.resetItemMargins()}}Ext.resumeLayouts(true)},updateGlyph:function(e){this.getTitle().setGlyph(e)},updateIcon:function(e){this.getTitle().setIcon(e)},updateIconAlign:function(e,t){this.getTitle().setIconAlign(e)},updateIconCls:function(e){this.getTitle().setIconCls(e)},updateTitle:function(e,t){if(!t){this.insert(this.getTitlePosition(),e);this._titleInItems=true}this.titleCmp=e},updateTitleAlign:function(e,t){this.getTitle().setTextAlign(e)},updateTitlePosition:function(e){this.insert(e,this.getTitle())},updateTitleRotation:function(e){if(e==="default"){e=this.vertical?1:0}this.getTitle().setRotation(e)},privates:{fireClickEvent:function(e,t){var n="."+Ext.panel.Tool.prototype.baseCls;if(!t.getTarget(n)){this.fireEvent(e,this,t)}},getFocusEl:function(){return this.el},getFramingInfoCls:function(){var e=this,t=e.callParent(),n=e.ownerCt;if(!e.expanding&&n&&(n.collapsed||e.isCollapsedExpander)){t+="-"+n.collapsedCls}return t+"-"+e.dock},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},syncBeforeAfterTitleClasses:function(e){var t=this,n=t.items,r=n.items,i=t.getTitlePosition(),s=r.length,o=n.generation,u=t.syncBeforeAfterGen,a,f,l,c;if(!e&&u===o){return}t.syncBeforeAfterGen=o;for(l=0;l<s;++l){c=r[l];a=c.afterTitleCls||(c.afterTitleCls=c.baseCls+"-after-title");f=c.beforeTitleCls||(c.beforeTitleCls=c.baseCls+"-before-title");if(!t.title||l<i){if(u){c.removeCls(a)}c.addCls(f)}else if(l>i){if(u){c.removeCls(f)}c.addCls(a)}}},syncNoBorderCls:function(){var e=this,t=this.ownerCt,n=e.headerCls+"-noborder";if(t?t.border===false&&!t.frame:e.border===false){e.addCls(n)}else{e.removeCls(n)}}}});Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:true,flex:1});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:true,$configPrefixed:false,$configStrict:false,constructor:function(e){this.initConfig(e)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var t=this,n=e.state.boxPlan,r;if(n&&n.tooNarrow){r=t.handleOverflow(e);if(r){if(r.reservedSpace){t.layout.publishInnerCtSize(e,r.reservedSpace)}}}else{t.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(e){var t=this,n=t.layout.owner,r,i;if(n.hasListeners.overflowchange){r=n.query(">[hidden]");i=r.length;if(i!==t.lastHiddenCount){n.fireEvent("overflowchange",t.lastHiddenCount,i,r);t.lastHiddenCount=i}}},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){var t;if(e.isToolbar){t="toolbar"}else if(e.isTabBar){t="tab-bar"}else if(e.isMenu){t="menu"}else if(e.isBreadcrumb){t="breadcrumb"}else{t=e.getXType()}return t},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var e=this,t=e.layout,n=t.innerCt;n.removeCls(e.getOverflowCls(t.oppositeDirection));n.addCls(e.getOverflowCls(t.direction))}});Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",ariaRole:"separator"});Ext.define("Ext.dom.ButtonElement",{extend:"Ext.dom.Element",setSize:function(e,t,n){var r=this,i=r.component;r.callParent([e,t,n]);i.btnWrap.setStyle("table-layout",!e||e==="auto"?"":"fixed");i.btnEl.setStyle("height",!t||t==="auto"?"":"auto");return r},setStyle:function(e,t){var n=this,r=n.component,i,s;n.callParent([e,t]);if(e){if(e==="width"||typeof e!=="string"&&"width"in e){i=t||e.width;r.btnWrap.setStyle("table-layout",!i||i==="auto"?"":"fixed")}if(e==="height"||typeof e!=="string"&&"height"in e){s=t||e.height;r.btnEl.setStyle("height",!s||s==="auto"?"":"auto")}}return n},setHeight:function(e,t){this.callParent([e,t]);this.component.btnEl.setStyle("height",!e||e==="auto"?"":"auto");return this},setWidth:function(e,t){this.callParent([e,t]);this.component.btnWrap.setStyle("table-layout",!e||e==="auto"?"":"fixed");return this}});Ext.define("Ext.button.Manager",{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var e=this;if(!e.initialized){Ext.getDoc().on({keydown:e.onDocumentKeyDown,mouseup:e.onDocumentMouseUp,scope:e});e.initialized=true}},onDocumentKeyDown:function(e){var t=e.getKey(),n;if(t===e.SPACE||t===e.ENTER){n=e.getTarget(this.buttonSelector);if(n){Ext.getCmp(n.id).onClick(e)}}},onButtonMousedown:function(e,t){var n=this.pressedButton;if(n){n.onMouseUp(t)}this.pressedButton=e},onDocumentMouseUp:function(e){var t=this.pressedButton;if(t){t.onMouseUp(e);this.pressedButton=null}},toggleGroup:function(e,t){if(t){var n=this.groups[e.toggleGroup],r=n.length,i;for(i=0;i<r;i++){if(n[i]!==e){n[i].toggle(false)}}}},register:function(e){var t=this,n=this.groups,r=n[e.toggleGroup];t.init();if(!e.toggleGroup){return}if(!r){r=n[e.toggleGroup]=[]}r.push(e);e.on("toggle",t.toggleGroup,t)},unregister:function(e){if(!e.toggleGroup){return}var t=this,n=t.groups[e.toggleGroup];if(n){Ext.Array.remove(n,e);e.un("toggle",t.toggleGroup,t)}},getPressed:function(e){var t=this.groups[e],n=0,r;if(t){for(r=t.length;n<r;n++){if(t[n].pressed===true){return t[n]}}}return null}});Ext.define("Ext.menu.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:false,lastShow:new Date,constructor:function(){this.active=new Ext.util.MixedCollection},init:function(){var e=this;if(!e.initialized){Ext.onReady(function(){Ext.getDoc().addKeyListener(27,e.hideAll,e)})}e.initialized=true},hideAll:function(){var e=this.active,t,n,r;if(e.length>0){t=Ext.Array.slice(e.items);r=t.length;for(n=0;n<r;n++){t[n].hide()}return true}return false},onHide:function(e){var t=this,n=t.active;n.remove(e);if(n.length<1){Ext.un("mousedown",t.onMouseDown,t);t.attached=false}},onShow:function(e){var t=this,n=t.active,r=t.attached;t.lastShow=new Date;n.add(e);if(!r){Ext.on("mousedown",t.onMouseDown,t,{buffer:Ext.isIE9m?10:undefined});t.attached=true}e.toFront()},onBeforeHide:function(e){if(e.activeChild){e.activeChild.hide()}if(e.autoHideTimer){clearTimeout(e.autoHideTimer);delete e.autoHideTimer}},onBeforeShow:function(e){var t=this.active,n=e.parentMenu;t.remove(e);if(!n&&!e.allowOtherMenus){this.hideAll()}else if(n&&n.activeChild&&e!=n.activeChild){n.activeChild.hide()}},onMouseDown:function(e){var t=this,n=t.active,r=n.length,i=t.lastShow,s;if(Ext.Date.getElapsed(i)>50&&r){if(Ext.isIE9m&&!Ext.getDoc().contains(e.target)){return}else{for(s=0;s<r;s++){if(n.items[s].owns(e.target)){return}}}t.hideAll()}},register:function(e){var t=this;t.init();if(e.floating){t.menus[e.id]=e;e.on({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t})}},get:function(e,t){var n=this.menus;if(typeof e=="string"){if(!n){e=null}else{e=n[e]}}else if(Ext.isArray(e)){t=Ext.apply({items:e},t);e=new Ext.menu.Menu(t)}else if(!e.isComponent){t=Ext.apply({},e,t);e=Ext.ComponentManager.create(t,"menu")}return e},unregister:function(e){var t=this,n=t.menus,r=t.active;delete n[e.id];r.remove(e);e.un({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t})},registerCheckable:function(e){var t=this.groups,n=e.group;if(n){if(!t[n]){t[n]=[]}t[n].push(e)}},unregisterCheckable:function(e){var t=this.groups,n=e.group;if(n){Ext.Array.remove(t[n],e)}},onCheckChange:function(e,t){var n=this.groups,r=e.group,i=0,s,o,u;if(r&&t){s=n[r];o=s.length;for(;i<o;i++){u=s[i];if(u!=e){u.setChecked(false)}}}}});Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(e,t){var n=this;n.el=Ext.get(e);n.el.unselectable();Ext.apply(n,t);n.callParent();if(!n.disabled){n.disabled=true;n.enable()}if(n.handler){n.on("click",n.handler,n.scope||n)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(e){if(e||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.clearListeners()}this.disabled=true},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){if(this.preventDefault){e.preventDefault()}if(this.stopDefault){e.stopEvent()}},destroy:function(){this.disable(true);this.clearListeners()},handleDblClick:function(e){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,e);this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,e);this.fireEvent("click",this,e);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e])},click:function(e){this.fireEvent("click",this,e);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(e){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click(e)},handleMouseUp:function(e){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,e)}});Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.dom.ButtonElement","Ext.button.Manager","Ext.menu.Manager","Ext.util.ClickRepeater","Ext.util.TextMetrics","Ext.util.KeyMap"],mixins:["Ext.mixin.Queryable"],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:true},isButton:true,_syncFrameHeight:true,liquidLayout:true,hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",destroyMenu:true,focusable:true,ariaRole:"button",defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],publishes:{pressed:1},menuClickBuffer:250,_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_operaArrowCls:Ext.baseCSSPrefix+"opera12m-btn-arrow",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" '+'class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}">'+'<span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" '+'class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} '+'{iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}">'+'<tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl>'+'<span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" '+'class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span>'+'<tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl>'+"</span>"+"</span>"+'{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}'+'<tpl if="closable">'+'<span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn">'+'<tpl if="closeText">'+" {closeText}"+"</tpl>"+"</span>"+"</tpl>",iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} '+'{baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="'+'<tpl if="iconUrl">background-image:url({iconUrl});</tpl>'+'<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">'+'<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>'+"</span>",scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==="_blank"){window.open(this.getHref(),this.hrefTarget)}else{location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var e=this;e.addCls(Ext.baseCSSPrefix+"unselectable");if(Ext.isOpera12m&&(e.split||e.menu)&&e.getArrowVisible()){e.addCls(e._operaArrowCls+"-"+e.arrowAlign)}e.callParent();if(e.menu){e.split=true;e.setMenu(e.menu,false,true)}if(e.url){e.href=e.url}e.configuredWithPreventDefault=e.hasOwnProperty("preventDefault");if(e.href&&!e.configuredWithPreventDefault){e.preventDefault=false}if(Ext.isString(e.toggleGroup)&&e.toggleGroup!==""){e.enableToggle=true}if(e.html&&!e.text){e.text=e.html;delete e.html}},getElConfig:function(){var e=this,t=e.callParent(),n=e.getHref(),r=e.hrefTarget;if(t.tag==="a"){if(!e.disabled){t.tabIndex=e.tabIndex}if(n){if(!e.disabled){t.href=n}if(r){t.target=r}}}return t},beforeRender:function(){this.callParent();if(this.pressed){this.addCls(this._pressedCls)}},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(e,t,n){var r=this,i=r.menu;if(i&&!n){if(t!==false&&r.destroyMenu){i.destroy()}i.ownerCmp=null}if(e){e=Ext.menu.Manager.get(e,{ownerCmp:r});e.ownerCmp=r;r.mon(e,{scope:r,show:r.onMenuShow,hide:r.onMenuHide});if(!i&&r.getArrowVisible()){r.split=true;if(r.rendered){r._addSplitCls();r.updateLayout()}}r.menu=e}else{if(r.rendered){r._removeSplitCls();r.updateLayout()}r.split=false;r.menu=null}},onRender:function(){var e=this,t,n,r;e.doc=Ext.getDoc();e.callParent(arguments);n=e.el;if(e.tooltip){e.setTooltip(e.tooltip,true)}if(e.handleMouseEvents){r={scope:e,mouseover:e.onMouseOver,mouseout:e.onMouseOut,mousedown:e.onMouseDown};if(e.split){r.mousemove=e.onMouseMove}}else{r={scope:e}}if(Ext.supports.Touch){r.touchstart=e.onTouchStart}if(e.menu){e.keyMap=new Ext.util.KeyMap({target:e.el,key:Ext.event.Event.prototype.DOWN,handler:e.onDownKey,scope:e})}if(e.repeat){e.mon(new Ext.util.ClickRepeater(n,Ext.isObject(e.repeat)?e.repeat:{}),"click",e.onRepeatClick,e)}else{if(r[e.clickEvent]){t=true}else{r[e.clickEvent]=e.onClick}}e.mon(n,r);if(e.hasFrameTable()){e.mon(e.frameTable,"click",e.frameTableListener,e)}if(t){e.mon(n,e.clickEvent,e.onClick,e)}Ext.button.Manager.register(e)},getTemplateArgs:function(){var e=this,t=e._btnCls,n=e._baseIconCls,r=e.getIconAlign(),i=e.glyph,s=Ext._glyphFontFamily,o=e.text,u=e._hasIcon(),a=e._hasIconCls,f;if(typeof i==="string"){f=i.split("@");i=f[0];s=f[1]}return{innerCls:e._innerCls,splitCls:e.getArrowVisible()?e.getSplitCls():"",iconUrl:e.icon,iconCls:e.iconCls,glyph:i,glyphCls:i?e._glyphCls:"",glyphFontFamily:s,text:o||"&#160;",closeText:e.closeText,textCls:o?e._textCls:"",noTextCls:o?"":e._noTextCls,hasIconCls:u?a:"",btnWrapCls:e._btnWrapCls,btnWrapStyle:e.width?"table-layout:fixed;":"",btnElStyle:e.height?"height:auto;":"",btnCls:t,baseIconCls:n,iconBeforeText:r==="left"||r==="top",iconAlignCls:u?a+"-"+r:"",textAlignCls:t+"-"+e.getTextAlign()}},renderIcon:function(e){return this.getTpl("iconTpl").apply(e)},setHref:function(e){var t=this;t.href=e;if(!t.configuredWithPreventDefault){t.preventDefault=!e}if(t.rendered){if(!e||t.disabled){t.el.dom.removeAttribute("href")}else{t.el.dom.href=t.getHref()}}},getHref:function(){var e=this,t=e.href;return t?Ext.urlAppend(t,Ext.Object.toQueryString(Ext.apply({},e.params,e.baseParams))):false},setParams:function(e){var t=this;t.params=e;if(t.disabled){t.el.dom.removeAttribute("href")}else{t.el.dom.href=t.getHref()}},getSplitCls:function(){var e=this;return e.split?e.baseCls+"-"+e.arrowCls+" "+(e.baseCls+"-"+e.arrowCls+"-"+e.arrowAlign):""},setIcon:function(e){e=e||"";var t=this,n=t.btnIconEl,r=t.icon||"";t.icon=e;if(e!=r){if(n){n.setStyle("background-image",e?"url("+e+")":"");t._syncHasIconCls();if(t.didIconStateChange(r,e)){t.updateLayout()}}t.fireEvent("iconchange",t,r,e)}return t},setIconCls:function(e){e=e||"";var t=this,n=t.btnIconEl,r=t.iconCls||"";t.iconCls=e;if(r!=e){if(n){n.removeCls(r);n.addCls(e);t._syncHasIconCls();if(t.didIconStateChange(r,e)){t.updateLayout()}}t.fireEvent("iconchange",t,r,e)}return t},setGlyph:function(e){e=e||0;var t=this,n=t.btnIconEl,r=t.glyph,i=t._glyphCls,s,o;t.glyph=e;if(n){if(typeof e==="string"){o=e.split("@");e=o[0];s=o[1]||Ext._glyphFontFamily}if(!e){n.dom.innerHTML="";n.removeCls(i)}else if(r!=e){n.dom.innerHTML="&#"+e+";";n.addCls(i)}if(s){n.setStyle("font-family",s)}t._syncHasIconCls();if(t.didIconStateChange(r,e)){t.updateLayout()}}t.fireEvent("glyphchange",t,t.glyph,r);return t},setTooltip:function(e,t){var n=this;if(n.rendered){if(!t||!e){n.clearTip()}if(e){if(Ext.quickTipsActive&&Ext.isObject(e)){Ext.tip.QuickTipManager.register(Ext.apply({target:n.el.id},e));n.tooltip=e}else{n.el.dom.setAttribute(n.getTipAttr(),e)}}}else{n.tooltip=e}return n},updateIconAlign:function(e,t){var n=this,r,i,s;if(n.rendered){r=n.btnEl;i=n.btnIconEl;s=n._hasIconCls;if(t){r.removeCls(s+"-"+t)}r.addCls(s+"-"+e);if(e==="top"||e==="left"){r.insertFirst(i)}else{r.appendChild(i)}n.updateLayout()}},updateTextAlign:function(e,t){var n=this,r=n.btnEl,i=n._btnCls;if(n.rendered){r.removeCls(i+"-"+t);r.addCls(i+"-"+e)}},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(e){var t=this.menu,n;if(t){n=t.getRefItems(e);n.unshift(t)}return n||[]},clearTip:function(){var e=this,t=e.el;if(Ext.quickTipsActive&&Ext.isObject(e.tooltip)){Ext.tip.QuickTipManager.unregister(t)}else{t.dom.removeAttribute(e.getTipAttr())}},beforeDestroy:function(){var e=this;if(e.rendered){e.clearTip()}if(e.menu&&e.destroyMenu){e.menu.destroy()}Ext.destroy(e.repeater);e.callParent()},onDestroy:function(){var e=this;if(e.rendered){e.doc.un("mouseover",e.monitorMouseOver,e);delete e.doc;Ext.destroy(e.keyMap);delete e.keyMap}Ext.button.Manager.unregister(e);e.callParent()},setHandler:function(e,t){this.handler=e;if(arguments.length>1){this.scope=t}return this},applyText:function(e){e=e==null?"":String(e);var t=this,n=t.btnInnerEl,r=t.btnEl,i=t.text||"";if(e!=i){t.text=e;if(t.rendered){n.setHtml(e||"&#160;");r[e?"addCls":"removeCls"](t._textCls);r[e?"removeCls":"addCls"](t._noTextCls);t.updateLayout()}t.fireEvent("textchange",t,i,e)}},didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},setPressed:function(e){return this.toggle(e!==false)},toggle:function(e,t){var n=this;e=e===undefined?!n.pressed:!!e;if(e!==n.pressed){n[e?"addCls":"removeCls"](n._pressedCls);n.pressed=e;if(!t){n.fireEvent("toggle",n,e);Ext.callback(n.toggleHandler,n.scope,[n,e],0,n);if(n.reference&&n.publishState){n.publishState("pressed",e)}}}return n},maybeShowMenu:function(){var e=this;if(e.menu&&!e.hasVisibleMenu()&&!e.ignoreNextClick){e.showMenu(true)}},showMenu:function(e){var t=this,n=t.menu;if(t.rendered){if(t.tooltip&&Ext.quickTipsActive&&t.getTipAttr()!="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(t.el)}if(n.isVisible()){n.hide()}if(!e||t.showEmptyMenu||n.items.getCount()>0){n.showBy(t.el,t.menuAlign)}}return t},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onTouchStart:function(e){this.doPreventDefault(e)},onClick:function(e){var t=this;t.doPreventDefault(e);if(e.type!=="keydown"&&e.button){return}if(!t.disabled){t.doToggle();t.maybeShowMenu();t.fireHandler(e)}},doPreventDefault:function(e){if(e&&(this.preventDefault||this.disabled&&this.getHref())){e.preventDefault()}},fireHandler:function(e){var t=this;if(t.fireEvent("click",t,e)!==false){Ext.callback(t.handler,t.scope,[t,e],0,t)}},doToggle:function(){var e=this;if(e.enableToggle&&(e.allowDepress!==false||!e.pressed)){e.toggle()}},onMouseOver:function(e){var t=this;if(!t.disabled&&!e.within(t.el,true,true)){t.onMouseEnter(e)}},onMouseOut:function(e){var t=this;if(!e.within(t.el,true,true)){if(t.overMenuTrigger){t.onMenuTriggerOut(e)}t.onMouseLeave(e)}},onMouseMove:function(e){var t=this,n=t.overMenuTrigger;if(t.split){if(t.isWithinTrigger(e)){if(!n){t.onMenuTriggerOver(e)}}else if(n){t.onMenuTriggerOut(e)}}},isWithinTrigger:function(e){var t=this,n=t.el,r,i;r=t.arrowAlign==="right"?e.getX()-t.getX():e.getY()-n.getY();i=t.getTriggerRegion();return r>i.begin&&r<i.end},getTriggerRegion:function(){var e=this,t=e._triggerRegion,n=e.arrowAlign==="right",r=n?"getRight":"getBottom",i=n?e.getWidth():e.getHeight();t.begin=i-(e.el[r]()-e.btnEl[r]());t.end=i;return t},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var t=this,n=t.arrowTooltip;t.overMenuTrigger=true;if(t.split&&n){t.btnWrap.dom.setAttribute(t.getTipAttr(),n)}t.fireEvent("menutriggerover",t,t.menu,e)},onMenuTriggerOut:function(e){var t=this;delete t.overMenuTrigger;if(t.split&&t.arrowTooltip){t.btnWrap.dom.setAttribute(t.getTipAttr(),"")}t.fireEvent("menutriggerout",t,t.menu,e)},enable:function(e){var t=this;t.callParent(arguments);t.removeCls(t._disabledCls);if(t.rendered){t.el.dom.setAttribute("tabindex",t.tabIndex);if(t.href){t.el.dom.href=t.href}}return t},disable:function(e){var t=this;t.callParent(arguments);t.addCls(t._disabledCls);t.removeCls(t.overCls);if(t.rendered){t.el.dom.removeAttribute("tabindex");if(t.href){t.el.dom.removeAttribute("href")}}return t},setScale:function(e){var t=this,n=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,e)){throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")"}t.scale=e;t.setUI(n)},setUI:function(e){var t=this;if(t.scale&&!e.match(t.scale)){e=e+"-"+t.scale}t.callParent([e])},onMouseDown:function(e){var t=this;if(Ext.isIE){t.getFocusEl().focus()}if(!t.disabled&&e.button===0){Ext.button.Manager.onButtonMousedown(t,e);t.addCls(t._pressedCls)}},onMouseUp:function(e){var t=this;if(!t.isDestroyed&&e.button===0){if(!t.pressed){t.removeCls(t._pressedCls)}}},onMenuShow:function(){var e=this;e.ignoreNextClick=0;e.addCls(e._menuActiveCls);e.fireEvent("menushow",e,e.menu)},onMenuHide:function(e){var t=this,n=t.menuClickBuffer;t.removeCls(t._menuActiveCls);if(n){t.ignoreNextClick=Ext.defer(t.restoreClick,n,t)}t.fireEvent("menuhide",t,t.menu);t.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(e,t){var n=this;if(n.menu&&!n.disabled){n.showMenu();t.stopEvent();return false}},updateArrowVisible:function(e){var t=this;if(t.rendered){if(e){if(t.menu||t.isSplitButton){t.split=true;t._addSplitCls()}}else{t._removeSplitCls();t.split=false}}return e},privates:{addOverCls:function(){if(!this.disabled){this.addCls(this.overCls)}},_addSplitCls:function(){var e=this;e.btnWrap.addCls(e.getSplitCls());if(Ext.isOpera12m){e.addCls(e._operaArrowCls+"-"+e.arrowAlign)}},getFocusEl:function(){return this.el},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var e=this;e.btnWrap.removeCls(e.getSplitCls());if(Ext.isOpera12m){e.removeCls(e._operaArrowCls+"-"+e.arrowAlign)}},_syncHasIconCls:function(){var e=this,t=e.btnEl,n=e._hasIconCls;if(t){t[e._hasIcon()?"addCls":"removeCls"]([n,n+"-"+e.iconAlign])}},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},wrapPrimaryEl:function(e){this.el=new Ext.dom.ButtonElement(e)}}});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",alias:["box.overflow.menu","box.overflow.Menu"],noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items" role="menuitem">(None)</div>',menuCls:Ext.baseCSSPrefix+"box-menu",constructor:function(e){var t=this;t.callParent(arguments);t.menuItems=[]},beginLayout:function(e){this.callParent(arguments);this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent(arguments);if(!t){this.clearOverflow(e);this.layout.cacheChildItems(e)}},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},getSuffixConfig:function(){var e=this,t=e.layout,n=t.owner,r=n.id;e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}});e.menuTrigger=new Ext.button.Button({id:r+"-menu-trigger",cls:e.menuCls+"-after "+Ext.baseCSSPrefix+"toolbar-item",plain:n.usePlainButtons,ownerCt:n,ownerLayout:t,iconCls:Ext.baseCSSPrefix+e.getOwnerType(n)+"-more-icon",ui:n.defaultButtonUI||"default",menu:e.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return e.menuTrigger.getRenderTree()},getOverflowCls:function(e){return this.menuCls+"-body-"+e},handleOverflow:function(e){var t=this,n=t.layout;t.showTrigger(e);if(n.direction!=="vertical"){t.menuTrigger.setLocalY((e.state.boxPlan.maxSize-t.menuTrigger[n.names.getHeight]())/2)}return{reservedSpace:t.triggerTotalWidth}},captureChildElements:function(){var e=this,t=e.menuTrigger,n=e.layout.names;if(t.rendering){t.finishRender();e.triggerTotalWidth=t[n.getWidth]()+t.el.getMargin(n.parallelMargins)}},clearOverflow:function(e){var t=this,n=t.menuItems,r,i=0,s=n.length,o=t.layout.owner,u=o._asLayoutRoot;o.suspendLayouts();t.captureChildElements();t.hideTrigger();o.resumeLayouts();for(;i<s;i++){r=n[i];r.suspendLayouts();r.show();r.resumeLayouts(u)}n.length=0},showTrigger:function(e){var t=this,n=t.layout,r=n.owner,i=n.names,s=i.x,o=i.width,u=e.state.boxPlan,a=u.targetSize[o],f=e.childItems,l=f.length,c=t.menuTrigger,h,p,d,v;c.suspendLayouts();c.show();c.resumeLayouts(t._asLayoutRoot);a-=t.triggerTotalWidth;r.suspendLayouts();t.menuItems.length=0;for(d=0;d<l;d++){h=f[d];v=h.props;if(v[s]+v[o]>a){p=h.target;t.menuItems.push(p);p.hide()}}r.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;if(e){e.hide()}},beforeMenuShow:function(e){var t=this,n=t.menuItems,r=0,i=n.length,s,o,u=function(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};e.suspendLayouts();t.clearMenu();e.removeAll();for(;r<i;r++){s=n[r];if(!r&&s instanceof Ext.toolbar.Separator){continue}if(o&&(u(s,o)||u(o,s))){e.add("-")}t.addComponentToMenu(e,s);o=s}if(e.items.length<1){e.add(t.noItemsMenuText)}e.resumeLayouts()},createMenuConfig:function(e,t){var n=Ext.apply({},e.initialConfig),r=e.toggleGroup;Ext.copyTo(n,e,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.applyIf(n,{text:e.overflowText||e.text,hideOnClick:t,destroyMenu:false,listeners:{}});if(e.isFormField){n.value=e.getValue();n.listeners.change=function(t,n,r){e.setValue(n)}}else if(r||e.enableToggle){Ext.apply(n,{hideOnClick:false,group:r,checked:e.pressed,handler:function(t,n){e.onClick(n)}})}if(e.isButton&&!e.changeListenersAdded){e.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle});e.changeListenersAdded=true}delete n.margin;delete n.ownerCt;delete n.xtype;delete n.id;delete n.itemId;return n},onButtonAttrChange:function(e){var t=e.overflowClone;t.suspendLayouts();t.setText(e.text);t.setIcon(e.icon);t.setIconCls(e.iconCls);t.resumeLayouts(true)},onButtonToggle:function(e,t){if(e.overflowClone.checked!==t){e.overflowClone.setChecked(t)}},addComponentToMenu:function(e,t){var n=this,r,i,s;if(t instanceof Ext.toolbar.Fill){return}else if(t instanceof Ext.toolbar.Separator){e.add("-")}else if(t.isComponent){if(t.isXType("splitbutton")){t.overflowClone=e.add(n.createMenuConfig(t,true))}else if(t.isXType("button")){t.overflowClone=e.add(n.createMenuConfig(t,!t.menu))}else if(t.isXType("buttongroup")){i=t.items.items;s=i.length;for(r=0;r<s;r++){n.addComponentToMenu(e,i[r])}}else{t.overflowClone=e.add(Ext.create(Ext.getClassName(t),n.createMenuConfig(t)))}}},clearMenu:function(){var e=this.menu,t,n,r,i;if(e&&e.items){t=e.items.items;r=t.length;for(n=0;n<r;n++){i=t[n];if(i.setMenu){i.setMenu(null)}}}},destroy:function(){var e=this.menuTrigger;if(e&&!this.layout.owner.items.contains(e)){delete e.ownerCt}Ext.destroy(this.menu,e)}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:"Ext.mixin.Observable"},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e);t.scrollPosition=0;t.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(e){var t=this,n=t.layout,r=n.owner,i=Ext.baseCSSPrefix,s=t.getOwnerType(r),o=t.scrollerCls,u=o+" "+o+"-"+n.names[e]+" "+o+"-"+s+" "+o+"-"+s+"-"+r.ui;if(r.plain){u+=" "+o+"-plain"}return u},getOverflowCls:function(e){return this.scrollerCls+"-body-"+e},beginLayout:function(e){var t=this.layout;e.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},finishedLayout:function(e){var t=this,n=e.state.boxPlan,r=t.layout,i=r.names,s=Math.min(t.getMaxScrollPosition(),e.innerCtScrollPos),o,u;if(n&&n.tooNarrow){o=e.childItems[e.childItems.length-1].props;t.scrollSize=o[i.x]+o[i.width];t.updateScrollButtons()}r.innerCt[i.setScrollLeft](s);this.callParent([e])},handleOverflow:function(e){var t=this,n=t.layout.names,r=n.getWidth,i=n.parallelMargins,s,o,u,a;t.showScrollers();u=t.getBeforeScroller();a=t.getAfterScroller();s=u[r]()+a[r]()+u.getMargin(i)+a.getMargin(i);o=e.targetContext.getPaddingInfo()[n.width];return{reservedSpace:Math.max(s-o,0)}},getBeforeScroller:function(){var e=this;return e._beforeScroller||(e._beforeScroller=e.createScroller(e.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var e=this;return e._afterScroller||(e._afterScroller=e.createScroller(e.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(e,t,n){var r=this,i=r.layout.owner,s=r.scrollerCls,o;o=i.el.getById(i.id+e);o.addClsOnOver(s+"-hover");o.addClsOnClick(s+"-pressed");o.setVisibilityMode(Ext.Element.DISPLAY);r[t]=new Ext.util.ClickRepeater(o,{interval:r.scrollRepeatInterval,handler:n,scope:r});return o},createWheelListener:function(){var e=this;e.layout.innerCt.on({mousewheel:function(t){e.scrollBy(e.getWheelDelta(t)*e.wheelIncrement*-1,false)},stopEvent:true})},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var e=this;e.createWheelListener();e.getBeforeScroller().show();e.getAfterScroller().show();e.layout.owner.addClsWithUI(e.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var e=this,t=e.getBeforeScroller(),n=e.getAfterScroller();if(t){t.hide();n.hide();e.layout.owner.removeClsWithUI(e.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){var e=this;Ext.destroy(e.beforeRepeater,e.afterRepeater,e._beforeScroller,e._afterScroller)},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e=this,t=e.getBeforeScroller(),n=e.getAfterScroller(),r;if(!t||!n){return}r=e.scrollerCls+"-disabled";t[e.atExtremeBefore()?"addCls":"removeCls"](r);n[e.atExtremeAfter()?"addCls":"removeCls"](r);e.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var e=this,t=e.layout,n;if(isNaN(e.scrollPosition)){n=t.innerCt[t.names.getScrollLeft]()}else{n=e.scrollPosition}return n},getMaxScrollPosition:function(){var e=this,t=e.layout,n=e.scrollSize-t.innerCt[t.names.getWidth]();return n<0?0:n},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var e=this,t=e.getBeforeScroller(),n=e.getAfterScroller(),r=e.layout.names,i=e.scrollerCls;t.removeCls(i+"-"+r.beforeY);n.removeCls(i+"-"+r.afterY);t.addCls(i+"-"+r.beforeX);n.addCls(i+"-"+r.afterX);this.callParent()},scrollTo:function(e,t){var n=this,r=n.layout,i=r.names,s=n.getScrollPosition(),o=Ext.Number.constrain(e,0,n.getMaxScrollPosition());if(o!=s&&!n.scrolling){n.scrollPosition=NaN;if(t===undefined){t=n.animateScroll}r.innerCt[i.scrollTo](i.beforeScrollX,o,t?n.getScrollAnim():false);if(t){n.scrolling=true}else{n.updateScrollButtons()}n.fireEvent("scroll",n,o,t?n.getScrollAnim():false)}},scrollToItem:function(e,t){var n=this,r=n.layout,i=r.owner,s=r.names,o=r.innerCt,u,a,f;e=n.getItem(e);if(e!==undefined){if(e==i.items.first()){f=0}else if(e===i.items.last()){f=n.getMaxScrollPosition()}else{u=n.getItemVisibility(e);if(!u.fullyVisible){a=e.getBox(false,true);f=a[s.x];if(u.hiddenEnd){f-=o[s.getWidth]()-a[s.width]}}}if(f!==undefined){n.scrollTo(f,t)}}},getItemVisibility:function(e){var t=this,n=t.getItem(e).getBox(true,true),r=t.layout,i=r.names,s=n[i.x],o=s+n[i.width],u=t.getScrollPosition(),a=u+r.innerCt[i.getWidth]();return{hiddenStart:s<u,hiddenEnd:o>a,fullyVisible:s>u&&o<a}}});Ext.define("Ext.dd.DragDropManager",{singleton:true,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(e,t){var n=this.ids,r,i,s,o;for(r in n){if(n.hasOwnProperty(r)){o=n[r];for(i in o){if(o.hasOwnProperty(i)){s=o[i];if(!this.isTypeOfDD(s)){continue}s[e].apply(s,t)}}}}},addListeners:function(){var e=this;e.init();Ext.getDoc().on({mouseup:e.handleMouseUp,mousemove:{fn:e.handleMouseMove,capture:false},dragstart:e.preventDrag,drag:e.preventDrag,dragend:e.preventDrag,capture:true,scope:e});Ext.getWin().on({unload:e._onUnload,resize:e._onResize,scope:e})},preventDrag:function(e){if(this.isMouseDown){e.stopPropagation()}},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:8,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){if(!this.initialized){this.init()}if(!this.ids[t]){this.ids[t]={}}this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){if(!this.ids[t]){this.ids[t]={}}var n=this.ids[t];if(n&&n[e.id]){delete n[e.id]}},_remove:function(e,t){var n=this,r=n.ids,i=e.groups,s;if(n.clearingAll){return}if(n.dragCurrent===e){n.dragCurrent=null}for(s in i){if(i.hasOwnProperty(s)){if(t){delete r[s]}else if(r[s]){delete r[s][e.id]}}}delete n.handleIds[e.id]},regHandle:function(e,t){if(!this.handleIds[e]){this.handleIds[e]={}}this.handleIds[e][t]=t},isDragDrop:function(e){return this.getDDById(e)?true:false},getRelated:function(e,t){var n=[],r,i,s;for(r in e.groups){for(i in this.ids[r]){s=this.ids[r][i];if(!this.isTypeOfDD(s)){continue}if(!t||s.isTarget){n[n.length]=s}}}return n},isLegalTarget:function(e,t){var n=this.getRelated(e,true),r,i;for(r=0,i=n.length;r<i;++r){if(n[r].id==t.id){return true}}return false},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e,t){var n,r;for(n in this.ids){r=this.ids[n][e];if(r instanceof Ext.dd.DDTarget||t){return r}}return null},handleMouseDown:function(e,t){var n=this,r,i;n.isMouseDown=true;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}n.currentPoint=e.getPoint();if(n.dragCurrent){n.handleMouseUp(e)}n.mousedownEvent=e;n.currentTarget=e.getTarget();n.dragCurrent=t;i=t.getEl();Ext.fly(i).setCapture();r=e.getXY();n.startX=r[0];n.startY=r[1];n.offsetX=n.offsetY=0;n.deltaX=n.startX-i.offsetLeft;n.deltaY=n.startY-i.offsetTop;n.dragThreshMet=false},startDrag:function(e,t){var n=this,r=n.dragCurrent,i;clearTimeout(n.clickTimeout);if(r){r.b4StartDrag(e,t);r.startDrag(e,t);i=r.getDragEl();if(i){Ext.fly(i).addCls(n.dragCls)}}n.dragThreshMet=true},handleMouseUp:function(e){var t=this;t.isMouseDown=false;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!t.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(t.clickTimeout);if(t.dragThreshMet){t.fireEvents(e,true)}t.stopDrag(e);t.stopEvent(e)},stopEvent:function(e){if(this.stopPropagation){e.stopPropagation()}if(this.preventDefault){e.preventDefault()}},stopDrag:function(e){var t=this,n=t.dragCurrent,r;if(n){if(t.dragThreshMet){r=n.getDragEl();if(r){Ext.fly(r).removeCls(t.dragCls)}n.b4EndDrag(e);n.endDrag(e)}t.dragCurrent.onMouseUp(e)}t.dragCurrent=null;t.dragOvers={}},handleMouseMove:function(e){var t=this,n=t.dragCurrent,r=t.currentPoint=e.getPoint(),i=r.x,s=r.y,o,u;t.offsetX=i-t.startX;t.offsetY=s-t.startY;if(!n){return true}if(!t.dragThreshMet){o=Math.abs(t.offsetX);u=Math.abs(t.offsetY);if(o>t.clickPixelThresh||u>t.clickPixelThresh){t.startDrag(t.startX,t.startY)}}if(t.dragThreshMet){n.b4Drag(e);n.onDrag(e);if(!n.moveOnly){t.fireEvents(e,false)}}t.stopEvent(e);return true},fireEvents:function(e,t){var n=this,r=Ext.supports.Touch,i=n.dragCurrent,s=n.currentPoint,o=s.x,u=s.y,a,f,l,c,h=[],p=[],d=[],v=[],m=[],g=[],y,b,w,E,S=r?document.documentElement.clientWidth/window.innerWidth:1,x;if(!i||i.isLocked()){return}x=!(i.deltaX<0||i.deltaY<0);if(r||!n.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&x){a=i.getDragEl();if(x){a.style.visibility="hidden"}e.target=document.elementFromPoint(o/S,u/S);if(x){a.style.visibility="visible"}}for(b in n.dragOvers){l=n.dragOvers[b];delete n.dragOvers[b];if(!n.isTypeOfDD(l)||l.isDestroyed){continue}if(n.notifyOccluded){if(!this.isOverTarget(s,l,n.mode)){d.push(l)}}else{if(!e.within(l.getEl())){d.push(l)}}p[b]=true}for(E in i.groups){if("string"!=typeof E){continue}for(b in n.ids[E]){l=n.ids[E][b];if(n.isTypeOfDD(l)&&(c=l.getEl())&&l.isTarget&&!l.isLocked()&&Ext.fly(c).isVisible(true)&&(l!=i||i.ignoreSelf===false)){if(n.notifyOccluded){if((l.zIndex=n.getZIndex(c))!==-1){y=true}h.push(l)}else{if(e.within(l.getEl())){h.push(l);break}}}}}if(y){Ext.Array.sort(h,n.byZIndex)}for(b=0,w=h.length;b<w;b++){l=h[b];if(n.isOverTarget(s,l,n.mode)){if(t){m.push(l)}else{if(!p[l.id]){g.push(l)}else{v.push(l)}n.dragOvers[l.id]=l}if(!n.notifyOccluded){break}}}if(n.mode){if(d.length){i.b4DragOut(e,d);i.onDragOut(e,d)}if(g.length){i.onDragEnter(e,g)}if(v.length){i.b4DragOver(e,v);i.onDragOver(e,v)}if(m.length){i.b4DragDrop(e,m);i.onDragDrop(e,m)}}else{for(b=0,w=d.length;b<w;++b){i.b4DragOut(e,d[b].id);i.onDragOut(e,d[b].id)}for(b=0,w=g.length;b<w;++b){i.onDragEnter(e,g[b].id)}for(b=0,w=v.length;b<w;++b){i.b4DragOver(e,v[b].id);i.onDragOver(e,v[b].id)}for(b=0,w=m.length;b<w;++b){i.b4DragDrop(e,m[b].id);i.onDragDrop(e,m[b].id)}}if(t&&!m.length){i.onInvalidDrop(e)}},getZIndex:function(e){var t=document.body,n,r=-1;e=Ext.getDom(e);while(e!==t){if(!isNaN(n=Number(Ext.fly(e).getStyle("zIndex")))){r=n}e=e.parentNode}return r},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t=null,n=e.length,r,i;if(n==1){t=e[0]}else{for(r=0;r<n;++r){i=e[r];if(i.cursorIsOver){t=i;break}else{if(!t||t.overlap.getArea()<i.overlap.getArea()){t=i}}}}return t},refreshCache:function(e){var t,n,r,i;for(t in e){if("string"!=typeof t){continue}for(n in this.ids[t]){r=this.ids[t][n];if(this.isTypeOfDD(r)){i=this.getLocation(r);if(i){this.locationCache[r.id]=i}else{delete this.locationCache[r.id]}}}}},verifyEl:function(e){if(e){var t;if(Ext.isIE){try{t=e.offsetParent}catch(n){}}else{t=e.offsetParent}if(t){return true}}return false},getLocation:function(e){if(!this.isTypeOfDD(e)){return null}if(e.getRegion){return e.getRegion()}var t=e.getEl(),n,r,i,s,o,u,a,f,l;try{n=Ext.fly(t).getXY()}catch(c){}if(!n){return null}r=n[0];i=r+t.offsetWidth;s=n[1];o=s+t.offsetHeight;u=s-e.padding[0];a=i+e.padding[1];f=o+e.padding[2];l=r-e.padding[3];return new Ext.util.Region(u,a,f,l)},isOverTarget:function(e,t,n){var r=this.locationCache[t.id],i,s,o,u,a;if(!r||!this.useCache){r=this.getLocation(t);this.locationCache[t.id]=r}if(!r){return false}t.cursorIsOver=r.contains(e);i=this.dragCurrent;if(!i||!i.getTargetCoord||!n&&!i.constrainX&&!i.constrainY){return t.cursorIsOver}t.overlap=null;s=i.getTargetCoord(e.x,e.y);o=i.getDragEl();u=new Ext.util.Region(s.y,s.x+o.offsetWidth,s.y+o.offsetHeight,s.x);a=u.intersect(r);if(a){t.overlap=a;return n?true:t.cursorIsOver}else{return false}},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var e=this,t=e.elementCache,n;if(e.dragCurrent){e.stopDrag();e.dragCurrent=null}e.clearingAll=true;e._execOnAll("unreg",[]);delete e.clearingAll;for(n in t){delete t[n]}e.elementCache={};e.ids={};e.handleIds={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];if(!t||!t.el){t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))}return t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null;this.id=this.el&&e.id;this.css=this.el&&e.style},getPosX:function(e){return Ext.fly(e).getX()},getPosY:function(e){return Ext.fly(e).getY()},swapNode:function(e,t){if(e.swapNode){e.swapNode(t)}else{var n=t.parentNode,r=t.nextSibling;if(r==e){n.insertBefore(e,t)}else if(t==e.nextSibling){n.insertBefore(t,e)}else{e.parentNode.replaceChild(t,e);n.insertBefore(e,r)}}},getScroll:function(){var e=window.document,t=e.documentElement,n=e.body,r=0,i=0;if(t&&(t.scrollTop||t.scrollLeft)){r=t.scrollTop;i=t.scrollLeft}else if(n){r=n.scrollTop;i=n.scrollLeft}return{top:r,left:i}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var n=Ext.fly(t).getXY();Ext.fly(e).setXY(n)},numericSort:function(e,t){return e-t},handleWasClicked:function(e,t){if(this.isHandle(t,e.id)){return true}else{var n=e.parentNode;while(n){if(this.isHandle(t,n.id)){return true}else{n=n.parentNode}}}return false}},function(e){Ext.onReady(function(){e.addListeners()})});Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],xtype:"splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],isSplitter:true,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:true,collapsible:null,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:false,vertical:false,size:5,tracker:null,ariaRole:"separator",getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var e=this,t=e.getCollapseTarget(),n=e.collapsible;e.callParent();if(t.collapsed){e.addCls(e.collapsedClsInternal)}if(!e.canResize){e.addCls(e.baseCls+"-noresize")}Ext.applyIf(e.renderData,{collapseDir:e.getCollapseDirection(),collapsible:n!==null?n:t.collapsible});e.protoEl.unselectable()},onRender:function(){var e=this,t,n;e.callParent(arguments);if(e.performCollapse!==false){if(e.renderData.collapsible){e.mon(e.collapseEl,"click",e.toggleTargetCmp,e)}if(e.collapseOnDblClick){e.mon(e.el,"dblclick",e.toggleTargetCmp,e)}}e.mon(e.getCollapseTarget(),{collapse:e.onTargetCollapse,expand:e.onTargetExpand,beforeexpand:e.onBeforeTargetExpand,beforecollapse:e.onBeforeTargetCollapse,scope:e});if(e.canResize){e.tracker=Ext.create(e.getTrackerConfig());e.relayEvents(e.tracker,["beforedragstart","dragstart","dragend"])}t=e.collapseEl;if(t){t.lastCollapseDirCls=e.collapseDirProps[e.collapseDirection].cls}},getCollapseDirection:function(){var e=this,t=e.collapseDirection,n,r,i,s;if(!t){n=e.collapseTarget;if(n.isComponent){t=n.collapseDirection}if(!t){s=e.ownerCt.layout.type;if(n.isComponent){i=e.ownerCt.items;r=Number(i.indexOf(n)===i.indexOf(e)-1)<<1|Number(s==="hbox")}else{r=Number(e.collapseTarget==="prev")<<1|Number(s==="hbox")}t=["bottom","right","top","left"][r]}e.collapseDirection=t}e.setOrientation(t==="top"||t==="bottom"?"horizontal":"vertical");return t},getCollapseTarget:function(){var e=this;return e.collapseTarget.isComponent?e.collapseTarget:e.collapseTarget==="prev"?e.previousSibling():e.nextSibling()},setCollapseEl:function(e){var t=this.collapseEl;if(t){t.setDisplayed(e)}},onBeforeTargetExpand:function(e){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(e){this.el.addCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},onTargetExpand:function(e){this.el.removeCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var e=this,t=e.collapseEl,n=e.collapseDirProps[e.collapseDirection],r;if(t){r=t.lastCollapseDirCls;if(r){t.removeCls(r)}t.addCls(t.lastCollapseDirCls=n.cls)}},applyOrientation:function(){var e=this,t=e.orientation,n=e.orientationProps[t],r=e.size,i=n.fixedAxis,s=n.stretchedAxis,o=e.baseCls+"-";e[t]=true;e[n.opposite]=false;if(!e.hasOwnProperty(i)||e[i]==="100%"){e[i]=r}if(!e.hasOwnProperty(s)||e[s]===r){e[s]="100%"}e.removeCls(o+n.opposite);e.addCls(o+t)},setOrientation:function(e){var t=this;if(t.orientation!==e){t.orientation=e;t.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(e,t){var n=this.getCollapseTarget(),r=n.placeholder,i;if(Ext.isFunction(n.expand)&&Ext.isFunction(n.collapse)){if(r&&!r.hidden){i=true}else{i=!n.hidden}if(i){if(n.collapsed){n.expand()}else if(n.collapseDirection){n.collapse()}else{n.collapse(this.renderData.collapseDir)}}}},setSize:function(){var e=this;e.callParent(arguments);if(Ext.isIE&&e.el){e.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});Ext.define("Ext.layout.container.Box",{extend:"Ext.layout.container.Container",alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager","Ext.resizer.Splitter"],type:"box",config:{align:"begin",constrainAlign:false,enableSplitters:true,overflowHandler:{$value:null,merge:function(e,t){if(typeof e=="string"){e={type:e}}return Ext.merge(t?Ext.Object.chain(t):{},e)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:false,alignRoundingMethod:"round"},scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:true,manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;"+"if (oh && oh.getPrefixConfig!==Ext.emptyFn) {"+"if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)"+"}%}"+'<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}'+'{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}">'+'<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">'+"{%this.renderBody(out, values)%}"+"</div>"+"</div>"+"{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {"+"if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)"+"}%}",{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t=this,n;t.callParent(arguments);t.setVertical(t.vertical);t.flexSortFn=t.flexSort.bind(t);n=typeof t.padding;if(n==="string"||n==="number"){t.padding=Ext.util.Format.parseBox(t.padding);t.padding.height=t.padding.top+t.padding.bottom;t.padding.width=t.padding.left+t.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var n=this,r=n.sizePolicy,i=n.align,s=e.flex,o=i,u=n.names,a=e[u.width],f=e[u.height],l=n._percentageRe,c=l.test(a),h=i==="stretch",p=i==="stretchmax",d=n.constrainAlign;if(!t&&(h||s||c||d&&!p)){t=n.owner.getSizeModel()}if(h){if(!l.test(f)&&t[u.height].shrinkWrap){o="stretchmax"}}else if(!p){if(l.test(f)){o="stretch"}else if(d&&!t[u.height].shrinkWrap){o="stretchmax"}else{o=""}}if(s||c){if(!t[u.width].shrinkWrap){r=r.flex}}return r[o]},flexSort:function(e,t){var n=this.names.maxWidth,r=this.names.minWidth,i=Infinity,s=e.target,o=t.target,u=s.flex,a=o.flex,f=0,l,c,h,p,d,v;h=s[n]||i;p=o[n]||i;l=s[r]||0;c=o[r]||0;d=isFinite(l)||isFinite(c);v=isFinite(h)||isFinite(p);if(d||v){if(v){f=h-p}if(f===0&&d){f=c-l}if(f===0){if(v){f=a-u}else{f=u-a}}}return f},isItemBoxParent:function(e){return true},isItemShrinkWrap:function(e){return true},roundFlex:function(e){return Math.ceil(e)},beginCollapse:function(e){var t=this;if(t.direction==="vertical"&&e.collapsedVertical()){e.collapseMemento.capture(["flex"]);delete e.flex}else if(t.direction==="horizontal"&&e.collapsedHorizontal()){e.collapseMemento.capture(["flex"]);delete e.flex}},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,n=t.owner,r=n.stretchMaxPartner,i=t.innerCt.dom.style,s=t.names,o=t.overflowHandler;e.boxNames=s;if(o){o.beginLayout(e)}if(typeof r==="string"){r=Ext.getCmp(r)||n.query(r)[0]}e.stretchMaxPartner=r&&e.context.getCmp(r);t.callParent(arguments);e.innerCtContext=e.getEl("innerCt",t);e.targetElContext=e.getEl("targetEl",t);t.scrollParallel=n.scrollFlags[s.x];t.scrollPerpendicular=n.scrollFlags[s.y];if(t.scrollParallel){t.scrollPos=n.getTargetEl().dom[s.scrollLeft]}i.width="";i.height=""},beginLayoutCycle:function(e,t){var n=this,r=n.align,i=e.boxNames,s=n.pack,o=n._centerRe,u=i.heightModel,a=n.overflowHandler;if(a){a.beginLayoutCycle(e,t)}n.callParent(arguments);e.parallelSizeModel=e[i.widthModel];e.perpendicularSizeModel=e[u];e.boxOptions={align:r={stretch:r==="stretch",stretchmax:r==="stretchmax",center:o.test(r),bottom:n._endRe.test(r)},pack:s={center:o.test(s),end:s==="end"}};if(r.stretch&&e.perpendicularSizeModel.shrinkWrap){r.stretchmax=true;r.stretch=false}r.nostretch=!(r.stretch||r.stretchmax);if(e.parallelSizeModel.shrinkWrap){s.center=s.end=false}n.cacheFlexes(e);n.targetEl.setWidth(2e4)},cacheFlexes:function(e){var t=this,n=e.boxNames,r=n.widthModel,i=n.heightModel,s=e.boxOptions.align.nostretch,o=0,u=e.childItems,a=u.length,f=[],l=0,c=n.minWidth,h=t._percentageRe,p=0,d=0,v,m,g,y;while(a--){m=u[a];v=m.target;if(m[r].calculated){m.flex=g=v.flex;if(g){o+=g;f.push(m);l+=v[c]||0}else{y=h.exec(v[n.width]);m.percentageParallel=parseFloat(y[1])/100;++p}}if(s&&m[i].calculated){y=h.exec(v[n.height]);m.percentagePerpendicular=parseFloat(y[1])/100;++d}}e.flexedItems=f;e.flexedMinSize=l;e.totalFlex=o;e.percentageWidths=p;e.percentageHeights=d;Ext.Array.sort(f,t.flexSortFn)},calculate:function(e){var t=this,n=t.getContainerSize(e),r=e.boxNames,i=e.state,s=i.boxPlan||(i.boxPlan={}),o=e.targetContext,u=t.overflowHandler;s.targetSize=n;if(!i.parallelDone){i.parallelDone=t.calculateParallel(e,r,s)}if(!i.perpendicularDone){i.perpendicularDone=t.calculatePerpendicular(e,r,s)}if(i.parallelDone&&i.perpendicularDone){t.publishInnerCtSize(e,t.reserveOffset?t.availableSpaceOffset:0);if(t.done&&e.boxOptions.align.stretchmax&&!i.stretchMaxDone){t.calculateStretchMax(e,r,s);i.stretchMaxDone=true}if(u){u.calculate(e)}}else{t.done=false}},calculateParallel:function(e,t,n){var r=this,i=t.width,s=e.childItems,o=t.beforeX,u=t.afterX,a=t.setWidth,f=s.length,l=e.flexedItems,c=l.length,h=e.boxOptions.pack,p=r.padding,d=n.targetSize,v=d[i],m=0,g=p[o],y=g+p[u]+r.scrollOffset+(r.reserveOffset?r.availableSpaceOffset:0),b=Ext.getScrollbarSize()[t.width],w,E,S,x,T,N,C,k,L,A,O;if(!e.parallelSizeModel.shrinkWrap&&!d[t.gotWidth]){return false}if(b&&r.scrollPerpendicular&&e.parallelSizeModel.shrinkWrap&&!e.boxOptions.align.stretch&&!e.perpendicularSizeModel.shrinkWrap){if(!e.state.perpendicularDone){return false}L=true}for(w=0;w<f;++w){T=s[w];E=T.marginInfo||T.getMarginInfo();m+=E[i];if(!T[t.widthModel].calculated){A=T.getProp(i);y+=A;if(isNaN(y)){return false}}}y+=m;if(e.percentageWidths){O=v-m;if(isNaN(O)){return false}for(w=0;w<f;++w){T=s[w];if(T.percentageParallel){A=Math.ceil(O*T.percentageParallel);A=T.setWidth(A);y+=A}}}if(e.parallelSizeModel.shrinkWrap){n.availableSpace=0;n.tooNarrow=false}else{n.availableSpace=v-y;n.tooNarrow=n.availableSpace<e.flexedMinSize;if(n.tooNarrow&&Ext.getScrollbarSize()[t.height]&&r.scrollParallel&&e.state.perpendicularDone){e.state.perpendicularDone=false;for(w=0;w<f;++w){s[w].invalidate()}}}k=y;S=n.availableSpace;x=e.totalFlex;for(w=0;w<c;w++){T=l[w];N=T.flex;C=r.roundFlex(N/x*S);C=T[a](C);k+=C;S=Math.max(0,S-C);x-=N}if(h.center){g+=S/2;if(g<0){g=0}}else if(h.end){g+=S}for(w=0;w<f;++w){T=s[w];E=T.marginInfo;g+=E[o];T.setProp(t.x,g);g+=E[u]+T.props[i]}k+=e.targetContext.getPaddingInfo()[i];e.state.contentWidth=k;if(L&&e.peek(t.contentHeight)>n.targetSize[t.height]){k+=b;e[t.hasOverflowY]=true;e.target.componentLayout[t.setWidthInDom]=true;e[t.invalidateScrollY]=Ext.isIE8}e[t.setContentWidth](k);return true},calculatePerpendicular:function(e,t,n){var r=this,i=e.perpendicularSizeModel.shrinkWrap,s=n.targetSize,o=e.childItems,u=o.length,a=Math.max,f=t.height,l=t.setHeight,c=t.beforeY,h=t.y,p=r.padding,d=p[c],v=s[f]-d-p[t.afterY],m=e.boxOptions.align,g=m.stretch,y=m.stretchmax,b=m.center,w=m.bottom,E=r.constrainAlign,S=0,x=0,T=r.onBeforeConstrainInvalidateChild,N=r.onAfterConstrainInvalidateChild,C=Ext.getScrollbarSize().height,k,L,A,O,M,_,D,P,H,B,j;if(g||(b||w)&&!i){if(isNaN(v)){return false}}if(!g&&!e.parallelSizeModel.shrinkWrap&&!e.state.parallelDone&&r.scrollParallel){return false}if(r.scrollParallel&&n.tooNarrow){if(i){B=true}else{v-=C;n.targetSize[f]-=C}}if(g){_=v}else{for(L=0;L<u;L++){D=o[L];O=(D.marginInfo||D.getMarginInfo())[f];if(!(j=D.percentagePerpendicular)){A=D.getProp(f)}else{++x;if(i){continue}else{A=j*v-O;A=D[t.setHeight](A)}}if(!i&&E&&D[t.heightModel].shrinkWrap&&A>v){D.invalidate({before:T,after:N,layout:r,childHeight:v,names:t});e.state.parallelDone=false}if(isNaN(S=a(S,A+O,D.target[t.minHeight]||0))){return false}}if(B){S+=C;e[t.hasOverflowX]=true;e.target.componentLayout[t.setHeightInDom]=true;e[t.invalidateScrollX]=Ext.isIE8}P=e.stretchMaxPartner;if(P){e.setProp("maxChildHeight",S);H=P.childItems;if(H&&H.length){S=a(S,P.getProp("maxChildHeight"));if(isNaN(S)){return false}}}e[t.setContentHeight](S+r.padding[f]+e.targetContext.getPaddingInfo()[f]);if(B){S-=C}n.maxSize=S;if(y){_=S}else if(b||w||x){if(E){_=i?S:v}else{_=i?S:a(v,S)}_-=e.innerCtContext.getBorderInfo()[f]}}for(L=0;L<u;L++){D=o[L];O=D.marginInfo||D.getMarginInfo();k=d+O[c];if(g){D[l](_-O[f])}else{j=D.percentagePerpendicular;if(i&&j){O=D.marginInfo||D.getMarginInfo();A=j*_-O[f];A=D.setHeight(A)}if(b){M=_-D.props[f];if(M>0){k=d+Math[r.alignRoundingMethod](M/2)}}else if(w){k=a(0,_-k-D.props[f])}}D.setProp(h,k)}return true},onBeforeConstrainInvalidateChild:function(e,t){var n=t.names.heightModel;if(!e[n].constrainedMin){e[n]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(e,t){var n=t.names;e.setProp(n.beforeY,0);if(e[n.heightModel].calculated){e[n.setHeight](t.childHeight)}},calculateStretchMax:function(e,t,n){var r=this,i=t.height,s=t.width,o=e.childItems,u=o.length,a=n.maxSize,f=r.onBeforeStretchMaxInvalidateChild,l=r.onAfterStretchMaxInvalidateChild,c,h,p,d;for(p=0;p<u;++p){c=o[p];h=c.props;d=a-c.getMarginInfo()[i];if(d!==h[i]||c[t.heightModel].constrained){c.invalidate({before:f,after:l,layout:r,childWidth:h[s],childHeight:d,childX:h.x,childY:h.y,names:t})}}},onBeforeStretchMaxInvalidateChild:function(e,t){var n=t.names.heightModel;if(!e[n].constrainedMax){e[n]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(e,t){var n=t.names,r=t.childHeight,i=t.childWidth;e.setProp("x",t.childX);e.setProp("y",t.childY);if(e[n.heightModel].calculated){e[n.setHeight](r)}if(e[n.widthModel].calculated){e[n.setWidth](i)}},completeLayout:function(e){var t=this,n=e.boxNames,r=e.invalidateScrollX,i=e.invalidateScrollY,s=t.overflowHandler,o,u,a,f,l;if(s){s.completeLayout(e)}if(r||i){u=t.getTarget();o=u.dom;l=o.style;if(r){a=u.getStyle("overflowX");if(a==="auto"){a=l.overflowX;l.overflowX="scroll"}else{r=false}}if(i){f=u.getStyle("overflowY");if(f==="auto"){f=l.overflowY;l.overflowY="scroll"}else{i=false}}if(r||i){o.scrollWidth;if(r){l.overflowX=a}if(i){l.overflowY=f}}}if(t.scrollParallel){t.owner.getTargetEl().dom[n.scrollLeft]=t.scrollPos}},finishedLayout:function(e){var t=this.overflowHandler;if(t){t.finishedLayout(e)}this.callParent(arguments)},getLayoutItems:function(){var e=this.callParent(),t=e.length,n,r,i,s,o,u,a;for(i=0;i<t;++i){if((s=e[i]).isSplitter){continue}a=s.splitter;if(s.hidden){if(a){if(!a.hidden){a.hidden=true;if(a.el){a.el.hide()}}}continue}if(a){u=a.collapseTarget==="next"}else{u=false}r=null;if(n&&o){if(o.hidden){o.hidden=false;if(o.el){o.el.show()}}if(u){r=true}}else if(u){r=!n}if(r!==null&&a.hidden!==r){a.hidden=r;if(a.el){a.el.setVisible(!r)}}o=!u&&a;n=s}if(n&&o&&!o.hidden){o.hidden=true;if(o.el){o.el.hide()}}return e},getScrollerEl:function(){return this.innerCt},insertSplitter:function(e,t,n,r){var i={xtype:"splitter",id:e.id+"-splitter",hidden:n,splitterFor:e,synthetic:true},s=t+(r.collapseTarget==="prev"?1:0);i[this.names.height]="100%";if(r){Ext.apply(i,r)}e.splitter=this.owner.add(s,i)},publishInnerCtSize:function(e,t){var n=this,r=e.boxNames,i=r.height,s=r.width,o=e.boxOptions.align,u=n.owner.dock,a=n.padding,f=e.state.boxPlan,l=f.targetSize,c=l[i],h=e.innerCtContext,p=(e.parallelSizeModel.shrinkWrap||f.tooNarrow&&n.scrollParallel?e.state.contentWidth-e.targetContext.getPaddingInfo()[s]:l[s])-(t||0),d;n.owner.tooNarrow=f.tooNarrow;if(o.stretch){d=c}else{d=f.maxSize+a[r.beforeY]+a[r.afterY]+h.getBorderInfo()[i];if(!e.perpendicularSizeModel.shrinkWrap&&(o.center||o.bottom)){d=Math.max(c,d)}}h[r.setWidth](p);h[r.setHeight](d);e.targetElContext.setWidth(e.innerCtContext.props.width-(this.vertical?0:t||0));if(isNaN(p+d)){n.done=false}if(f.calculatedWidth&&(u==="left"||u==="right")){e.setWidth(f.calculatedWidth,true,true)}},onAdd:function(e,t){var n=this,r=n.enableSplitters&&e.split&&!e.isButton;n.callParent(arguments);if(r){if(r===true){r={collapseTarget:"next"}}else if(Ext.isString(r)){r={collapseTarget:r==="before"?"next":"prev"}}else{r=Ext.apply({collapseTarget:r.side==="before"?"next":"prev"},r)}n.insertSplitter(e,t,!!e.hidden,r)}},onRemove:function(e,t){var n=this,r=n.names,i=n.owner,s=e.splitter,o=n.overflowHandler,u;n.callParent(arguments);if(s&&i.contains(s)){i.doRemove(s,true);e.splitter=null}if(o){o.onRemove(e)}if(e.layoutMarginCap===n.id){delete e.layoutMarginCap}if(!i.destroying&&!t&&e.rendered){u=e.getEl();if(u){u.setStyle(r.beforeY,"");u.setStyle(r.beforeX,"");u.setStyle("margin","")}}},applyOverflowHandler:function(e,t){var n;if(typeof e==="string"){e={type:e}}n=e.type;if(t&&t.type===e.type){delete e.type;t.setConfig(e);return t}e.layout=this;return Ext.Factory.boxOverflow(e)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){var e=this;Ext.destroy(e.innerCt,e.overflowHandler);e.flexSortFn=e.innerCt=null;e.callParent(arguments)},getRenderData:function(){var e=this.callParent();e.targetElCls=this.targetElCls;return e},updateVertical:function(e){var t=e&&"vbox"||"hbox",n=this.overflowHandler,r=this.owner;Ext.apply(this,this._props[t]);if(n&&r&&r.rendered){n.setVertical(e)}},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:true,vertical:false,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:false,vertical:true,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}});Ext.define("Ext.layout.container.HBox",{extend:"Ext.layout.container.Box",alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:false});Ext.define("Ext.layout.container.VBox",{extend:"Ext.layout.container.Box",alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:true});Ext.define("Ext.util.FocusableContainer",{extend:"Ext.Mixin",requires:["Ext.util.KeyNav"],mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",destroy:"destroyFocusableContainer"},after:{afterRender:"initFocusableContainer"}},isFocusableContainer:true,enableFocusableContainer:true,activeChildTabIndex:0,inactiveChildTabIndex:-1,privates:{initFocusableContainer:function(){if(this.enableFocusableContainer){this.doInitFocusableContainer()}},doInitFocusableContainer:function(){var e=this,t;t=e.getFocusableContainerEl();e.activateFocusableContainerEl(t);e.mon(t,{scope:e,mousedown:e.onFocusableContainerMousedown,focus:e.onFocusableContainerFocus,focusenter:e.onFocusableContainerFocusEnter,focusleave:e.onFocusableContainerFocusLeave});e.focusableKeyNav=e.createFocusableContainerKeyNav(t)},createFocusableContainerKeyNav:function(e){var t=this;return new Ext.util.KeyNav(e,{ignoreInputFields:true,scope:t,up:t.onFocusableContainerUpKey,down:t.onFocusableContainerDownKey,left:t.onFocusableContainerLeftKey,right:t.onFocusableContainerRightKey})},destroyFocusableContainer:function(){this.doDestroyFocusableContainer()},doDestroyFocusableContainer:function(){var e=this.focusableKeyNav;if(e){e.destroy();delete this.focusableKeyNav}},getFocusables:function(){return this.items.items},initDefaultFocusable:function(e){var t=this,n=t.activeChildTabIndex,r=false,i,s,o,u,a;i=t.getFocusables();u=i.length;if(!u){return}for(o=0;o<u;o++){s=i[o];if(s.focusable){r=r||s.focusable}else{continue}a=s.getTabIndex();if(a!=null&&a>=n){return}}if(!r){return}s=t.findNextFocusableChild(null,true,i,e);if(s){t.activateFocusable(s)}return s},clearFocusables:function(){var e=this,t,n,r,i;t=e.getFocusables();for(r=0,i=t.length;r<i;r++){n=t[r];if(n.focusable){e.deactivateFocusable(n)}}},activateFocusable:function(e,t){var n=t!=null?t:this.activeChildTabIndex;e.setTabIndex(n)},deactivateFocusable:function(e,t){var n=t!=null?t:this.inactiveChildTabIndex;e.setTabIndex(n)},onFocusableContainerUpKey:function(e){return this.moveChildFocus(e,false)},onFocusableContainerLeftKey:function(e){return this.moveChildFocus(e,false)},onFocusableContainerRightKey:function(e){return this.moveChildFocus(e,true)},onFocusableContainerDownKey:function(e){return this.moveChildFocus(e,true)},getFocusableFromEvent:function(e){var t=Ext.Component.getComponentByElement(e.getTarget());if(!t){Ext.Error.raise("No focusable child found for keyboard event!")}return t},moveChildFocus:function(e,t){var n=this.getFocusableFromEvent(e);return this.focusChild(n,t,e)},focusChild:function(e,t){var n=this.findNextFocusableChild(e,t);if(n){n.focus()}return n},findNextFocusableChild:function(e,t,n,r){var i,s,o,u;n=n||this.getFocusables();s=Ext.Array.indexOf(n,e);t=t===true?1:t===false?-1:t;u=n.length;o=t>0?s<u?s+t:0:s>0?s+t:u-1;for(;;o+=t){if(s<0&&(o>=u||o<0)){return null}else if(o>=u){o=-1;continue}else if(o<0){o=u;continue}else if(o===s){return null}i=n[o];if(!i||!i.focusable){continue}if(r||i.isFocusable()){return i}}return null},getFocusableContainerEl:function(){return this.el},onFocusableChildAdd:function(e){return this.doFocusableChildAdd(e)},activateFocusableContainerEl:function(e){e=e||this.getFocusableContainerEl();e.set({tabindex:this.activeChildTabIndex})},deactivateFocusableContainerEl:function(e){e=e||this.getFocusableContainerEl();e.set({tabindex:this.inactiveChildTabIndex})},doFocusableChildAdd:function(e){if(e.focusable){e.focusableContainer=this;this.deactivateFocusable(e)}},onFocusableChildRemove:function(e){return this.doFocusableChildRemove(e)},doFocusableChildRemove:function(e){delete e.focusableContainer},onFocusableContainerMousedown:function(e,t){var n=Ext.Component.getComponentByElement(t);if(n===this){e.preventDefault()}},onFocusableContainerFocus:function(e){var t=this,n,r;r=t.initDefaultFocusable();if(r){t.deactivateFocusableContainerEl();r.focus()}},onFocusableContainerFocusEnter:function(e){var t=this,n=t.lastFocusedChild;if(n){t.deactivateFocusableContainerEl()}},onFocusableContainerFocusLeave:function(e){var t=this,n=t.lastFocusedChild;t.clearFocusables();if(n){t.activateFocusable(n)}else{t.activateFocusableContainerEl()}},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(e){var t=this,n;t.clearFocusables();t.activateFocusable(e);if(e.needArrowKeys){t.guardFocusableChild(e)}},guardFocusableChild:function(e){var t=this,n=t.activeChildTabIndex,r;r=t.findNextFocusableChild(e,-1);if(r){r.setTabIndex(n)}r=t.findNextFocusableChild(e,1);if(r){r.setTabIndex(n)}},afterFocusableChildFocus:function(e){this.lastFocusedChild=e},onFocusableChildShow:Ext.privateFn,onFocusableChildHide:Ext.privateFn,onFocusableChildEnable:Ext.privateFn,onFocusableChildDisable:Ext.privateFn,onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}});Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",mixins:["Ext.util.FocusableContainer"],isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:false,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this,t=e.layout;if(e.dock==="right"||e.dock==="left"){e.vertical=true}e.layout=t=Ext.applyIf(Ext.isString(t)?{type:t}:t||{},{type:e.vertical?"vbox":"hbox",align:e.vertical?"stretchmax":"middle"});if(e.overflowHandler){t.overflowHandler=e.overflowHandler}else if(e.enableOverflow){t.overflowHandler="menu"}if(e.vertical){e.addClsWithUI("vertical")}if(e.ui==="footer"){e.ignoreBorderManagement=true}e.callParent()},getRefItems:function(e){var t=this,n=t.callParent(arguments),r=t.layout,i;if(e&&(t.enableOverflow||t.overflowHandler==="menu")){i=r.overflowHandler;if(i&&i.menu){n=n.concat(i.menu.getRefItems(e))}}return n},lookupComponent:function(e){var t=arguments;if(typeof e==="string"){var n=Ext.toolbar.Toolbar,r=n.shortcutsHV[this.vertical?1:0][e]||n.shortcuts[e];if(typeof r==="string"){e={xtype:r}}else if(r){e=Ext.apply({},r)}else{e={xtype:"tbtext",text:e}}this.applyDefaults(e);t=[e]}return this.callParent(t)},onBeforeAdd:function(e){var t=this,n=t.ui==="footer",r=n?t.defaultFooterButtonUI:t.defaultButtonUI;if(e.isSegmentedButton){if(e.getDefaultUI()==="default"&&!e.config.hasOwnProperty("defaultUI")){e.setDefaultUI(r)}}else if(e.ui==="default"&&!e.hasOwnProperty("ui")){if(e.isButton){e.ui=r}else if(e.isFormField){e.ui=n?t.defaultFooterFieldUI:t.defaultFieldUI}}if(e instanceof Ext.toolbar.Separator){e.setUI(t.vertical?"vertical":"horizontal")}t.callParent(arguments)},onAdd:function(e){this.callParent(arguments);this.trackMenu(e)},onRemove:function(e){this.callParent(arguments);this.trackMenu(e,true)},privates:{applyDefaults:function(e){if(!Ext.isString(e)){e=this.callParent(arguments)}return e},trackMenu:function(e,t){if(this.trackMenus&&e.menu){var n=t?"mun":"mon",r=this;r[n](e,"mouseover",r.onButtonOver,r);r[n](e,"menushow",r.onButtonMenuShow,r);r[n](e,"menuhide",r.onButtonMenuHide,r)}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e){if(this.activeMenuBtn&&this.activeMenuBtn!==e){this.activeMenuBtn.hideMenu();e.showMenu();this.activeMenuBtn=e}},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){delete this.activeMenuBtn}}});Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){if(e){this.init(e,t,n)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,triggerEvent:"mousedown",b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,n){if(Ext.isNumber(t)){t={left:t,right:t,top:t,bottom:t}}t=t||this.defaultPadding;var r=Ext.get(this.getEl()).getBox(),i=Ext.get(e),s=i.getScroll(),o,u=i.dom,a,f,l;if(u==document.body){o={x:s.left,y:s.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else{a=i.getXY();o={x:a[0],y:a[1],width:u.clientWidth,height:u.clientHeight}}f=r.y-o.y;l=r.x-o.x;this.resetConstraints();this.setXConstraint(l-(t.left||0),o.width-l-r.width-(t.right||0),this.xTickSize);this.setYConstraint(f-(t.top||0),o.height-f-r.height-(t.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,n){var r=this;r.el=r.el||Ext.get(e);r.initTarget(e,t,n);Ext.get(r.id).on(r.triggerEvent,r.handleMouseDown,r)},initTarget:function(e,t,n){this.config=n||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof e!=="string"){e=Ext.id(e)}this.id=e;this.addToGroup(t?t:"default");this.handleElId=e;this.setDragElId(e);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==false;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==false},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(e,t,n,r){if(!t&&0!==t){this.padding=[e,e,e,e]}else if(!n&&0!==n){this.padding=[e,t,e,t]}else{this.padding=[e,t,n,r]}},setInitPosition:function(e,t){var n=this.getEl(),r,i,s;if(!this.DDMInstance.verifyEl(n)){return}r=e||0;i=t||0;s=Ext.fly(n).getXY();this.initPageX=s[0]-r;this.initPageY=s[1]-i;this.lastPageX=s[0];this.lastPageY=s[1];this.setStartPosition(s)},setStartPosition:function(e){var t=e||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=t[0];this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=true;this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){if(this.groups[e]){delete this.groups[e]}this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){if(typeof e!=="string"){e=Ext.id(e)}this.handleElId=e;this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){if(typeof e!=="string"){e=Ext.id(e)}Ext.get(e).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(e);this.hasOuterHandles=true},unreg:function(){var e=this,t;if(e._domRef){t=Ext.fly(e.id);if(t){t.un(e.triggerEvent,e.handleMouseDown,e)}}e._domRef=null;e.DDMInstance._remove(e,e.autoGroup)},destroy:function(){this.unreg();this.isDestroyed=true},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){var n=this;if(n.primaryButtonOnly&&e.button!=0||n.isLocked()){return}n.DDMInstance.refreshCache(n.groups);if(n.hasOuterHandles||n.DDMInstance.isOverTarget(e.getPoint(),n)){if(n.clickValidator(e)){n.setStartPosition();n.b4MouseDown(e);n.onMouseDown(e);n.DDMInstance.handleMouseDown(e,n);n.DDMInstance.stopEvent(e)}}},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){if(typeof e!=="string"){e=Ext.id(e)}this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){if(typeof e!=="string"){e=Ext.id(e)}delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,n=this.invalidHandleClasses.length;t<n;++t){if(this.invalidHandleClasses[t]==e){delete this.invalidHandleClasses[t]}}},isValidHandleChild:function(e){var t=true,n,r,i;try{n=e.nodeName.toUpperCase()}catch(s){n=e.nodeName}t=t&&!this.invalidHandleTypes[n];t=t&&!this.invalidHandleIds[e.id];for(r=0,i=this.invalidHandleClasses.length;t&&r<i;++r){t=!Ext.fly(e).hasCls(this.invalidHandleClasses[r])}return t},setXTicks:function(e,t){this.xTicks=[];this.xTickSize=t;var n={},r;for(r=this.initPageX;r>=this.minX;r=r-t){if(!n[r]){this.xTicks[this.xTicks.length]=r;n[r]=true}}for(r=this.initPageX;r<=this.maxX;r=r+t){if(!n[r]){this.xTicks[this.xTicks.length]=r;n[r]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[];this.yTickSize=t;var n={},r;for(r=this.initPageY;r>=this.minY;r=r-t){if(!n[r]){this.yTicks[this.yTicks.length]=r;n[r]=true}}for(r=this.initPageY;r<=this.maxY;r=r+t){if(!n[r]){this.yTicks[this.yTicks.length]=r;n[r]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,n){this.leftConstraint=e;this.rightConstraint=t;this.minX=this.initPageX-e;this.maxX=this.initPageX+t;if(n){this.setXTicks(this.initPageX,n)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(e,t,n){this.topConstraint=e;this.bottomConstraint=t;this.minY=this.initPageY-e;this.maxY=this.initPageY+t;if(n){this.setYTicks(this.initPageY,n)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(e,t){if(!t){return e}else if(t[0]>=e){return t[0]}else{var n,r,i,s,o;for(n=0,r=t.length;n<r;++n){i=n+1;if(t[i]&&t[i]>=e){s=e-t[n];o=t[i]-e;return o>s?t[n]:t[i]}}return t[t.length-1]}},toString:function(){return"DragDrop "+this.id}});Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){if(e){this.init(e,t,n)}},scroll:true,autoOffset:function(e,t){var n=e-this.startPageX,r=t-this.startPageY;this.setDelta(n,r)},setDelta:function(e,t){this.deltaX=e;this.deltaY=t},setDragElPos:function(e,t){var n=this.getDragEl();this.alignElWithMouse(n,e,t)},alignElWithMouse:function(e,t,n){var r=this.getTargetCoord(t,n),i=e.dom?e:Ext.fly(e,"_dd"),s=i.getSize(),o=Ext.Element,u,a,f,l;if(!this.deltaSetXY){u=this.cachedViewportSize={width:o.getDocumentWidth(),height:o.getDocumentHeight()};a=[Math.max(0,Math.min(r.x,u.width-s.width)),Math.max(0,Math.min(r.y,u.height-s.height))];i.setXY(a);f=this.getLocalX(i);l=i.getLocalY();this.deltaSetXY=[f-r.x,l-r.y]}else{u=this.cachedViewportSize;this.setLocalXY(i,Math.max(0,Math.min(r.x+this.deltaSetXY[0],u.width-s.width)),Math.max(0,Math.min(r.y+this.deltaSetXY[1],u.height-s.height)))}this.cachePosition(r.x,r.y);this.autoScroll(r.x,r.y,e.offsetHeight,e.offsetWidth);return r},cachePosition:function(e,t){if(e){this.lastPageX=e;this.lastPageY=t}else{var n=Ext.fly(this.getEl()).getXY();this.lastPageX=n[0];this.lastPageY=n[1]}},autoScroll:function(e,t,n,r){if(this.scroll){var i=Ext.Element.getViewportHeight(),s=Ext.Element.getViewportWidth(),o=this.DDMInstance.getScrollTop(),u=this.DDMInstance.getScrollLeft(),a=n+t,f=r+e,l=i+o-t-this.deltaY,c=s+u-e-this.deltaX,h=40,p=document.all?80:30;if(a>i&&l<h){window.scrollTo(u,o+p)}if(t<o&&o>0&&t-o<h){window.scrollTo(u,o-p)}if(f>s&&c<h){window.scrollTo(u+p,o)}if(e<u&&u>0&&e-u<h){window.scrollTo(u-p,o)}}},getTargetCoord:function(e,t){var n=e-this.deltaX,r=t-this.deltaY;if(this.constrainX){if(n<this.minX){n=this.minX}if(n>this.maxX){n=this.maxX}}if(this.constrainY){if(r<this.minY){r=this.minY}if(r>this.maxY){r=this.maxY}}n=this.getTick(n,this.xTicks);r=this.getTick(r,this.yTicks);return{x:n,y:r}},applyConfig:function(){this.callParent();this.scroll=this.config.scroll!==false},b4MouseDown:function(e){var t=e.getXY();this.autoOffset(t[0],t[1])},b4Drag:function(e){var t=e.getXY();this.setDragElPos(t[0],t[1])},toString:function(){return"DD "+this.id},getLocalX:function(e){return e.getLocalX()},setLocalXY:function(e,t,n){e.setLocalXY(t,n)}});Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(e,t,n){if(e){this.init(e,t,n);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var e=this,t=document.body,n,r;if(!t||!t.firstChild){Ext.defer(function(){e.createFrame()},50);return}n=this.getDragEl();if(!n){n=document.createElement("div");n.id=this.dragElId;n.setAttribute("role","presentation");r=n.style;r.position="absolute";r.visibility="hidden";r.cursor="move";r.border="2px solid #aaa";r.zIndex=999;t.insertBefore(n,t.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=this.config.resizeFrame!==false;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){var n=this.getEl(),r=this.getDragEl(),i=r.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(i.width,10)/2),Math.round(parseInt(i.height,10)/2))}this.setDragElPos(e,t);Ext.fly(r).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getXY(),n=t[0],r=t[1];this.autoOffset(n,r);this.setDragElPos(n,r)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),n=this.getDragEl();n.style.visibility="";this.beforeMove();t.style.visibility="hidden";Ext.dd.DDM.moveToEl(t,n);n.style.visibility="hidden";t.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}});Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div>'+'<div id="{id}-ghost" data-ref="ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",constructor:function(e){var t=this;e=e||{};Ext.apply(t,{hideMode:"visibility",hidden:true,floating:true,id:t.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||false,renderTo:Ext.getDetachedBody()});t.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed;if(this.dropStatus!=e){this.el.replaceCls(this.dropStatus,e);this.dropStatus=e}},reset:function(e){var t=this,n=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(n+t.dropAllowed,n+t.dropNotAllowed);t.dropStatus=t.dropNotAllowed;if(e){t.ghost.setHtml("")}},update:function(e){if(typeof e=="string"){this.ghost.setHtml(e)}else{this.ghost.setHtml("");e.style.margin="0";this.ghost.dom.appendChild(e)}var t=this.ghost.dom.firstChild;if(t){Ext.fly(t).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(e){this.callParent();if(e){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(e,t,n){var r=this;r.callback=t;r.scope=n;if(e&&r.animRepair!==false){r.el.addCls(r.repairCls);r.el.hideUnders(true);r.anim=r.el.animate({duration:r.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:true,callback:r.afterRepair,scope:r})}else{r.afterRepair()}},afterRepair:function(){var e=this;e.hide(true);e.el.removeCls(e.repairCls);if(typeof e.callback=="function"){e.callback.call(e.scope||e)}delete e.callback;delete e.scope}});Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e);if(!this.dragData){this.dragData={}}Ext.apply(this,t);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var n=Ext.dd.DragDropManager.getDDById(t),r;this.cachedTarget=n;if(this.beforeDragEnter(n,e,t)!==false){if(n.isNotifyTarget){r=n.notifyEnter(this,e,this.dragData);this.proxy.setStatus(r)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(n,e,t)}}},beforeDragEnter:function(e,t,n){return true},onDragOver:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t),r;if(this.beforeDragOver(n,e,t)!==false){if(n.isNotifyTarget){r=n.notifyOver(this,e,this.dragData);this.proxy.setStatus(r)}if(this.afterDragOver){this.afterDragOver(n,e,t)}}},beforeDragOver:function(e,t,n){return true},onDragOut:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);if(this.beforeDragOut(n,e,t)!==false){if(n.isNotifyTarget){n.notifyOut(this,e,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(n,e,t)}}this.cachedTarget=null},beforeDragOut:function(e,t,n){return true},onDragDrop:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);if(this.beforeDragDrop(n,e,t)!==false){if(n.isNotifyTarget){if(n.notifyDrop(this,e,this.dragData)!==false){this.onValidDrop(n,e,t)}else{this.onInvalidDrop(n,e,t)}}else{this.onValidDrop(n,e,t)}if(this.afterDragDrop){this.afterDragDrop(n,e,t)}}delete this.cachedTarget},beforeDragDrop:function(e,t,n){return true},onValidDrop:function(e,t,n){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(e,t,n)}},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,n){var r=this;if(!t){t=e;e=null;n=t.getTarget().id}if(r.beforeInvalidDrop(e,t,n)!==false){if(r.cachedTarget){if(r.cachedTarget.isNotifyTarget){r.cachedTarget.notifyOut(r,t,r.dragData)}r.cacheTarget=null}r.proxy.repair(r.getRepairXY(t,r.dragData),r.afterRepair,r);if(r.afterInvalidDrop){r.afterInvalidDrop(t,n)}}},afterRepair:function(){var e=this;if(Ext.enableFx){e.el.highlight(e.repairHighlightColor)}e.dragging=false},beforeInvalidDrop:function(e,t,n){return true},handleMouseDown:function(e){if(this.dragging){return}var t=this.getDragData(e);if(t&&this.onBeforeDrag(t,e)!==false){this.dragData=t;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(e,t){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(e,t);this.proxy.show()},onInitDrag:function(e,t){var n=this.el.dom.cloneNode(true);n.id=Ext.id();this.proxy.update(n);this.onStartDrag(e,t);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(e,t){var n=this;n.panel=e;n.id=n.panel.id+"-ddproxy";Ext.apply(n,t)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var e=this;if(e.ghost){if(e.proxy){e.proxy.destroy();delete e.proxy}e.panel.unghost(null,e.moveOnDrag);delete e.ghost}},show:function(){var e=this,t;if(!e.ghost){t=e.panel.getSize();e.panel.el.setVisibilityMode(Ext.Element.DISPLAY);e.ghost=e.panel.ghost();if(e.insertProxy){e.proxy=e.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"});e.proxy.setSize(t)}}},repair:function(e,t,n){this.hide();Ext.callback(t,n||this)},moveProxy:function(e,t){if(this.proxy){e.insertBefore(this.proxy.dom,t)}}});Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(e,t){var n=this;n.panel=e;n.dragData={panel:e};n.panelProxy=new Ext.panel.Proxy(e,t);n.proxy=n.panelProxy.proxy;n.callParent([e.el,t]);n.setupEl(e)},setupEl:function(e){var t=this,n=e.header,r=e.body;if(n){t.setHandleElId(n.id);r=n.el}if(r){r.setStyle("cursor","move");t.scroll=false}else{e.on("boxready",t.setupEl,t,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getXY(),n=t[0],r=t[1];this.autoOffset(n,r)},onInitDrag:function(e,t){this.onStartDrag(e,t);return true},createFrame:Ext.emptyFn,getDragEl:function(e){var t=this.panelProxy.ghost;if(t){return t.el.dom}},endDrag:function(e){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX;t-=this.startPageY;this.setDelta(e,t)},onInvalidDrop:function(e,t,n){var r=this;if(r.beforeInvalidDrop(e,t,n)!==false){if(r.cachedTarget){if(r.cachedTarget.isNotifyTarget){r.cachedTarget.notifyOut(r,t,r.dragData)}r.cacheTarget=null}if(r.afterInvalidDrop){r.afterInvalidDrop(t,n)}}}});Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var e=this,t,n;e.callParent();t=e.getRenderTarget();n=e.getDockedItems();e.finishRenderItems(t,n)},isItemBoxParent:function(e){return true},isItemShrinkWrap:function(e){return true},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+"docked",handleItemBorders:function(){var e=this,t=e.owner,n,r,i=e.lastDockedItems,s=e.borders,o=t.dockedItems.generation,u=e.noBorderClassesSides,a=e.borderWidthProps,f,l,c,h,p,d=e.collapsed;if(e.initializedBorders==o||t.border&&!t.manageBodyBorders){return}e.initializedBorders=o;e.collapsed=false;e.lastDockedItems=r=e.getLayoutItems();e.collapsed=d;n={top:[],right:[],bottom:[],left:[]};for(f=0,l=r.length;f<l;f++){c=r[f];h=c.dock;if(c.ignoreBorderManagement){continue}if(!n[h].satisfied){n[h].push(c);n[h].satisfied=true}if(!n.top.satisfied&&h!=="bottom"){n.top.push(c)}if(!n.right.satisfied&&h!=="left"){n.right.push(c)}if(!n.bottom.satisfied&&h!=="top"){n.bottom.push(c)}if(!n.left.satisfied&&h!=="right"){n.left.push(c)}}if(i){for(f=0,l=i.length;f<l;f++){c=i[f];if(!c.isDestroyed&&!c.ignoreBorderManagement&&!t.manageBodyBorders){c.removeCls(e.noBorderClasses)}}}if(s){for(p in s){if(t.manageBodyBorders&&s[p].satisfied){t.setBodyStyle(a[p],"")}}}for(p in n){l=n[p].length;if(!t.manageBodyBorders){for(f=0;f<l;f++){n[p][f].addCls(u[p])}if(!n[p].satisfied&&!t.bodyBorder||t.bodyBorder===false){t.addBodyCls(u[p])}else{t.removeBodyCls(u[p])}}else if(n[p].satisfied){t.setBodyStyle(a[p],"1px")}}e.borders=n},beforeLayoutCycle:function(e){var t=this,n=t.owner,r=t.sizeModels.shrinkWrap,i=n.shrinkWrapDock,s,o;if(n.collapsed){if(n.collapsedVertical()){o=true;e.measureDimensions=1}else{s=true;e.measureDimensions=2}}e.collapsedVert=o;e.collapsedHorz=s;if(o){e.heightModel=r}else if(s){e.widthModel=r}i=i===true?3:i||0;e.shrinkWrapDockHeight=i&1&&e.heightModel.shrinkWrap;e.shrinkWrapDockWidth=i&2&&e.widthModel.shrinkWrap},beginLayout:function(e){var t=this,n=t.owner,r=t.getLayoutItems(),i=e.context,s=r.length,o=t.lastCollapsedState,u,a,f,l,c,h,p;t.callParent(arguments);h=n.getCollapsed();if(h!==o&&o!==undefined){if(t.owner.collapsed){e.isCollapsingOrExpanding=1;n.addClsWithUI(n.collapsedCls)}else{e.isCollapsingOrExpanding=2;n.removeClsWithUI(n.collapsedCls);e.lastCollapsedState=t.lastCollapsedState}}t.lastCollapsedState=h;e.dockedItems=u=[];for(a=0;a<s;a++){f=r[a];if(f.rendered){p=f.dock;l=i.getCmp(f);l.dockedAt={x:0,y:0};l.offsets=c=Ext.Element.parseBox(f.offsets||0);l.horizontal=p=="top"||p=="bottom";c.width=c.left+c.right;c.height=c.top+c.bottom;u.push(l)}}e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t=this,n=e.dockedItems,r=n.length,i=t.owner,s=i.frameBody,o=t.lastHeightModel,u,a,f;t.callParent(arguments);if(t.owner.manageHeight){if(t.lastBodyDisplay){i.body.dom.style.display=t.lastBodyDisplay=""}}else{if(t.lastBodyDisplay!=="inline-block"){i.body.dom.style.display=t.lastBodyDisplay="inline-block"}if(o&&o.shrinkWrap&&!e.heightModel.shrinkWrap){i.body.dom.style.marginBottom=""}}if(e.widthModel.auto){if(e.widthModel.shrinkWrap){i.el.setWidth(null)}i.body.setWidth(null);if(s){s.setWidth(null)}}if(e.heightModel.auto){i.body.setHeight(null);if(s){s.setHeight(null)}}if(e.collapsedVert){e.setContentHeight(0)}else if(e.collapsedHorz){e.setContentWidth(0)}for(u=0;u<r;u++){a=n[u].target;f=a.dock;if(f=="right"){a.setLocalX(0)}else if(f!="left"){continue}}},calculate:function(e){var t=this,n=t.measureAutoDimensions(e,e.measureDimensions),r=e.state,i=r.horzDone,s=r.vertDone,o=e.bodyContext,u,a,f,l,c;e.borderInfo||e.getBorderInfo();e.paddingInfo||e.getPaddingInfo();e.frameInfo||e.getFrameInfo();o.borderInfo||o.getBorderInfo();o.paddingInfo||o.getPaddingInfo();if(!e.frameBorder){if(!(u=e.framing)){e.frameBorder=e.borderInfo;e.framePadding=e.paddingInfo}else{e.frameBorder=u.border;e.framePadding=u.padding}}a=!i&&t.createAxis(e,n.contentWidth,e.widthModel,t.horzAxisProps,e.collapsedHorz);f=!s&&t.createAxis(e,n.contentHeight,e.heightModel,t.vertAxisProps,e.collapsedVert);for(l=0,c=e.dockedItems.length;c--;++l){if(a){t.dockChild(e,a,c,l)}if(f){t.dockChild(e,f,c,l)}}if(a&&t.finishAxis(e,a)){r.horzDone=i=a}if(f&&t.finishAxis(e,f)){r.vertDone=s=f}if(i&&s&&t.finishConstraints(e,i,s)){t.finishPositions(e,i,s)}else{t.done=false}},createAxis:function(e,t,n,r,i){var s=this,o=0,u=s.owner,a=u[r.maxSize],f=u[r.minSize]||0,l=r.dockBegin,c=r.dockEnd,h=r.pos,p=r.size,d=a!=null,v=n.shrinkWrap,m,g,y,b;if(v){if(i){b=0}else{m=e.bodyContext;b=t+m.borderInfo[p]}}else{g=e.frameBorder;y=e.framePadding;o=g[l]+y[l];b=e.getProp(p)-(g[c]+y[c])}return{shrinkWrap:n.shrinkWrap,sizeModel:n,initialBegin:o,begin:o,end:b,collapsed:i,horizontal:r.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:b-o,maxChildSize:0,hasMinMaxConstraints:(f||d)&&n.shrinkWrap,minSize:f,maxSize:d?a:1e9,bodyPosProp:s.owner.manageHeight?h:r.marginBegin,dockBegin:l,dockEnd:c,posProp:h,sizeProp:p,setSize:r.setSize,shrinkWrapDock:e[r.shrinkWrapDock],sizeModelName:r.sizeModel,dockedPixelsEnd:0}},dockChild:function(e,t,n,r){var i=this,s=e.dockedItems[t.shrinkWrap?n:r],o=s.target,u=o.dock,a=t.sizeProp,f,l;if(o.ignoreParentFrame&&e.isCollapsingOrExpanding){s.clearMarginCache()}s.marginInfo||s.getMarginInfo();if(u==t.dockBegin){if(t.shrinkWrap){f=i.dockOutwardBegin(e,s,o,t)}else{f=i.dockInwardBegin(e,s,o,t)}}else if(u==t.dockEnd){if(t.shrinkWrap){f=i.dockOutwardEnd(e,s,o,t)}else{f=i.dockInwardEnd(e,s,o,t)}}else{if(t.shrinkWrapDock){l=s.getProp(a)+s.marginInfo[a];t.maxChildSize=Math.max(t.maxChildSize,l);f=0}else{f=i.dockStretch(e,s,o,t)}}s.dockedAt[t.posProp]=f},dockInwardBegin:function(e,t,n,r){var i=r.begin,s=r.sizeProp,o=n.ignoreParentFrame,u,a,f;if(o){r.ignoreFrameBegin=t;f=n.dock;u=e.frameBorder[f];i-=u+e.framePadding[f]}if(!n.overlay){a=t.getProp(s)+t.marginInfo[s];r.begin+=a;if(o){r.begin-=u}}return i},dockInwardEnd:function(e,t,n,r){var i=r.sizeProp,s=t.getProp(i)+t.marginInfo[i],o=r.end-s,u;if(!n.overlay){r.end=o}if(n.ignoreParentFrame){r.ignoreFrameEnd=t;u=e.frameBorder[n.dock];o+=u+e.framePadding[n.dock];r.end+=u}return o},dockOutwardBegin:function(e,t,n,r){var i=r.begin,s=r.sizeProp,o;if(r.collapsed){r.ignoreFrameBegin=r.ignoreFrameEnd=t}else if(n.ignoreParentFrame){r.ignoreFrameBegin=t}if(!n.overlay){o=t.getProp(s)+t.marginInfo[s];i-=o;r.begin=i}return i},dockOutwardEnd:function(e,t,n,r){var i=r.end,s=r.sizeProp,o;o=t.getProp(s)+t.marginInfo[s];if(r.collapsed){r.ignoreFrameBegin=r.ignoreFrameEnd=t}else if(n.ignoreParentFrame){r.ignoreFrameEnd=t}if(!n.overlay){r.end=i+o;r.dockedPixelsEnd+=o}return i},dockStretch:function(e,t,n,r){var i=n.dock,s=r.sizeProp,o=i=="top"||i=="bottom",u=e.frameBorder,a=t.offsets,f=e.framePadding,l=o?"right":"bottom",c=o?"left":"top",h=r.begin+a[c],p,d;if(n.stretch!==false){d=r.end-h-a[l];if(n.ignoreParentFrame){h-=f[c]+u[c];d+=f[s]+u[s]}p=t.marginInfo;d-=p[s];t[r.setSize](d)}return h},finishAxis:function(e,t){if(isNaN(t.maxChildSize)){return false}var n=t.begin,r=t.end-n,i=t.collapsed,s=t.setSize,o=t.dockBegin,u=t.dockEnd,a=e.framePadding,f=e.frameBorder,l=f[o],c=e.framing,h=c&&c[o],p=i?0:a[o],d=t.sizeProp,v=t.ignoreFrameBegin,m=t.ignoreFrameEnd,g=e.bodyContext,y=Math.max(l+p-h,0),b,w,E,S;if(t.shrinkWrap){w=t.initialSize;if(c){E=-n+l+p;b=E-h-y}else{b=-n;E=b+p}if(!i){r+=a[d]}if(v){E-=l;b-=l;v.dockedAt[t.posProp]-=p}else{r+=l}if(i){}else if(m){m.dockedAt[t.posProp]+=a[u]}else{r+=f[u]}t.size=r;if(!t.horizontal&&!this.owner.manageHeight){S=false}}else{if(c){E=0;b=n-h-y}else{E=-l;b=n-p-l}w=r}t.delta=E;g[s](w,S);g.setProp(t.bodyPosProp,b);return!isNaN(r)},beforeInvalidateShrinkWrapDock:function(e,t){var n=t.axis.sizeModelName;if(!e[n].constrainedMin){e[n]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(e,t){var n=t.axis,r=t.layout,i;if(e[n.sizeModelName].calculated){i=r.dockStretch(t.ownerContext,e,e.target,n);e.setProp(n.posProp,n.delta+i)}},finishConstraints:function(e,t,n){var r=this,i=r.sizeModels,s=t.shrinkWrap,o=n.shrinkWrap,u=r.owner,a,f,l,c,h,p,d,v,m,g;if(s){p=t.size;d=t.collapsed?0:t.minSize;v=t.maxSize;m=t.maxChildSize;g=Math.max(p,m);if(g>v){h=i.constrainedMax;l=v}else if(g<d){h=i.constrainedMin;l=d}else if(p<m){h=i.constrainedDock;u.dockConstrainedWidth=l=m}else{l=p}}if(o){p=n.size;d=n.collapsed?0:n.minSize;v=n.maxSize;m=n.maxChildSize;g=Math.max(p,m+p-n.initialSize);if(g>v){c=i.constrainedMax;f=v}else if(g<d){c=i.constrainedMin;f=d}else if(p<m){c=i.constrainedDock;u.dockConstrainedHeight=f=m}else{if(!e.collapsedVert&&!u.manageHeight){a=false;e.bodyContext.setProp("margin-bottom",n.dockedPixelsEnd)}f=p}}if(h||c){if(h&&c&&h.constrainedMax&&c.constrainedByMin){e.invalidate({widthModel:h});return false}if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap){e.invalidate({widthModel:h,heightModel:c});return false}}else{r.invalidateAxes(e,t,n)}if(s){e.setWidth(l);if(h){e.widthModel=h}}if(o){e.setHeight(f,a);if(c){e.heightModel=c}}return true},invalidateAxes:function(e,t,n){var r=this.beforeInvalidateShrinkWrapDock,i=this.afterInvalidateShrinkWrapDock,s=t.end-t.begin,o=n.initialSize,u=t.shrinkWrapDock&&t.maxChildSize<=s,a=n.shrinkWrapDock&&n.maxChildSize<=o,f,l,c,h,p,d,v,m;if(u||a){if(a){n.begin=n.initialBegin;n.end=n.begin+n.initialSize}f=e.dockedItems;for(c=0,l=f.length;c<l;++c){h=f[c];d=h.horizontal;v=null;if(u&&d){m=t.sizeProp;p=s;v=t}else if(a&&!d){m=n.sizeProp;p=o;v=n}if(v){p-=h.getMarginInfo()[m];if(p!==h.props[m]){h.invalidate({before:r,after:i,axis:v,ownerContext:e,layout:this})}}}}},finishPositions:function(e,t,n){var r=e.dockedItems,i=r.length,s=t.delta,o=n.delta,u,a;for(u=0;u<i;++u){a=r[u];a.setProp("x",s+a.dockedAt.x);a.setProp("y",o+a.dockedAt.y)}},finishedLayout:function(e){var t=this,n=e.target;t.callParent(arguments);if(!e.animatePolicy){if(e.isCollapsingOrExpanding===1){n.afterCollapse(false)}else if(e.isCollapsingOrExpanding===2){n.afterExpand(false)}}},getAnimatePolicy:function(e){var t=this,n,r;if(e.isCollapsingOrExpanding==1){n=t.lastCollapsedState}else if(e.isCollapsingOrExpanding==2){n=e.lastCollapsedState}if(n=="left"||n=="right"){r=t.horizontalCollapsePolicy}else if(n=="top"||n=="bottom"){r=t.verticalCollapsePolicy}return r},getDockedItems:function(e,t){var n=this,r=e==="visual",i=r?Ext.ComponentQuery.query("[rendered]",n.owner.dockedItems.items):n.owner.dockedItems.items,s=i&&i.length&&e!==false,o,u,a,f,l,c;if(t==null){a=s&&!r?i.slice():i}else{a=[];for(f=0,c=i.length;f<c;++f){u=i[f].dock;l=u=="top"||u=="left";if(t?l:!l){a.push(i[f])}}s=s&&a.length}if(s){o=(e=e||"render")=="render";Ext.Array.sort(a,function(t,r){var i,s;if(o&&(i=n.owner.dockOrder[t.dock])!==(s=n.owner.dockOrder[r.dock])){if(!(i+s)){return i-s}}i=n.getItemWeight(t,e);s=n.getItemWeight(r,e);if(i!==undefined&&s!==undefined){return i-s}return 0})}return a||[]},getItemWeight:function(e,t){var n=e.weight||this.owner.defaultDockWeights[e.dock];return n[t]||n},getLayoutItems:function(){var e=this,t,n,r,i,s;if(e.owner.collapsed){s=e.owner.getCollapsedDockedItems()}else{t=e.getDockedItems("visual");n=t.length;s=[];for(i=0;i<n;i++){r=t[i];if(!r.hidden){s.push(r)}}}return s},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this,n=t.owner;if(e.isCollapsingOrExpanding==1){if(n.reExpander){n.reExpander.el.show()}n.addClsWithUI(n.collapsedCls);e.redo(true)}else if(e.isCollapsingOrExpanding==2){n.removeClsWithUI(n.collapsedCls);e.bodyContext.redo()}},renderChildren:function(){var e=this,t=e.getDockedItems(),n=e.getRenderTarget();e.handleItemBorders();e.renderItems(t,n)},renderItems:function(e,t){var n=this,r=e.length,i=0,s=0,o=0,u=n.getRenderTarget().dom.childNodes,a=u.length,f,l,c,h;for(f=0,l=0;f<a;f++){c=u[f];if(c.nodeType===1&&Ext.fly(c).hasCls(Ext.baseCSSPrefix+"resizable-handle")){break}for(l=0;l<r;l++){h=e[l];if(h.rendered&&h.el.dom===c){break}}if(l===r){o++}}for(;i<r;i++,s++){h=e[i];if(i===s&&(h.dock==="right"||h.dock==="bottom")){s+=o}if(h&&!h.rendered){n.renderItem(h,t,s)}else if(!n.isValidParent(h,t,s)){n.moveItem(h,t,s)}}},undoLayout:function(e){var t=this,n=t.owner;if(e.isCollapsingOrExpanding==1){if(n.reExpander){n.reExpander.el.hide()}n.removeClsWithUI(n.collapsedCls);e.undo(true)}else if(e.isCollapsingOrExpanding==2){n.addClsWithUI(n.collapsedCls);e.bodyContext.undo()}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,t){var n=this,r=n.sizePolicy,i=n.owner.shrinkWrapDock,s,o;if(e.stretch===false){return r.nostretch}s=e.dock;o=s=="left"||s=="right";i=i===true?3:i||0;if(o){r=r.vert;i=i&1}else{r=r.horz;i=i&2}if(i){if(!t){t=n.owner.getSizeModel()}if(t[o?"height":"width"].shrinkWrap){return r.shrinkWrap}}return r.stretch},configureItem:function(e,t){this.callParent(arguments);e.addCls(this._itemCls);if(!e.ignoreBorderManagement){e.addClsWithUI(this.getDockCls(e.dock))}},getDockCls:function(e){return"docked-"+e},afterRemove:function(e){var t;this.callParent(arguments);e.removeCls(this._itemCls);if(!e.ignoreBorderManagement){e.removeClsWithUI(this.getDockCls(e.dock))}t=e.el.dom;if(!e.destroying&&t){t.parentNode.removeChild(t)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var e=this,t=e.borderCollapseMap,n=e.owner,r=n.baseCls,i=n.ui,s;t=t[r]||(t[r]={});s=t[i];if(!s){r+="-"+i+"-outer-border-";t[i]=s=[0,r+"l",r+"b",r+"bl",r+"r",r+"rl",r+"rb",r+"rbl",r+"t",r+"tl",r+"tb",r+"tbl",r+"tr",r+"trl",r+"trb",r+"trbl"]}return s}});Ext.define("Ext.util.Memento",function(){function e(e,t,n,r){e[r?r+n:n]=t[n]}function t(e,t,n){delete e[n]}function n(e,t,n,i){var s=i?i+n:n,o=e[s];if(o||e.hasOwnProperty(s)){r(t,n,o)}}function r(e,t,n){if(Ext.isDefined(n)){e[t]=n}else{delete e[t]}}function i(e,t,n,r,i){if(t){if(Ext.isArray(r)){var s,o=r.length;for(s=0;s<o;s++){e(t,n,r[s],i)}}else{e(t,n,r,i)}}}return{data:null,target:null,constructor:function(e,t){this.data={};if(e){this.target=e;if(t){this.capture(t)}}},capture:function(t,n,r){var s=this;i(e,s.data||(s.data={}),n||s.target,t,r)},remove:function(e){i(t,this.data,null,e)},restore:function(e,t,r,s){i(n,this.data,r||this.target,e,s);if(t!==false){this.remove(e)}},restoreAll:function(e,t){var n=this,i=t||this.target,s=n.data,o;e=e!==false;for(o in s){if(s.hasOwnProperty(o)){r(i,o,s[o]);if(e){delete s[o]}}}}}}());Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(e,t){var n=this,r=0,i,s,o;e=n.prepareItems(e);o=e.length;for(;r<o;r++){s=e[r];s.dock=s.dock||"top";if(s.dock==="left"||s.dock==="right"){n.horizontalDocks++}if(t!==undefined){r+=t;n.dockedItems.insert(r,s)}else{n.dockedItems.add(s)}i=!!s.instancedCmp;delete s.instancedCmp;s.onAdded(n,r,i);delete s.initOwnerCt;if(n.hasListeners.dockedadd){n.fireEvent("dockedadd",n,s,r)}if(n.onDockedAdd!==Ext.emptyFn){n.onDockedAdd(s)}}if(n.rendered&&!n.suspendLayout){n.updateLayout()}return e},destroyDockedItems:function(){var e=this.dockedItems,t;if(e){while(t=e.first()){this.removeDocked(t,true)}}},doRenderDockedItems:function(e,t,n){var r=t.$comp,i=r.componentLayout,s,o;if(i.getDockedItems&&!t.$skipDockedItems){s=i.getDockedItems("render",!n);o=s&&i.getItemsRenderTree(s);if(o){Ext.DomHelper.generateMarkup(o,e)}}},getDockedComponent:function(e){if(Ext.isObject(e)){e=e.getItemId()}return this.dockedItems.get(e)},getDockedItems:function(e,t){var n=this.getComponentLayout().getDockedItems("render",t);if(e&&n.length){n=Ext.ComponentQuery.query(e,n)}return n},getDockingRefItems:function(e,t){var n=e&&"*,* *",r=this.getDockedItems(n,true),i;r.push.apply(r,t);i=this.getDockedItems(n,false);r.push.apply(r,i);return r},initDockingItems:function(){var e=this,t=e.dockedItems;if(!t||!t.isMixedCollection){e.dockedItems=new Ext.util.AbstractMixedCollection(false,e.getComponentId);if(t){e.addDocked(t)}}},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var n=this,r,i;t=t===true||t!==false&&n.autoDestroy;if(!n.dockedItems.contains(e)){return e}if(e.dock==="left"||e.dock==="right"){n.horizontalDocks--}r=n.componentLayout;i=r&&n.rendered;if(i){r.onRemove(e)}n.dockedItems.remove(e);e.onRemoved(e.destroying||t);n.onDockedRemove(e);if(t){e.destroy()}else if(i){r.afterRemove(e)}if(n.hasListeners.dockedremove){n.fireEvent("dockedremove",n,e)}if(!n.destroying&&!n.suspendLayout){n.updateLayout()}return e},moveDocked:function(e,t){if(this.rendered){Ext.suspendLayouts()}this.removeDocked(e,false);e.dock=t;this.addDocked(e);if(this.rendered){if(e.frame){Ext.getDetachedBody().appendChild(e.el);e.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}});Ext.define("Ext.panel.Panel",{extend:"Ext.container.Container",alias:"widget.panel",alternateClassName:"Ext.Panel",requires:["Ext.panel.Header","Ext.util.MixedCollection","Ext.toolbar.Toolbar","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],mixins:{docking:"Ext.container.DockingContainer"},childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyRole"> role="{bodyRole}"<tpl else> role="presentation"</tpl>','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:true,closable:false,closeAction:"destroy",collapsed:false,collapsedCls:"collapsed",collapseFirst:true,collapsible:undefined,constrain:false,constrainHeader:false,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:true,frame:false,frameHeader:true,hideCollapseTool:false,manageHeight:true,maskElement:"el",minButtonWidth:75,preventHeader:false,shrinkWrapDock:false,titleCollapse:undefined,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:true,defaultBindProperty:"title",addBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();n.addCls(e);return t},addTool:function(e){if(!Ext.isArray(e)){e=[e]}var t=this,n=t.header,r=e.length,i=t.tools,s,o;if(!n||!n.isHeader){n=null;if(!i){t.tools=i=[]}}for(s=0;s<r;s++){o=e[s];o.toolOwner=t;if(n){n.addTool(o)}else{i.push(o)}}t.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(e){var t=this,n=t.collapsible,r=t.collapseTool;t.collapsible=e;if(e&&!n){t.updateCollapseTool();r=t.collapseTool;if(r){r.show()}}else if(!e&&n){if(r){r.hide()}}},addUIClsToElement:function(e){var t=this,n=t.callParent(arguments);t.addBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]);return n},afterCollapse:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0;t.updateCollapseTool();if(e){t.removeCls(Ext.baseCSSPrefix+"animating-size")}t.setHiddenDocked();t.fireEvent("collapse",t)},afterExpand:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0;t.updateCollapseTool();if(e){t.removeCls(Ext.baseCSSPrefix+"animating-size")}t.fireEvent("expand",t);t.fireHierarchyEvent("expand")},beforeDestroy:function(){var e=this;Ext.destroy(e.placeholder,e.ghostPanel,e.dd);this.destroyDockedItems();e.callParent()},beforeRender:function(){var e=this,t;e.callParent();e.initTools();if(!(e.preventHeader||e.header===false)){e.updateHeader()}if(e.collapsed){if(e.isPlaceHolderCollapse()){if(!e.hidden){e.setHiddenState(true);e.preventCollapseFire=true;e.placeholderCollapse();delete e.preventCollapseFire;t=e.collapsed;e.collapsed=false}}else{e.beginCollapse();e.addClsWithUI(e.collapsedCls)}}if(t){e.collapsed=t}},getMemento:function(e){var t=this;if(e&&typeof e=="string"){e+="Memento";return t[e]||(t[e]=new Ext.util.Memento(t))}},beginCollapse:function(){var e=this,t=e.lastBox,n=e.rendered,r=e.getMemento("collapse"),i=e.getSizeModel(),s=e.header,o;r.capture(["height","minHeight","width","minWidth"]);if(t){r.capture(e.restoreDimension(),t,"last.")}if(e.collapsedVertical()){if(i.width.shrinkWrap){e.width=n?e.getWidth():e.width||e.minWidth||100}delete e.height;e.minHeight=0}else if(e.collapsedHorizontal()){if(i.height.shrinkWrap){e.height=n?e.getHeight():e.height||e.minHeight||100}delete e.width;e.minWidth=0}if(e.ownerCt){e.ownerCt.getLayout().beginCollapse(e)}if(!e.isPlaceHolderCollapse()&&s!==false){if(s===(o=e.getReExpander())){s.collapseImmune=true;s.getInherited().collapseImmune=true;s.addClsWithUI(e.getHeaderCollapsedClasses(s));if(s.rendered){s.updateFrame()}}else if(o.el){o.el.show();o.hidden=false}}if(e.resizer){e.resizer.disable()}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var e=this,t=e.lastBox,n=e.getMemento("collapse"),r=e.restoreDimension(),i=e.header,s;if(n){n.restore(["minHeight","minWidth",r]);if(t){n.restore(r,true,t,"last.")}}if(e.ownerCt){e.ownerCt.getLayout().beginExpand(e)}if(!e.isPlaceHolderCollapse()&&i!==false){if(i===(s=e.getReExpander())){delete i.collapseImmune;delete i.getInherited().collapseImmune;i.removeClsWithUI(e.getHeaderCollapsedClasses(i));if(i.rendered){i.expanding=true;i.updateFrame();delete i.expanding}}else{s.hidden=true;s.el.hide()}}if(e.resizer){e.resizer.enable()}},bridgeToolbars:function(){function s(t,n,r){if(Ext.isArray(t)){t={xtype:"toolbar",items:t}}else if(!t.xtype){t.xtype="toolbar"}t.dock=n;if(n=="left"||n=="right"){t.vertical=true}if(r){t.layout=Ext.applyIf(t.layout||{},{pack:{left:"start",center:"center"}[e.buttonAlign]||"end"})}return t}var e=this,t=[],n=e.minButtonWidth,r,i;if(e.tbar){t.push(s(e.tbar,"top"));e.tbar=null}if(e.bbar){t.push(s(e.bbar,"bottom"));e.bbar=null}if(e.buttons){e.fbar=e.buttons;e.buttons=null}if(e.fbar){r=s(e.fbar,"bottom",true);r.ui="footer";if(n){i=r.defaults;r.defaults=function(e){var t=i||{},r=!e.xtype||e.isButton,s;if(!r){s=Ext.ClassManager.getByAlias("widget."+e.xtype);if(s){r=s.prototype.isButton}}if(r&&!("minWidth"in t)){t=Ext.apply({minWidth:n},t)}return t}}t.push(r);e.fbar=null}if(e.lbar){t.push(s(e.lbar,"left"));e.lbar=null}if(e.rbar){t.push(s(e.rbar,"right"));e.rbar=null}if(e.dockedItems){if(e.dockedItems.isMixedCollection){e.addDocked(t)}else{if(!Ext.isArray(e.dockedItems)){e.dockedItems=[e.dockedItems]}e.dockedItems=e.dockedItems.concat(t)}}else{e.dockedItems=t}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},collapse:function(e,t){var n=this,r=e||n.collapseDirection,i=n.ownerCt,s=n.ownerLayout,o=n.rendered;if(n.isCollapsingOrExpanding){return n}if(arguments.length<2){t=n.animCollapse}if(n.collapsed||n.fireEvent("beforecollapse",n,e,t)===false){return n}if(s&&s.onBeforeComponentCollapse){if(s.onBeforeComponentCollapse(n)===false){return n}}if(o&&i&&n.isPlaceHolderCollapse()){return n.placeholderCollapse(e,t)}n.collapsed=r;if(o){n.beginCollapse()}n.getInherited().collapsed=true;n.fireHierarchyEvent("collapse");if(o){n.doCollapseExpand(1,t)}return n},collapsedHorizontal:function(){var e=this.getCollapsed();return e==="left"||e==="right"},collapsedVertical:function(){var e=this.getCollapsed();return e==="top"||e==="bottom"},convertCollapseDir:function(e){return e.substr(0,1)},createGhost:function(e){var t=this,n=t.header,r=t.frame&&!t.alwaysFramed;return{xtype:"panel",hidden:false,header:n?{titleAlign:n.getTitleAlign()}:null,ui:r?t.ui.replace(/-framed$/,""):t.ui,id:t.id+"-ghost",renderTo:Ext.getBody(),resizable:false,draggable:false,closable:false,floating:{shadow:false},frame:r,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.getHeaderPosition(),titleRotation:t.getTitleRotation(),baseCls:t.baseCls,getRefOwner:function(){return t.getRefOwner()},cls:t.baseCls+"-ghost "+(e||"")}},createReExpander:function(e,t){var n=this,r=e==="left",i=e==="right",s=r||i,o=n.ownerCt,u=Ext.apply({hideMode:"offsets",title:n.getTitle(),titleAlign:n.getTitleAlign(),vertical:s,textCls:n.headerTextCls,icon:n.getIcon(),iconCls:n.getIconCls(),iconAlign:n.getIconAlign(),glyph:n.getGlyph(),baseCls:n.self.prototype.baseCls+"-header",ui:n.ui,frame:n.frame&&n.frameHeader,ignoreParentFrame:n.frame||n.overlapHeader,ignoreBorderManagement:n.frame||n.ignoreHeaderBorderManagement,indicateDrag:n.draggable,collapseImmune:true,headerRole:n.headerRole,ownerCt:o&&n.collapseMode==="placeholder"?o:n,ownerLayout:n.componentLayout,margin:n.margin},t);if(n.collapseMode==="mini"){if(s){u.width=1}else{u.height=1}}if(!n.hideCollapseTool){if(r||i&&n.isPlaceHolderCollapse()){u.titlePosition=1}u.tools=[{xtype:"tool",type:"expand-"+n.getOppositeDirection(e),uiCls:["top"],handler:n.toggleCollapse,scope:n}]}u=new Ext.panel.Header(u);u.addClsWithUI(n.getHeaderCollapsedClasses(u));return u},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(e,t){var n=this,r=n.animCollapse,i=n.ownerLayout;n.animCollapse=t;n.isCollapsingOrExpanding=e;if(t){n.addCls(Ext.baseCSSPrefix+"animating-size")}if(i&&!t){i.onContentChange(n)}else{n.updateLayout({isRoot:true})}n.animCollapse=r;return n},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(e){var t=this,n=t.ownerLayout,r=t.rendered;if(t.isCollapsingOrExpanding){return t}if(!arguments.length){e=t.animCollapse}if(!t.collapsed&&!t.floatedFromCollapse){return t}if(t.fireEvent("beforeexpand",t,e)===false){return t}if(n&&n.onBeforeComponentExpand){if(n.onBeforeComponentExpand(t)===false){return t}}delete t.getInherited().collapsed;if(r&&t.isPlaceHolderCollapse()){return t.placeholderExpand(e)}t.restoreHiddenDocked();if(r){t.beginExpand()}t.collapsed=false;if(t.rendered){t.doCollapseExpand(2,e)}return t},findReExpander:function(e){var t=this,n=Ext.Component,r=t.dockedItems.items,i=r.length,s,o;if(t.collapseMode==="mini"){return}switch(e){case n.DIRECTION_TOP:case n.DIRECTION_BOTTOM:for(o=0;o<i;o++){s=r[o];if(!s.hidden){if(s.isHeader&&(!s.dock||s.dock==="top"||s.dock==="bottom")){return s}}}break;case n.DIRECTION_LEFT:case n.DIRECTION_RIGHT:for(o=0;o<i;o++){s=r[o];if(!s.hidden){if(s.isHeader&&(s.dock==="left"||s.dock==="right")){return s}}}break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},floatCollapsedPanel:function(){var e=this,t=e.placeholder,n=t.getSize(),r,i=Ext.baseCSSPrefix+"border-region-slide-in",s=e.collapsed,o=e.ownerCt||e,u,a;if(e.isSliding){return}if(e.el.hasCls(i)){e.slideOutFloatedPanel();return}e.isSliding=true;t.el.hide();t.hidden=true;e.el.show();e.setHiddenState(false);e.collapsed=false;o.updateLayout();r=e.getBox(false,true);t.el.show();t.hidden=false;e.el.hide();e.setHiddenState(true);e.collapsed=s;o.updateLayout();e.slideOutTask=e.slideOutTask||new Ext.util.DelayedTask(e.slideOutFloatedPanel,e);if(Ext.supports.Touch){Ext.on("mousedown",a=function(t){if(!t.within(e.el)){Ext.un("mousedown",a);e.slideOutFloatedPanel()}});if(!e.placeholderListener){e.placeholderListener=t.on({resize:e.onPlaceholderResize,scope:e,destroyable:true})}}t.el.on("mouseleave",e.onMouseLeaveFloated,e);e.el.on("mouseleave",e.onMouseLeaveFloated,e);t.el.on("mouseenter",e.onMouseEnterFloated,e);e.el.on("mouseenter",e.onMouseEnterFloated,e);e.el.addCls(i);e.floated=s;if(e.collapseTool){e.collapseTool.el.hide()}switch(e.collapsed){case"top":e.setLocalXY(r.x,r.y+n.height-1);break;case"right":e.setLocalXY(r.x-n.width+1,r.y);break;case"bottom":e.setLocalXY(r.x,r.y-n.height+1);break;case"left":e.setLocalXY(r.x+n.width-1,r.y);break}u=e.convertCollapseDir(e.collapsed);e.floatedFromCollapse=e.collapsed;e.collapsed=false;e.setHiddenState(false);e.el.slideIn(u,{preserveScroll:true,duration:Ext.Number.from(e.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){e.isSliding=false;e.fireEvent("float",e)}}})},onPlaceholderResize:function(e,t,n){var r=this,i=r.getBox(false,true),s=r.placeholder.getBox(false,true);switch(r.floated){case"top":this.width=t;r.setLocalY(s.y+s.height);break;case"right":this.height=n;r.setLocalX(s.x-i.width);break;case"bottom":this.width=t;r.setLocalY(s.y-i.height);break;case"left":this.height=n;r.setLocalX(s.x+s.width);break}this.updateLayout({isRoot:true})},getAnimationProps:function(){var e=this,t=e.animCollapse,n;n=e.callParent();if(typeof t==="number"){n.duration=t}return n},getCollapsed:function(){var e=this;if(e.collapsed===true){return e.collapseDirection}return e.collapsed},getCollapsedDockedItems:function(){var e=this;return e.header===false||e.collapseMode=="placeholder"?e.emptyArray:[e.getReExpander()]},getComponent:function(e){var t=this.callParent(arguments);if(t===undefined&&!Ext.isNumber(e)){t=this.getDockedComponent(e)}return t},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(e){var t=this,n=t.collapsedCls,r;r=[n,n+"-"+e.getDockName()];if(t.border&&(!t.frame||t.frame&&Ext.supports.CSS3BorderRadius)){r.push(n+"-border-"+e.getDockName())}return r},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getPlaceholder:function(e){var t=this,n=e||t.collapseDirection,r=null,i=t.placeholder,s=t.floatable,o=t.titleCollapse;if(!i){if(s||t.collapsible&&o){r={click:{fn:!o&&s?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}}t.placeholder=i=Ext.widget(t.createReExpander(n,{id:t.id+"-placeholder",listeners:r}))}if(!i.placeholderFor){if(!i.isComponent){t.placeholder=i=t.lookupComponent(i)}Ext.applyIf(i,{margin:t.margin,placeholderFor:t,synthetic:true});i.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+n+"-placeholder",t.collapsedCls])}return i},getProtoBody:function(){var e=this,t=e.protoBody;if(!t){e.protoBody=t=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return t},getReExpander:function(e){var t=this,n=e||t.collapseDirection,r=t.reExpander||t.findReExpander(n);t.expandDirection=t.getOppositeDirection(n);if(!r){t.reExpander=r=t.createReExpander(n,{dock:n,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:true});t.dockedItems.insert(0,r)}return r},getRefItems:function(e){var t=this.callParent(arguments);return this.getDockingRefItems(e,t)},getState:function(){var e=this,t=e.callParent()||{},n=e.collapsed,r=e.floated,i;if(r){e.collapsed=r}t=e.addPropertyToState(t,"collapsed");if(r){e.collapsed=n}if(e.getCollapsed()){i=e.getMemento("collapse").data;t=e.addPropertyToState(t,"collapsed",i);if(e.collapsedVertical()){delete t.height;if(i){t=e.addPropertyToState(t,"height",i.height)}}else{delete t.width;if(i){t=e.addPropertyToState(t,"width",i.width)}}}return t},applyState:function(e){var t=this,n={},r;if(e){r=e.collapsed;if(r){n=t.getMemento("collapse");Ext.Object.merge(n.data,r);e.collapsed=true}t.callParent(arguments)}},ghost:function(e){var t=this,n=t.ghostPanel,r=t.getBox(),i=t.header,s,o,u,a,f,l;if(!n){t.ghostPanel=n=Ext.widget(t.createGhost(e))}else{n.el.show()}n.setHiddenState(false);n.floatParent=t.floatParent;n.toFront();if(i&&!t.preventHeader){s=n.header;s.suspendLayouts();o=s.query("tool");for(l=o.length;l--;){s.remove(o[l])}s.setTitlePosition(0);n.addTool(t.ghostTools());n.setTitle(t.getTitle());s.setTitlePosition(i.titlePosition);a=t.getIconCls();if(a){n.setIconCls(a)}else{u=t.getIcon();if(u){n.setIcon(u)}else{f=t.getGlyph();if(f){n.setGlyph(f)}}}s.addCls(Ext.baseCSSPrefix+"header-ghost");s.resumeLayouts()}n.setPagePosition(r.x,r.y);n.setSize(r.width,r.height);t.el.hide();return n},ghostTools:function(){var e=[],t=this.header,n=t?t.query("tool[hidden=false]"):[],r,i,s;if(n.length){r=0;i=n.length;for(;r<i;r++){s=n[r];e.push({type:s.type})}}else{e=[{type:"placeholder"}]}return e},initBodyBorder:function(){var e=this;if(e.frame&&e.bodyBorder){if(!Ext.isNumber(e.bodyBorder)){e.bodyBorder=1}e.getProtoBody().setStyle("border-width",this.unitizeBox(e.bodyBorder))}},initBodyStyles:function(){var e=this,t=e.getProtoBody();if(e.bodyPadding!==undefined){if(e.layout.managePadding){t.setStyle("padding",0)}else{t.setStyle("padding",this.unitizeBox(e.bodyPadding===true?5:e.bodyPadding))}}e.initBodyBorder()},initBorderProps:function(){var e=this;if(e.frame&&e.border&&e.bodyBorder===undefined){e.bodyBorder=false}if(e.frame&&e.border&&(e.bodyBorder===false||e.bodyBorder===0)){e.manageBodyBorders=true}},initComponent:function(){var e=this;if(e.collapsible){e.addStateEvents(["expand","collapse"])}if(e.unstyled){e.setUI("plain")}if(e.frame){e.setUI(e.ui+"-framed")}e.bridgeToolbars();e.initBorderProps();e.callParent();e.collapseDirection=e.collapseDirection||e.getHeaderPosition()||Ext.Component.DIRECTION_TOP;e.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var e=this,t=e.callParent();e.initBodyStyles();e.protoBody.writeTo(t);delete e.protoBody;return t},calculateConstrainedPosition:function(e,t,n,r){var i=this,s;if(i.constrainHeader){if(r){if(!i.header.vertical){r=[r[0],i.header.lastBox.height]}else{r=[i.header.lastBox.width,r[1]]}}else{r=[i.header.lastBox.width,i.header.lastBox.height]}s=i.floatParent;e=e||i.constrainTo||(s?s.getTargetEl():null)||i.container||i.el.parent()}return i.callParent([e,t,n,r])},initTools:function(){var e=this,t=e.tools,n,r;e.tools=[];for(n=t&&t.length;n;){--n;e.tools[n]=r=t[n];r.toolOwner=e}if(e.collapsible&&!(e.hideCollapseTool||e.header===false||e.preventHeader)){e.updateCollapseTool();if(e.collapseFirst){e.tools.unshift(e.collapseTool)}}e.addTools();if(e.pinnable){e.initPinnable()}if(e.closable){e.addClsWithUI("closable");e.addTool({xtype:"tool",type:"close",scope:e,handler:e.close})}if(e.collapseTool&&!e.collapseFirst){e.addTool(e.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return this.callParent()},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},isVisible:function(e){var t=this;if(t.collapsed&&t.placeholder){return t.placeholder.isVisible(e)}return t.callParent(arguments)},onBoxReady:function(){this.callParent();if(this.collapsed){this.setHiddenDocked()}},onHide:function(){var e=this,t=e.dd;if(e.floatedFromCollapse){e.slideOutFloatedPanel(true)}if(e.draggable&&t){t.endDrag()}if(e.collapsed&&e.placeholder){e.placeholder.hide()}else{e.callParent(arguments)}},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},onMouseLeaveFloated:function(e){this.slideOutTask.delay(500)},onRemoved:function(e){var t=this;if(t.placeholder&&!e){t.ownerCt.remove(t.placeholder,false)}t.callParent(arguments)},onShow:function(){var e=this;if(e.collapsed&&e.isPlaceHolderCollapse()){e.setHiddenState(true);e.placeholderCollapse()}else{e.callParent(arguments)}},placeholderCollapse:function(e,t){var n=this,r=n.ownerCt,i=e||n.collapseDirection,s=Ext.baseCSSPrefix+"border-region-slide-in",o=n.getPlaceholder(i),u;n.isCollapsingOrExpanding=1;n.setHiddenState(true);n.collapsed=i;if(o.rendered){if(o.el.dom.parentNode!==n.el.dom.parentNode){n.el.dom.parentNode.insertBefore(o.el.dom,n.el.dom)}o.hidden=false;o.setHiddenState(false);o.el.show();r.updateLayout()}else{r.insert(r.items.indexOf(n),o)}if(n.rendered){n.el.setVisibilityMode(n.placeholderCollapseHideMode);if(t){n.el.addCls(s);o.el.hide();u=n.convertCollapseDir(i);n.el.slideOut(u,{preserveScroll:true,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(s);o.el.show().setStyle("display","none").slideIn(u,{easing:"linear",duration:100,listeners:{afteranimate:function(){o.focus();o.setHiddenState(false);n.isCollapsingOrExpanding=0;n.fireEvent("collapse",n)}}})}}})}else{n.el.hide();o.setHiddenState(false);n.isCollapsingOrExpanding=0;n.fireEvent("collapse",n)}}else{n.isCollapsingOrExpanding=0;if(!n.preventCollapseFire){n.fireEvent("collapse",n)}}return n},placeholderExpand:function(e){var t=this,n=t.collapsed,r=Ext.baseCSSPrefix+"border-region-slide-in",i,s,o=t.ownerLayout?t.ownerLayout.centerRegion:null;if(Ext.Component.layoutSuspendCount){e=false}if(t.floatedFromCollapse){s=t.getPosition(true);t.slideOutFloatedPanelBegin();t.slideOutFloatedPanelEnd();t.floated=false}if(e){Ext.suspendLayouts();t.placeholder.hide();t.el.show();t.collapsed=false;t.setHiddenState(false);if(o&&!s){o.hidden=true}Ext.resumeLayouts(true);o.hidden=false;t.el.addCls(r);t.isCollapsingOrExpanding=2;if(s){i=t.getXY();t.setLocalXY(s[0],s[1]);t.setXY([i[0],i[1]],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.el.removeCls(r);t.isCollapsingOrExpanding=0;t.fireEvent("expand",t)}}})}else{t.el.hide();t.placeholder.el.show();t.placeholder.hidden=false;t.setHiddenState(false);t.el.slideIn(t.convertCollapseDir(n),{preserveScroll:true,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.el.removeCls(r);t.placeholder.hide();t.updateLayout();t.isCollapsingOrExpanding=0;t.fireEvent("expand",t)}}})}}else{t.floated=t.collapsed=false;t.el.removeCls(r);Ext.suspendLayouts();t.placeholder.hide();t.show();Ext.resumeLayouts(true);t.fireEvent("expand",t)}return t},removeBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();n.removeCls(e);return t},removeUIClsFromElement:function(e){var t=this,n=t.callParent(arguments);t.removeBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]);return n},restoreDimension:function(){var e=this.collapseDirection;return e==="top"||e==="bottom"?"height":"width"},restoreHiddenDocked:function(){var e=this.hiddenOnCollapse;e.setStyle("visibility","");e.clear()},setBodyStyle:function(e,t){var n=this,r=n.rendered?n.body:n.getProtoBody();if(Ext.isFunction(e)){e=e()}if(arguments.length==1){if(Ext.isString(e)){e=Ext.Element.parseStyles(e)}r.setStyle(e)}else{r.setStyle(e,t)}return n},setBorder:function(e,t){if(t){return}var n=this,r=n.header;if(!e){e=0}else if(e===true){e="1px"}else{e=n.unitizeBox(e)}if(r){if(r.isHeader){r.setBorder(e)}else{r.border=e}}if(n.rendered&&n.bodyBorder!==false){n.body.setStyle("border-width",e)}n.updateLayout();n.border=e},setCollapsed:function(e){this[e?"collapse":"expand"]()},setGlyph:function(e){var t=this,n=t.glyph,r=t.header,i=t.placeholder;if(e!==n){t.glyph=e;if(r){if(r.isHeader){r.setGlyph(e)}else{r.glyph=e}}else if(t.rendered){t.updateHeader()}if(i&&i.setGlyph){i.setGlyph(e)}t.fireEvent("glyphchange",t,e,n)}},setIcon:function(e){var t=this,n=t.icon,r=t.header,i=t.placeholder;if(e!==n){t.icon=e;if(r){if(r.isHeader){r.setIcon(e)}else{r.icon=e}}else if(t.rendered){t.updateHeader()}if(i&&i.setIcon){i.setIcon(e)}t.fireEvent("iconchange",t,e,n)}},setIconCls:function(e){var t=this,n=t.iconCls,r=t.header,i=t.placeholder;if(e!==n){t.iconCls=e;if(r){if(r.isHeader){r.setIconCls(e)}else{r.iconCls=e}}else if(t.rendered){t.updateHeader()}if(i&&i.setIconCls){i.setIconCls(e)}t.fireEvent("iconclschange",t,e,n)}},setTitle:function(e){var t=this,n=t.title,r=t.header,i=t.reExpander,s=t.placeholder;if(e!==n){t.title=e;if(r){if(r.isHeader){r.setTitle(e)}}else if(t.rendered){t.updateHeader()}if(i){i.setTitle(e)}if(s&&s.setTitle){s.setTitle(e)}t.fireEvent("titlechange",t,e,n)}},setHiddenDocked:function(){var e=this,t=e.hiddenOnCollapse,n=e.getDockedItems(),r=n.length,i=0,s,o;if(e.header!==false){o=e.getReExpander()}t.add(e.body);for(;i<r;i++){s=n[i];if(s&&s!==o&&s.el){t.add(s.el)}}t.setStyle("visibility","hidden")},setUI:function(e){var t=this;t.callParent(arguments);if(t.header&&t.header.rendered){t.header.setUI(e)}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var e=this,t=e.collapseTool;if(!t&&e.collapsible){e.collapseDirection=e.collapseDirection||e.getHeaderPosition()||"top";e.collapseTool=e.expandTool=t=Ext.widget({xtype:"tool",handler:e.toggleCollapse,scope:e})}if(t){if(e.collapsed&&!e.isPlaceHolderCollapse()){t.setType("expand-"+e.getOppositeDirection(e.collapseDirection))}else{t.setType("collapse-"+e.collapseDirection)}}},updateHeaderPosition:function(e){var t=this.header;if(t&&t.isHeader){t.setDock(e)}},updateIconAlign:function(e){var t=this.header;if(t&&t.isHeader){t.setIconAlign(e)}},updateTitleAlign:function(e){var t=this.header;if(t&&t.isHeader){t.setTitleAlign(e)}},updateTitleRotation:function(e){var t=this.header;if(t&&t.isHeader){t.setTitleRotation(e)}},unghost:function(e,t,n){var r=this,i=r.ghostPanel;if(!i){return}if(e!==false){r.el.show();if(t!==false){r.setPagePosition(i.getXY());if(r.hideMode==="offsets"){delete r.el.hideModeStyles}}if(n){r.focus(false,10)}}i.el.hide();i.setHiddenState(true)},updateHeader:function(e){var t=this,n=t.header,r=t.getTitle(),i=t.tools,s=t.getIcon(),o=t.getGlyph(),u=t.getIconCls(),a=o||s||u,f=t.getHeaderPosition(),l=f==="left"||f==="right";if(Ext.isObject(n)||n!==false&&(e||r||a||i&&i.length||t.collapsible&&!t.titleCollapse)){if(n&&n.isHeader){n.show()}else{n=t.header=Ext.widget(Ext.merge({xtype:"header",title:r,titleAlign:t.getTitleAlign(),vertical:l,dock:t.getHeaderPosition()||"top",titleRotation:t.getTitleRotation(),textCls:t.headerTextCls,iconCls:u,iconAlign:t.getIconAlign(),icon:s,glyph:o,baseCls:t.baseCls+"-header",tools:i,ui:t.ui,id:t.id+"_header",overCls:t.headerOverCls,indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,headerRole:t.headerRole,ownerCt:t,synthetic:true,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header));t.addDocked(n,0)}}else if(n){n.hide()}},privates:{addUIToElement:function(){var e=this;e.callParent(arguments);e.addBodyCls(e.baseCls+"-body-"+e.ui)},applyTargetCls:function(e){this.getProtoBody().addCls(e)},getDefaultContentTarget:function(){return this.body},getFocusEl:function(){return this.el},getTargetEl:function(){var e=this;return e.body||e.protoBody||e.frameBody||e.el},initDraggable:function(){var e=this;if(e.simpleDrag){e.initSimpleDraggable()}else{e.dd=new Ext.panel.DD(e,Ext.isBoolean(e.draggable)?null:e.draggable)}},initResizable:function(){this.callParent(arguments);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var e=this,t,n;if(!e.header){e.updateHeader(true)}if(e.header){t=Ext.applyIf({el:e.el,delegate:"#"+e.header.id},e.draggable);if(e.constrain||e.constrainHeader){t.constrain=e.constrain;t.constrainDelegate=e.constrainHeader;t.constrainTo=e.constrainTo||e.container}n=e.dd=new Ext.util.ComponentDragger(e,t);e.relayEvents(n,["dragstart","drag","dragend"]);if(e.maximized){n.disable()}}},removeUIFromElement:function(){var e=this;e.callParent(arguments);e.removeBodyCls(e.baseCls+"-body-"+e.ui)},setupRenderTpl:function(e){this.callParent(arguments);this.setupDockingRenderTpl(e)},slideOutFloatedPanel:function(e){var t=this,n=t.el,r;if(t.isSliding||t.isDestroyed){return}t.isSliding=true;t.floated=false;t.slideOutFloatedPanelBegin();if(typeof t.collapsed=="string"){r=t.convertCollapseDir(t.collapsed)}n.slideOut(r,{preserveScroll:true,duration:Ext.Number.from(t.animCollapse,Ext.fx.Anim.prototype.duration),autoEnd:e===true,listeners:{afteranimate:function(){t.slideOutFloatedPanelEnd();t.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}})},slideOutFloatedPanelBegin:function(){var e=this,t=e.placeholder.el,n=e.el;e.collapsed=e.floatedFromCollapse;e.setHiddenState(true);e.floatedFromCollapse=null;t.un("mouseleave",e.onMouseLeaveFloated,e);n.un("mouseleave",e.onMouseLeaveFloated,e);t.un("mouseenter",e.onMouseEnterFloated,e);n.un("mouseenter",e.onMouseEnterFloated,e)},slideOutFloatedPanelEnd:function(e){var t=this;if(t.collapseTool){t.collapseTool.el.show()}t.slideOutTask.cancel();t.isSliding=false;if(!e){t.fireEvent("unfloat",t)}}}},function(){var e=this.prototype;e.animCollapse=Ext.enableFx;e.placeholderCollapseHideMode=Ext.Element.VISIBILITY});Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alias:"widget.tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true},focusOnToFront:false,closeAction:"hide",alwaysFramed:true,frameHeader:false,initComponent:function(){var e=this;e.floating=Ext.apply({},{shadow:e.shadow,constrain:e.constrainPosition},e.self.prototype.floating);e.callParent(arguments);e.constrain=e.constrain||e.constrainPosition},showAt:function(e){var t=this;this.callParent(arguments);if(t.isVisible()){t.setPagePosition(e[0],e[1]);if(t.constrainPosition||t.constrain){t.doConstrain()}t.toFront(true)}},privates:{initDraggable:function(){var e=this;e.draggable={el:e.getDragEl(),delegate:e.header.el,constrain:e,constrainTo:e.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(e)}},ghost:undefined,unghost:undefined});Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1e3,ariaRole:"tooltip",initComponent:function(){var e=this;e.callParent(arguments);e.lastActive=new Date;e.setTarget(e.target);e.origAnchor=e.anchor},onRender:function(e,t){var n=this;n.callParent(arguments);n.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+n.getAnchorPosition();if(n.sticky){n.el.dom.setAttribute("data-sticky",true)}n.anchorEl=n.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor "+n.anchorCls})},setTarget:function(e){var t=this,n=Ext.get(e),r;if(t.target){r=Ext.get(t.target);if(Ext.supports.Touch){t.mun(r,"tap",t.onTargetOver,t)}else{t.mun(r,{mouseover:t.onTargetOver,mouseout:t.onTargetOut,mousemove:t.onMouseMove,scope:t})}}t.target=n;if(n){if(Ext.supports.Touch){t.mon(n,{tap:t.onTargetOver,scope:t})}else{t.mon(n,{mouseover:t.onTargetOver,mouseout:t.onTargetOut,mousemove:t.onMouseMove,scope:t})}}if(t.anchor){t.anchorTarget=t.target}},onMouseMove:function(e){var t=this,n,r;if(!t.target||t.target.contains(e.target)){n=t.delegate?e.getTarget(t.delegate):t.triggerElement=true;if(n){t.targetXY=e.getXY();if(n===t.triggerElement){if(!t.hidden&&t.trackMouse){r=t.getTargetXY();if(t.constrainPosition){r=t.el.adjustForConstraints(r,t.el.parent())}t.setPagePosition(r)}}else{t.hide();t.lastActive=new Date(0);t.onTargetOver(e)}}else if(!t.closable&&t.isVisible()&&t.autoHide!==false){t.delayHide()}}},getTargetXY:function(){var e=this,t,n,r,i,s,o,u,a,f,l,c,h;if(e.delegate){e.anchorTarget=e.triggerElement}if(e.anchor){e.targetCounter++;n=e.getOffsets();r=e.anchorToTarget&&!e.trackMouse?e.getAlignToXY(e.anchorTarget,e.getAnchorAlign()):e.targetXY;i=Ext.Element.getViewportWidth()-5;s=Ext.Element.getViewportHeight()-5;o=document.documentElement;u=document.body;a=(o.scrollLeft||u.scrollLeft||0)+5;f=(o.scrollTop||u.scrollTop||0)+5;l=[r[0]+n[0],r[1]+n[1]];c=e.getSize();h=e.constrainPosition;e.anchorEl.removeCls(e.anchorCls);if(e.targetCounter<2&&h){if(l[0]<a){if(e.anchorToTarget){e.defaultAlign="l-r";if(e.mouseOffset){e.mouseOffset[0]*=-1}}e.anchor="left";return e.getTargetXY()}if(l[0]+c.width>i){if(e.anchorToTarget){e.defaultAlign="r-l";if(e.mouseOffset){e.mouseOffset[0]*=-1}}e.anchor="right";return e.getTargetXY()}if(l[1]<f){if(e.anchorToTarget){e.defaultAlign="t-b";if(e.mouseOffset){e.mouseOffset[1]*=-1}}e.anchor="top";return e.getTargetXY()}if(l[1]+c.height>s){if(e.anchorToTarget){e.defaultAlign="b-t";if(e.mouseOffset){e.mouseOffset[1]*=-1}}e.anchor="bottom";return e.getTargetXY()}}e.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+e.getAnchorPosition();e.anchorEl.addCls(e.anchorCls);e.targetCounter=0;return l}else{t=e.getMouseOffset();return e.targetXY?[e.targetXY[0]+t[0],e.targetXY[1]+t[1]]:t}},getMouseOffset:function(){var e=this,t=e.anchor?[0,0]:[15,18];if(e.mouseOffset){t[0]+=e.mouseOffset[0];t[1]+=e.mouseOffset[1]}return t},fadeOut:function(){var e=this;e.el.fadeOut({duration:e.fadeOutDuration,callback:function(){e.hide();e.el.setOpacity("")}})},getAnchorPosition:function(){var e=this,t;if(e.anchor){e.tipAnchor=e.anchor.charAt(0)}else{t=e.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!t){Ext.Error.raise('The AnchorTip.defaultAlign value "'+e.defaultAlign+'" is invalid.')}e.tipAnchor=t[1].charAt(0)}switch(e.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e=this,t,n,r=e.getAnchorPosition().charAt(0);if(e.anchorToTarget&&!e.trackMouse){switch(r){case"t":n=[0,9];break;case"b":n=[0,-13];break;case"r":n=[-13,0];break;default:n=[9,0];break}}else{switch(r){case"t":n=[-15-e.anchorOffset,30];break;case"b":n=[-19-e.anchorOffset,-13-e.el.dom.offsetHeight];break;case"r":n=[-15-e.el.dom.offsetWidth,-13-e.anchorOffset];break;default:n=[25,-13-e.anchorOffset];break}}t=e.getMouseOffset();n[0]+=t[0];n[1]+=t[1];return n},onTargetOver:function(e){var t=this,n=t.delegate,r;if(t.disabled||e.within(t.target.dom,true)){return}r=n?e.getTarget(n):true;if(r){t.triggerElement=r;t.triggerEvent=e;t.clearTimer("hide");t.targetXY=e.getXY();t.delayShow()}},delayShow:function(e){var t=this,n=t.el&&(e===false||!t.trackMouse)&&t.getTargetXY();if(t.hidden&&!t.showTimer){if(Ext.Date.getElapsed(t.lastActive)<t.quickShowInterval){t.show()}else{t.showTimer=Ext.defer(t.showFromDelay,t.showDelay,t,[n])}}else if(!t.hidden&&t.autoHide!==false){t.show(n)}},showFromDelay:function(e){this.fromDelayShow=true;this.show(e);delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(e){var t=this,n=t.triggerElement,r=n===true?t.target:n;if(t.disabled||!n||e.within(r,true)){return}if(t.showTimer){t.clearTimer("show");t.triggerElement=null}if(t.autoHide!==false){t.delayHide()}},delayHide:function(){var e=this;if(!e.hidden&&!e.hideTimer){e.hideTimer=Ext.defer(e[e.hideAction],e.hideDelay,e)}},hide:function(){var e=this;e.clearTimer("dismiss");e.lastActive=new Date;if(e.anchorEl){e.anchorEl.hide()}e.callParent(arguments);delete e.triggerElement},show:function(e){var t=this;this.callParent();if(this.hidden===false){if(t.anchor){t.anchor=t.origAnchor}if(!t.calledFromShowAt){t.showAt(e||t.getTargetXY())}if(t.anchor){t.syncAnchor();t.anchorEl.show()}else{t.anchorEl.hide()}}},showAt:function(e){var t=this;t.lastActive=new Date;t.clearTimers();t.calledFromShowAt=true;if(!t.isVisible()){this.callParent(arguments)}if(t.isVisible()){t.setPagePosition(e[0],e[1]);if(t.constrainPosition||t.constrain){t.doConstrain()}t.toFront(true);t.el.sync(true);if(t.dismissDelay&&t.autoHide!==false){t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)}if(t.anchor){t.syncAnchor();if(!t.anchorEl.isVisible()){t.anchorEl.show()}}else{t.anchorEl.hide()}}delete t.calledFromShowAt},syncAnchor:function(){var e=this,t,n,r;switch(e.tipAnchor.charAt(0)){case"t":t="b";n="tl";r=[20+e.anchorOffset,1];break;case"r":t="l";n="tr";r=[-1,12+e.anchorOffset];break;case"b":t="t";n="bl";r=[20+e.anchorOffset,-1];break;default:t="r";n="tl";r=[1,12+e.anchorOffset];break}e.anchorEl.alignTo(e.el,t+"-"+n,r);e.anchorEl.setStyle("z-index",parseInt(e.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(e,t){var n=this;n.callParent(arguments);if(n.anchor){n.syncAnchor()}},_timerNames:{},clearTimer:function(e){var t=this,n=t._timerNames,r=n[e]||(n[e]=e+"Timer"),i=t[r];if(i){clearTimeout(i);t[r]=null}},clearTimers:function(){var e=this;e.clearTimer("show");e.clearTimer("dismiss");e.clearTimer("hide")},onShow:function(){var e=this;e.callParent();e.mon(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onHide:function(){var e=this;e.callParent();e.mun(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onDocMouseDown:function(e){var t=this;if(!t.closable&&!e.within(t.el.dom)){t.disable();Ext.defer(t.doEnable,100,t)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var e=this;e.clearTimers();Ext.destroy(e.anchorEl);delete e.anchorEl;delete e.target;delete e.anchorTarget;delete e.triggerElement;e.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},shrinkWrapDock:true,initComponent:function(){var e=this;e.target=e.target||Ext.getDoc();e.targets=e.targets||{};e.callParent()},setTagConfig:function(e){this.tagConfig=Ext.apply({},e);delete this.tagConfig.attr},register:function(e){var t=Ext.isArray(e)?e:arguments,n=0,r=t.length,i,s,o;for(;n<r;n++){e=t[n];i=e.target;if(i){if(Ext.isArray(i)){for(s=0,o=i.length;s<o;s++){this.targets[Ext.id(i[s])]=e}}else{this.targets[Ext.id(i)]=e}}}},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this,n=t.activeTarget;e=Ext.get(e).dom;if(t.isVisible()){if(n&&n.el===e){t.hide()}}else if(n&&n.el===e){t.clearTimer("show")}},getTipCfg:function(e,t){var n=e.title,r,i,s;if(this.interceptTitles&&n&&Ext.isString(n)){e.qtip=n;e.removeAttribute("title");if(t){t.preventDefault()}return{text:n}}else{r=this.tagConfig;i=r.attr||(r.attr=r.namespace+r.attribute);e=Ext.fly(e).findParent(function(e){return s=e.getAttribute(i)});if(e){return{target:e,text:s}}}},onTargetOver:function(e){this.doTargetOver(e.getTarget(this.delegate),null,e)},doTargetOver:function(e,t,n){var r=this,i,s,o,u,a,f,l,c,h,p,d,v;if(r.disabled){return}if(typeof e==="string"){e=Ext.getDom(e)}r.targetXY=t||(n?n.getXY():Ext.fly(e).getXY());if(!e||e.nodeType!==1||e==document.documentElement||e==document.body){return}if(r.activeTarget&&(e===r.activeTarget.el||Ext.fly(r.activeTarget.el).contains(e))){if(r.targetTextEmpty()){r.onShowVeto();delete r.activeTarget}else{r.clearTimer("hide");r.show()}return}if(e){h=r.targets;for(v in h){if(h.hasOwnProperty(v)){d=h[v];p=Ext.fly(d.target);if(p&&(p.dom===e||p.contains(e))){u=p.dom;break}}}if(u){r.activeTarget=r.targets[u.id];r.activeTarget.el=e;r.anchor=r.activeTarget.anchor;if(r.anchor){r.anchorTarget=e}i=parseInt(r.activeTarget.showDelay,10);if(i){o=r.showDelay;r.showDelay=i}r.delayShow();if(i){r.showDelay=o}if(!(s=r.activeTarget.hideAction)){delete r.hideAction}else{r.hideAction=s}return}}u=Ext.fly(e,"_quicktip-target");a=r.tagConfig;f=a.namespace;l=r.getTipCfg(e,n);if(l){if(l.target){e=l.target;u=Ext.fly(e,"_quicktip-target")}c=u.getAttribute(f+a.hide);r.activeTarget={el:e,text:l.text,width:+u.getAttribute(f+a.width)||null,autoHide:c!="user"&&c!=="false",title:u.getAttribute(f+a.title),cls:u.getAttribute(f+a.cls),align:u.getAttribute(f+a.align),showDelay:parseInt(u.getAttribute(f+a.showDelay)||0,10),hideAction:u.getAttribute(f+a.hideAction),anchorTarget:u.getAttribute(f+a.anchorTarget)};if(!r.initialConfig.hasOwnProperty("anchor")){r.anchor=u.getAttribute(f+a.anchor)}if(r.anchor&&!r.initialConfig.hasOwnProperty("anchorTarget")){r.anchorTarget=r.activeTarget.anchorTarget||e}i=parseInt(r.activeTarget.showDelay,10);if(i){o=r.showDelay;r.showDelay=i}r.delayShow();if(i){r.showDelay=o}}},onTargetOut:function(e){var t=this,n=t.activeTarget,r,i;if(n&&e.within(t.activeTarget.el)&&!t.getTipCfg(e.getTarget(),e)){return}t.clearTimer("show");delete t.activeTarget;if(t.autoHide!==false){r=n&&parseInt(n.hideDelay,10);if(r){i=t.hideDelay;t.hideDelay=r}t.delayHide();if(r){t.hideDelay=i}}},targetTextEmpty:function(){var e=this,t=e.activeTarget,n=e.tagConfig,r,i;if(t){r=t.el;if(r){i=r.getAttribute(n.namespace+n.attribute);if(!i&&!e.targets[Ext.id(t.target)]){return true}}}return false},show:function(){var e=this,t=e.fromDelayShow;if(t&&e.targetTextEmpty()){e.onShowVeto();delete e.activeTarget;return}e.callParent(arguments)},showAt:function(e){var t=this,n=t.activeTarget,r=t.header,i,s;if(n){if(!t.rendered){t.render(Ext.getBody());t.activeTarget=n}t.suspendLayouts();if(n.title){t.setTitle(n.title);r.show()}else if(r){r.hide()}t.update(n.text);t.autoHide=n.autoHide;i=n.dismissDelay;t.dismissDelay=Ext.isNumber(i)?i:t.dismissDelay;if(n.mouseOffset){e[0]+=n.mouseOffset[0];e[1]+=n.mouseOffset[1]}s=t.lastCls;if(s){t.removeCls(s);delete t.lastCls}s=n.cls;if(s){t.addCls(s);t.lastCls=s}t.setWidth(n.width);if(t.anchor){t.constrainPosition=false}else if(n.align){e=t.getAlignToXY(n.el,n.align);t.constrainPosition=false}else{t.constrainPosition=true}t.resumeLayouts(true)}t.callParent([e])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("Ext.tip.QuickTipManager",{requires:["Ext.tip.QuickTip"],singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(e,t){var n=this;if(!n.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(e,t)});return false}var r=Ext.apply({sticky:true,disabled:n.disabled,id:"ext-quicktips-tip"},t),i=r.className,s=r.xtype;if(i){delete r.className}else if(s){i="widget."+s;delete r.xtype}if(e!==false){r.renderTo=document.body;if(r.renderTo.tagName.toUpperCase()!="BODY"){Ext.Error.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})}}n.tip=Ext.create(i||"Ext.tip.QuickTip",r);Ext.quickTipsActive=true}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var e=this,t=e.tip;if(t&&!e.disabled){t.disable()}},ddEnable:function(){var e=this,t=e.tip;if(t&&!e.disabled){t.enable()}},enable:function(){var e=this,t=e.tip;if(t){t.enable()}e.disabled=false},disable:function(){var e=this,t=e.tip;if(t){t.disable()}e.disabled=true},isEnabled:function(){var e=this.tip;return e!==undefined&&!e.disabled},getQuickTip:function(){return this.tip},register:function(){var e=this.tip;e.register.apply(e,arguments)},unregister:function(){var e=this.tip;e.unregister.apply(e,arguments)},tips:function(){var e=this.tip;e.register.apply(e,arguments)}});Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.tip.QuickTipManager","Ext.util.History","Ext.util.MixedCollection"],isApplication:true,scope:undefined,namespaces:[],paths:null,appFolder:"app",config:{name:"",enableQuickTips:true,appProperty:"app",autoCreateViewport:false,defaultToken:null,glyphFontFamily:null},onClassExtended:function(e,t,n){var r=Ext.app.Controller,i=e.prototype,s=[],o=t.autoCreateViewport,u,a,f,l,c;f=t.name||e.superclass.name;c=t.appFolder||e.superclass.appFolder;if(f){t.$namespace=f;Ext.app.addNamespaces(f)}if(t.namespaces){Ext.app.addNamespaces(t.namespaces)}if(!t["paths processed"]){if(f&&c){Ext.Loader.setPath(f,c)}a=t.paths;if(a){for(l in a){if(a.hasOwnProperty(l)){Ext.Loader.setPath(l,a[l])}}}}else{delete t["paths processed"]}if(o){if(!f){Ext.Error.raise("[Ext.app.Application] Can't resolve namespace for "+t.$className+", did you forget to specify 'name' property?")}if(o===true){o="Viewport"}else{s.push("Ext.plugin.Viewport")}r.processDependencies(i,s,f,"view",o)}if(s.length){u=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var n=Ext.Array.clone(arguments);Ext.require(s,function(){return u.apply(this,n)})}}},constructor:function(e){var t=this;Ext.app.route.Router.application=t;t.callParent(arguments);if(Ext.isEmpty(t.getName())){Ext.Error.raise("[Ext.app.Application] Name property is required")}t.doInit(t);t.initNamespace();t.initControllers();t.onBeforeLaunch();t.finishInitControllers()},initNamespace:function(){var e=this,t=e.getAppProperty(),n;n=Ext.namespace(e.getName());if(n){n.getApplication=function(){return e};if(t){if(!n[t]){n[t]=e}else if(n[t]!==e){Ext.log.warn("An existing reference is being overwritten for "+name+"."+t+". See the appProperty config.")}}}},initControllers:function(){var e=this,t=Ext.Array.from(e.controllers);e.controllers=new Ext.util.MixedCollection;for(var n=0,r=t.length;n<r;n++){e.getController(t[n])}},finishInitControllers:function(){var e=this,t,n,r;t=e.controllers.getRange();for(n=0,r=t.length;n<r;n++){t[n].finishInit(e)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var e=this,t=Ext.util.History,n=e.getDefaultToken(),r,i,s,o,u;if(e.getEnableQuickTips()){e.initQuickTips()}if(e.getAutoCreateViewport()){e.initViewport()}e.launch.call(e.scope||e);e.launched=true;e.fireEvent("launch",e);r=e.controllers.items;s=r.length;for(i=0;i<s;i++){o=r[i];o.onLaunch(e)}if(!t.ready){t.init()}u=t.getToken();if(u){e.redirectTo(u,true)}else if(n){t.add(n)}},getModuleClassName:function(e,t){return Ext.app.Controller.getFullName(e,t,this.getName()).absoluteName},getViewportName:function(){var e=null,t=this.getAutoCreateViewport();if(t){e=t===true?"Viewport":t}return e},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var e=this.getView(this.getViewportName()),t=e.prototype,n,r;if(e){if(!t.isViewport){r=t.plugins;r=["viewport"].concat(r?Ext.Array.from(r,true):[]);n={plugins:r}}this.viewport=e.create(n)}},createController:function(e){return this.getController(e)},destroyController:function(e){if(typeof e==="string"){e=this.getController(e,true)}Ext.destroy(e)},getController:function(e,t){var n=this,r=n.controllers,i,s,o,u,a,f;s=r.get(e);if(!s){f=r.items;for(u=0,o=f.length;u<o;++u){a=f[u];i=a.getModuleClassName();if(i&&i===e){s=a;break}}}if(!s&&!t){i=n.getModuleClassName(e,"controller");s=Ext.create(i,{application:n,moduleClassName:e});r.add(s);if(n._initialized){s.doInit(n)}}return s},unregister:function(e){this.controllers.remove(e)},getApplication:function(){return this},destroy:function(e){var t=this,n=t.controllers,r=Ext.namespace(t.getName()),i=t.getAppProperty();Ext.destroy(t.viewport);if(n){n.each(function(t){t.destroy(e,true)})}t.controllers=null;t.callParent([e,true]);if(r&&r[i]===t){delete r[i]}},updateGlyphFontFamily:function(e){Ext.setGlyphFontFamily(e)}});Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application"});Ext.application=function(e){var t=function(e){Ext.onReady(function(){Ext.app.Application.instance=new e})},n=e.paths,r;if(typeof e==="string"){Ext.require(e,function(){t(Ext.ClassManager.get(e))})}else{e=Ext.apply({extend:"Ext.app.Application"},e);Ext.Loader.setPath(e.name,e.appFolder||"app");if(n){for(r in n){if(n.hasOwnProperty(r)){Ext.Loader.setPath(r,n[r])}}}e["paths processed"]=true;Ext.define(e.name+".$application",e,function(){t(this)})}};Ext.define("Ext.app.domain.View",{extend:"Ext.app.EventDomain",isInstance:true,constructor:function(e){this.callParent(arguments);this.controller=e;this.monitoredClasses=[Ext.Component]},match:function(e,t,n){var r=false;if(t==="#"){r=n===e.getController()}else{r=e.is(t)}return r},destroy:function(){this.controller=null;this.callParent()}});Ext.define("Ext.app.ViewController",{extend:"Ext.app.BaseController",requires:["Ext.app.domain.View"],mixins:["Ext.mixin.Factoryable"],isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},constructor:function(){this.compDomain=new Ext.app.domain.View(this);this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var e=this,t=e.compDomain;if(t){t.unlisten(e);t.destroy()}e.compDomain=e.view=null;e.callParent()},closeView:function(){var e=this.getView(),t;if(e){t=this.getCloseViewAction();e[t]()}},control:function(e,t){var n=e;if(Ext.isString(e)){n={};n[e]=t}this.compDomain.listen(n,this)},listen:function(e,t){var n=e.component;if(n){e=Ext.apply({},e);delete e.component;this.control(n)}this.callParent([e,t])},getReferences:function(){return this.view.getReferences()},getView:function(){return this.view},lookupReference:function(e){var t=this.view;return t&&t.lookupReference(e)},getSession:function(){var e=this.view;return e&&e.lookupSession()},getViewModel:function(){var e=this.view;return e&&e.lookupViewModel()},getStore:function(e){var t=this.getViewModel();return t?t.getStore(e):null},fireViewEvent:function(e){var t=this.view,n=false;if(t){n=t.fireEvent.apply(t,arguments)}return n},privates:{view:null,ensureId:function(){var e=this.getId();if(!e){this.setId(Ext.id(null,"controller-"))}},attachReference:function(e){var t=this.view;if(t){t.attachReference(e)}},clearReference:function(e){var t=this.view;if(t){t.clearReference(e)}},clearReferences:function(){var e=this.view;if(e){e.clearReferences()}},setView:function(e){this.view=e;if(!this.beforeInit.$nullFn){this.beforeInit()}}}});Ext.define("Ext.form.Labelable",{extend:"Ext.Mixin",requires:["Ext.XTemplate","Ext.overrides.dom.Element"],isLabelable:true,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"</tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="alert" aria-live="polite" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{id}-inputEl">',"</div>","</div>","</tpl>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel"><div>{fieldLabel}</div></tpl>',"</tpl>",'<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel">{fieldLabel}\n</tpl>',"</tpl>",'<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",fieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var e=this.tip,t,n;if(e){return}t={id:"ext-form-error-tip",sticky:true,ui:"form-invalid"};if(Ext.supports.Touch){t.dismissDelay=0;t.anchor="top";t.showDelay=0;t.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}}e=this.tip=Ext.create("Ext.tip.QuickTip",t);n=Ext.apply({},e.tagConfig);n.attribute="errorqtip";e.setTagConfig(n)},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var e=this,t=e.padding;if(t){e.padding=undefined;e.extraMargins=Ext.Element.parseBox(t)}if(!e.activeErrorsTpl){if(e.msgTarget=="title"){e.activeErrorsTpl=e.plaintextActiveErrorsTpl}else{e.activeErrorsTpl=e.htmlActiveErrorsTpl}}e.addCls([e.formItemCls,e.formItemCls+"-"+e.ui]);e.lastActiveError="";e.enableBubble("errorchange")},trimLabelSeparator:function(){var e=this,t=e.labelSeparator,n=e.fieldLabel||"",r=n.substr(n.length-1);return r===t?n.slice(0,-1):n},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this,n=t.labelSeparator,r=t.labelEl,i=t.errorWrapEl,s=t.labelAlign!=="top",o=t.errorWrapUnderSideLabelCls;t.fieldLabel=e;if(t.rendered){if(Ext.isEmpty(e)&&t.hideEmptyLabel){r.setDisplayed("none");if(s&&i){i.removeCls(o)}}else{if(n){e=t.trimLabelSeparator()+n}r.first().setHtml(e);r.setDisplayed("");if(s&&i){i.addCls(o)}}t.updateLayout()}},getInsertionRenderData:function(e,t){var n=t.length,r,i;while(n--){r=t[n];i=this[r];if(i){if(typeof i!="string"){if(!i.isTemplate){i=Ext.XTemplate.getTpl(this,r)}i=i.apply(e)}}e[r]=i||""}return e},getLabelableRenderData:function(){var e=this,t=e.labelAlign,n=t==="top",r=t==="right",i=e.msgTarget==="side",s=e.msgTarget==="under",o=e.errorMsgCls,u=e.labelPad,a=e.labelWidth,f=e.labelClsExtra||"",l=i?e.errorWrapSideCls:e.errorWrapUnderCls,c="",h="",p=e.hasVisibleLabel(),d=e.autoFitErrors,v=e.defaultBodyWidth,m,g;if(n){f+=" "+e.topLabelCls;if(u){h="padding-bottom:"+u+"px;"}if(i&&!d){f+=" "+e.topLabelSideErrorCls}}else{if(r){f+=" "+e.rightLabelCls}if(u){c+=e.getHorizontalPaddingStyle()+u+"px;"}c+="width:"+(a+(u?u:0))+"px;";h="width:"+a+"px"}if(p){if(!n&&s){l+=" "+e.errorWrapUnderSideLabelCls}}else{c+="display:none;"}if(v){m="min-width:"+v+"px;max-width:"+v+"px;"}g={id:e.id,inputId:e.getInputId(),labelCls:e.labelCls,labelClsExtra:f,labelStyle:c+(e.labelStyle||""),labelInnerStyle:h,labelInnerCls:e.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:m,baseBodyCls:e.baseBodyCls,fieldBodyCls:e.fieldBodyCls,extraFieldBodyCls:e.extraFieldBodyCls,errorWrapCls:e.errorWrapCls,errorWrapExtraCls:l,renderError:i||s,invalidMsgCls:i?e.invalidIconCls:s?e.invalidUnderCls:"",errorMsgCls:o,growCls:e.grow?e.growCls:"",errorWrapStyle:i&&!d?"visibility:hidden":"display:none",fieldLabel:e.getFieldLabel(),labelSeparator:e.labelSeparator};e.getInsertionRenderData(g,e.labelableInsertions);return g},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var e=this;e.setFieldDefaults(e.getInherited().fieldDefaults);if(e.ownerLayout){e.addCls(Ext.baseCSSPrefix+e.ownerLayout.type+"-form-item")}},onLabelRender:function(){var e=this,t={},n=Ext.Element,r=e.errorWrapEl,i,s;if(r){r.setVisibilityMode(e.msgTarget==="side"&&!e.autoFitErrors?n.VISIBILITY:n.DISPLAY)}if(e.extraMargins){i=e.el.getMargin();for(s in i){if(i.hasOwnProperty(s)){t["margin-"+s]=i[s]+e.extraMargins[s]+"px"}}e.el.setStyle(t)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){var t=this,n=t.errorWrapEl,r=t.msgTarget,i=r==="side",s=r==="qtip",o,u,a;e=Ext.Array.from(e);u=t.getTpl("activeErrorsTpl");t.activeErrors=e;o=t.activeError=u.apply({fieldLabel:t.fieldLabel,errors:e,listCls:Ext.plainListCls});t.renderActiveError();if(t.rendered){if(i){t.errorEl.dom.setAttribute("data-errorqtip",o)}else if(s){t.getActionEl().dom.setAttribute("data-errorqtip",o)}else if(r==="title"){t.getActionEl().dom.setAttribute("title",o)}if(i||s){Ext.form.Labelable.initTip()}if(!t.msgTargets[r]){a=Ext.get(r);if(a){a.dom.innerHTML=o}}}if(n){n.setVisible(e.length>0);if(i&&t.autoFitErrors){t.labelEl.addCls(t.topLabelSideErrorCls)}t.updateLayout()}},unsetActiveError:function(){var e=this,t=e.errorWrapEl,n=e.msgTarget,r;delete e.activeError;delete e.activeErrors;e.renderActiveError();if(e.rendered){if(n==="qtip"){e.getActionEl().dom.removeAttribute("data-errorqtip")}else if(n==="title"){e.getActionEl().dom.removeAttribute("title")}if(!e.msgTargets[n]){r=Ext.get(n);if(r){r.dom.innerHTML=""}}if(t){t.hide();if(n==="side"&&e.autoFitErrors){e.labelEl.removeCls(e.topLabelSideErrorCls)}e.updateLayout()}}},renderActiveError:function(){var e=this,t=e.getActiveError(),n=!!t;if(t!==e.lastActiveError){e.lastActiveError=t;e.fireEvent("errorchange",e,t)}if(e.rendered&&!e.isDestroyed&&!e.preventMark){e.toggleInvalidCls(n);if(e.errorEl){e.errorEl.dom.innerHTML=t}}},toggleInvalidCls:function(e){this.el[e?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(e){var t;for(t in e){if(!this.hasOwnProperty(t)){this[t]=e[t]}}}},function(){if(Ext.supports.Touch){this.prototype.msgTarget="side"}});Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:true,config:{validation:null,validationField:null},disabled:false,submitValue:true,validateOnChange:true,valuePublishEvent:"change",suspendCheckChange:0,dirty:false,initField:function(){var e=this,t=e.valuePublishEvent,n,r;e.initValue();var i=["tagName","nodeName","children","childNodes"],s=this.name;if(s&&Ext.Array.indexOf(i,s)>-1){Ext.log.warn(['It is recommended to not use "',s,'" as a field name, because it ',"can cause naming collisions during form submission."].join(""))}if(Ext.isString(t)){e.on(t,e.publishValue,e)}else{for(r=0,n=t.length;r<n;++r){e.on(t[r],e.publishValue,e)}}},initValue:function(){var e=this;e.suspendCheckChange++;e.setValue(e.value);e.suspendCheckChange--;e.originalValue=e.lastValue=e.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){var t=this;t.value=e;t.checkChange();return t},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.valueFrom(e,""))===String(Ext.valueFrom(t,""))},getSubmitData:function(){var e=this,t=null;if(!e.disabled&&e.submitValue){t={};t[e.getName()]=""+e.getValue()}return t},getModelData:function(e,t){var n=this,r=null;if(!n.disabled&&(n.submitValue||!t)){r={};r[n.getFieldIdentifier()]=n.getValue()}return r},reset:function(){var e=this;e.beforeReset();e.setValue(e.originalValue);e.clearInvalid();delete e.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var e=this,t,n;if(!e.suspendCheckChange){t=e.getValue();n=e.lastValue;if(!e.isDestroyed&&e.didValueChange(t,n)){e.lastValue=t;e.fireEvent("change",e,t,n);e.onChange(t,n)}}},didValueChange:function(e,t){return!this.isEqual(e,t)},onChange:function(e){var t=this;if(t.validateOnChange){t.validate()}t.checkDirty()},publishValue:function(){var e=this;if(e.rendered&&!e.getErrors().length){e.publishState("value",e.getValue())}},isDirty:function(){var e=this;return!e.disabled&&!e.isEqual(e.getValue(),e.originalValue)},checkDirty:function(){var e=this,t=e.isDirty();if(t!==e.wasDirty){e.dirty=t;e.fireEvent("dirtychange",e,t);e.onDirtyChange(t);e.wasDirty=t}},onDirtyChange:Ext.emptyFn,getErrors:function(e){var t=[],n=this.getValidationField(),r=this.getValidation(),i;if(n){i=n.validate(e);if(i!==true){t.push(i)}}if(r&&r!==true){t.push(r)}return t},isValid:function(){var e=this;return e.disabled||Ext.isEmpty(e.getErrors())},validate:function(){var e=this,t=e.isValid();if(t!==e.wasValid){e.wasValid=t;e.fireEvent("validitychange",e,t)}return t},batchChanges:function(e){try{this.suspendCheckChange++;e()}catch(t){throw t}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(e,t){if(t){this.validate()}}});Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:["Ext.form.Labelable","Ext.form.field.Field"],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate"],focusable:true,shrinkWrap:true,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" role="{role}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],defaultBindProperty:"value",subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:true,invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:true,readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:false,stretchInputElFixed:true,initComponent:function(){var e=this;e.callParent();e.subTplData=e.subTplData||{};e.initLabelable();e.initField();if(!e.name){e.name=e.getInputId()}if(e.readOnly){e.addCls(e.readOnlyCls)}e.addCls(Ext.baseCSSPrefix+"form-type-"+e.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(e){var t=this,n=t.inputType,r=t.getInputId(),i;i=Ext.apply({ui:t.ui,id:r,cmpId:t.id,name:t.name||r,disabled:t.disabled,readOnly:t.readOnly,value:t.getRawValue(),type:n,fieldCls:t.fieldCls,fieldStyle:t.getFieldStyle(),childElCls:e.childElCls,tabIdx:t.tabIndex,inputCls:t.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(t.isTextInput?"text":n),role:t.ariaRole},t.subTplData);t.getInsertionRenderData(i,t.subTplInsertions);return i},getSubTplMarkup:function(e){var t=this,n=t.getSubTplData(e),r=t.getTpl("preSubTpl"),i=t.getTpl("postSubTpl"),s="";if(r){s+=r.apply(n)}s+=t.getTpl("fieldSubTpl").apply(n);if(i){s+=i.apply(n)}return s},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this,n=t.inputEl;if(n){n.applyStyles(e)}t.fieldStyle=e},getFieldStyle:function(){var e=this.fieldStyle;return Ext.isObject(e)?Ext.DomHelper.generateStyles(e,null,true):e||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var e=this,t=null,n;if(!e.disabled&&e.submitValue){n=e.getSubmitValue();if(n!==null){t={};t[e.getName()]=n}}return t},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this,t=e.inputEl?e.inputEl.getValue():Ext.valueFrom(e.rawValue,"");e.rawValue=t;return t},setRawValue:function(e){var t=this,n=t.rawValue;if(!t.transformRawValue.$nullFn){e=t.transformRawValue(e)}e=Ext.valueFrom(e,"");if(n===undefined||n!==e){t.rawValue=e;if(t.inputEl){t.bindPropertyChange(false);t.inputEl.dom.value=e;t.bindPropertyChange(true)}if(t.rendered&&t.reference){t.publishState("rawValue",e)}}return e},transformRawValue:Ext.identityFn,valueToRaw:function(e){return""+Ext.valueFrom(e,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var e=this,t=e.rawToValue(e.processRawValue(e.getRawValue()));e.value=t;return t},setValue:function(e){var t=this;t.setRawValue(t.valueToRaw(e));return t.mixins.field.setValue.call(t,e)},onBoxReady:function(){var e=this;e.callParent();if(e.setReadOnlyOnBoxReady){e.setReadOnly(e.readOnly)}},onDisable:function(){var e=this,t=e.inputEl;e.callParent();if(t){t.dom.disabled=true;if(e.hasActiveError()){e.clearInvalid();e.needsValidateOnEnable=true}}},onEnable:function(){var e=this,t=e.inputEl;e.callParent();if(t){t.dom.disabled=false;if(e.needsValidateOnEnable){delete e.needsValidateOnEnable;e.forceValidation=true;e.isValid();delete e.forceValidation}}},setReadOnly:function(e){var t=this,n=t.inputEl;e=!!e;t[e?"addCls":"removeCls"](t.readOnlyCls);t.readOnly=e;if(n){n.dom.readOnly=e}else if(t.rendering){t.setReadOnlyOnBoxReady=true}t.fireEvent("writeablechange",t,e)},fireKey:function(e){if(e.isSpecialKey()){this.fireEvent("specialkey",this,e)}},initEvents:function(){var e=this,t=e.inputEl,n,r,i=e.checkChangeEvents,s=e.ignoreChangeRe,o=i.length,u,a;if(t){e.mon(t,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",e.fireKey,e);n=new Ext.util.DelayedTask(e.checkChange,e);e.onChangeEvent=r=function(t){if(!(t.type=="propertychange"&&s.test(t.browserEvent.propertyName))){n.delay(e.checkChangeBuffer)}};for(u=0;u<o;u++){a=i[u];if(a==="propertychange"){e.usesPropertychange=true}e.mon(t,a,r)}}e.callParent()},bindPropertyChange:function(e){var t=this,n=t.usesPropertychange;if(n){t[e?"mon":"mun"](t.inputEl,"propertychange",t.onChangeEvent)}},onDirtyChange:function(e){var t=this;t[e?"addCls":"removeCls"](t.dirtyCls);if(t.rendered&&t.reference){t.publishState("dirty",e)}},isValid:function(){var e=this,t=e.disabled,n=e.forceValidation||!t;return n?e.validateValue(e.processRawValue(e.getRawValue())):t},validateValue:function(e){var t=this,n=t.getErrors(e),r=Ext.isEmpty(n);if(!t.preventMark){if(r){t.clearInvalid()}else{t.markInvalid(n)}}return r},markInvalid:function(e){var t=this,n=t.getActiveError(),r;t.setActiveErrors(Ext.Array.from(e));r=t.getActiveError();if(n!==r){t.setError(r)}},clearInvalid:function(){var e=this,t=e.hasActiveError();delete e.needsValidateOnEnable;e.unsetActiveError();if(t){e.setError("")}},setError:function(e){var t=this,n=t.msgTarget,r;if(t.rendered){if(n=="title"||n=="qtip"){r=n=="qtip"?"data-errorqtip":"title";t.getActionEl().dom.setAttribute(r,e||"")}else{t.updateLayout()}}},renderActiveError:function(){var e=this,t=e.hasActiveError(),n=e.invalidCls+"-field";if(e.inputEl){e.inputEl[t?"addCls":"removeCls"]([n,n+"-"+e.ui])}e.mixins.labelable.renderActiveError.call(e)},privates:{applyBind:function(e,t){var n=this,r=t&&t.value,i;i=n.callParent([e,t]);if(i.value!==r&&n.getInherited().modelValidation){n.updateValueBinding(i)}return i},applyRenderSelectors:function(){var e=this;e.callParent();if(!e.inputEl){e.inputEl=e.el.getById(e.getInputId())}},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var e=this;if(!e.hasOwnProperty("renderTpl")){e.renderTpl=e.getTpl("labelableRenderTpl")}return e.callParent()},updateValueBinding:function(e){var t=this,n=e.value,r=e.$fieldBinding;if(r){r.destroy();e.$fieldBinding=null}if(n&&n.bindValidationField){t.fieldBinding=n.bindValidationField("setValidationField",t)}}},deprecated:{5:{methods:{doComponentLayout:function(){this.bindPropertyChange(false);this.callParent(arguments);this.bindPropertyChange(true)}}}}});Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],ariaRole:"textbox",fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:true,disableFormats:true}],focusable:false,readOnly:true,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,valueToRaw:function(e){if(!e&&e!==0){return""}else{return e}},isDirty:function(){return false},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(e){var t=this;e=Ext.valueFrom(e,"");t.rawValue=e;if(t.rendered){t.inputEl.dom.innerHTML=t.getDisplayValue();t.updateLayout()}return e},getDisplayValue:function(){var e=this,t=this.getRawValue(),n;if(e.renderer){n=e.renderer.call(e.scope||e,t,e)}else{n=e.htmlEncode?Ext.util.Format.htmlEncode(t):t}return n},getSubTplData:function(e){var t=this.callParent(arguments);t.value=this.getDisplayValue();return t}});Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",manageMargins:true,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,t){var n=t||this.owner.getSizeModel(),r=(n.width.shrinkWrap?0:1)|(n.height.shrinkWrap?0:2);return this.sizePolicies[r]},beginLayoutCycle:function(e,t){var n=this,r=n.lastHeightModel&&n.lastHeightModel.calculated,i=n.lastWidthModel&&n.lastWidthModel.calculated,s=i||r,o=0,u=0,a,f,l,c,h,p,d,v,m,g;n.callParent(arguments);if(s&&e.targetContext.el.dom.tagName.toUpperCase()!="TD"){s=i=r=false}f=e.childItems;h=f.length;for(l=0;l<h;++l){c=f[l];if(t){a=c.target;d=a.minHeight;v=a.minWidth;if(v||d){p=c.marginInfo||c.getMarginInfo();d+=p.height;v+=p.height;if(o<d){o=d}if(u<v){u=v}}}if(s){m=c.el.dom.style;if(r){m.height=""}if(i){m.width=""}}}if(t){e.maxChildMinHeight=o;e.maxChildMinWidth=u}a=e.target;e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&a.scrollFlags.x||g;e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&a.scrollFlags.y||g},calculate:function(e){var t=this,n=e.childItems,r=n.length,i=t.getContainerSize(e),s={length:r,ownerContext:e,targetSize:i},o=e.widthModel.shrinkWrap,u=e.heightModel.shrinkWrap,a=e.overflowX,f=e.overflowY,l,c,h,p,d,v;if(a||f){l=t.getScrollbarsNeeded(a&&i.width,f&&i.height,e.maxChildMinWidth,e.maxChildMinHeight);if(l){c=Ext.getScrollbarSize();if(l&1){i.height-=c.height}if(l&2){i.width-=c.width}}}if(r>0){for(p=0;p<r;++p){s.index=p;t.fitItem(n[p],s)}}else{s.contentWidth=s.contentHeight=0}if(u||o){h=e.targetContext.getPaddingInfo();if(o){if(f&&!i.gotHeight){t.done=false}else{d=s.contentWidth+h.width;if(l&2){d+=c.width}if(!e.setContentWidth(d)){t.done=false}}}if(u){if(a&&!i.gotWidth){t.done=false}else{v=s.contentHeight+h.height;if(l&1){v+=c.height}if(!e.setContentHeight(v)){t.done=false}}}}},fitItem:function(e,t){var n=this;if(e.invalid){n.done=false;return}t.margins=e.getMarginInfo();t.needed=t.got=0;n.fitItemWidth(e,t);n.fitItemHeight(e,t);if(t.got!=t.needed){n.done=false}},fitItemWidth:function(e,t){var n,r;if(t.ownerContext.widthModel.shrinkWrap){r=e.getProp("width")+t.margins.width;n=t.contentWidth;if(n===undefined){t.contentWidth=r}else{t.contentWidth=Math.max(n,r)}}else if(e.widthModel.calculated){++t.needed;if(t.targetSize.gotWidth){++t.got;this.setItemWidth(e,t)}else{return}}this.positionItemX(e,t)},fitItemHeight:function(e,t){var n,r;if(t.ownerContext.heightModel.shrinkWrap){r=e.getProp("height")+t.margins.height;n=t.contentHeight;if(n===undefined){t.contentHeight=r}else{t.contentHeight=Math.max(n,r)}}else if(e.heightModel.calculated){++t.needed;if(t.targetSize.gotHeight){++t.got;this.setItemHeight(e,t)}else{return}}this.positionItemY(e,t)},positionItemX:function(e,t){var n=t.margins;if(t.index||n.left){e.setProp("x",n.left)}if(n.width){e.setProp("margin-right",n.width)}},positionItemY:function(e,t){var n=t.margins;if(t.index||n.top){e.setProp("y",n.top)}if(n.height){e.setProp("margin-bottom",n.height)}},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}});Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",requires:["Ext.layout.container.Fit"],uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.plugin.BufferedRenderer","Ext.grid.header.Container","Ext.grid.locking.Lockable","Ext.grid.NavigationModel"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",defaultBindProperty:"store",layout:"fit",ariaRole:"grid",config:{selection:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:false,variableRowHeight:false,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:false,viewType:null,selType:"rowmodel",scroll:true,deferRowRender:false,sortableColumns:true,multiColumnSort:false,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,bufferedRenderer:true,ownerGrid:null,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",focusable:true,tabIndex:0,constructor:function(e){var t=this,n;t.ownerGrid=e&&e.ownerGrid||t;t.callParent([e]);n=this.store;n.trackStateChanges=true;if(t.autoLoad){n.unblockLoad();n.load()}},initComponent:function(){if(this.verticalScroller){Ext.Error.raise("The verticalScroller config is not supported.")}if(!this.viewType){Ext.Error.raise("You must specify a viewType config.")}if(this.headers){Ext.Error.raise("The headers config is not supported. Please specify columns instead.")}var e=this,t=e.columns||e.colModel||[],n,r,i,s,o=e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),u;e.enableLocking=e.enableLocking||e.hasLockedColumns(t);if(e.autoLoad){e.store.blockLoad()}if(e.plugins){e.plugins=e.constructPlugins()}if(e.columnLines){e.addBodyCls(e.colLinesCls)}e.addBodyCls(e.rowLines?e.rowLinesCls:e.noRowLinesCls);e.addBodyCls(e.extraBodyCls);if(e.enableLocking){e.self.mixin("lockable",Ext.grid.locking.Lockable);e.injectLockable()}else{if(t.isRootHeader){e.headerCt=t;e.headerCt.forceFit=!!e.forceFit;e.columnManager=t.columnManager;e.visibleColumnManager=t.visibleColumnManager}else{if(Ext.isArray(t)){t={items:t}}Ext.apply(t,{grid:e,forceFit:e.forceFit,sortable:e.sortableColumns,enableColumnMove:e.enableColumnMove,enableColumnResize:e.enableColumnResize,columnLines:e.columnLines,sealed:e.sealedColumns});if(e.hideHeaders){t.height=0;t.hiddenHeaders=true}if(Ext.isDefined(e.enableColumnHide)){t.enableColumnHide=e.enableColumnHide}e.headerCt=new Ext.grid.header.Container(t)}}e.columns=u=e.headerCt.getGridColumns();e.scrollTask=new Ext.util.DelayedTask(e.syncHorizontalScroll,e);e.cls=(e.cls||"")+(" "+e.extraBaseCls);delete e.autoScroll;s=e.plugins&&Ext.Array.findBy(e.plugins,function(e){return e.isBufferedRenderer});if(s){e.bufferedRenderer=s}if(!e.hasView){if(o.isBufferedStore&&!o.remoteSort){for(r=0,i=u.length;r<i;r++){u[r].sortable=false}}if(e.hideHeaders){e.headerCt.addCls(e.hiddenHeaderCtCls);e.addCls(e.hiddenHeaderCls)}e.relayHeaderCtEvents(e.headerCt);e.features=e.features||[];if(!Ext.isArray(e.features)){e.features=[e.features]}e.dockedItems=[].concat(e.dockedItems||[]);e.dockedItems.unshift(e.headerCt);e.viewConfig=e.viewConfig||{};n=e.getView();e.items=[n];e.hasView=true;if(!e.hideHeaders){n.on({scroll:e.onHorizontalScroll,scope:e,onFrame:!!Ext.global.requestAnimationFrame})}e.bindStore(o,true);e.mon(n,{viewready:e.onViewReady,refresh:e.onRestoreHorzScroll,scope:e})}e.relayEvents(e.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","select","beforedeselect","deselect"]);e.callParent(arguments);e.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},beforeRender:function(){var e=this,t=e.bufferedRenderer;if(!e.lockable){if(t&&e.getSizeModel().height.auto){if(t.isBufferedRenderer){Ext.Error.raise("Cannot use buffered rendering with auto height")}e.bufferedRenderer=t=false}if(t&&!t.isBufferedRenderer){t={xclass:"Ext.grid.plugin.BufferedRenderer"};Ext.copyTo(t,e,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer");e.bufferedRenderer=e.addPlugin(t)}}e.callParent(arguments)},initFocusableEvents:function(){var e=this,t=e.getView();e.callParent();e.focusEnterLeaveListeners=t.getFocusEl().on({focusenter:e.onFocusEnter,focusleave:e.onFocusLeave,scope:e,destroyable:true})},onFocus:function(e){this.callParent([e]);this.handleFocusEnter(e)},onFocusEnter:function(e){this.handleFocusEnter(e)},handleFocusEnter:function(e){var t=this,n=t.getView(),r,i=n.getNavigationModel(),s,o,u=n.bufferedRenderer,a;if(!t.containsFocus){s=o=n.getLastFocused();if(!o){r=n.isLockingView?n.lockedGrid.isVisible()?n.lockedView:n.normalView:n;a=n.dataSource.getAt(u?u.getFirstVisibleRowIndex():0);if(!a.isNonData){o=(new Ext.grid.CellContext(r)).setPosition({row:a,column:0})}}if(!o){e.stopEvent();e.getTarget().blur();return}i.setPosition(o,null,e,null,!!s);t.containsFocus=!!i.getPosition()}if(t.containsFocus){this.getView().el.dom.setAttribute("tabindex","-1")}},onFocusLeave:function(e){var t=this.getView();if(this.containsFocus){t.getNavigationModel().setPosition(null,null,e,null,true);this.containsFocus=false;t.focusEl=t.el;t.focusEl.dom.setAttribute("tabindex",0)}},hasLockedColumns:function(e){var t,n,r;if(e.isRootHeader){e=e.items.items}else if(Ext.isObject(e)){e=e.items}for(t=0,n=e.length;t<n;t++){r=e[t];if(!r.processed&&r.locked){return true}}},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var e=this,t=e.callParent(),n=e.store.getState();t=e.addPropertyToState(t,"columns",e.headerCt.getColumnsState());if(n){t.storeState=n}return t},applyState:function(e){var t=this,n=e.sort,r=e.storeState,i=t.store,s=e.columns;delete e.columns;t.callParent(arguments);if(s){t.headerCt.applyColumnsState(s)}if(n){if(i.remoteSort){i.sort({property:n.property,direction:n.direction,root:n.root},null,false)}else{i.sort(n.property,n.direction)}}else if(r){i.applyState(r)}},getStore:function(){return this.store},getView:function(){var e=this,t,n;if(!e.view){t=e.getSelectionModel();n=Ext.apply({grid:e,ownerGrid:e.ownerGrid,deferInitialRefresh:e.deferRowRender,variableRowHeight:e.variableRowHeight,preserveScrollOnRefresh:true,trackOver:e.trackMouseOver!==false,throttledUpdate:e.throttledUpdate===true,scroll:e.scroll,xtype:e.viewType,store:e.store,headerCt:e.headerCt,columnLines:e.columnLines,rowLines:e.rowLines,selModel:t,navigationModel:"grid",features:e.features,panel:e,emptyText:e.emptyText||""},e.viewConfig);if(e.scroll&&e.viewConfig.scroll&&e.scroll!==e.viewConfig.scroll){n.scroll="both"}Ext.widget(n);if(e.view.emptyText){e.view.emptyText='<div class="'+e.emptyCls+'">'+e.view.emptyText+"</div>"}e.view.getComponentLayout().headerCt=e.headerCt;e.mon(e.view,{uievent:e.processEvent,scope:e});t.view=e.view;e.headerCt.view=e.view;if(e.hasListeners.viewcreated){e.fireEvent("viewcreated",e,e.view)}}return e.view},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,processEvent:function(e,t,n,r,i,s,o,u){var a=s.position.column;if(a){return a.processEvent.apply(a,arguments)}},scrollByDeltaY:function(e,t){this.getView().scrollBy(0,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,0,t)},afterCollapse:function(){this.saveScrollPos();this.callParent(arguments)},afterExpand:function(){this.callParent(arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){if(this.view.scrollManager){this.view.scrollManager.refresh()}},onHeaderMove:function(e,t,n,r,i){var s=this;if(s.optimizedColumnMove===false){s.view.refreshView()}else{s.view.moveColumn(r,i,n)}s.delayScroll()},onHeaderHide:function(e,t){if(this.view.refreshCounter){this.view.refreshView()}},onHeaderShow:function(e,t){if(this.view.refreshCounter){this.view.refreshView()}},onHeadersChanged:function(e,t){var n=this;if(n.rendered&&!n.reconfiguring){n.view.refreshView();n.delayScroll()}},delayScroll:function(){var e=this.view;if(e){this.scrollTask.delay(10,null,null,[e])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this,t=e.scrollXPos;if(t){e.syncHorizontalScroll(e,true)}},getScrollerOwner:function(){var e=this;if(!this.scrollerOwner){e=this.up("[scrollerOwner]")}return e},getLhsMarker:function(){var e=this;return e.lhsMarker||(e.lhsMarker=Ext.DomHelper.append(e.el,{role:"presentation",cls:e.resizeMarkerCls},true))},getRhsMarker:function(){var e=this;return e.rhsMarker||(e.rhsMarker=Ext.DomHelper.append(e.el,{role:"presentation",cls:e.resizeMarkerCls},true))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var t=this,n;if(!t.ignoreNextSelection){t.ignoreNextSelection=true;n=t.getSelectionModel();if(e){n.select(e)}else{n.deselectAll()}t.ignoreNextSelection=false}},updateBindSelection:function(e,t){var n=this,r=null;if(!n.ignoreNextSelection){n.ignoreNextSelection=true;if(t.length){r=e.getLastSelected();n.hasHadSelection=true}if(n.hasHadSelection){n.setSelection(r)}n.ignoreNextSelection=false}},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){var e=this,t=e.selModel,n,r,i;if(!t){t={};n=true}if(!t.events){i=t.selType||e.selType;n=!t.mode;t=e.selModel=Ext.create("selection."+i,t)}if(e.simpleSelect){r="SIMPLE"}else if(e.multiSelect){r="MULTI"}Ext.applyIf(t,{allowDeselect:e.allowDeselect});if(r&&n){t.setSelectionMode(r)}if(!t.hasRelaySetup){e.relayEvents(t,["selectionchange","beforeselect","beforedeselect","select","deselect"]);t.hasRelaySetup=true;if(t.isRowModel){t.on("selectionchange",e.updateBindSelection,e)}}if(e.disableSelection){t.locked=true}return t},getScrollTarget:function(){var e=this.getScrollerOwner(),t=e.query("tableview");return t[1]||t[0]},onHorizontalScroll:function(e){this.syncHorizontalScroll(e)},syncHorizontalScroll:function(e,t){var n=this,r=n.view.getScrollX(),i;t=t===true;if(n.rendered&&(t||r!==n.scrollXPos)){if(t){i=n.getScrollTarget();i.setScrollX(r)}n.headerCt.setScrollX(r);n.scrollXPos=r}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e,t){var n=this,r=n.getView(),i=n.bufferedRenderer;if(e){n.store=e;if(i&&i.isBufferedRenderer&&i.store){i.bindStore(e)}if(r.store!==e){r.bindStore(e,false)}n.mon(e,{load:n.onStoreLoad,scope:n});n.storeRelayers=n.relayEvents(e,["filterchange","groupchange"])}else{n.unbindStore()}},unbindStore:function(){var e=this,t=e.store,n;if(t){e.store=null;e.mun(t,{load:e.onStoreLoad,scope:e});Ext.destroy(e.storeRelayers);n=e.view;if(n.store){n.bindStore(null)}}},setColumns:function(e){if(e.length||this.getColumnManager().getColumns().length){this.reconfigure(undefined,e)}},setStore:function(e){this.reconfigure(e)},reconfigure:function(e,t){var n=this,r=n.store,i=n.headerCt,s=i?i.items.getRange():n.columns;if(arguments.length===1&&Ext.isArray(e)){t=e;e=null}if(t){t=Ext.Array.slice(t)}n.reconfiguring=true;n.fireEvent("beforereconfigure",n,e,t,r,s);if(n.lockable){n.reconfigureLockable(e,t)}else{Ext.suspendLayouts();if(t){delete n.scrollXPos;i.removeAll();i.add(t)}if(e&&(e=Ext.StoreManager.lookup(e))!==r){n.unbindStore();n.bindStore(e)}else{n.getView().refreshView()}Ext.resumeLayouts(true)}n.fireEvent("reconfigure",n,e,t,r,s);delete n.reconfiguring},beforeDestroy:function(){var e=this.scrollTask;if(e){e.cancel();this.scrollTask=null}Ext.destroy(this.focusEnterLeaveListeners);this.callParent()},onDestroy:function(){var e=this;if(e.lockable){e.destroyLockable()}e.unbindStore();e.callParent();e.columns=e.storeRelayers=e.columnManager=e.visibleColumnManager=null},destroy:function(){var e=this;e.callParent();if(e.isDestroyed){e.view=e.selModel=e.headerCt=null}},privates:{getFocusEl:function(){return this.getView().getFocusEl()}}});Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:["Ext.util.StoreHolder"],allowDeselect:undefined,toggleOnClick:true,selected:null,pruneRemoved:true,suspendChange:0,ignoreRightMouseSelection:false,constructor:function(e){var t=this;e=e||{};Ext.apply(t,e);t.modes={SINGLE:true,SIMPLE:true,MULTI:true};t.setSelectionMode(e.mode||t.mode);t.selected=new Ext.util.MixedCollection;t.callParent(arguments)},bindStore:function(e,t){var n=this;n.mixins.storeholder.bindStore.apply(n,arguments);if(n.store&&!t){n.refresh()}},getStoreListeners:function(){var e=this;return{add:e.onStoreAdd,clear:e.onStoreClear,remove:e.onStoreRemove,update:e.onStoreUpdate,idchanged:e.onIdChanged,load:e.onStoreLoad,refresh:e.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(e){var t=this,n=t.store.getRange(),r=0,i=n.length,s=t.getSelection().length;t.suspendChanges();for(;r<i;r++){t.doSelect(n[r],true,e)}t.resumeChanges();if(!e){t.maybeFireSelectionChange(t.getSelection().length!==s)}},deselectAll:function(e){var t=this,n=t.getSelection(),r={},i=t.store,s=n.length,o,u,a;for(o=0,u=n.length;o<u;o++){a=n[o];r[a.id]=i.indexOf(a)}n=Ext.Array.sort(n,function(e,t){var n=r[e.id],i=r[t.id];return n<i?-1:1});t.suspendChanges();t.doDeselect(n,e);t.resumeChanges();if(!e){t.maybeFireSelectionChange(t.getSelection().length!==s)}},getSelectionStart:function(){var e=this,t=e.view,n;if(!e.selectionStart&&t&&t.rendered){n=t.getNavigationModel();if(n){e.setSelectionStart(n.getRecord())}}return e.selectionStart},setSelectionStart:function(e){this.selectionStart=e},selectWithEvent:function(e,t){var n=this,r=n.isSelected(e),i=t.shiftKey,s=t.ctrlKey,o=i?n.getSelectionStart():null,u=n.getSelection(),a=u.length,f=n.allowDeselect,l,c,h;switch(n.selectionMode){case"MULTI":if(i&&o){n.selectRange(o,e,s)}else if(s&&r){n.doDeselect(e,false)}else if(s){n.doSelect(e,true,false)}else if(r&&!i&&!s&&a>1){l=[];for(c=0;c<a;++c){h=u[c];if(h!==e){l.push(h)}}n.doDeselect(l)}else if(!r){n.doSelect(e,false)}break;case"SIMPLE":if(r){n.doDeselect(e)}else{n.doSelect(e,true)}break;case"SINGLE":if(f&&!s){f=n.toggleOnClick}if(f&&r){n.doDeselect(e)}else{n.doSelect(e,false)}break}if(!i){if(n.isSelected(e)){n.selectionStart=e}else{n.selectionStart=null}}},vetoSelection:function(e){if(e.type!=="keydown"&&e.button!==0){if(this.ignoreRightMouseSelection||this.isSelected(e.record)){return true}}else{return e.type==="mousedown"}},onNavigate:function(e){var t=this,n=e.keyEvent,r=n.ctrlKey,i=e.recordIndex,s=e.record,o=e.previousRecord,u=t.isSelected(s),a=t.selectionStart&&t.isSelected(e.previousRecord)?t.selectionStart:t.selectionStart=e.previousRecord,f=e.previousRecordIndex,l=n.getCharCode(),c=l===n.SPACE,h=l===n.UP||l===n.PAGE_UP?"up":l===n.DOWN||l===n.DOWN?"down":null;if(!s||t.vetoSelection(n)){return}switch(t.selectionMode){case"MULTI":if(l===n.A&&r){t.selectRange(0,t.store.getCount()-1)}else if(c){if(n.shiftKey){t.selectRange(a,s,r)}else{if(u){t.doDeselect(s,r)}else{t.doSelect(s,r)}}}else if(n.shiftKey&&a){if(h==="up"&&f<=i){t.deselectRange(o,i+1)}else if(h==="down"&&f>=i){t.deselectRange(o,i-1)}else if(a!==s){t.selectRange(a,s,r)}t.lastSelected=s}else if(l){if(!r){t.doSelect(s,false)}}else{t.selectWithEvent(s,n)}break;case"SIMPLE":if(u){t.doDeselect(s)}else{t.doSelect(s,true)}break;case"SINGLE":if(c){if(u){if(t.allowDeselect){t.doDeselect(s)}}else{t.doSelect(s)}}else if(r){break}else if(c&&t.allowDeselect&&u){t.doDeselect(s)}else{t.doSelect(s,false)}break}if(!n.shiftKey){if(t.isSelected(s)){t.selectionStart=s}}},selectRange:function(e,t,n){var r=this,i=r.store,s=r.selected.items,o,u,a,f,l,c,h;if(r.isLocked()){return}o=r.normalizeRowRange(e,t);e=o[0];t=o[1];f=[];for(u=e;u<=t;u++){if(!r.isSelected(i.getAt(u))){f.push(i.getAt(u))}}if(!n){l=[];r.suspendChanges();for(u=0,a=s.length;u<a;++u){h=s[u];c=i.indexOf(h);if(c<e||c>t){l.push(h)}}for(u=0,a=l.length;u<a;++u){r.doDeselect(l[u])}r.resumeChanges()}if(f.length){r.doMultiSelect(f,true)}else{r.maybeFireSelectionChange(l.length>0)}},deselectRange:function(e,t){var n=this,r=n.store,i,s,o,u;if(n.isLocked()){return}i=n.normalizeRowRange(e,t);e=i[0];t=i[1];o=[];for(s=e;s<=t;s++){u=r.getAt(s);if(n.isSelected(u)){o.push(u)}}if(o.length){n.doDeselect(o)}},normalizeRowRange:function(e,t){var n=this.store,r;if(!Ext.isNumber(e)){e=n.indexOf(e)}e=Math.max(0,e);if(!Ext.isNumber(t)){t=n.indexOf(t)}t=Math.min(t,n.getCount()-1);if(e>t){r=t;t=e;e=r}return[e,t]},select:function(e,t,n){if(Ext.isDefined(e)&&!(Ext.isArray(e)&&!e.length)){this.doSelect(e,t,n)}},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,n){var r=this,i;if(r.locked||!r.store){return}if(typeof e==="number"){i=r.store.getAt(e);if(!i){return}e=[i]}if(r.selectionMode==="SINGLE"&&e){i=e.length?e[0]:e;r.doSingleSelect(i,n)}else{r.doMultiSelect(e,t,n)}},doMultiSelect:function(e,t,n){var r=this,i=r.selected,s=false,o,u,a,f,l,c=r.view,h;if(r.locked){return}e=!Ext.isArray(e)?[e]:e;a=e.length;if(!t&&i.getCount()>0){o=r.deselectDuringSelect(e,i.getRange(),n);if(o[0]){r.maybeFireSelectionChange(o[1]>0&&!n);return}else{s=o[1]>0}}l=function(){i.add(f);s=true};for(u=0;u<a;u++){f=e[u];if(r.isSelected(f)){continue}r.onSelectChange(f,true,n,l)}r.lastSelected=f;if(c&&c.rendered&&!n&&!r.preventFocus){h=c.getNavigationModel();if(h){h.setPosition(f,null,null,n,true)}}r.maybeFireSelectionChange(s&&!n)},deselectDuringSelect:function(e,t,n){var r=this,i=t.length,s=0,o=false,u,a;r.suspendChanges();for(a=0;a<i;++a){u=t[a];if(!Ext.Array.contains(e,u)){if(r.doDeselect(u,n)){++s}else{o=true}}}r.resumeChanges();return[o,s]},doDeselect:function(e,t){var n=this,r=n.selected,i=0,s,o,u=0,a=0,f;if(n.locked||!n.store){return false}if(typeof e==="number"){o=n.store.getAt(e);if(!o){return false}e=[o]}else if(!Ext.isArray(e)){e=[e]}f=function(){++a;r.remove(o)};s=e.length;n.suspendChanges();for(;i<s;i++){o=e[i];if(n.isSelected(o)){if(n.lastSelected===o){n.lastSelected=r.last()}++u;n.onSelectChange(o,false,t,f)}}n.resumeChanges();n.maybeFireSelectionChange(a>0&&!t);return a===u},doSingleSelect:function(e,t){var n=this,r=n.view,i,s=false,o=n.selected,u;if(n.locked){return}if(n.isSelected(e)){return}u=function(){if(o.getCount()){n.suspendChanges();if(!n.doDeselect(n.lastSelected,t)){n.resumeChanges();return false}n.resumeChanges()}o.add(e);n.lastSelected=e;s=true};n.onSelectChange(e,true,t,u);if(s){if(r&&r.rendered&&!t&&!n.preventFocus){i=r.getNavigationModel();if(i){i.setPosition(e,null,null,t,true)}}n.maybeFireSelectionChange(!t)}},maybeFireSelectionChange:function(e){var t=this;if(e&&!t.suspendChange){t.fireEvent("selectionchange",t,t.getSelection())}},getLastSelected:function(){return this.lastSelected},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE";this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isRangeSelected:function(e,t){var n=this,r=n.store,i,s;s=n.normalizeRowRange(e,t);e=s[0];t=s[1];for(i=e;i<=t;i++){if(!n.isSelected(r.getAt(i))){return false}}return true},isSelected:function(e){e=Ext.isNumber(e)?this.store.getAt(e):e;return this.selected.contains(e)},hasSelection:function(){return this.selected.getCount()>0},pruneIf:function(){var e=this,t=e.selected,n=e.store,r=[],i=t.length,s,o;if(e.pruneRemoved){for(s=0;s<i;s++){o=t.getAt(s);if(n.indexOfId(o.id)===-1){r.push(o)}}if(r.length){for(s=0,i=r.length;s<i;s++){o=r[s];t.remove(o);e.onPrune(o)}e.maybeFireSelectionChange(true)}}},onPrune:Ext.emptyFn,refresh:function(){var e=this,t=e.store,n,r=[],i=[],s=e.getSelection(),o=s.length,u,a,f=0;if(!t){return}for(;f<o;f++){u=s[f];if(t.indexOf(u)!==-1){r.push(u)}else if(!e.pruneRemoved){n=t.getById(u.getId());if(n){r.push(n)}else{i.push(u)}}if(e.mode==="SINGLE"&&i.length){break}}if(e.selected.getCount()!==r.length+i.length){a=true}e.clearSelections();if(r.length){e.doSelect(r,false,true)}if(i.length){e.selected.addAll(i);if(!e.lastSelected){e.lastSelected=i[i.length-1]}}e.maybeFireSelectionChange(a)},clearSelections:function(){this.selected.clear();this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(e,t,n,r){var i=this;if(i.selectionStart&&Ext.Array.contains(t,i.selectionStart)){i.selectionStart=null}if(r||i.locked||!i.pruneRemoved){return}i.deselect(t)},deselectDeletedRecords:function(e){var t=this,n=t.selected,r,i=e.length,s=0,o;for(r=0;r<i;r++){o=e[r];if(n.remove(o)){if(t.lastSelected===o){t.lastSelected=null}++s}}if(s){t.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners();this.clearSelections();this.bindStore(null)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(e,t,n,r){this.selected.updateKey(n,r)},onStoreRefresh:function(){var e=this,t=e.getStore(),n=e.selected,r=e.lastSelected,i,s,o,u,a;if(e.store.isBufferedStore){return}i=n.items;s=i.length;if(r){e.lastSelected=t.getById(r.id)}for(o=0;o<s;++o){u=i[o];a=t.getById(u.id);if(a){e.selected.replace(a)}else{e.selected.remove(u)}}},onStoreLoad:Ext.emptyFn,onSelectChange:function(e,t,n,r){var i=this,s=t?"select":"deselect";if((n||i.fireEvent("before"+s,i,e))!==false&&r()!==false){if(!n){i.fireEvent(s,i,e)}}},onEditorKey:Ext.emptyFn,beforeViewRender:function(e){this.views=this.views||[];this.views.push(e)},resolveListenerScope:function(e){var t=this.view,n;if(t){n=t.resolveListenerScope(e)}return n||this.callParent([e])},onVetoUIEvent:Ext.emptyFn,bindComponent:Ext.emptyFn});Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:true,enableKeyNav:true,bindComponent:function(e){var t=this;t.view=e;t.navigationModel=e.getNavigationModel();e.on(t.getViewListeners());t.navigationModel.on({navigate:t.onNavigate,scope:t})},getViewListeners:function(){var e=this,t=e.view,n={refresh:e.refresh,scope:e};n[t.triggerCtEvent]=e.onContainerClick;return n},onUpdate:function(e){var t=this.view;if(t&&this.isSelected(e)){t.onItemSelect(e)}},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},onSelectChange:function(e,t,n,r){var i=this,s=i.view,o=t?"select":"deselect";if((n||i.fireEvent("before"+o,i,e))!==false&&r()!==false){if(s){if(t){s.onItemSelect(e)}else{s.onItemDeselect(e)}}if(!n){i.fireEvent(o,i,e)}}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.view.NavigationModel",{mixins:["Ext.util.Observable","Ext.mixin.Factoryable"],alias:"view.navigation.default",focusCls:Ext.baseCSSPrefix+"view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(e){this.view=e;this.bindView(e)},bindView:function(e){var t=this,n;t.initKeyNav(e);n=t.getStoreListeners();n.destroyable=true;t.dataSourceListeners=e.dataSource.on(n);n=t.getViewListeners();n.destroyable=true;t.viewListeners=e.on(n)},getStoreListeners:function(){var e=this;return{clear:e.onStoreClear,remove:e.onStoreRemove,scope:e}},getViewListeners:function(){var e=this;return{containermousedown:e.onContainerMouseDown,itemmousedown:e.onItemMouseDown,itemclick:e.onItemClick,itemcontextmenu:e.onItemMouseDown,refresh:e.onViewRefresh,scope:e}},initKeyNav:function(e){var t=this;t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:true,eventName:"itemkeydown",processEvent:function(e,t,n,r,i){return i},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:true,handler:t.onSelectAllKeyPress},scope:t})},addKeyBindings:function(e){this.keyNav.addBindings(e)},enable:function(){this.keyNav.enable();this.disabled=false},disable:function(){this.keyNav.disable();this.disabled=true},onContainerMouseDown:function(e,t){t.preventDefault()},onItemMouseDown:function(e,t,n,r,i){var s=i.parentEvent;if(!s||s.type!=="touchstart"){this.setPosition(r)}},onItemClick:function(e,t,n,r,i){if(this.record===t){this.fireNavigateEvent(i)}else{this.setPosition(r,i)}},onStoreClear:function(){this.setPosition()},onStoreRemove:function(){this.setPosition(this.getRecord())},onViewRefresh:function(){this.setPosition(this.getRecord())},setPosition:function(e,t,n,r){var i=this,s=i.view,o=s.getSelectionModel(),u=s.dataSource,a,f;if(e==null){i.record=i.recordIndex=null}else{if(typeof e==="number"){f=Math.max(Math.min(e,u.getCount()-1),0);a=u.getAt(e)}else if(e.isEntity){a=e;f=u.indexOf(e)}else if(e.tagName){a=s.getRecord(e);f=u.indexOf(a)}else{a=f=null}}if(f===i.recordIndex){return}if(i.item){i.item.removeCls(i.focusCls)}i.previousRecordIndex=i.recordIndex;i.previousRecord=i.record;i.previousItem=i.item;i.recordIndex=f;i.record=a;if(a){i.focusPosition(i.recordIndex)}else{i.item=null}if(!n){o.fireEvent("focuschange",o,i.previousRecord,i.record)}if(!r&&t&&i.record!==i.previousRecord){i.fireNavigateEvent(t)}},focusPosition:function(e){var t=this;if(e!=null&&e!==-1){if(e.isEntity){e=t.view.dataSource.indexOf(e)}t.item=t.view.all.item(e);if(t.item){t.lastFocused=t.record;t.focusItem(t.item)}else{t.record=null}}else{t.item=null}},focusItem:function(e){e.addCls(this.focusCls);e.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){if(this.view.dataSource.indexOf(this.lastFocused)===-1){return null}return this.lastFocused},onKeyUp:function(e){var t=this.recordIndex-1;if(t<0){t=this.view.all.getCount()-1}this.setPosition(t,e)},onKeyDown:function(e){var t=this.recordIndex+1;if(t>this.view.all.getCount()-1){t=0}this.setPosition(t,e)},onKeyRight:function(e){var t=this.recordIndex+1;if(t>this.view.all.getCount()-1){t=0}this.setPosition(t,e)},onKeyLeft:function(e){var t=this.recordIndex-1;if(t<0){t=this.view.all.getCount()-1}this.setPosition(t,e)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(e){this.setPosition(0,e)},onKeyEnd:function(e){this.setPosition(this.view.all.getCount()-1,e)},onKeyTab:Ext.returnTrue,onKeySpace:function(e){this.fireNavigateEvent(e)},onKeyEnter:function(e){e.view.fireEvent("itemclick",e.view,e.record,e.item,e.recordIndex,e)},onSelectAllKeyPress:function(e){this.fireNavigateEvent(e)},fireNavigateEvent:function(e){var t=this;t.fireEvent("navigate",{navigationModel:t,keyEvent:e,previousRecordIndex:t.previousRecordIndex,previousRecord:t.previousRecord,previousItem:t.previousItem,recordIndex:t.recordIndex,record:t.record,item:t.item})},destroy:function(){Ext.destroy(this.dataSourceListeners,this.viewListeners)}});Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.selection.DataViewModel","Ext.view.NavigationModel"],mixins:["Ext.util.StoreHolder"],inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.boundView)}},defaultBindProperty:"store",statics:{updateDelay:200,queueRecordChange:function(e,t,n,r,i){var s=this,o=s.changeQueue||(s.changeQueue={}),u=n.internalId,a,f,l,c,h,p,d;a=o[u]||(o[u]={operation:r,record:n,data:{},views:[]});f=a.data;Ext.Array.include(a.views,e);if(i&&(l=i.length)){for(c=0;c<l;c++){h=i[c];p=n.data[h];if(f.hasOwnProperty(h)){if(n.isEqual(f[h],p)){delete f[h];d=true}}else{f[h]=p}}if(d&&!Ext.Object.getKeys(f).length){delete o[u]}}else{Ext.apply(f,n.data)}if(!s.flushQueueTask){s.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(s.onFlushTick,s):Ext.Function.bind(s.onFlushTick,s),interval:Ext.view.AbstractView.updateDelay,repeat:1})}s.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var e=this,t,n,r,i,s,o,u;if(Ext.isScrolling){e.flushQueueTask.start();return}r=e.changeQueue;this.changeQueue={};for(s in r){i=r[s];t=i.views;n=t.length;for(o=0;o<n;o++){u=t[o];if(!u.isDestroyed){u.handleUpdate(u.dataSource,i.record,i.operation,Ext.Object.getKeys(i.data))}}}Ext.AnimationQueue.stop(e.flushChangeQueue,e)}},config:{selection:null,navigationModel:"default"},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:false,deferInitialRefresh:false,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,ariaRole:"listbox",itemAriaRole:"option",last:false,focusable:true,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:true,addCmpEvents:Ext.emptyFn,initComponent:function(){var e=this,t=Ext.isDefined,n=e.itemTpl,r={};if(n){if(Ext.isArray(n)){n=n.join("")}else if(Ext.isObject(n)){r=Ext.apply(r,n.initialConfig);n=n.html}if(!e.itemSelector){e.itemSelector="."+e.itemCls}n=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',e.itemCls,n,e.itemAriaRole);e.tpl=new Ext.XTemplate(n,r)}if(!t(e.tpl)||!t(e.itemSelector)){Ext.Error.raise({sourceClass:"Ext.view.View",tpl:e.tpl,itemSelector:e.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."})}e.callParent();e.tpl=e.getTpl("tpl");if(t(e.overCls)||t(e.overClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead.")}e.overItemCls=e.overCls||e.overClass;delete e.overCls;delete e.overClass}if(t(e.selectedCls)||t(e.selectedClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead.")}e.selectedItemCls=e.selectedCls||e.selectedClass;delete e.selectedCls;delete e.selectedClass}if(e.overItemCls){e.trackOver=true}e.addCmpEvents();e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store");if(!e.dataSource){e.dataSource=e.store}e.bindStore(e.dataSource,true,"dataSource");if(!e.all){e.all=new Ext.CompositeElementLite}e.scrollState={top:0,left:0};e.on({scroll:e.onViewScroll,element:"el",onFrame:!!Ext.global.requestAnimationFrame,scope:e});e.savedTabIndexAttribute="data-savedtabindex-"+e.id;this.getNavigationModel().bindComponent(this);this.getSelectionModel().bindComponent(this)},getElConfig:function(){var e=this.mixins.renderable.getElConfig.call(this);if(this.focusable){e.tabIndex=0}return e},onRender:function(){var e=this,t=e.loadMask,n=e.getMaskStore(),r={target:e,msg:e.loadingText,useMsg:e.loadingUseMsg,store:n},i;e.callParent(arguments);if(t){i=n.getProxy();if(i&&!i.isSynchronous){if(e.loadingCls){r.msgCls=e.loadingCls}if(Ext.isObject(t)){r=Ext.apply(r,t)}e.loadMask=new Ext.LoadMask(r);e.loadMask.on({scope:e,beforeshow:e.onMaskBeforeShow,hide:e.onMaskHide})}}},beforeLayout:function(){var e=this;e.callParent(arguments);if(e.refreshNeeded&&!e.pendingRefresh){if(e.refreshCounter){e.refresh()}else{e.doFirstRefresh(e.dataSource)}}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var e=this,t=e.loadingHeight;if(t&&t>e.getHeight()){e.hasLoadingHeight=true;e.oldMinHeight=e.minHeight;e.minHeight=t;e.updateLayout()}},onMaskHide:function(){var e=this;if(!e.destroying&&e.hasLoadingHeight){e.minHeight=e.oldMinHeight;e.updateLayout();delete e.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);if(this.focusable){this.focusEl=this.el}},getRefItems:function(){var e=this.loadMask,t=[];if(e&&e.isComponent){t.push(e)}return t},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var t=this,n;if(!t.ignoreNextSelection){t.ignoreNextSelection=true;n=t.getSelectionModel();if(e){n.select(e)}else{n.deselectAll()}t.ignoreNextSelection=false}},updateBindSelection:function(e,t){var n=this,r=null;if(!n.ignoreNextSelection){n.ignoreNextSelection=true;if(t.length){r=e.getLastSelected();n.hasHadSelection=true}if(n.hasHadSelection){n.setSelection(r)}n.ignoreNextSelection=false}},getSelectionModel:function(){var e=this,t="SINGLE",n=e.selModel;if(e.simpleSelect){t="SIMPLE"}else if(e.multiSelect){t="MULTI"}if(!n||!n.events){n=e.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:e.allowDeselect,mode:t},n))}if(!n.hasRelaySetup){e.relayEvents(n,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);n.hasRelaySetup=true;n.on("selectionchange",e.updateBindSelection,e)}if(e.disableSelection){n.locked=true}return n},applyNavigationModel:function(e){return Ext.Factory.viewNavigation(e)},initFocusableEvents:function(){var e=this;this.mixins.focusable.initFocusableEvents.call(this);e.focusEnterLeaveListeners=e.el.on({focusenter:e.onFocusEnter,focusleave:e.onFocusLeave,scope:e,destroyable:true})},onFocus:function(e){this.callParent([e]);this.handleFocusEnter(e)},onFocusEnter:function(e){this.handleFocusEnter(e)},handleFocusEnter:function(e){var t=this,n=t.getNavigationModel(),r;if(!t.containsFocus){r=n.getLastFocused();n.setPosition(r||0,e,null,!r);t.containsFocus=n.getPosition()!=null}if(t.containsFocus){this.focusEl.dom.setAttribute("tabindex","-1")}},onFocusLeave:function(e){var t=this;if(t.containsFocus){t.getNavigationModel().setPosition(null,e,null,true);t.containsFocus=false;t.focusEl.dom.setAttribute("tabindex",0)}},onRemoved:function(e){this.callParent([e]);this.onFocusLeave()},refresh:function(){var e=this,t=e.all,n=t.getCount(),r=e.refreshCounter,i,s,o,u,a,f=r&&t.getCount()&&e.preserveScrollOnRefresh&&!e.bufferedRenderer,l;if(!e.rendered||e.isDestroyed||e.preventRefresh){return}if(!e.hasListeners.beforerefresh||e.fireEvent("beforerefresh",e)!==false){e.refreshing=true;i=e.getTargetEl();u=e.getViewRange();o=i.dom;if(f){s=e.getOverflowEl();l=s.getScroll()}if(r){a=true;e.clearViewEl();e.refreshCounter++}else{e.refreshCounter=1}e.tpl.append(i,e.collectData(u,t.startIndex||0));if(u.length<1){if(e.emptyText&&!e.getStore().isLoading()&&(!e.deferEmptyText||a)){e.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",i.dom,e.emptyText)}t.clear()}else{e.collectNodes(i.dom);e.updateIndexes(0)}Ext.deferCallback(i.saveChildrenTabbableState,i,[e.savedTabIndexAttribute]);if(a){if(e.refreshSelmodelOnRefresh!==false){e.selModel.refresh()}else if(!e.preventPrune){e.selModel.pruneIf()}}e.refreshNeeded=false;e.refreshSize(t.getCount()!==n);e.fireEvent("refresh",e,u);if(f){s.setScrollLeft(l.left);s.setScrollTop(l.top)}if(!e.viewReady){e.viewReady=true;e.fireEvent("viewready",e)}e.refreshing=false;e.refreshScroll()}},collectNodes:function(e){var t=this.all;t.fill(Ext.fly(e).query(this.getItemSelector()),t.startIndex||0);if(this.focusable){t.set({tabindex:"-1"})}},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(e){var t=this,n=t.getSizeModel(),r=t.scrollManager;if(n.height.shrinkWrap||n.width.shrinkWrap||e){t.updateLayout()}else if(t.touchScroll&&!t.bufferedRenderer){if(r){r.refresh()}else{t.on({boxready:t.refreshScroll,scope:t,single:true})}}},onResize:function(){var e=this,t=e.scrollManager;if(t&&!e._hasScrollListener){t.on({scroll:e.onViewScroll,scope:e,onFrame:!!Ext.global.requestAnimationFrame});e._hasScrollListener=true}this.callParent(arguments)},clearViewEl:function(){var e=this,t=e.getTargetEl(),n=e.getNodeContainer()===t;e.clearEmptyEl();e.all.clear(!n);if(n){t.dom.innerHTML=""}},clearEmptyEl:function(){var e=this.emptyEl;if(e){e.parentNode.removeChild(e)}this.emptyEl=null},onViewScroll:function(){this.fireEvent("scroll",this)},saveScrollState:function(){var e=this,t=e.scrollState;if(e.rendered){t.left=e.getScrollX();t.top=e.getScrollY()}},restoreScrollState:function(){var e=this,t=e.scrollState;if(e.rendered){e.setScrollX(t.left);e.setScrollY(t.top)}},prepareData:function(e,t,n){var r,i,s;if(n){r=n.getAssociatedData();for(i in r){if(r.hasOwnProperty(i)){if(!s){e=Ext.Object.chain(e);s=true}e[i]=r[i]}}}return e},collectData:function(e,t){var n=[],r=0,i=e.length,s;for(;r<i;r++){s=e[r];n[r]=this.prepareData(s.data,t+r,s)}return n},bufferRender:function(e,t){var n=this,r=n.renderBuffer||(n.self.prototype.renderBuffer=document.createElement("div"));n.tpl.overwrite(r,n.collectData(e,t));return Ext.fly(r).query(n.getItemSelector())},nodeContainerSelector:null,getNodeContainer:function(){var e=this.getTargetEl(),t=this.nodeContainerSelector;return t?e.down(t,true):e},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(e,t,n,r,i){var s=this,o=i&&i.filtered;if(!o&&s.getNode(t)){if(s.throttledUpdate){s.statics().queueRecordChange(s,e,t,n,r)}else{s.handleUpdate.apply(s,arguments)}}},handleUpdate:function(e,t){var n=this,r,i;if(n.viewReady){r=n.dataSource.indexOf(t);if(r>-1){if(n.getNode(t)){i=n.bufferRender([t],r)[0];n.all.replaceElement(r,i,true);n.updateIndexes(r,r);n.selModel.onUpdate(t);n.refreshSizePending=true;if(n.selModel.isSelected(t)){n.onItemSelect(t)}if(n.hasListeners.itemupdate){n.fireEvent("itemupdate",t,r,i)}return i}}}},onReplace:function(e,t,n,r){var i=this,s,o=i.all,u,a,f,l;if(i.rendered){u=i.bufferRender(r,t,true);a=o.item(t);if(a){o.item(t).insertSibling(u,"before",true)}else{i.appendNodes(u)}o.insert(t,u);t+=r.length;s=t+n.length-1;o.removeRange(t,s,true);if(i.refreshSelmodelOnRefresh!==false){i.selModel.refresh()}i.updateIndexes(t);i.refreshSizePending=true;if(i.hasListeners.itemremove){for(f=n.length,l=s;f>=0;--f,--l){i.fireEvent("itemremove",n[f],l,i)}}if(i.hasListeners.itemadd){i.fireEvent("itemadd",r,t,u)}}},onAdd:function(e,t,n){var r=this,i;if(r.rendered){if(r.all.getCount()===0){r.refresh();i=r.all.slice()}else{i=r.doAdd(t,n);if(r.refreshSelmodelOnRefresh!==false){r.selModel.refresh()}r.updateIndexes(n);r.refreshSizePending=true}if(r.hasListeners.itemadd){r.fireEvent("itemadd",t,n,i)}}},appendNodes:function(e){var t=document.createDocumentFragment(),n=e.length,r;for(r=0;r<n;++r){t.appendChild(e[r])}this.getNodeContainer().appendChild(t)},doAdd:function(e,t){var n=this,r=n.bufferRender(e,t,true),i=n.all,s=i.getCount(),o=i.startIndex||0,u=i.endIndex||s-1;if(s===0||t>u){n.appendNodes(r)}else if(t<=o){i.item(o).insertSibling(r,"before",true)}else{i.item(t).insertSibling(r,"before",true)}i.insert(t,r);return r},onRemove:function(e,t,n){var r=this,i=r.all,s=r.hasListeners.itemremove,o,u,a,f,l;if(i.getCount()){if(r.dataSource.getCount()===0){if(s){r.fireEvent("itemremove",t,n,r.getNodes(n,n+t.length-1))}r.preventPrune=true;r.refresh();r.preventPrune=false}else{if(s){f=[]}for(u=t.length-1;u>=0;--u){a=t[u];o=n+u;if(f){l=i.item(o);f[u]=l?l.dom:undefined}if(i.item(o)){r.doRemove(a,o)}}if(s){r.fireEvent("itemremove",t,n,f,r)}r.updateIndexes(n)}r.refreshSizePending=true}},doRemove:function(e,t){this.all.removeElement(t,true)},refreshNode:function(e){if(Ext.isNumber(e)){e=this.store.getAt(e)}this.onUpdate(this.dataSource,e)},updateIndexes:function(e,t){var n=this.all.elements,r=this.getViewRange(),i;e=e||0;t=t||(t===0?0:n.length-1);for(i=e;i<=t;i++){n[i].viewIndex=i;n[i].viewRecordId=r[i].internalId;if(!n[i].boundView){n[i].boundView=this.id}}},bindStore:function(e,t,n){var r=this;r.mixins.storeholder.bindStore.apply(r,arguments);if(r.componentLayoutCounter&&!r.preventRefresh){r.doFirstRefresh(e,!t)}},doFirstRefresh:function(e,t){var n=this;if(n.deferInitialRefresh&&!t){Ext.defer(n.doFirstRefresh,1,n,[e,true])}else{if(e&&!e.loading){n.refresh()}}},onUnbindStore:function(e){this.setMaskBind(null)},onBindStore:function(e,t,n){var r=this;r.getSelectionModel().bindStore(e);r.setMaskBind(e);if(!t&&n==="store"){r.preventRefresh=true;r.store=e;r.bindStore(e,false,"dataSource");r.preventRefresh=false}},setMaskBind:function(e){var t=this.loadMask;if(t&&t.bindStore){t.bindStore(e)}},getStoreListeners:function(){var e=this;return{refresh:e.onDataRefresh,replace:e.onReplace,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.refresh,beginupdate:e.onBeginUpdate,endupdate:e.onEndUpdate}},onBeginUpdate:Ext.emptyFn,onEndUpdate:function(){if(this.refreshSizePending){this.refreshSize(true);this.refreshSizePending=false}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var e=this,t=e.blockRefresh||!e.rendered||e.up("[collapsed],[isCollapsingOrExpanding],[hidden]");if(t){e.refreshNeeded=true}else{if(e.bufferedRenderer&&e.all.getCount()){e.bufferedRenderer.refreshView()}else{e.refresh()}}},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var e=[],t=this.selModel.getSelection(),n=t.length,r=0;for(;r<n;r++){e.push(this.getNode(t[r]))}return e},getRecords:function(e){var t=[],n=0,r=e.length,i=this.dataSource.data;for(;n<r;n++){t[t.length]=i.getByKey(e[n].viewRecordId)}return t},getRecord:function(e){return this.dataSource.getByInternalId(Ext.getDom(e).viewRecordId)},isSelected:function(e){var t=this.getRecord(e);return this.selModel.isSelected(t)},select:function(e,t,n){this.selModel.select(e,t,n)},deselect:function(e,t){this.selModel.deselect(e,t)},getNode:function(e){if(!e&&e!==0||!this.rendered){return null}if(e.target){e=e.target}if(Ext.isString(e)){return document.getElementById(e)}if(Ext.isNumber(e)){return this.all.elements[e]}if(e.isModel){return this.getNodeByRecord(e)}return Ext.fly(e).findParent(this.itemSelector,this.getTargetEl())},getNodeByRecord:function(e){var t=this.all.elements,n=t.length,r=0;for(;r<n;r++){if(t[r].viewRecordId===e.internalId){return t[r]}}return null},getNodes:function(e,t){var n=this.all;if(t!==undefined){t++}return n.slice(e,t)},indexOf:function(e){e=this.getNode(e);if(!e&&e!==0){return-1}if(Ext.isNumber(e.viewIndex)){return e.viewIndex}return this.all.indexOf(e)},onDestroy:function(){var e=this;e.all.clear();e.emptyEl=null;e.callParent();e.bindStore(null);Ext.destroy(e.navigationModel,e.selModel,e.scrollManager)},onItemSelect:function(e){var t=this.getNode(e);if(t){Ext.fly(t).addCls(this.selectedItemCls)}},onItemDeselect:function(e){var t=this.getNode(e);if(t){Ext.fly(t).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector},addItemCls:function(e,t){var n=this.getNode(e);if(n){Ext.fly(n).addCls(t)}},removeItemCls:function(e,t){var n=this.getNode(e);if(n){Ext.fly(n).removeCls(t)}},privates:{getFocusEl:function(){return this.el},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():this.callParent()}}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(e,t,n){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var r=this.getSelectionModel();return r.select.apply(r,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var e=this.getSelectionModel();return e.deselectAll()}})})});Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var e=this;e.callParent();e.mon(e.el,{scope:e,click:e.handleEvent,longpress:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,keydown:e.handleEvent,keypress:e.handleEvent,mouseover:e.handleMouseOver,mouseout:e.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(e){var t=this,n=t.getTargetSelector(),r=e.getTarget(n);if(!t.isDestroyed){if(r){if(t.mouseOverItem!==r&&t.el.contains(r)){t.mouseOverItem=e.item=r;e.newType="mouseenter";t.handleEvent(e)}}else{t.handleEvent(e)}}},handleMouseOut:function(e){var t=this.getTargetSelector(),n=e.getTarget(t),r=e.getRelatedTarget(t),i;if(n===r&&!(n===null&&r===null)){return}if(!this.isDestroyed){if(n&&(i=this.self.getBoundView(n))){e.item=n;e.newType="mouseleave";i.handleEvent(e);i.mouseOverItem=null}else{this.handleEvent(e)}}},handleEvent:function(e){var t=this,n=Ext.String.startsWith(e.type,"key"),r=n&&e.getKey(),i=t.getNavigationModel();e.view=t;if(n){e.item=i.getItem();e.record=i.getRecord()}if(!e.item){e.item=e.getTarget(t.itemSelector)}if(e.item&&!e.record){e.record=t.getRecord(e.item)}if(t.processUIEvent(e)!==false){t.processSpecialEvent(e)}if(r===e.SPACE){if(!t.inputTagRe.test(e.getTarget().tagName)){e.stopEvent()}}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(e){if(!Ext.getBody().isAncestor(e.target)){return}var t=this,n=e.item,r=t.self,i=r.EventMap,s=r.TouchEventMap,o,u=e.record,a=e.type,f=a;if(e.newType){f=e.newType}if(n){f=s[f]||f;o=e.recordIndex=t.indexInStore?t.indexInStore(u):t.indexOf(n);if(!u||t.processItemEvent(u,n,o,e)===false){return false}if(t["onBeforeItem"+i[f]](u,n,o,e)===false||t.fireEvent("beforeitem"+f,t,u,n,o,e)===false||t["onItem"+i[f]](u,n,o,e)===false){return false}t.fireEvent("item"+f,t,u,n,o,e)}else{a=s[a]||a;if(t.processContainerEvent(e)===false||t["onBeforeContainer"+i[a]](e)===false||t.fireEvent("beforecontainer"+a,t,e)===false||t["onContainer"+i[a]](e)===false){return false}t.fireEvent("container"+a,t,e)}return true},onItemMouseEnter:function(e,t,n,r){if(this.trackOver){this.highlightItem(t)}},onItemMouseLeave:function(e,t,n,r){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(e){var t=this,n=t.highlightedItem,r=t.overItemCls;if(n!==e){if(n){Ext.fly(n).removeCls(r);if(Ext.isIE8){t.repaintBorder(n);t.repaintBorder(n.nextSibling)}if(t.hasListeners.unhighlightitem){t.fireEvent("unhighlightitem",t,n)}}t.highlightedItem=e;if(e){Ext.fly(e).addCls(t.overItemCls);if(Ext.isIE8){t.repaintBorder(e.nextSibling)}if(t.hasListeners.highlightitem){t.fireEvent("highlightitem",t,e)}}}},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(e,t){var n=this,r,i,s;if(n.viewReady){r=n.getNode(t);i=n.callParent(arguments);s=n.highlightedItem;if(s&&s===r){delete n.highlightedItem;if(i){n.highlightItem(i)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(e){var t=this,n=t.getNode(e),r=t.el,i=0,s=0,o=r.getRegion(),u;o.bottom=o.top+r.dom.clientHeight;o.right=o.left+r.dom.clientWidth;if(n){u=Ext.fly(n).getRegion();if(u.top<o.top){i=u.top-o.top}else if(u.bottom>o.bottom){i=u.bottom-o.bottom}if(u.left<o.left){s=u.left-o.left}else if(u.right>o.right){s=u.right-o.right}if(s||i){t.scrollBy(s,i,false)}Ext.fly(n).set({tabIndex:-1});n.focus()}},bindStore:function(e,t,n){var r=this[n];if(r&&r.isFeatureStore){if(e.isFeatureStore){this.bindStoreListeners(e);r.bindStore(r.store)}else{r.bindStore(e)}this.getSelectionModel().bindStore(r.store)}else{this.callParent(arguments)}},privates:{repaintBorder:function(e){var t=this.getNode(e);if(t){t.className=t.className}}}});Ext.define("Ext.grid.CellContext",{isCellContext:true,constructor:function(e){this.view=e},isEqual:function(e){if(e){return this.record===e.record&&this.column===e.column}return false},setPosition:function(e,t){var n=this;if(arguments.length===1){if(e.view){n.view=e.view}t=e.column;e=e.row}n.setRow(e);n.setColumn(t);return n},setAll:function(e,t,n,r,i){var s=this;s.view=e;s.rowIdx=t;s.colIdx=n;s.record=r;s.column=i;return s},setRow:function(e){var t=this,n=t.view.dataSource;if(e!==undefined){if(typeof e==="number"){t.rowIdx=Math.max(Math.min(e,n.getCount()-1),0);t.record=n.getAt(e)}else if(e.isModel){t.record=e;t.rowIdx=n.indexOf(e)}else if(e.tagName){t.record=t.view.getRecord(e);t.rowIdx=n.indexOf(t.record)}}},setColumn:function(e){var t=this,n=t.view.getVisibleColumnManager();if(e!==undefined){if(typeof e==="number"){t.colIdx=e;t.column=n.getHeaderAtIndex(e)}else if(e.isHeader){t.column=e;t.colIdx=n.getHeaderIndex(e)}}},equal:function(e){return e&&e.isCellContext&&e.view===this.view&&e.record===this.record&&e.column===this.column},clone:function(){var e=this,t=new e.self(e.view);t.rowIdx=e.rowIdx;t.colIdx=e.colIdx;t.record=e.record;t.column=e.column;return t}});Ext.define("Ext.util.CSS",function(){var e,t=null,n=document,r=/(-[a-z])/gi,i=function(e,t){return t.charAt(1).toUpperCase()};return{singleton:true,rules:t,initialized:false,constructor:function(){e=this},createStyleSheet:function(t,r){var i,s=n.getElementsByTagName("head")[0],o=n.createElement("style");o.setAttribute("type","text/css");if(r){o.setAttribute("id",r)}i=o.styleSheet;if(i){s.appendChild(o);i.cssText=t}else{o.appendChild(n.createTextNode(t));s.appendChild(o);i=o.sheet}e.cacheStyleSheet(i);return i},removeStyleSheet:function(e){var t=n.getElementById(e);if(t){t.parentNode.removeChild(t)}},swapStyleSheet:function(t,r){var i;e.removeStyleSheet(t);i=n.createElement("link");i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("id",t);i.setAttribute("href",r);n.getElementsByTagName("head")[0].appendChild(i)},cacheStyleSheet:function(n){if(!t){t=e.rules={}}try{var r=n.cssRules||n.rules,i=r.length-1,s=n.imports,o=s?s.length:0,u,a;for(a=0;a<o;++a){e.cacheStyleSheet(s[a])}for(;i>=0;--i){u=r[i];if(u.styleSheet){e.cacheStyleSheet(u.styleSheet)}e.cacheRule(u,n)}}catch(f){}},cacheRule:function(n,r){if(n.styleSheet){return e.cacheStyleSheet(n.styleSheet)}var i=n.selectorText,s,o;if(i){i=i.split(",");s=i.length;for(o=0;o<s;o++){t[Ext.String.trim(i[o]).toLowerCase()]={parentStyleSheet:r,cssRule:n}}}},getRules:function(n){var r={},i;if(t===null||n){e.refreshCache()}for(i in t){r[i]=t[i].cssRule}return r},refreshCache:function(){var r=n.styleSheets,i=0,s=r.length;t=e.rules={};for(;i<s;i++){try{if(!r[i].disabled){e.cacheStyleSheet(r[i])}}catch(o){}}},getRule:function(n,r,i){var s,o;if(!t||r){e.refreshCache()}if(!Ext.isArray(n)){o=t[n.toLowerCase()];if(o&&!i){o=o.cssRule}return o||null}for(s=0;s<n.length;s++){if(t[n[s]]){return i?t[n[s].toLowerCase()]:t[n[s].toLowerCase()].cssRule}}return null},createRule:function(t,n,r){var i,s=t.cssRules||t.rules,o=s.length;if(t.insertRule){t.insertRule(n+" {"+r+"}",o)}else{t.addRule(n,r||" ")}e.cacheRule(i=s[o],t);return i},updateRule:function(t,n,s){var o,u,a;if(!Ext.isArray(t)){o=e.getRule(t);if(o){if(arguments.length===2){a=Ext.Element.parseStyles(n);for(n in a){o.style[n.replace(r,i)]=a[n]}}else{o.style[n.replace(r,i)]=s}return true}}else{for(u=0;u<t.length;u++){if(e.updateRule(t[u],n,s)){return true}}}return false},deleteRule:function(n){var r=e.getRule(n,false,true),i,s;if(r){i=r.parentStyleSheet;s=Ext.Array.indexOf(i.cssRules||i.rules,r.cssRule);if(i.deleteRule){i.deleteRule(s)}else{i.removeRule(s)}delete t[n]}}}});Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",requires:["Ext.util.CSS"],alias:["layout.tableview"],type:"tableview",beginLayout:function(e){var t=this,n=t.owner.lockingPartner;t.callParent(arguments);if(n){t.lockedGrid=t.owner.up("[lockable]");t.lockedGrid.needsRowHeightSync=true;if(!e.lockingPartner){e.lockingPartner=e.context.getItem(n,n.el);if(e.lockingPartner&&!e.lockingPartner.lockingPartner){e.lockingPartner.lockingPartner=e}}}e.headerContext=e.context.getCmp(t.headerCt);if(t.owner.body.dom){e.bodyContext=e.getEl(t.owner.body)}},calculate:function(e){var t=this,n=t.lockingPartner,r=t.owner,i=0,s;if(!r.store.getCount()){e.state.columnWidthsSynced=true;if(e.bodyContext){e.bodyContext.setHeight(i,false)}e.setProp("contentHeight",i);t.callParent(arguments);return}if(e.headerContext.hasProp("columnsChanged")){if(e.headerContext.getProp("columnsChanged")&&!t.setColumnWidths(e)){t.done=false;return}e.state.columnWidthsSynced=true;if(e.bodyContext){s=t.owner.el.down("."+r.ownerCt.emptyCls,true);if(!s){i=e.bodyContext.el.dom.offsetHeight;e.bodyContext.setHeight(i,false)}else{i=s.offsetHeight}if(e.headerContext.state.boxPlan.tooNarrow&&e.ownerCtContext.sizeModel.height.shrinkWrap){i+=Ext.getScrollbarSize().height}e.setProp("contentHeight",i)}if(n&&!n.state.columnWidthsSynced){t.done=false}else{t.callParent(arguments)}}else{t.done=false}},measureContentHeight:function(e){var t=e.lockingPartner;if(!e.bodyContext||e.state.columnWidthsSynced&&(!t||t.state.columnWidthsSynced)){return this.callParent(arguments)}},setColumnWidths:function(e){if(!this.owner.body.dom){return true}var t=this,n=t.owner,r=e.context,i=e.headerContext.getProp("columnsChanged"),s=t.headerCt.getVisibleGridColumns(),o,u=0,a=i.length,f,l;if(r){r.currentLayout=t}for(u=0;u<a;u++){o=s[i[u]];f=r.getCmp(o);l=f.props.width;if(isNaN(l)){f.getProp("width");return false}n.body.select(n.getColumnSizerSelector(o)).setWidth(l)}return true},finishedLayout:function(e){var t=this,n=e.headerContext.props.contentWidth,r=Ext.fly(t.owner.getNodeContainer());t.callParent(arguments);r&&r.setWidth(n);if(t.owner.refreshCounter&&t.lockedGrid&&t.lockedGrid.syncRowHeight&&t.lockedGrid.needsRowHeightSync){t.lockedGrid.syncRowHeights();t.lockedGrid.needsRowHeightSync=false}}});Ext.define("Ext.view.NodeCache",{requires:["Ext.dom.CompositeElementLite"],statics:{range:document.createRange&&document.createRange()},constructor:function(e){this.view=e;this.clear();this.el=new Ext.dom.Fly},clear:function(e){var t=this,n=t.elements,r,i,s=t.statics().range;if(t.count&&e){if(s){s.setStartBefore(n[t.startIndex]);s.setEndAfter(n[t.endIndex]);s.deleteContents()}else{for(r in n){i=n[r];i.parentNode.removeChild(i)}}}t.elements={};t.count=t.startIndex=0;t.endIndex=-1},fill:function(e,t,n){n=n||0;var r=this,i=r.elements={},s,o=e.length-n;if(!t){t=0}for(s=0;s<o;s++){i[t+s]=e[s+n]}r.startIndex=t;r.endIndex=t+o-1;r.count=o;return this},insert:function(e,t){var n=this,r=n.elements,i,s=t.length;if(n.count){if(e>n.endIndex+1||e+t.length-1<n.startIndex){Ext.Error.raise("Discontiguous range would result from inserting "+t.length+" nodes at "+e)}if(e<n.count){for(i=n.endIndex+s;i>=e+s;i--){r[i]=r[i-s];r[i].setAttribute("data-recordIndex",i)}}n.endIndex=n.endIndex+s}else{n.startIndex=e;n.endIndex=e+s-1}for(i=0;i<s;i++,e++){r[e]=t[i];r[e].setAttribute("data-recordIndex",e)}n.count+=s},invoke:function(e,t){var n=this,r,i;e=Ext.dom.Element.prototype[e];for(i=n.startIndex;i<=n.endIndex;i++){r=n.item(i);if(r){e.apply(r,t)}}return n},item:function(e,t){var n=this.elements[e],r=null;if(n){r=t?this.elements[e]:this.el.attach(this.elements[e])}return r},first:function(e){return this.item(this.startIndex,e)},last:function(e){return this.item(this.endIndex,e)},getCount:function(){return this.count},slice:function(e,t){var n=this.elements,r=[],i;if(!t){t=this.endIndex}else{t=Math.min(this.endIndex,t-1)}for(i=e||this.startIndex;i<=t;i++){r.push(n[i])}return r},replaceElement:function(e,t,n){var r=this.elements,i=typeof e==="number"?e:this.indexOf(e);if(i>-1){t=Ext.getDom(t);if(n){e=r[i];e.parentNode.insertBefore(t,e);Ext.removeNode(e);t.setAttribute("data-recordIndex",i)}this.elements[i]=t}return this},indexOf:function(e){var t=this.elements,n;e=Ext.getDom(e);for(n=this.startIndex;n<=this.endIndex;n++){if(t[n]===e){return n}}return-1},removeRange:function(e,t,n){var r=this,i=r.elements,s,o,u,a;if(t==null){t=r.endIndex+1}else{t=Math.min(r.endIndex+1,t+1)}if(e==null){e=r.startIndex}u=t-e;for(o=e,a=t;o<=r.endIndex;o++,a++){if(n&&o<t){Ext.removeNode(i[o])}if(a<=r.endIndex){s=i[o]=i[a];s.setAttribute("data-recordIndex",o)}else{delete i[o]}}r.count-=u;r.endIndex-=u},removeElement:function(e,t){var n=this,r,i,s=n.elements,o,u,a=0,f,l;if(Ext.isArray(e)){r=e;e=[];u=r.length;for(a=0;a<u;a++){i=r[a];if(typeof i!=="number"){i=n.indexOf(i)}if(i>=n.startIndex&&i<=n.endIndex){e[e.length]=i}}Ext.Array.sort(e);u=e.length}else{if(e<n.startIndex||e>n.endIndex){return}u=1;e=[e]}for(f=l=e[0],a=0;f<=n.endIndex;f++,l++){if(a<u&&f===e[a]){l++;a++;if(t){Ext.removeNode(s[f])}}if(l<=n.endIndex&&l>=n.startIndex){o=s[f]=s[l];o.setAttribute("data-recordIndex",f)}else{delete s[f]}}n.endIndex-=u;n.count-=u},scroll:function(e,t,n){var r=this,i=r.view,s=i.store,o=r.elements,u=e.length,a,f,l,c,h=i.getNodeContainer(),p=document.createDocumentFragment(),d=i.hasListeners.itemremove,v=i.hasListeners.itemadd,m=r.statics().range;if(t===-1){if(n){if(m){m.setStartBefore(o[r.endIndex-n+1]);m.setEndAfter(o[r.endIndex]);m.deleteContents();for(a=r.endIndex-n+1;a<=r.endIndex;a++){f=o[a];delete o[a];if(d){i.fireEvent("itemremove",s.getByInternalId(f.getAttribute("data-recordId")),a,f,i)}}}else{for(a=r.endIndex-n+1;a<=r.endIndex;a++){f=o[a];delete o[a];f.parentNode.removeChild(f);if(d){i.fireEvent("itemremove",s.getByInternalId(f.getAttribute("data-recordId")),a,f,i)}}}r.endIndex-=n}if(e.length){c=i.bufferRender(e,r.startIndex-=u);for(a=0;a<u;a++){o[r.startIndex+a]=c[a];p.appendChild(c[a])}h.insertBefore(p,h.firstChild);if(v){i.fireEvent("itemadd",e,r.startIndex,c)}}}else{if(n){l=r.startIndex+n;if(m){m.setStartBefore(o[r.startIndex]);m.setEndAfter(o[l-1]);m.deleteContents();for(a=r.startIndex;a<l;a++){f=o[a];delete o[a];if(d){i.fireEvent("itemremove",s.getByInternalId(f.getAttribute("data-recordId")),a,f,i)}}}else{for(a=r.startIndex;a<l;a++){f=o[a];delete o[a];f.parentNode.removeChild(f);if(d){i.fireEvent("itemremove",s.getByInternalId(f.getAttribute("data-recordId")),a,f,i)}}}r.startIndex=l}c=i.bufferRender(e,r.endIndex+1);for(a=0;a<u;a++){o[r.endIndex+=1]=c[a];p.appendChild(c[a])}h.appendChild(p);if(v){i.fireEvent("itemadd",e,r.endIndex+1,c)}}r.count=r.endIndex-r.startIndex+1},sumHeights:function(){var e=0,t=this.elements,n;for(n=this.startIndex;n<=this.endIndex;n++){e+=t[n].offsetHeight}return e}},function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)});Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",requires:["Ext.grid.CellContext","Ext.view.TableLayout","Ext.view.NodeCache","Ext.util.DelayedTask","Ext.util.MixedCollection"],inheritableStatics:{events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","deselect","select","beforedeselect","beforeselect","selectionchange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand"]},componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",unselectableCls:Ext.baseCSSPrefix+"unselectable",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",itemCls:Ext.baseCSSPrefix+"grid-item",selectedItemCls:Ext.baseCSSPrefix+"grid-item-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-item-focused",overItemCls:Ext.baseCSSPrefix+"grid-item-over",altRowCls:Ext.baseCSSPrefix+"grid-item-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:true,positionCells:false,stripeOnUpdate:null,trackOver:true,focusable:false,getRowClass:null,stripeRows:true,markDirty:true,ariaRole:"grid",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="'+Ext.baseCSSPrefix+'grid-item-container" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellPadding="0" cellSpacing="0" {ariaTableAttr} style="width:100%;{itemStyle}">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}" {rowAttr:attributes} {ariaRowAttr}>','<tpl for="columns">'+"{%","parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {[Ext.aria ? "id=\\"" + Ext.id() + "\\"" : ""]} style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>" tabindex="-1" {ariaCellAttr} data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" {ariaCellInnerAttr}>{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:false,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(e){if(e.grid.isTree){e.baseCls=Ext.baseCSSPrefix+"tree-view"}this.callParent([e])},hasVariableRowHeight:function(e){var t=this;return t.variableRowHeight||t.store.isGrouped()||t.getVisibleColumnManager().hasVariableRowHeight()||!e&&t.lockingPartner&&t.lockingPartner.hasVariableRowHeight(true)},initComponent:function(){var e=this,t=e.scroll;if(e.columnLines){e.addCls(e.grid.colLinesCls)}if(e.rowLines){e.addCls(e.grid.rowLinesCls)}e.body=new Ext.dom.Fly;e.body.id=e.id+"gridBody";e.autoScroll=undefined;if(!e.trackOver){e.overItemCls=null}if(t===true||t==="both"){e.autoScroll=true}else if(t==="horizontal"){e.overflowX="auto"}else if(t==="vertical"){e.overflowY="auto"}e.selModel.view=e.headerCt.view=e;e.grid.view=e;e.initFeatures(e.grid);e.itemSelector=e.getItemSelector();e.all=new Ext.view.NodeCache(e);e.callParent()},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},beforeLayout:function(){var e=this,t=!e.firstRefreshDone&&e.headerCt.layout.running;e.callParent(arguments);if(t&&e.body.dom){e.headerCt.layout.injectViewContext(e.headerCt.layout.ownerContext,e)}},moveColumn:function(e,t,n){var r=this,i=n>1,s=i&&document.createRange?document.createRange():null,o=i&&!s?document.createDocumentFragment():null,u=t,a=r.getGridColumns().length,f=a-1,l=(r.firstCls||r.lastCls)&&(t===0||t===a||e===0||e===f),c,h,p,d,v,m,g;if(r.rendered&&t!==e){p=r.el.query(r.rowSelector);if(t>e&&o){u-=1}for(c=0,d=p.length;c<d;c++){v=p[c];m=v.childNodes;if(l){if(m.length===1){Ext.fly(m[0]).addCls(r.firstCls);Ext.fly(m[0]).addCls(r.lastCls);continue}if(e===0){Ext.fly(m[0]).removeCls(r.firstCls);Ext.fly(m[1]).addCls(r.firstCls)}else if(e===f){Ext.fly(m[f]).removeCls(r.lastCls);Ext.fly(m[f-1]).addCls(r.lastCls)}if(t===0){Ext.fly(m[0]).removeCls(r.firstCls);Ext.fly(m[e]).addCls(r.firstCls)}else if(t===a){Ext.fly(m[f]).removeCls(r.lastCls);Ext.fly(m[e]).addCls(r.lastCls)}}if(i){if(s){s.setStartBefore(m[e]);s.setEndAfter(m[e+n-1]);o=s.extractContents()}else{for(h=0;h<n;h++){o.appendChild(m[e])}}v.insertBefore(o,m[u]||null)}else{v.insertBefore(m[e],m[u]||null)}}g=r.el.query("colgroup");for(c=0,d=g.length;c<d;c++){v=g[c];if(i){if(s){s.setStartBefore(v.childNodes[e]);s.setEndAfter(v.childNodes[e+n-1]);o=s.extractContents()}else{for(h=0;h<n;h++){o.appendChild(v.childNodes[e])}}v.insertBefore(o,v.childNodes[u]||null)}else{v.insertBefore(v.childNodes[e],v.childNodes[u]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,n){this.mon(this,e,t,n,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(e){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(e)},getCell:function(e,t){var n=this.getRow(e);return Ext.fly(n).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;if(t){return t.get(e)}},findFeature:function(e){if(this.features){return Ext.Array.findBy(this.features,function(t){if(t.ftype===e){return true}})}},initFeatures:function(e){var t=this,n,r,i,s;t.tpl=Ext.XTemplate.getTpl(this,"tpl");t.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");t.addRowTpl(Ext.XTemplate.getTpl(this,"outerRowTpl"));t.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");t.featuresMC=new Ext.util.MixedCollection;r=t.features=t.constructFeatures();s=r?r.length:0;for(n=0;n<s;n++){i=r[n];i.view=t;i.grid=e;t.featuresMC.add(i);i.init(e)}},renderTHead:function(e,t,n){var r=e.view.headerFns,i,s;if(r){for(s=0,i=r.length;s<i;++s){r[s].call(this,e,t,n)}}},addHeaderFn:function(e){var t=this.headerFns;if(!t){t=this.headerFns=[]}t.push(e)},renderTFoot:function(e,t,n){var r=e.view.footerFns,i,s;if(r){for(s=0,i=r.length;s<i;++s){r[s].call(this,e,t,n)}}},addFooterFn:function(e){var t=this.footerFns;if(!t){t=this.footerFns=[]}t.push(e)},addTpl:function(e){return this.insertTpl("tpl",e)},addRowTpl:function(e){return this.insertTpl("rowTpl",e)},addCellTpl:function(e){return this.insertTpl("cellTpl",e)},insertTpl:function(e,t){var n=this,r,i;if(t.isTemplate){t=Ext.Object.chain(t)}else{t=new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",t)}for(r=n[e];t.priority<r.priority;r=r.nextTpl){i=r}if(i){i.nextTpl=t}else{n[e]=t}t.nextTpl=r;return t},tplApplyOut:function(e,t,n){if(this.before){if(this.before(e,t,n)===false){return}}this.nextTpl.applyOut(e,t,n);if(this.after){this.after(e,t,n)}},constructFeatures:function(){var e=this,t=e.features,n,r,i=0,s;if(t){r=[];s=t.length;for(;i<s;i++){n=t[i];if(!n.isFeature){n=Ext.create("feature."+n.ftype,n)}r[i]=n}}return r},beforeRender:function(){var e=this;e.callParent();if(!e.enableTextSelection){e.protoEl.unselectable()}},onBindStore:function(){var e=this;if(e.all&&e.all.getCount()){if(e.bufferedRenderer){e.bufferedRenderer.setBodyTop(0)}e.clearViewEl()}e.callParent(arguments)},onViewScroll:function(e,t){if(!this.ignoreScroll){this.callParent(arguments);this.fireEvent("bodyscroll",e,t)}},createRowElement:function(e,t,n){var r=this,i=r.renderBuffer,s=r.collectData([e],t);s.columns=n;r.tpl.overwrite(i,s);return Ext.fly(i).down(r.getNodeContainerSelector(),true).firstChild},bufferRender:function(e,t){var n=this,r=n.renderBuffer;n.tpl.overwrite(r,n.collectData(e,t));return Ext.Array.toArray(Ext.fly(r).down(n.getNodeContainerSelector(),true).childNodes)},collectData:function(e,t){var n=this;n.rowValues.view=n;n.tableValues.view=n;n.tableValues.rows=e;n.tableValues.columns=null;n.tableValues.viewStartIndex=t;n.tableValues.touchScroll=n.touchScroll;n.tableValues.tableStyle="width:"+n.headerCt.getTableWidth()+"px";return n.tableValues},collectNodes:function(e){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(e){var t=this,n=t.getBodySelector();if(n){t.body.attach(t.el.down(n,true))}if(!t.hasLoadingHeight){Ext.suspendLayouts();t.callParent(arguments);if(e||t.hasVariableRowHeight()&&t.dataSource.getCount()){t.grid.updateLayout()}Ext.resumeLayouts(true)}},clearViewEl:function(e){var t=this,n=t.all,r=t.getStore(),i,s,o,u;for(i=n.startIndex;i<=n.endIndex;i++){s=n.item(i,true);t.fireEvent("itemremove",r.getByInternalId(s.getAttribute("data-recordId")),i,s,t)}t.callParent();o=Ext.fly(t.getNodeContainer());if(o&&!e){u=t.getTargetEl();if(u.dom!==o.dom){o.destroy()}}},getMaskTarget:function(){var e=this.ownerCt;if(e.ownerLockable){e=e.ownerLockable}return e.getMaskTarget()},statics:{getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},getRecord:function(e){var t=this,n;if(t.store.isDestroyed){return}if(e.isModel){return e}e=t.getNode(e);if(e){if(!t.hasActiveFeature()){n=e.getAttribute("data-recordIndex");if(n){n=parseInt(n,10);if(n>-1){return t.store.data.getAt(n)}}}return t.dataSource.getByInternalId(e.getAttribute("data-recordId"))}},indexOf:function(e){e=this.getNode(e);if(!e&&e!==0){return-1}return this.all.indexOf(e)},indexInStore:function(e){return e?this.dataSource.indexOf(this.getRecord(e)):-1},renderRows:function(e,t,n,r){var i=this.rowValues,s=e.length,o;i.view=this;i.columns=t;for(o=0;o<s;o++,n++){i.itemClasses.length=i.rowClasses.length=0;this.renderRow(e[o],n,r)}i.view=i.columns=i.record=null},renderColumnSizer:function(e,t){var n=e.columns||this.getGridColumns(),r=n.length,i,s,o;t.push('<colgroup role="presentation">');for(i=0;i<r;i++){s=n[i];o=s.cellWidth?s.cellWidth:Ext.grid.header.Container.prototype.defaultWidth;t.push('<col role="presentation" class="',Ext.baseCSSPrefix,"grid-cell-",n[i].getItemId(),'" style="width:'+o+'px">')}t.push("</colgroup>")},renderRow:function(e,t,n){var r=this,i=t===-1,s=r.selModel,o=r.rowValues,u=o.itemClasses,a=o.rowClasses,f=r.itemCls,l,c=r.rowTpl;o.rowAttr={};o.record=e;o.recordId=e.internalId;o.recordIndex=r.store.indexOf(e);o.rowIndex=t;o.rowId=r.getRowId(e);o.itemCls=o.rowCls="";if(!o.columns){o.columns=r.ownerCt.getVisibleColumnManager().getColumns()}u.length=a.length=0;if(!i){u[0]=f;if(!r.ownerCt.disableSelection&&s.isRowSelected){if(s.isRowSelected(e)){u.push(r.selectedItemCls)}}if(r.stripeRows&&t%2!==0){u.push(r.altRowCls)}if(r.getRowClass){l=r.getRowClass(e,t,null,r.dataSource);if(l){a.push(l)}}}if(n){c.applyOut(o,n,r.tableValues)}else{return c.apply(o,r.tableValues)}},renderCell:function(e,t,n,r,i,s){var o=this,u,a=o.selModel,f=o.cellValues,l=f.classes,c=t.data[e.dataIndex],h=o.cellTpl,p,d;f.record=t;f.column=e;f.recordIndex=n;f.rowIndex=r;f.columnIndex=i;f.cellIndex=i;f.align=e.align;f.innerCls=e.innerCls;f.tdCls=f.tdStyle=f.tdAttr=f.style="";f.unselectableAttr=o.enableTextSelection?"":'unselectable="on"';l[1]=e.getCellId();d=2;if(e.renderer&&e.renderer.call){u=o.ownerCt.columnManager.getHeaderIndex(e);p=e.renderer.call(e.usingDefaultRenderer?e:e.scope||o.ownerCt,c,f,t,n,u,o.dataSource,o);if(f.css){t.cssWarning=true;f.tdCls+=" "+f.css;f.css=null}if(f.tdCls){l[d++]=f.tdCls}}else{p=c}f.value=p==null||p===""?e.emptyCellText:p;if(e.tdCls){l[d++]=e.tdCls}if(o.markDirty&&t.isModified(e.dataIndex)){l[d++]=o.dirtyCls}if(e.isFirstVisible){l[d++]=o.firstCls}if(e.isLastVisible){l[d++]=o.lastCls}if(!o.enableTextSelection){l[d++]=o.unselectableCls}if(a&&a.isCellModel&&a.isCellSelected(o,n,e)){l[d++]=o.selectedCellCls}l.length=d;f.tdCls=l.join(" ");h.applyOut(f,s);f.column=null},getRow:function(e){var t;if(!e&&e!==0||!this.rendered){return null}if(e.target){e=e.target}if(Ext.isString(e)){return Ext.fly(e).down(this.rowSelector,true)}if(Ext.isNumber(e)){t=this.all.item(e);return t&&t.down(this.rowSelector,true)}if(e.isModel){return this.getRowByRecord(e)}t=Ext.fly(e);if(t.is(this.itemSelector)){return this.getRowFromItem(t)}return t.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(e){return this.id+"-record-"+e.internalId},constructRowId:function(e){return this.id+"-record-"+e},getNodeById:function(e){e=this.constructRowId(e);return this.retrieveNode(e,false)},getRowById:function(e){e=this.constructRowId(e);return this.retrieveNode(e,true)},getNodeByRecord:function(e){return this.retrieveNode(this.getRowId(e),false)},getRowByRecord:function(e){return this.retrieveNode(this.getRowId(e),true)},getRowFromItem:function(e){var t=Ext.getDom(e).tBodies[0].childNodes,n=t.length,r;for(r=0;r<n;r++){if(Ext.fly(t[r]).is(this.rowSelector)){return t[r]}}},retrieveNode:function(e,t){var n=this.el.getById(e,true);if(t&&n){return Ext.fly(n).down(this.rowSelector,true)}return n},updateIndexes:Ext.emptyFn,bodySelector:"div."+Ext.baseCSSPrefix+"grid-item-container",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-item-container",itemSelector:"table."+Ext.baseCSSPrefix+"grid-item",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(e){var t=this.sizerSelector+"-"+e.getItemId();return"td"+t+",col"+t},getItemSelector:function(){return this.itemSelector},getCellSelector:function(e){return e?e.getCellSelector():this.cellSelector},getCellInnerSelector:function(e){return this.getCellSelector(e)+" "+this.innerSelector},addRowCls:function(e,t){var n=this.getRow(e);if(n){Ext.fly(n).addCls(t)}},removeRowCls:function(e,t){var n=this.getRow(e);if(n){Ext.fly(n).removeCls(t)}},onRowSelect:function(e){var t=this;t.addItemCls(e,t.selectedItemCls);if(Ext.isIE8){t.repaintBorder(e+1)}},onRowDeselect:function(e){var t=this;t.removeItemCls(e,t.selectedItemCls);if(Ext.isIE8){t.repaintBorder(e+1)}},onCellSelect:function(e){var t=this.getCellByPosition(e);if(t){t.addCls(this.selectedCellCls)}},onCellDeselect:function(e){var t=this.getCellByPosition(e,true);if(t){Ext.fly(t).removeCls(this.selectedCellCls)}},getCellInclusive:function(e,t){if(e){var n=this.getRow(e.row),r=this.ownerCt.getColumnManager().getHeaderAtIndex(e.column);if(r&&n){return Ext.fly(n).down(this.getCellSelector(r),t)}}return false},getCellByPosition:function(e,t){if(e){var n=e.view||this,r=n.getRow(e.record||e.row),i=e.column.isColumn?e.column:n.getVisibleColumnManager().getHeaderAtIndex(e.column);if(i&&r){return Ext.fly(r).down(n.getCellSelector(i),t)}}return false},onRowFocus:function(e,t,n){var r=this;if(t){r.addItemCls(e,r.focusedItemCls);if(!n){r.focusRow(e)}}else{r.removeItemCls(e,r.focusedItemCls)}if(Ext.isIE8){r.repaintBorder(e+1)}},focusRow:function(e,t){var n=this,r=n.getFocusTask();if(t){r.delay(Ext.isNumber(t)?t:10,n.focusRow,n,[e,false]);return}r.cancel();if(n.isVisible(true)){n.getNavigationModel().setPosition(n.getRecord(e))}},focusNode:function(e,t){this.focusRow(e,t)},scrollRowIntoView:function(e,t){e=this.getRow(e);if(e){this.scrollElIntoView(e,false,t)}},focusCell:function(e,t){var n=this,r,i=n.getFocusTask();if(t){i.delay(Ext.isNumber(t)?t:10,n.focusCell,n,[e,false]);return}i.cancel();if(n.isVisible(true)&&(r=n.getCellByPosition(e))){n.getNavigationModel().setPosition(e)}},getLastFocused:function(){var e=this,t=e.lastFocused;if(t&&t.record&&t.column){if(e.dataSource.indexOf(t.record)!==-1&&e.getVisibleColumnManager().indexOf(t.column)!==-1){return t}}},scrollCellIntoView:function(e,t){if(e.isCellContext){e=this.getCellByPosition(e)}if(e){this.scrollElIntoView(e,null,t)}},scrollElIntoView:function(e,t,n){var r=this,i=r.scrollManager;if(i){i.scrollIntoView(e,t,n)}else{Ext.fly(e).scrollIntoView(r.el,t,n)}},syncRowHeights:function(e,t){e.style.height=t.style.height="";var n=this,r=n.rowTpl,i=e.offsetHeight,s=t.offsetHeight;if(i!==s){while(r){if(r.syncRowHeights){if(r.syncRowHeights(e,t)===false){break}}r=r.nextTpl}i=e.offsetHeight;s=t.offsetHeight;if(i!==s){e=Ext.fly(e).down(n.rowSelector,true)||e;t=Ext.fly(t).down(n.rowSelector,true)||t;if(e&&t){e.style.height=t.style.height="";i=e.offsetHeight;s=t.offsetHeight;if(i>s){Ext.fly(e).setHeight(i);Ext.fly(t).setHeight(i)}else if(s>i){Ext.fly(e).setHeight(s);Ext.fly(t).setHeight(s)}}}}},handleUpdate:function(e,t,n,r){var i=this,s=i.rowTpl,o,u,a,f,l,c,h,p,d,v,m,g,y,b=[],w,E,S=i.variableRowHeight,x,T=0,N,C,k,L,A,O=i.ownerCt;if(i.viewReady){u=i.getNodeByRecord(t);if(u){d=i.overItemCls;v=i.focusedItemCls;m=i.selectedItemCls;g=i.ownerCt.getVisibleColumnManager().getColumns();for(E=0,w=g.length;E<w;E++){y=g[E];x=i.shouldUpdateCell(t,y,r);if(x){T=T|x;b[b.length]=y;S=S||y.variableRowHeight}}if(!i.getRowFromItem(u)||T&1||u.tBodies[0].childNodes.length>1){o=Ext.fly(u,"_internal");f=i.createRowElement(t,i.dataSource.indexOf(t),b);if(o.hasCls(d)){Ext.fly(f).addCls(d)}if(o.hasCls(v)){Ext.fly(f).addCls(v)}if(o.hasCls(m)){Ext.fly(f).addCls(m)}if(Ext.isIE9m&&u.mergeAttributes){u.mergeAttributes(f,true)}else{l=f.attributes;c=l.length;for(p=0;p<c;p++){h=l[p].name;if(h!=="id"){u.setAttribute(h,l[p].value)}}}if(g.length&&(a=i.getRow(u))){i.updateColumns(a,Ext.fly(f).down(i.rowSelector,true),b)}while(s){if(s.syncContent){if(s.syncContent(u,f,r?b:null)===false){break}}s=s.nextTpl}}else{if(!i.cellFly){i.cellFly=new Ext.dom.Fly}for(E=0,w=b.length;E<w;E++){y=b[E];C=y.dataIndex;k=t.get(C);N=u.firstChild.firstChild.childNodes[y.getVisibleIndex()];if(i.markDirty){i.cellFly.attach(N);if(t.isModified(y.dataIndex)){i.cellFly.addCls(i.dirtyCls)}else{i.cellFly.removeCls(i.dirtyCls)}}L=y.usingDefaultRenderer;A=L?y:y.scope;if(y.updater){Ext.callback(y.updater,A,[N,k,t,i,i.dataSource],0,y,O)}else{if(y.renderer){k=Ext.callback(y.renderer,A,[k,null,t,0,0,i.dataSource,i],0,y,O)}if(y.producesHTML){N.childNodes[0].innerHTML=k}else{N.childNodes[0].childNodes[0].data=k}}if(i.highlightClass){Ext.fly(N).addCls(i.highlightClass);if(!i.changedCells){i.self.prototype.changedCells=[];i.prototype.clearChangedTask=new Ext.util.DelayedTask(i.clearChangedCells,i.prototype);i.clearChangedTask.delay(i.unhighlightDelay)}i.changedCells.push({cell:N,cls:i.highlightClass,expires:Ext.Date.now()+1e3})}}}if(S){Ext.suspendLayouts()}i.fireEvent("itemupdate",t,i.store.indexOf(t),u);if(S){i.refreshSize();Ext.resumeLayouts(true)}}}},clearChangedCells:function(){var e=this,t=Ext.Date.now(),n;for(var r=0,i=e.changedCells.length;r<i;){n=e.changedCells[r];if(n.expires<=t){Ext.fly(n.cell).removeCls(n.highlightClass);Ext.Array.erase(e.changedCells,r,1);i--}else{break}}if(i){e.clearChangedTask.delay(e.unhighlightDelay)}},updateColumns:function(e,t,n){var r=this,i,s,o,u,a=n.length,f,l,c,h,p=r.getCellSelector();if(e.mergeAttributes){e.mergeAttributes(t,true)}else{i=t.attributes;s=i.length;for(u=0;u<s;u++){o=i[u].name;if(o!=="id"){e.setAttribute(o,i[u].value)}}}for(f=0;f<a;f++){l=n[f];p=r.getCellSelector(l);c=Ext.fly(e).selectNode(p);h=Ext.fly(t).selectNode(p);Ext.fly(c).syncContent(h)}},shouldUpdateCell:function(e,t,n){if(!t.preventUpdate){if(t.hasCustomRenderer){return 1}if(n){var r=n.length,i,s;for(i=0;i<r;++i){s=n[i];if(s===t.dataIndex||s===e.idProperty){return 2}}}else{return 2}}return 0},refresh:function(){var e=this,t,n=e.grid.containsFocus,r=e.getNavigationModel();e.callParent(arguments);if(n){r.setPosition(r.getLastFocused(),null,null,null,true)}e.headerCt.setSortState();if(e.touchScroll&&e.el&&!e.all.getCount()&&e.headerCt&&e.headerCt.tooNarrow){t=e.scrollManager.scroller.getSize();t.x=e.headerCt.getTableWidth();e.scrollManager.scroller.setSize(t);e.scrollManager.refresh()}},processItemEvent:function(e,t,n,r){var i=this,s=i.self,o=s.EventMap,u=r.type,a,f,l,c=i.features,h=c.length,p,d,v,m,g,y=i.getNavigationModel(),b,w=r.position=i.eventPosition||(i.eventPosition=new Ext.grid.CellContext);if(Ext.isIE&&u==="mouseup"&&!r.within(i.el)){return false}if(i.indexInStore(t)!==-1){a=w.rowElement=Ext.fly(t).down(i.rowSelector,true);if(Ext.String.startsWith(r.type,"key")&&(b=y.getPosition())){f=(f=y.getCell())&&f.dom;g=b.column}if(!f){f=r.getTarget(i.getCellSelector(),a)}u=s.TouchEventMap[u]||u;if(f){if(!f.parentNode){return false}if(!g){g=i.getHeaderByCell(f)}d=i.ownerCt.getColumnManager().getHeaderIndex(g)}else{d=-1}w.setAll(i,n,g?i.getVisibleColumnManager().getHeaderIndex(g):-1,e,g);w.cellElement=f;v=i.fireEvent("uievent",u,i,f,n,d,r,e,a);if(v===false||i.callParent(arguments)===false){l=i.getSelectionModel();if(l.onVetoUIEvent){l.onVetoUIEvent(u,i,f,n,d,r,e,a)}return false}for(p=0;p<h;++p){m=c[p];if(m.wrapsItem){if(m.vetoEvent(e,a,n,r)===false){i.processSpecialEvent(r);return false}}}if(f&&u!=="mouseover"&&u!=="mouseout"){v=!(i["onBeforeCell"+o[u]](f,d,e,a,n,r)===false||i.fireEvent("beforecell"+u,i,f,d,e,a,n,r)===false||i["onCell"+o[u]](f,d,e,a,n,r)===false||i.fireEvent("cell"+u,i,f,d,e,a,n,r)===false)}if(v!==false){v=i.fireEvent("row"+u,i,e,a,n,r)}return v}else{this.processSpecialEvent(r);return false}},processSpecialEvent:function(e){var t=this,n=t.features,r=n.length,i=e.type,s,o,u,a,f,l,c=t.ownerCt;t.callParent(arguments);if(i=="mouseover"||i=="mouseout"){return}i=t.self.TouchEventMap[i]||i;for(s=0;s<r;s++){o=n[s];if(o.hasFeatureEvent){a=e.getTarget(o.eventSelector,t.getTargetEl());if(a){u=o.eventPrefix;f=o.getFireEventArgs("before"+u+i,t,a,e);l=o.getFireEventArgs(u+i,t,a,e);if(t.fireEvent.apply(t,f)===false||c.fireEvent.apply(c,f)===false||t.fireEvent.apply(t,l)===false||c.fireEvent.apply(c,l)===false){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(e){this.autoSizeColumn(e)},autoSizeColumn:function(e){if(Ext.isNumber(e)){e=this.getGridColumns[e]}if(e){if(e.isGroupHeader){e.autoSize();return}delete e.flex;e.setWidth(this.getMaxContentWidth(e))}},getMaxContentWidth:function(e){var t=this,n=t.el.query(e.getCellInnerSelector()),r=e.getWidth(),i=0,s=n.length,o=t.body.select(t.getColumnSizerSelector(e)),u=Math.max,a=0,f;if(s>0){if(Ext.supports.ScrollWidthInlinePaddingBug){a+=t.getCellPaddingAfter(n[0])}if(t.columnLines){a+=Ext.fly(n[0].parentNode).getBorderWidth("lr")}}o.setWidth(1);e.titleEl.setStyle("text-overflow","clip");f=e.textEl.dom.offsetWidth+e.titleEl.getPadding("lr");e.titleEl.setStyle("text-overflow","");for(;i<s;i++){f=u(f,n[i].scrollWidth)}f+=a;f=u(f,40);o.setWidth(r);return f},getPositionByEvent:function(e){var t=this,n=e.getTarget(t.cellSelector),r=e.getTarget(t.itemSelector),i=t.getRecord(r),s=t.getHeaderByCell(n);return t.getPosition(i,s)},getHeaderByCell:function(e){if(e){return this.ownerCt.getVisibleColumnManager().getHeaderById(e.getAttribute("data-columnId"))}return false},walkCells:function(e,t,n,r,i,s){if(!e){return false}var o=this,u=typeof e.row==="number"?e.row:e.rowIdx,a=typeof e.column==="number"?e.column:e.colIdx,f=o.dataSource.getCount(),l=o.ownerCt.getVisibleColumnManager(),c=l.getHeaderIndex(l.getFirst()),h=l.getHeaderIndex(l.getLast()),p=u,d=a,v=l.getHeaderAtIndex(a);if(!v||v.hidden||!f){return false}n=n||{};t=t.toLowerCase();switch(t){case"right":if(a===h){if(r||u===f-1){return false}if(!n.ctrlKey){p=o.walkRows(u,1);if(p!==u){d=c}}}else{if(!n.ctrlKey){d=l.getHeaderIndex(l.getNextSibling(v))}else{d=h}}break;case"left":if(a===c){if(r||u===0){return false}if(!n.ctrlKey){p=o.walkRows(u,-1);if(p!==u){d=h}}}else{if(!n.ctrlKey){d=l.getHeaderIndex(l.getPreviousSibling(v))}else{d=c}}break;case"up":if(u===0){return false}else{if(!n.ctrlKey){p=o.walkRows(u,-1)}else{p=o.walkRows(-1,1)}}break;case"down":if(u===f-1){return false}else{if(!n.ctrlKey){p=o.walkRows(u,1)}else{p=o.walkRows(f,-1)}}break}if(i&&i.call(s||o,{row:p,column:d})!==true){return false}d=l.getHeaderAtIndex(d);return(new Ext.grid.CellContext(o)).setPosition(p,d)},walkRows:function(e,t){var n=this,r=n.dataSource,i=0,s=e,o,u=t<0?0:(r.isBufferedStore?r.getTotalCount():r.getCount())-1,a=u?1:-1,f=e;do{if(u?f>=u:f<=u){return s||u}f+=a;if((o=Ext.fly(n.getRow(f)))&&o.isVisible(true)){i+=a;s=f}}while(i!==t);return f},walkRecs:function(e,t){var n=this,r=n.dataSource,i=0,s=e,o,u=t<0?0:(r.isBufferedStore?r.getTotalCount():r.getCount())-1,a=u?1:-1,f=r.indexOf(e),l;do{if(u?f>=u:f<=u){return s}f+=a;l=r.getAt(f);if(!l.isCollapsedPlaceholder&&(o=Ext.fly(n.getNodeByRecord(l)))&&o.isVisible(true)){i+=a;s=l}}while(i!==t);return s},getFirstVisibleRowIndex:function(){var e=this,t=e.dataSource.isBufferedStore?e.dataSource.getTotalCount():e.dataSource.getCount(),n=e.indexOf(e.all.first())-1;do{n+=1;if(n===t){return}}while(!Ext.fly(e.getRow(n)).isVisible(true));return n},getLastVisibleRowIndex:function(){var e=this,t=e.indexOf(e.all.last());do{t-=1;if(t===-1){return}}while(!Ext.fly(e.getRow(t)).isVisible(true));return t},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){return(new Ext.grid.CellContext(this)).setPosition(e,t)},beforeDestroy:function(){var e=this;if(e.rendered){e.el.clearListeners()}e.callParent(arguments)},onDestroy:function(){var e=this,t=e.featuresMC,n,r;if(t){for(r=0,n=t.getCount();r<n;++r){t.getAt(r).destroy()}}e.featuresMC=null;this.callParent(arguments)},onReplace:function(e,t,n,r){var i=this,s=i.bufferedRenderer;if(i.rendered&&s){s.onReplace(e,t,n,r)}else{i.callParent(arguments);i.doStripeRows(t)}},onAdd:function(e,t,n){var r=this,i=r.bufferedRenderer;if(r.rendered&&i){i.onReplace(e,n,[],t)}else{r.callParent(arguments);r.setPendingStripe(n)}},onRemove:function(e,t,n){var r=this,i=r.bufferedRenderer;if(r.rendered&&i){i.onReplace(e,n,t,[])}else{r.callParent(arguments);r.setPendingStripe(n)}},onDataRefresh:function(){var e=this,t=e.ownerCt;if(t&&t.isCollapsingOrExpanding===2){t.on("expand",e.onDataRefresh,e,{single:true});return}if(e.bufferedRenderer){e.all.clear();e.bufferedRenderer.onStoreClear()}e.callParent()},getViewRange:function(){var e=this;if(e.bufferedRenderer){return e.bufferedRenderer.getViewRange()}return e.callParent()},setPendingStripe:function(e){var t=this.stripeOnUpdate;if(t===null){t=e}else{t=Math.min(t,e)}this.stripeOnUpdate=t},onEndUpdate:function(){var e=this,t=e.stripeOnUpdate;if(t||t===0){e.doStripeRows(t);e.stripeOnUpdate=null}e.callParent(arguments)},doStripeRows:function(e,t){var n=this,r,i,s,o;if(n.rendered&&n.stripeRows){r=n.getNodes(e,t);for(s=0,i=r.length;s<i;s++){o=r[s];o.className=o.className.replace(n.rowClsRe," ");e++;if(e%2===0){o.className+=" "+n.altRowCls}}}},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(e){return Ext.fly(e).getPadding("r")},privates:{refreshScroll:function(){var e=this,t=e.bufferedRenderer;if(t){t.stretchView(e,t.getScrollHeight(true))}else{e.callParent()}}}});Ext.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",autoScroll:true});Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:false,rowLines:true});Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(e,t){return this.filterBy(function(n){return n.name==e&&n.getFormId()==t})}});Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],stretchInputElFixed:false,childEls:["boxLabelEl"],fieldSubTpl:['<div class="{wrapInnerCls} {noBoxLabelCls}" role="presentation">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" data-ref="inputEl" role="{role}" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}" autocomplete="off" hidefocus="true" />','<tpl if="boxLabel && !labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:true,compiled:true}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",afterLabelCls:Ext.baseCSSPrefix+"form-cb-after",wrapInnerCls:Ext.baseCSSPrefix+"form-cb-wrap-inner",noBoxLabelCls:Ext.baseCSSPrefix+"form-cb-wrap-inner-no-box-label",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",isTextInput:false,ariaRole:"checkbox",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){var e=this,t=e.value;if(t!==undefined){e.checked=e.isChecked(t,e.inputValue)}e.callParent(arguments);e.getManager().add(e)},initValue:function(){var e=this,t=!!e.checked;e.originalValue=e.lastValue=t;e.setValue(t)},getElConfig:function(){var e=this;if(e.isChecked(e.rawValue,e.inputValue)){e.addCls(e.checkedCls)}return e.callParent()},getSubTplData:function(e){var t=this,n=t.boxLabel,r=t.boxLabelAlign,i=n&&r==="before";return Ext.apply(t.callParent(arguments),{disabled:t.readOnly||t.disabled,wrapInnerCls:t.wrapInnerCls,boxLabel:n,boxLabelCls:t.boxLabelCls,boxLabelAlign:r,labelAlignedBefore:i,afterLabelCls:i?t.afterLabelCls:"",noBoxLabelCls:!n?t.noBoxLabelCls:"",role:t.ariaRole})},initEvents:function(){var e=this;e.callParent();e.mon(e.inputEl,"click",e.onBoxClick,e,{translate:false})},setBoxLabel:function(e){var t=this;t.boxLabel=e;if(t.rendered){t.boxLabelEl.setHtml(e)}},onBoxClick:function(){var e=this;if(!e.disabled&&!e.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var e=this.uncheckedValue,t=Ext.isDefined(e)?e:null;return this.checked?this.inputValue:t},isChecked:function(e,t){return e===true||e==="true"||e==="1"||e===1||((Ext.isString(e)||Ext.isNumber(e))&&t?e==t:this.onRe.test(e))},setRawValue:function(e){var t=this,n=t.inputEl,r=t.isChecked(e,t.inputValue);if(n){t[r?"addCls":"removeCls"](t.checkedCls)}t.checked=t.rawValue=r;if(!t.duringSetValue){t.lastValue=r}return r},setValue:function(e){var t=this,n,r,i,s;if(Ext.isArray(e)){n=t.getManager().getByName(t.name,t.getFormId()).items;i=n.length;for(r=0;r<i;++r){s=n[r];s.setValue(Ext.Array.contains(e,s.inputValue))}}else{t.duringSetValue=true;t.callParent(arguments);delete t.duringSetValue}return t},valueToRaw:Ext.identityFn,onChange:function(e,t){var n=this,r=n.handler;Ext.callback(n.handler,n.scope,[n,e],0,n);n.callParent(arguments);if(n.reference&&n.publishState){n.publishState("checked",e)}},resetOriginalValue:function(e){var t=this,n,r,i,s;if(!e){n=t.getManager().getByName(t.name,t.getFormId()).items;i=n.length;for(s=0;s<i;++s){r=n[s];if(r!==t){n[s].resetOriginalValue(true)}}}t.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this,t=e.inputEl;e.callParent();if(t){t.dom.disabled=e.readOnly}},setReadOnly:function(e){var t=this,n=t.inputEl;if(n){n.dom.disabled=!!e||t.disabled}t.callParent(arguments)},getFormId:function(){var e=this,t;if(!e.formId){t=e.up("form");if(t){e.formId=t.id}}return e.formId}});Ext.define("Ext.app.bindinspector.Util",{singleton:true,getChildStub:function(e,t){var n,r;if(t){r=t.children;if(r){n=r[e]}}return n||null},valueRenderer:function(e){var t;if(e===undefined){return"undefined"}else if(e===null){return"null"}else if(Ext.isString(e)){return e}else if(Ext.isDate(e)){return Ext.Date.format(e,"c")}else if(e&&e.isModel){t=e.entityName;return Ext.String.format("Model({0}, {1})",t.replace("noconflict.",""),e.getId())}else if(e&&e.isStore){t=e.entityName||"Anonymous";return"Store{"+t.replace("noconflict.","")+"}"}return e},buildBindData:function(e){var t=[],n,r;for(n in e){r=e[n];t.push({key:n,descriptor:r.descriptor,tokens:r.tokens,value:r.value,binding:r})}return t}});Ext.define("Ext.app.bindinspector.ComponentDetail",{extend:"Ext.panel.Panel",alias:"widget.bindinspector-componentdetail",requires:["Ext.form.field.Display","Ext.grid.Panel","Ext.layout.container.VBox","Ext.form.field.Checkbox","Ext.app.bindinspector.Util"],layout:"border",activeCls:Ext.baseCSSPrefix+"bindinspector-stub-active",descriptorCls:Ext.baseCSSPrefix+"bindinspector-descriptor",multipleCls:Ext.baseCSSPrefix+"bindinspector-mult-val",directCls:Ext.baseCSSPrefix+"bindinspector-direct-val",inheritedCls:Ext.baseCSSPrefix+"bindinspector-inherited-val",componentKeyCls:Ext.baseCSSPrefix+"bindinspector-comp-key",componentDescCls:Ext.baseCSSPrefix+"bindinspector-comp-desc",componentValCls:Ext.baseCSSPrefix+"bindinspector-comp-val",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",vmPreviewDefault:{xtype:"container",region:"east",split:true,width:"50%",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with a ViewModel (or inherited ViewModel) from the ComponentList to view the ViewModel details"}]},initComponent:function(){var e=this,t=e.up("bindinspector-container"),n=e.component||{},r=e.env,i=n.publishes,s=n.bindings,o="Bindings &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;",u=r.getInheritedVM(n),a,f;e.bindingsPreviewDefault={xtype:"panel",border:false,region:"center",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",bodyPadding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}],dockedItems:[{xtype:"toolbar",dock:"top",defaultButtonUI:"default",items:["->",{text:"Open in dedicated tab",handler:function(e){e.up("bindinspector-container").onComponentDblclick(null,n)}}]}]};if(n.reference){o+="["+n.reference+"] &bull; "}a=n.bindData||Ext.app.bindinspector.Util.buildBindData(s);if(i){f=[{xtype:"component",html:'Publishes: &nbsp;&nbsp;<span style="color: #5C5C5C;font-size: 14px;line-height: 14px;">'+Ext.Object.getKeys(i).join(" &bull; ")+"</span>"}]}e.bindingsGrid={xtype:"gridpanel",title:o+=n.id,header:{items:[{xtype:"button",text:"Open in dedicated tab",ui:"default-toolbar",handler:function(e){e.up("bindinspector-container").onComponentDblclick(null,n)}}]},region:"center",cls:Ext.baseCSSPrefix+"bindinspector-compdetail-grid",flex:1,hideHeaders:true,store:{model:e.BindingModel,data:a},columns:[{flex:1,scope:e,renderer:e.bindingRenderer}],tbar:f,bbar:[{xtype:"checkboxfield",itemId:"highlightToggle",boxLabel:"Highlight VM target nodes on binding selection",checked:true,listeners:{scope:e,change:e.onHighlightChange}}],viewConfig:{stripeRows:false,trackOver:false,getRowClass:function(t,n,r,i){var s=[];if(n===i.getCount()-1){s.push(e.lastItemCls)}return s.join(" ")}},listeners:{scope:e,cellclick:e.onCellClick,selectionchange:e.onSelectionChange}};e.viewModelTree={xtype:"bindinspector-viewmodeldetail",itemId:"vm-"+u.id,vm:u,region:"east",split:true,width:"50%",height:"50%"};e.items=[];e.items.push(s?e.bindingsGrid:e.bindingsPreviewDefault);e.items.push(u?e.viewModelTree:e.vmPreviewDefault);e.callParent(arguments)},bindingRenderer:function(e,t,n){var r=this,i=n.get("binding"),s=n.get("key"),o=r.descriptorRenderer(n.get("descriptor"),t,n),u=Ext.app.bindinspector.Util.valueRenderer(n.get("value")),a="",f="Direct";if(Ext.isEmpty(u)||u==="null"){u="<i>No value found</i>"}s='<span class="'+r.componentKeyCls+'">'+s+": </span>";o='<span class="'+r.componentDescCls+'">'+o+"</span>";u='<span class="'+r.componentValCls+'">'+u+"</span>";if(i.isTemplateBinding){f="Template"}else if(i.isMultiBinding){f="Multi"}f=Ext.util.Format.format('<div data-qtip="Binding Type" data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" class="'+Ext.baseCSSPrefix+'bindinspector-bind-type">{0}</div>',f);return s+o+"<br>"+u+f},onHighlightChange:function(e){var t=this.down("bindinspector-viewmodeldetail"),n=this.down("gridpanel"),r=n.getSelectionModel();if(!e.checked){this.onSelectionChange(r,null,true)}else{this.onSelectionChange(r,r.getSelection())}},onSelectionChange:function(e,t,n){var r=this.down("bindinspector-viewmodeldetail"),i=r.getStore(),s,o,u,i,a,f,l;if(t&&t.length===0||n===true){i.suspendEvents();r.getStore().getRootNode().cascadeBy({before:function(e){e.set("highlighted",false)}});i.resumeEvents();r.getView().refresh();return}t=t[0];s=t.get("tokens");o=t.get("binding");u=this.down("#highlightToggle").checked;i=r.getStore();a=i.getRootNode();f=[];if(s&&u){if(o.isTemplateBinding){Ext.Array.forEach(s,function(e){f.push(a.findChild("name",e[0]))},this)}else if(o.isMultiBinding){}else{f.push(a.findChild("name",s[0]))}}i.suspendEvents();a.cascadeBy({before:function(e){l=f.length===0;Ext.Array.forEach(f,function(t){if(e===t||e.isAncestor(t)){l=true}});e.set("highlighted",l||-1)}});i.resumeEvents();r.getView().refresh();r.getSelectionModel().select(f[0])},onCellClick:function(e,t,n,r,i,s,o){var u=o.getTarget("."+this.activeCls),a;if(u){a=u.getAttribute("data-path");this.showPath(a)}},showPath:function(e){this.selectPath(this.down("bindinspector-viewmodeldetail"),e)},selectPath:function(e,t){var n=e.getRootNode(),r=t.split("."),i=r.length,s;for(s=0;n&&s<i;++s){n=this.getChildByKey(n,r[s])}if(n){e.getSelectionModel().select(n)}},getChildByKey:function(e,t){var n=e.childNodes;if(n){return Ext.Array.findBy(n,function(e){return e.get("name")===t})}return null},descriptorRenderer:function(e,t,n){var r=n.get("binding"),i=n.get("descriptor"),s=n.get("tokens");e=e||"";if(r.isTemplateBinding){Ext.Array.forEach(s,function(t){var n=new RegExp("{"+t.join("\\.")+"}","g");e=e.replace(n,this.parseTokens(t))},this)}else if(r.isMultiBinding){}else{return e.replace(i,this.parseTokens(s))}return Ext.String.htmlEncode(e)},parseTokens:function(e){var t=this,n=[],r=t.env.getInheritedVM(t.component),i="",s=r.rootStub,o=false,u=false,a="",f="",l="",c,h,p;e=e||[];Ext.Array.forEach(e,function(e){var r=Ext.app.bindinspector.Util.getChildStub(e,s),o="",u;if(r){u=r.value;if(u!==undefined){o=t.activeCls}}else{}n.push('<span data-path="'+i+e+'" class="stub '+o+'">'+e+"</span>");i+=e+".";s=r},t);if(e[0]){l=e[0];ownerVMs=r.dataMap[e[0]].ownerVMs;h=ownerVMs.length;Ext.Array.forEach(ownerVMs,function(e){if(e.id===r.id){o=true}if(e.id!==r.id){u=true}})}if(o&&u){a+=" "+t.multipleCls;p=h>1?"VMs":"VM";f='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+l+"</b>&nbsp; provided by this VM and "+(h-1)+" ancestor "+p+'"'}else if(o){a+=" "+t.directCls;f='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+l+'</b>&nbsp; is provided by this VM"'}else if(u){a+=" "+t.inheritedCls;p=h>1?"VMs":"VM";f='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+l+"</b>&nbsp; is provided by "+h+" ancestor "+p+'"'}return"<span "+f+'class="'+t.descriptorCls+a+'">{'+n.join(".")+"}</span>"}},function(){this.prototype.BindingModel=Ext.define(null,{extend:"Ext.data.Model",fields:["key","descriptor","tokens","value","binding"]})});Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],isTreeView:true,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",ariaRole:"tree",loadMask:false,rootVisible:true,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,stripeRows:false,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(e){var t=e.record,n=e.view;e.rowAttr["data-qtip"]=t.get("qtip")||"";e.rowAttr["data-qtitle"]=t.get("qtitle")||"";if(t.isExpanded()){e.rowClasses.push(n.expandedCls)}if(t.isLeaf()){e.rowClasses.push(n.leafCls)}if(t.isLoading()){e.rowClasses.push(n.loadingCls)}}}],initComponent:function(){var e=this;if(e.bufferedRenderer){e.animate=false}else if(e.initialConfig.animate===undefined){e.animate=Ext.enableFx}e.store=e.panel.getStore();e.onRootChange(e.store.getRoot());e.animQueue={};e.animWraps={};e.callParent(arguments);e.store.setRootVisible(e.rootVisible);e.addRowTpl(Ext.XTemplate.getTpl(e,"treeRowTpl"))},onFillComplete:function(e,t,n){var r=this,i=r.store,s=i.indexOf(n[0]);t.triggerUIUpdate();if(!n.length||s===-1){return}r.onAdd(r.store,n,s);r.refreshPartner()},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(e){if(e.isStore){this.store.resumeEvents();this.refresh();this.refreshPartner()}},refreshPartner:function(){var e=this.lockingPartner;if(e){e.refresh()}},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var e=this;e.callParent(arguments);e.el.on({scope:e,delegate:e.expanderSelector,mouseover:e.onExpanderMouseOver,mouseout:e.onExpanderMouseOut,click:{delegate:e.checkboxSelector,fn:e.onCheckboxChange,scope:e}})},afterComponentLayout:function(){var e=this,t=e.stretcher,n=e.scrollManager;e.callParent(arguments);if(t){t.setWidth(this.getWidth()-Ext.getScrollbarSize().width)}if(n){n.refresh()}},processUIEvent:function(e){if(e.getTarget("."+this.nodeAnimWrapCls,this.el)){return false}return this.callParent(arguments)},setRootNode:function(e,t){if(!t){this.store.setNode(e)}this.node=e},onCheckboxChange:function(e,t){var n=this,r=e.getTarget(n.getItemSelector(),n.getTargetEl());if(r){n.onCheckChange(n.getRecord(r))}},onCheckChange:function(e){var t=e.get("checked");if(Ext.isBoolean(t)){t=!t;e.set("checked",t);this.fireEvent("checkchange",e,t)}},getChecked:function(){var e=[];this.node.cascadeBy(function(t){if(t.get("checked")){e.push(t)}});return e},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e,t){var n=this,r=n.getNode(e),i;i=Ext.fly(r).insertSibling({role:"presentation",tag:"div",cls:n.nodeAnimWrapCls},"after");return{record:e,node:r,el:i,expanding:false,collapsing:false,animateEl:i,targetEl:i}},getAnimWrap:function(e,t){if(!this.animate){return null}var n=this.animWraps,r=n[e.internalId];if(t!==false){while(!r&&e){e=e.parentNode;if(e){r=n[e.internalId]}}}return r},doAdd:function(e,t){var n=this,r=n.bufferRender(e,t,true),i=e[0],s=i.parentNode,o=n.all,u,a=n.getAnimWrap(s),f,l,c;if(!a||!a.expanding){return n.callParent(arguments)}s=a.record;f=a.targetEl;l=f.dom.childNodes;c=l.length;u=t-n.indexInStore(s)-1;if(!c||u>=c){f.appendChild(r,true)}else{Ext.fly(l[u]).insertSibling(r,"before",true)}o.insert(t,r);return r},onRemove:function(e,t,n){var r=this,i,s;if(r.viewReady){i=r.store.getCount()===0;if(r.bufferedRenderer){return r.callParent(arguments)}if(i){r.refresh()}else{for(s=t.length-1,n+=s;s>=0;--s,--n){r.doRemove(t[s],n)}}if(r.hasListeners.itemremove){for(s=t.length-1,n+=s;s>=0;--s,--n){r.fireEvent("itemremove",t[s],n,r)}}}},doRemove:function(e,t){var n=this,r=n.all,i=n.getAnimWrap(e),s=r.item(t),o=s?s.dom:null;if(!o||!i||!i.collapsing){return n.callParent(arguments)}i.targetEl.dom.insertBefore(o,i.targetEl.dom.firstChild);r.removeElement(t)},onBeforeExpand:function(e,t,n){var r=this,i;if(r.rendered&&r.all.getCount()&&r.animate){if(r.getNode(e)){i=r.getAnimWrap(e,false);if(!i){i=r.animWraps[e.internalId]=r.createAnimWrap(e);i.animateEl.setHeight(0)}else if(i.collapsing){i.targetEl.select(r.itemSelector).destroy()}i.expanding=true;i.collapsing=false}}},onExpand:function(e){var t=this,n=t.animQueue,r=e.getId(),i=t.getNode(e),s=i?t.indexOf(i):-1,o,u,a;if(t.singleExpand){t.ensureSingleExpand(e)}if(s===-1){return}o=t.getAnimWrap(e,false);if(!o){e.isExpandingOrCollapsing=false;t.fireEvent("afteritemexpand",e,s,i);t.refreshSize();return}u=o.animateEl;a=o.targetEl;u.stopAnimation();n[r]=true;u.dom.style.height="0px";u.animate({from:{height:0},to:{height:a.dom.scrollHeight},duration:t.expandDuration,listeners:{afteranimate:function(){var e=a.dom.childNodes;if(e.length){o.el.insertSibling(e,"before",true)}o.el.destroy();delete t.animWraps[o.record.internalId];delete n[r];if(!t.isDestroyed){t.refreshSize()}}},callback:function(){e.isExpandingOrCollapsing=false;t.fireEvent("afteritemexpand",e,s,i)}});o.isAnimating=true},onBeforeCollapse:function(e,t,n,r,i){var s=this,o;if(s.rendered&&s.all.getCount()){if(s.animate){if(e.isVisible()){o=s.getAnimWrap(e);if(!o){o=s.animWraps[e.internalId]=s.createAnimWrap(e,n)}else if(o.expanding){o.targetEl.select(this.itemSelector).destroy()}o.expanding=false;o.collapsing=true;o.callback=r;o.scope=i}}else{s.onCollapseCallback=r;s.onCollapseScope=i}}},onCollapse:function(e){var t=this,n=t.animQueue,r=e.getId(),i=t.getNode(e),s=i?t.indexOf(i):-1,o=t.getAnimWrap(e),u;if(!t.all.getCount()||!e.isVisible()){return}if(!o){e.isExpandingOrCollapsing=false;t.fireEvent("afteritemcollapse",e,s,i);t.refreshSize();Ext.callback(t.onCollapseCallback,t.onCollapseScope);t.onCollapseCallback=t.onCollapseScope=null;return}u=o.animateEl;n[r]=true;u.stopAnimation();u.animate({to:{height:0},duration:t.collapseDuration,listeners:{afteranimate:function(){o.el.destroy();delete t.animWraps[o.record.internalId];delete n[r];if(!t.isDestroyed){t.refreshSize()}}},callback:function(){e.isExpandingOrCollapsing=false;t.fireEvent("afteritemcollapse",e,s,i);Ext.callback(o.callback,o.scope);o.callback=o.scope=null}});o.isAnimating=true},isAnimating:function(e){return!!this.animQueue[e.getId()]},expand:function(e,t,n,r){var i=this,s=!!i.animate,o;if(!s||!e.isExpandingOrCollapsing){if(!e.isLeaf()){e.isExpandingOrCollapsing=s}Ext.suspendLayouts();o=e.expand(t,n,r);Ext.resumeLayouts(true);return o}},collapse:function(e,t,n,r){var i=this,s=!!i.animate;if(!s||!e.isExpandingOrCollapsing){if(!e.isLeaf()){e.isExpandingOrCollapsing=s}return e.collapse(t,n,r)}},toggle:function(e,t,n,r){if(e.isExpanded()){this.collapse(e,t,n,r)}else{this.expand(e,t,n,r)}},onItemDblClick:function(e,t,n){var r=this,i=r.editingPlugin;r.callParent(arguments);if(r.toggleOnDblClick&&e.isExpandable()&&!(i&&i.clicksToEdit===2)){r.focusRow(e);r.toggle(e)}},onBeforeItemMouseDown:function(e,t,n,r){if(r.getTarget(this.expanderSelector,t)){return false}return this.callParent(arguments)},onItemClick:function(e,t,n,r){if(r.getTarget(this.expanderSelector,t)&&e.isExpandable()){this.focusRow(e);this.toggle(e,r.ctrlKey);return false}return this.callParent(arguments)},onExpanderMouseOver:function(e,t){e.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e,t){e.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var e=this,t=Ext.apply(e.callParent(),{rootchange:e.onRootChange,fillcomplete:e.onFillComplete});if(!this.getStore().remoteSort){Ext.apply(t,{beforesort:e.onBeforeSort,sort:e.onSort})}return t},onBindStore:function(e,t,n,r){var i=r&&r.getRootNode(),s=e&&e.getRootNode();this.callParent(arguments);if(s!==i){this.onRootChange(s,i)}},onRootChange:function(e,t){var n=this;if(t){n.rootListeners.destroy();n.rootListeners=null}if(e){n.rootListeners=e.on({beforeexpand:n.onBeforeExpand,expand:n.onExpand,beforecollapse:n.onBeforeCollapse,collapse:n.onCollapse,destroyable:true,scope:n})}},ensureSingleExpand:function(e){var t=e.parentNode;if(t){t.eachChild(function(t){if(t!==e&&t.isExpanded()){t.collapse()}})}},shouldUpdateCell:function(e,t,n){if(n){var r=0,i=n.length;for(;r<i;++r){if(Ext.Array.contains(this.uiFields,n[r])){return true}}}return this.callParent(arguments)}});Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.DataViewModel",alias:"selection.rowmodel",requires:["Ext.grid.CellContext"],enableKeyNav:true,isRowModel:true,onUpdate:function(e){var t=this,n=t.view,r;if(n&&t.isSelected(e)){r=n.indexOf(e);n.onRowSelect(r);if(e===t.lastFocused){n.onRowFocus(r,true)}}},getRowsVisible:function(){var e=false,t=this.view,n=t.all.first(),r,i;if(n){r=n.getHeight();i=t.el.getHeight();e=Math.floor(i/r)}return e},onSelectChange:function(e,t,n,r){var i=this,s=i.views||[i.view],o=s.length,u,a=t?"select":"deselect",f,l;if((n||i.fireEvent("before"+a,i,e,u))!==false&&r()!==false){for(f=0;f<o;f++){l=s[f];u=l.indexOf(e);if(u!==-1){if(t){l.onRowSelect(u,n)}else{l.onRowDeselect(u,n)}}}if(!n){i.fireEvent(a,i,e,u)}}},onLastFocusChanged:function(e,t,n){var r=this.views||[this.view],i=r.length,s,o=0;if(e&&i){s=r[0].indexOf(e);if(s!==-1){for(;o<i;o++){r[o].onRowFocus(s,false,true)}}}if(t&&i){s=r[0].indexOf(t);if(s!==-1){for(o=0;o<i;o++){r[o].onRowFocus(s,true,n)}}}},onEditorTab:function(e,t){var n=this,r=e.context.view,i=e.getActiveRecord(),s=e.context,o=t.shiftKey?"left":"right",u;do{u=s;s=r.walkCells(s,o,t,n.preventWrap);if(u&&u.isEqual(s)){return}}while(s&&(!s.column.getEditor(i)||!e.startEditByPosition(s)))},getCurrentPosition:function(){var e=this.selected.getAt(0);if(e){return(new Ext.grid.CellContext(this.view)).setPosition(this.store.indexOf(e),0)}},selectByPosition:function(e,t){var n=new Ext.grid.CellContext(this.view);n.setPosition(e.row,e.column);this.select(n.record,t)},selectNext:function(e,t){var n=this,r=n.store,i=n.getSelection(),s=i[i.length-1],o=n.view.indexOf(s)+1,u;if(o===r.getCount()||o===0){u=false}else{n.doSelect(o,e,t);u=true}return u},selectPrevious:function(e,t){var n=this,r=n.getSelection(),i=r[0],s=n.view.indexOf(i)-1,o;if(s<0){o=false}else{n.doSelect(s,e,t);o=true}return o},isRowSelected:function(e){return this.isSelected(e)},isCellSelected:function(e,t,n){return this.isSelected(t)}});Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",constructor:function(e){var t=this;t.callParent([e]);if(t.pruneRemoved){t.pruneRemoved=false;t.pruneRemovedNodes=true}},bindStore:function(e,t){var n=this;n.callParent([e,t]);if(n.store&&n.pruneRemovedNodes){n.view.mon(n.store,{noderemove:n.onNodeRemove,scope:n})}},onNodeRemove:function(e,t,n){if(!n){this.deselectDeletedRecords([t])}}});Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",requires:["Ext.panel.Table"],reserveOffset:false,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){var e=this;if(e.scrollbarWidth===undefined){e.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}e.grid=e.owner.up("tablepanel");e.controllingGrid=e.owner.up("[scrollerOwner]");e.callParent()},beginLayout:function(e){var t=this,n=t.owner,r=t.controllingGrid,i=t.grid.view,s=t.getVisibleItems(),o=s.length,u=t.firstHeaderCls,a=t.lastHeaderCls,f=[u,a],l,c;if(!i.scrollFlags.y){t.scrollbarWidth=0}else{delete t.scrollbarWidth}for(l=0;l<o;l++){c=s[l];c.margin=null;c.removeCls(f);if(l===0){c.addCls(u)}if(l===o-1){c.addCls(a)}}t.scrollbarAdjustment=t.scrollbarWidth;t.callParent(arguments);if(!n.isColumn&&!r.collapsed&&i&&i.rendered&&(e.viewTable=i.body.dom)&&t.scrollbarWidth){e.viewContext=e.context.getCmp(i)}},injectViewContext:function(e,t){if(!this.controllingGrid.collapsed&&t.rendered&&(e.viewTable=t.body.dom)&&this.scrollbarWidth){e.viewContext=e.context.getCmp(t)}},roundFlex:function(e){return Math.floor(e)},calculate:function(e){var t=this,n=t.grid.view,r,i,s,o,u=false;t.viewScrollX=n.getScrollX();t.callParent(arguments);if(e.state.parallelDone&&t.owner.isRootHeader){r=e.target.getVisibleGridColumns();i=r.length;for(s=0;s<i;s++){o=e.context.getItem(null,r[s].el);if(!o.lastBox||o.props.width!==o.lastBox.width){(u||(u=[])).push(s)}}e.setProp("columnsChanged",u)}if(e.viewContext&&!e.state.tableHeight){e.state.tableHeight=e.viewTable?e.viewTable.offsetHeight:n.all.sumHeights()}},completeLayout:function(e){var t=this,n=t.owner,r=e.state;t.callParent(arguments);if(e.viewTable&&!r.flexesCalculated&&!e.flexedItems.length&&n.forceFit&&t.convertWidthsToFlexes(e)){t.cacheFlexes(e);e.invalidate({state:{flexesCalculated:true,tableHeight:e.viewTable.offsetHeight}})}else{delete e.props.columnChanged}},finishedLayout:function(e){var t=this.grid.getView();this.callParent(arguments);if(this.viewScrollX&&!this.owner.isColumn&&t.scrollFlags.x&&this.owner.tooNarrow&&this.owner.componentLayoutCounter){this.owner.setScrollX(this.viewScrollX)}},convertWidthsToFlexes:function(e){var t=this,n=0,r=t.sizeModels.calculated,i,s,o,u,a;i=e.childItems;s=i.length;for(o=0;o<s;o++){u=i[o];a=u.target;n+=u.props.width;if(!(a.fixed||a.resizable===false)){a.flex=e.childItems[o].flex=u.props.width;a.width=null;u.widthModel=r}}return n!==e.props.width},getContainerSize:function(e){var t=this,n,r=e.viewContext,i,s,o=r&&r.heightModel.shrinkWrap;if(t.owner.isColumn){n=t.getColumnContainerSize(e)}else{n=t.callParent(arguments);if(!n.gotAll){t.done=false;return n}if(t.scrollbarWidth&&!t.controllingGrid.reserveScrollbar&&r){s=r.target.componentLayout.ownerContext;if(!o&&r.target.scrollFlags.y&&(e.flexedItems&&e.flexedItems.length||t.owner.forceFit)&&s){i=r.getProp("height");if(isNaN(i)){t.done=false}else if(e.state.tableHeight<=i&&r.target.scrollFlags.y){e.state.parallelDone=false;s.invalidate();return n}}}}if(!o){n.width-=t.scrollbarWidth}return n},getColumnContainerSize:function(e){var t=e.paddingContext.getPaddingInfo(),n=0,r=0,i,s,o,u;if(!e.widthModel.shrinkWrap){++r;o=e.getProp("innerWidth");i=typeof o=="number";if(i){++n;o-=t.width;if(o<0){o=0}}}if(!e.heightModel.shrinkWrap){++r;u=e.getProp("innerHeight");s=typeof u=="number";if(s){++n;u-=t.height;if(u<0){u=0}}}return{width:o,height:u,needed:r,got:n,gotAll:n==r,gotWidth:i,gotHeight:s}},publishInnerCtSize:function(e){var t=this,n=t.owner,r=e.state.boxPlan.targetSize,i=e.peek("contentWidth");if(i!=null&&!n.isColumn){r.width=i;if(n.ownerCt.view.scrollFlags.y){r.width+=t.scrollbarAdjustment}}return t.callParent(arguments)}});Ext.define("Ext.plugin.Abstract",{alternateClassName:"Ext.AbstractPlugin",disabled:false,isPlugin:true,stateEvents:undefined,constructor:function(e){if(e){this.pluginConfig=e;Ext.apply(this,e)}},clonePlugin:function(e){return new this.self(Ext.apply({},e,this.pluginConfig))},setCmp:function(e){this.cmp=e},getCmp:function(){return this.cmp},init:Ext.emptyFn,getState:null,applyState:null,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true},onClassExtended:function(e,t,n){var r=t.alias;if(r&&!t.ptype){if(Ext.isArray(r)){r=r[0]}e.prototype.ptype=r.split("plugin.")[1]}}});Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(e){var t=this;Ext.apply(t,e);t.dragRegion=new Ext.util.Region(0,0,0,0);if(t.el){t.initEl(t.el)}t.mixins.observable.constructor.call(t);if(t.disabled){t.disable()}},initEl:function(e){var t=this,n=t.delegate;t.el=e=Ext.get(e);if(n&&n.isElement){t.handle=n}t.delegate=t.handle?undefined:t.delegate;if(!t.handle){t.handle=e}t.handleListeners={scope:t,delegate:t.delegate,mousedown:t.onMouseDown,dragstart:t.onDragStart};if(!Ext.supports.TouchEvents&&(t.trackOver||t.overCls)){Ext.apply(t.handleListeners,{mouseover:t.onMouseOver,mouseout:t.onMouseOut})}t.mon(t.handle,t.handleListeners)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var e=this;e.endDrag({});e.clearListeners();e.el=e.handle=null},onMouseOver:function(e,t){var n=this,r,i,s,o,u;if(!n.disabled){if(e.within(e.target,true,true)||n.delegate){r=n.handleCls;n.mouseIsOut=false;if(r){for(s=0,o=n.handleEls.length;s<o;s++){i=n.handleEls[s];u=i.delegateCls;if(!u){u=i.delegateCls=[r,"-",i.region,"-over"].join("")}i.addCls([u,n.overCls])}}n.fireEvent("mouseover",n,e,n.delegate?e.getTarget(n.delegate,t):n.handle)}}},onMouseOut:function(e){var t=this,n,r,i;if(t.mouseIsDown){t.mouseIsOut=true}else{if(t.handleCls){for(r=0,i=t.handleEls.length;r<i;r++){n=t.handleEls[r];n.removeCls([n.delegateCls,t.overCls])}}t.fireEvent("mouseout",t,e)}},onMouseDown:function(e,t){var n=this;if(n.disabled||e.dragTracked){return}n.dragTarget=n.delegate?t:n.handle.dom;n.startXY=n.lastXY=e.getXY();n.startRegion=Ext.fly(n.dragTarget).getRegion();if(n.fireEvent("mousedown",n,e)===false||n.fireEvent("beforedragstart",n,e)===false||n.onBeforeStart(e)===false){return}n.mouseIsDown=true;e.dragTracked=true;n.el.setCapture();e.stopPropagation();if(n.preventDefault!==false){e.preventDefault()}Ext.getDoc().on({scope:n,capture:true,mouseup:n.onMouseUp,mousemove:n.onMouseMove,selectstart:n.stopSelect});n.dragEnded=false;if(!n.tolerance){n.triggerStart()}else if(n.autoStart){n.timer=Ext.defer(n.triggerStart,n.autoStart===true?1e3:n.autoStart,n,[e])}},onMouseMove:function(e,t){var n=this,r=e.getXY(),i=n.startXY;e.stopPropagation();if(n.preventDefault!==false){e.preventDefault()}if(n.dragEnded){return}n.lastXY=r;if(!n.active){if(Math.max(Math.abs(i[0]-r[0]),Math.abs(i[1]-r[1]))>n.tolerance){n.triggerStart(e)}else{return}}if(n.fireEvent("mousemove",n,e)===false){n.onMouseUp(e)}else{n.onDrag(e);n.fireEvent("drag",n,e)}},onMouseUp:function(e){var t=this;t.mouseIsDown=false;if(t.mouseIsOut){t.mouseIsOut=false;t.onMouseOut(e)}if(t.preventDefault!==false){e.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}t.fireEvent("mouseup",t,e);t.endDrag(e)},endDrag:function(e){var t=this,n=t.active;Ext.getDoc().un({mousemove:t.onMouseMove,mouseup:t.onMouseUp,selectstart:t.stopSelect,capture:true,scope:t});t.clearStart();t.active=false;if(n){t.dragEnded=true;t.onEnd(e);t.fireEvent("dragend",t,e)}t._constrainRegion=null},triggerStart:function(e){var t=this;t.clearStart();t.active=true;t.onStart(e);t.fireEvent("dragstart",t,e)},clearStart:function(){var e=this.timer;if(e){clearTimeout(e);this.timer=null}},stopSelect:function(e){e.stopEvent();return false},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region){return e.constrainTo}if(!e._constrainRegion){e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion()}}else{if(!e._constrainRegion){e._constrainRegion=e.getDragCt().getViewRegion()}}return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),n=this.startXY;return[t[0]-n[0],t[1]-n[1]]},onDragStart:function(e){e.stopPropagation()},constrainModes:{point:function(e,t){var n=e.dragRegion,r=e.getConstrainRegion();if(!r){return t}n.x=n.left=n[0]=n.right=t[0];n.y=n.top=n[1]=n.bottom=t[1];n.constrainTo(r);return[n.left,n.top]},dragTarget:function(e,t){var n=e.startXY,r=e.startRegion.copy(),i=e.getConstrainRegion(),s;if(!i){return t}r.translateBy(t[0]-n[0],t[1]-n[1]);if(r.right>i.right){t[0]+=s=i.right-r.right;r.left+=s}if(r.left<i.left){t[0]+=i.left-r.left}if(r.bottom>i.bottom){t[1]+=s=i.bottom-r.bottom;r.top+=s}if(r.top<i.top){t[1]+=i.top-r.top}return t}}});Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.plugin.Abstract",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:false,config:{dynamic:false},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,eResizeCursor:"col-resize",init:function(e){var t=this;t.headerCt=e;e.on("render",t.afterHeaderRender,t,{single:t});if(!t.minColWidth){t.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth}},destroy:function(){var e=this.tracker;if(e){delete e.onBeforeStart;delete e.onStart;delete e.onDrag;delete e.onEnd;e.destroy();this.tracker=null}},afterHeaderRender:function(){var e=this,t=e.headerCt,n=t.el;t.mon(n,"mousemove",e.onHeaderCtMouseMove,e);e.markerOwner=e.ownerGrid=e.headerCt.up("tablepanel");if(e.markerOwner.ownerLockable){e.markerOwner=e.markerOwner.ownerLockable}e.tracker=new Ext.dd.DragTracker({disabled:e.disabled,onBeforeStart:e.onBeforeStart.bind(e),onStart:e.onStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onEnd.bind(e),tolerance:3,autoStart:300,el:n})},onHeaderCtMouseMove:function(e){var t=this;if(t.headerCt.dragging||t.disabled){if(t.activeHd){t.activeHd.el.dom.style.cursor="";delete t.activeHd}}else{t.findActiveHeader(e)}},findActiveHeader:function(e){var t=this,n=e.getTarget("."+t.colHeaderCls,3,true),r,i,s;if(n){r=Ext.getCmp(n.id);if(r.isOnRightEdge(e)){if(t.headerCt.visibleColumnManager.getColumns().length===1&&t.headerCt.forceFit){return}i=r}else if(r.isOnLeftEdge(e)){s=t.headerCt.visibleColumnManager.getColumns();i=s[Ext.Array.indexOf(s,r)-1];if(!i&&t.ownerGrid.ownerLockable&&!t.ownerGrid.isLocked){s=t.ownerGrid.ownerLockable.lockedGrid.headerCt.visibleColumnManager.getColumns();i=s[s.length-1]}}if(i){if(i.isGroupHeader){s=i.getGridColumns();i=s[s.length-1]}if(i&&!(i.fixed||i.resizable===false)){t.activeHd=i;r.el.dom.style.cursor=t.eResizeCursor;if(r.triggerEl){r.triggerEl.dom.style.cursor=t.eResizeCursor}}}else{r.el.dom.style.cursor="";if(r.triggerEl){r.triggerEl.dom.style.cursor=""}t.activeHd=null}}return t.activeHd},onBeforeStart:function(e){var t=this;t.dragHd=Ext.supports.Touch?t.findActiveHeader(e):t.activeHd;if(!!t.dragHd&&!t.headerCt.dragging){t.xDelta=t.dragHd.getX()+t.dragHd.getWidth()-t.tracker.getXY()[0];t.tracker.constrainTo=t.getConstrainRegion();return true}else{t.headerCt.dragging=false;return false}},getConstrainRegion:function(){var e=this,t=e.dragHd.el,n,r=e.ownerGrid,i=r.getSizeModel().width,s=i.shrinkWrap?e.headerCt.getWidth()-e.headerCt.visibleColumnManager.getColumns().length*e.minColWidth:e.maxColWidth,o;if(e.headerCt.forceFit){n=e.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(n&&e.headerInSameGrid(n)){s=t.getWidth()+(n.getWidth()-e.minColWidth)}}else if(r.isLocked&&i.shrinkWrap){s=e.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(true)-r.getWidth()-(r.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*e.minColWidth+Ext.getScrollbarSize().width)}o=e.adjustConstrainRegion(t.getRegion(),0,0,0,e.minColWidth);o.right=t.getX()+s;return o},onStart:function(e){var t=this,n=t.dragHd,r=n.el.getWidth(),i=n.getOwnerHeaderCt(),s,o,u,a,f,l;t.headerCt.dragging=true;t.origWidth=r;if(!t.dynamic){u=t.markerOwner;if(u.frame&&u.resizable){t.gridOverflowSetting=u.el.dom.style.overflow;u.el.dom.style.overflow="hidden"}s=t.getLeftMarkerX(u);a=u.getLhsMarker();f=u.getRhsMarker();l=t.ownerGrid.body.getHeight()+i.getHeight();o=i.getOffsetsTo(u)[1]-u.el.getBorderWidth("t");a.setLocalY(o);f.setLocalY(o);a.setHeight(l);f.setHeight(l);t.setMarkerX(a,s);t.setMarkerX(f,s+r)}},onDrag:function(e){var t=this;if(t.dynamic){t.doResize()}else{t.setMarkerX(t.getMovingMarker(t.markerOwner),t.calculateDragX(t.markerOwner))}},getMovingMarker:function(e){return e.getRhsMarker()},onEnd:function(e){var t=this,n;t.headerCt.dragging=false;if(t.dragHd){if(!t.dynamic){n=t.headerCt.up("tablepanel");if(n.ownerLockable){n=n.ownerLockable}if("gridOverflowSetting"in t){n.el.dom.style.overflow=t.gridOverflowSetting}t.setMarkerX(n.getLhsMarker(),-9999);t.setMarkerX(n.getRhsMarker(),-9999)}t.doResize()}t.onHeaderCtMouseMove(e)},doResize:function(){var e=this,t=e.dragHd,n,r=e.tracker.getOffset("point");if(t&&r[0]){if(t.flex){delete t.flex}Ext.suspendLayouts();e.adjustColumnWidth(r[0]-e.xDelta);if(e.headerCt.forceFit){n=t.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(n&&!e.headerInSameGrid(n)){n=null}if(n){delete n.flex;n.setWidth(n.getWidth()-r[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(e){var t=this.dragHd.up("tablepanel");return!!e.up(t)},disable:function(){var e=this.tracker;this.disabled=true;if(e){e.disable()}},enable:function(){var e=this.tracker;this.disabled=false;if(e){e.enable()}},calculateDragX:function(e){return this.tracker.getXY("point")[0]+this.xDelta-e.getX()-e.el.getBorderWidth("l")},getLeftMarkerX:function(e){return this.dragHd.getX()-e.getX()-e.el.getBorderWidth("l")-1},setMarkerX:function(e,t){e.setLocalX(t)},adjustConstrainRegion:function(e,t,n,r,i){return e.adjust(t,n,r,i)},adjustColumnWidth:function(e){this.dragHd.setWidth(this.origWidth+e)}});Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(e,t){var n=this,r=n.containerScroll;n.callParent([e,t]);if(r){e=n.scrollEl||e;e=Ext.get(e);if(Ext.isObject(r)){e.ddScrollConfig=r}Ext.dd.ScrollManager.register(e)}},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(e,t);return true},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}});Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(e){var t=this;t.headerCt=e;t.ddGroup=t.getDDGroup();t.autoGroup=true;t.callParent([e.el]);t.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){if(e.getTarget(this.colInnerSelector)){var t=e.getTarget(this.colHeaderSelector),n,r;if(t){n=Ext.getCmp(t.id);if(!this.headerCt.dragging&&n.draggable&&!(n.isOnLeftEdge(e)||n.isOnRightEdge(e))){r=document.createElement("div");r.role="presentation";r.innerHTML=n.text;return{ddel:r,header:n}}}}return false},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.headerCt.hideMenu();this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}});Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(e,t,n){if(e){this.initTarget(e,t,n)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});Ext.define("Ext.dd.ScrollManager",{singleton:true,requires:["Ext.dd.DragDropManager"],dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this);e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=e;this.els={};this.dragEl=null;this.proc={}},onStop:function(e){var t=Ext.dd.ScrollManager;t.dragEl=null;t.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){var e=this;if(e.ddmInstance.dragCurrent){var t=e.proc,n=t.el,r=t.component,i=t.el.ddScrollConfig,s=i&&i.increment?i.increment:e.increment,o=i&&"animate"in i?i.animate:e.animate,u=function(){e.triggerRefresh()};if(o){if(o===true){o={callback:u}}else{o.callback=o.callback?Ext.Function.createSequence(o.callback,u):u}}if(r){s=s*e.dirTrans[t.dir];if(t.dir==="up"||t.dir==="down"){r.scrollBy(0,s,o)}else{r.scrollBy(s,0,o)}}else{n.scroll(t.dir,s,o)}if(!o){u()}}},clearProc:function(){var e=this.proc;if(e.id){clearInterval(e.id)}if(e.scroller){e.scroller.setSnapToBoundary(true);e.scroller.snapToBoundary()}e.id=0;e.el=e.component=e.scroller=null;e.dir=""},startProc:function(e,t){var n=this,r,i,s,o=n.proc;n.clearProc();o.el=e;o.dir=t;if(Ext.supports.touchScroll===2&&(s=e.component)&&e===s.getOverflowEl()){o.component=s;o.scroller=s.scrollManager.scroller;o.scroller.setSnapToBoundary(false)}r=e.ddScrollConfig?e.ddScrollConfig.ddGroup:undefined;i=e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig.frequency:n.frequency;if(r===undefined||n.ddmInstance.dragCurrent.ddGroup===r){o.id=Ext.interval(n.doScroll,i)}},onFire:function(e,t){var n=this,r,i,s,o,u,a,f;if(t||!n.ddmInstance.dragCurrent){return}if(!n.dragEl||n.dragEl!==n.ddmInstance.dragCurrent){n.dragEl=n.ddmInstance.dragCurrent;n.refreshCache()}r=e.getPoint();i=n.proc;s=n.els;for(o in s){u=s[o];a=u._region;f=u.ddScrollConfig||n;if(a&&a.contains(r)&&u.isScrollable()){if(a.bottom-r.y<=f.vthresh){if(i.el!==u){n.startProc(u,"down")}return}else if(a.right-r.x<=f.hthresh){if(i.el!==u){n.startProc(u,"right")}return}else if(r.y-a.top<=f.vthresh){if(i.el!==u){n.startProc(u,"up")}return}else if(r.x-a.left<=f.hthresh){if(i.el!==u){n.startProc(u,"left")}return}}}n.clearProc()},register:function(e){if(Ext.isArray(e)){for(var t=0,n=e.length;t<n;t++){this.register(e[t])}}else{e=Ext.get(e);this.els[e.id]=e}},unregister:function(e){if(Ext.isArray(e)){for(var t=0,n=e.length;t<n;t++){this.unregister(e[t])}}else{e=Ext.get(e);delete this.els[e.id]}},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:true,animDuration:.4,ddGroup:undefined,refreshCache:function(){var e=this.els,t;for(t in e){if(typeof e[t]=="object"){e[t]._region=e[t].getRegion()}}}});Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(e,t){this.el=Ext.get(e);Ext.apply(this,t);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(e,t,n){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(e,t,n){return this.dropAllowed},notifyOut:function(e,t,n){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(e,t,n){if(this.overClass){this.el.removeCls(this.overClass)}return false},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(e,t){if(typeof e=="string"){return e}var n=e.id;if(!n&&t!==false){n="extdd-"+ ++this.autoIdSeed;e.id=n}return n},register:function(e,t){t=t||{};if(typeof e=="string"){e=document.getElementById(e)}t.ddel=e;this.elements[this.getId(e)]=t;if(t.isHandle!==false){this.handles[t.ddel.id]=t}if(t.handles){var n=t.handles,r,i;for(r=0,i=n.length;r<i;r++){this.handles[this.getId(n[r])]=t}}},unregister:function(e){var t=this.getId(e,false),n=this.elements[t],r,i,s;if(n){delete this.elements[t];if(n.handles){r=n.handles;for(i=0,s=r.length;i<s;i++){delete this.handles[this.getId(r[i],false)]}}}},getHandle:function(e){if(typeof e!="string"){e=e.id}return this.handles[e]},getHandleFromEvent:function(e){var t=e.getTarget();return t?this.handles[t.id]:null},getTarget:function(e){if(typeof e!="string"){e=e.id}return this.elements[e]},getTargetFromEvent:function(e){var t=e.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}});Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,t,n,r){},onNodeOver:function(e,t,n,r){return this.dropAllowed},onNodeOut:function(e,t,n,r){},onNodeDrop:function(e,t,n,r){return false},onContainerOver:function(e,t,n){return this.dropNotAllowed},onContainerDrop:function(e,t,n){return false},notifyEnter:function(e,t,n){return this.dropNotAllowed},notifyOver:function(e,t,n){var r=this.getTargetFromEvent(t);if(!r){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,t,n);this.lastOverNode=null}return this.onContainerOver(e,t,n)}if(this.lastOverNode!=r){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,t,n)}this.onNodeEnter(r,e,t,n);this.lastOverNode=r}return this.onNodeOver(r,e,t,n)},notifyOut:function(e,t,n){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,t,n);this.lastOverNode=null}},notifyDrop:function(e,t,n){var r=this,i=r.getTargetFromEvent(t),s=i?r.onNodeDrop(i,e,t,n):r.onContainerDrop(e,t,n);if(r.lastOverNode){r.onNodeOut(r.lastOverNode,e,t,n);r.lastOverNode=null}return s},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){var t=this;t.headerCt=e;t.ddGroup=t.getDDGroup();t.autoGroup=true;t.callParent([e.el])},destroy:function(){this.callParent();Ext.destroy(this.topIndicator,this.bottomIndicator)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-top","data-sticky":true,html:"&#160;"});this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-bottom","data-sticky":true,html:"&#160;"})}return this.bottomIndicator},getLocation:function(e,t){var n=e.getXY()[0],r=Ext.fly(t).getRegion(),i;if(r.right-n<=(r.right-r.left)/2){i="after"}else{i="before"}return{pos:i,header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,n){var r=this,i=e.header,s=r.getLocation(n,t),o=s.header,u=s.pos,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;if(o===r.lastTargetHeader&&u===r.lastDropPos){return}a=i.nextSibling("gridcolumn:not([hidden])");f=i.previousSibling("gridcolumn:not([hidden])");r.lastTargetHeader=o;r.lastDropPos=u;if(!o.draggable&&u==="before"&&o.getIndex()===0){return false}e.dropLocation=s;if(i!==o&&(u==="before"&&a!==o||u==="after"&&f!==o)&&!o.isDescendantOf(i)){b=Ext.dd.DragDropManager.getRelated(r);w=b.length;E=0;for(;E<w;E++){S=b[E];if(S!==r&&S.invalidateDrop){S.invalidateDrop()}}r.valid=true;l=r.getTopIndicator();c=r.getBottomIndicator();if(u==="before"){h="bc-tl";p="tc-bl"}else{h="bc-tr";p="tc-br"}d=l.getAlignToXY(o.el,h);v=c.getAlignToXY(o.el,p);m=r.headerCt.el;g=m.getX()-r.indicatorXOffset;y=m.getX()+m.getWidth();d[0]=Ext.Number.constrain(d[0],g,y);v[0]=Ext.Number.constrain(v[0],g,y);l.setXY(d);c.setXY(v);l.show();c.show()}else{r.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(e,t,n,r){var i=this,s=r.header,o,u,a,f;if(r.header.el.dom===e){o=false}else{r.isLock=r.isUnlock=r.crossPanel=false;u=i.getLocation(n,e).header;o=s.ownerCt===u.ownerCt;if(!o&&!s.ownerCt.sealed&&!u.ownerCt.sealed){o=true;a=s.up("tablepanel");f=u.up("tablepanel");if(a!==f){r.crossPanel=true;r.isLock=f.isLocked&&!a.isLocked;r.isUnlock=!f.isLocked&&a.isLocked;if(r.isUnlock&&s.lockable===false||r.isLock&&!s.isLockable()){o=false}}}}if(o){i.positionIndicator(r,e,n)}else{i.valid=false}return i.valid?i.dropAllowed:i.dropNotAllowed},hideIndicators:function(){var e=this;e.getTopIndicator().hide();e.getBottomIndicator().hide();e.lastTargetHeader=e.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(e,t,n,r){if(this.valid){var i=r.header,s=r.dropLocation,o=s.header,u=i.ownerCt,a=o.ownerCt,f=u===a,l=u.items.indexOf(r.header),c=a.items.indexOf(o),h=this.headerCt,p=h.visibleColumnManager,d=p.getHeaderIndex(i),v=o.isGroupHeader?a.items.indexOf(o):p.getHeaderIndex(o),m=i.isGroupHeader?i.query(":not([hidden]):not([isGroupHeader])").length:1,g=o.isGroupHeader?s.pos==="after":p.getHeaderIndex(o)>p.getHeaderIndex(i),y,b;if(s.pos==="after"){c++;v+=o.isGroupHeader?o.query(":not([hidden]):not([isGroupHeader])").length:1}if(r.isLock){y=u.up("[scrollerOwner]");y.lock(i,c,a)}else if(r.isUnlock){y=u.up("[scrollerOwner]");y.unlock(i,c,a)}else{this.invalidateDrop();b=i.getWidth();if(f){if(c>l){c-=1}if(c===l){h.onHeaderMoved(i,m,d,v);return}}Ext.suspendLayouts();if(f){a.move(l,c)}else{if(g&&v===c){c-=1}u.isDDMoveInGrid=a.isDDMoveInGrid=!r.crossPanel;u.remove(i,false);a.insert(c,i);u.isDDMoveInGrid=a.isDDMoveInGrid=false}if(a.isGroupHeader){if(!f){i.savedFlex=i.flex;delete i.flex;i.width=b}}else{if(i.savedFlex){i.flex=i.savedFlex;delete i.width}}Ext.resumeLayouts(true);if(!f){h.onHeaderMoved(i,m,d,v)}}}}});Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.plugin.Abstract",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(e){this.headerCt=e;e.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var e=this;e.dragZone=new Ext.grid.header.DragZone(e.headerCt);e.dropZone=new Ext.grid.header.DropZone(e.headerCt);if(e.disabled){e.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}});Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer","Ext.util.KeyNav"],uses:["Ext.grid.column.Column","Ext.grid.ColumnManager","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],mixins:["Ext.util.FocusableContainer"],border:true,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:false,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",ddLock:false,dragging:false,enableFocusableContainer:false,sortable:true,enableColumnHide:true,initComponent:function(){var e=this;e.headerCounter=0;e.plugins=e.plugins||[];e.defaults=e.defaults||{};if(!e.isColumn){if(e.enableColumnResize){e.resizer=new Ext.grid.plugin.HeaderResizer;e.plugins.push(e.resizer)}if(e.enableColumnMove){e.reorderer=new Ext.grid.plugin.HeaderReorderer;e.plugins.push(e.reorderer)}}if(e.isColumn&&!e.isGroupHeader){if(!e.items||e.items.length===0){e.isContainer=false;e.focusable=true;e.layout={type:"container",calculate:Ext.emptyFn}}}else{e.layout=Ext.apply({type:"gridcolumn",align:"stretch"},e.initialConfig.layout);e.defaults.columnLines=e.columnLines;if(!e.isGroupHeader){e.isRootHeader=true;if(!e.hiddenHeaders){e.enableFocusableContainer=true;e.ariaRole="row"}e.columnManager=new Ext.grid.ColumnManager(false,e);e.visibleColumnManager=new Ext.grid.ColumnManager(true,e);if(e.grid){e.grid.columnManager=e.columnManager;e.grid.visibleColumnManager=e.visibleColumnManager}}else{e.visibleColumnManager=new Ext.grid.ColumnManager(true,e);e.columnManager=new Ext.grid.ColumnManager(false,e)}}e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e);e.callParent()},initEvents:function(){var e=this,t=e.onHeaderCtEvent,n={click:t,dblclick:t,contextmenu:t,mouseover:e.onHeaderCtMouseOver,mouseout:e.onHeaderCtMouseOut,scope:e};if(Ext.supports.Touch){n.longpress=e.onHeaderCtLongPress}e.callParent();if(!e.isColumn&&!e.isGroupHeader){e.mon(e.el,n)}},onHeaderCtEvent:function(e,t){var n=this,r=n.getHeaderElByEvent(e),i,s,o;if(n.longPressFired){n.longPressFired=false;return}if(r&&!n.ddLock){i=Ext.getCmp(r.id);if(i){s=i[i.clickTargetName];if(e.within(s)){if(e.type==="click"||e.type==="tap"){o=i.onTitleElClick(e,s);if(o){n.onHeaderTriggerClick(o,e,Ext.supports.Touch?o.el:o.triggerEl)}else{n.onHeaderClick(i,e,t)}}else if(e.type==="contextmenu"){n.onHeaderContextMenu(i,e,t)}else if(e.type==="dblclick"&&i.resizable){i.onTitleElDblClick(e,s.dom)}}}}},onHeaderCtMouseOver:function(e,t){var n,r,i;if(!e.within(this.el,true)){n=e.getTarget("."+Ext.grid.column.Column.prototype.baseCls);r=n&&Ext.getCmp(n.id);if(r){i=r[r.clickTargetName];if(e.within(i)){r.onTitleMouseOver(e,i.dom)}}}},onHeaderCtMouseOut:function(e,t){var n="."+Ext.grid.column.Column.prototype.baseCls,r=e.getTarget(n),i=e.getRelatedTarget(n),s,o;if(r!==i){if(r){s=Ext.getCmp(r.id);if(s){o=s[s.clickTargetName];s.onTitleMouseOut(e,o.dom)}}if(i){s=Ext.getCmp(i.id);if(s){o=s[s.clickTargetName];s.onTitleMouseOver(e,o.dom)}}}},onHeaderCtLongPress:function(e){var t=this,n=t.getHeaderElByEvent(e),r=Ext.getCmp(n.id);if(!r.menuDisabled){t.longPressFired=true;t.showMenuBy(n,r)}},getHeaderElByEvent:function(e){return e.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return this.callParent()},getOwnerHeaderCt:function(){var e=this;return e.isRootHeader?e:e.up("[isRootHeader]")},onDestroy:function(){var e=this;if(e.menu){e.menu.un("hide",e.onMenuHide,e)}e.menuTask.cancel();e.callParent();Ext.destroy(e.visibleColumnManager,e.columnManager,e.menu);e.columnManager=e.visibleColumnManager=null},applyColumnsState:function(e){if(!e||!e.length){return}var t=this,n=t.items.items,r=n.length,i=0,s=e.length,o,u,a,f,l=false;for(o=0;o<s;o++){a=e[o];for(f=r;f--;){u=n[f];if(u.getStateId&&u.getStateId()==a.id){if(i!==f){this.items.insert(i,this.items.getAt(f));l=true}if(u.applyColumnState){u.applyColumnState(a)}++i;break}}}if(l){t.purgeCache()}},getColumnsState:function(){var e=this,t=[],n;e.items.each(function(e){n=e.getColumnState&&e.getColumnState();if(n){t.push(n)}});return t},onAdd:function(e){var t=this;if(!e.headerId){e.headerId=e.initialConfig.id||Ext.id(null,"header-")}if(e.sortable===undefined){e.sortable=t.sortable}if(!e.getStateId()){e.stateId=e.initialConfig.id||"h"+ ++t.headerCounter}if(!t._usedIDs){t._usedIDs={}}if(t._usedIDs[e.headerId]){Ext.log.warn(this.$className+" attempted to reuse an existing id: "+e.headerId)}t._usedIDs[e.headerId]=true;t.callParent(arguments);t.onHeadersChanged(e,t.isDDMoveInGrid)},move:function(e,t){var n=this,r=n.items.items[e];r.visibleFromIdx=n.getOwnerHeaderCt().visibleColumnManager.indexOf(r);n.callParent(arguments)},onMove:function(e,t,n){var r=this,i=r.getOwnerHeaderCt(),s=i.visibleColumnManager,o=1,u;r.onHeadersChanged(e,true);u=s.indexOf(e);if(u>=e.visibleFromIdx){u++}r.callParent(arguments);if(e.isGroupHeader){o=e.visibleColumnManager.getColumns().length}i.onHeaderMoved(e,o,e.visibleFromIdx,u)},onRemove:function(e){var t=this,n=t.ownerCt;t.callParent(arguments);if(!t._usedIDs){t._usedIDs={}}delete t._usedIDs[e.headerId];if(!t.destroying){if(!t.isDDMoveInGrid){t.onHeadersChanged(e,false)}if(t.isGroupHeader&&!t.items.getCount()&&n){if(e.rendered){t.detachComponent(e)}Ext.suspendLayouts();n.remove(t);Ext.resumeLayouts(true)}}},onHeadersChanged:function(e,t){var n,r=this.getOwnerHeaderCt();this.purgeHeaderCtCache(this);if(r){r.onColumnsChanged();if(!e.isGroupHeader){n=r.ownerCt;if(n&&!t){n.onHeadersChanged(r,e)}}}},onHeaderMoved:function(e,t,n,r){var i=this,s=i.ownerCt;if(i.rendered){if(s&&s.onHeaderMove){s.onHeaderMove(i,e,t,n,r)}i.fireEvent("columnmove",i,e,n,r)}},onColumnsChanged:function(){var e=this,t=e.menu,n,r;if(e.rendered){e.fireEvent("columnschanged",e);if(t&&(n=t.child("#columnItemSeparator"))){r=t.child("#columnItem");n.destroy();r.destroy()}}},lookupComponent:function(e){var t=this.callParent(arguments);if(!t.isGroupHeader&&t.width===undefined&&!t.flex){t.width=this.defaultWidth}return t},setSortState:function(){var e=this.up("[store]").store,t=this.visibleColumnManager.getColumns(),n=t.length,r,i,s;for(r=0;r<n;r++){i=t[r];s=e.getSorters().get(i.getSortParam());i.setSortState(s)}},getHeaderMenu:function(){var e=this.getMenu(),t;if(e){t=e.child("#columnItem");if(t){return t.menu}}return null},onHeaderVisibilityChange:function(e,t){var n=this,r=n.getHeaderMenu(),i;n.purgeHeaderCtCache(e.ownerCt);if(r){i=n.getMenuItemForHeader(r,e);if(i){i.setChecked(t,true)}if(r.isVisible()){n.menuTask.delay(50)}}},updateMenuDisabledState:function(e){var t=this,n=t.query(":not([hidden])"),r,i=n.length,s,o,u;if(!e){e=t.getMenu()}for(r=0;r<i;++r){s=n[r];o=t.getMenuItemForHeader(e,s);if(o){u=s.isHideable()?"enable":"disable";if(o.menu){u+="CheckChange"}o[u]()}}},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this,n=t.ownerCt;if(t.forceFit){delete t.flex}t.onHeaderVisibilityChange(e,true);if(!e.isGroupHeader){if(n){n.onHeaderShow(t,e)}}t.fireEvent("columnshow",t,e);t.fireEvent("columnschanged",this)},onHeaderHide:function(e){var t=this,n=t.ownerCt;t.onHeaderVisibilityChange(e,false);if(!e.isGroupHeader){if(n){n.onHeaderHide(t,e)}}t.fireEvent("columnhide",t,e);t.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(e,t){var n=this,r=n.ownerCt;if(r){r.onHeaderResize(n,e,t)}n.fireEvent("columnresize",n,e,t)},onHeaderClick:function(e,t,n){e.fireEvent("headerclick",this,e,t,n);this.fireEvent("headerclick",this,e,t,n)},onHeaderContextMenu:function(e,t,n){e.fireEvent("headercontextmenu",this,e,t,n);this.fireEvent("headercontextmenu",this,e,t,n)},onHeaderTriggerClick:function(e,t,n){var r=this;if(e.fireEvent("headertriggerclick",r,e,t,n)!==false&&r.fireEvent("headertriggerclick",r,e,t,n)!==false){r.showMenuBy(n,e)}},showMenuBy:function(e,t){var n=this.getMenu(),r=n.down("#ascItem"),i=n.down("#descItem"),s;n.activeHeader=n.ownerCmp=t;t.setMenuActive(true);s=t.sortable?"enable":"disable";if(r){r[s]()}if(i){i[s]()}n.showBy(e,"tl-bl?")},hideMenu:function(){if(this.menu){this.menu.hide()}},onMenuHide:function(e){e.activeHeader.setMenuActive(false)},moveHeader:function(e,t){this.tempLock();this.move(e,t)},purgeHeaderCtCache:function(e){while(e){e.purgeCache();if(e.isRootHeader){return}e=e.ownerCt}},purgeCache:function(){var e=this,t=e.visibleColumnManager,n=e.columnManager;e.gridVisibleColumns=e.gridDataColumns=e.hideableColumns=null;if(t){t.invalidate();n.invalidate()}},getMenu:function(){var e=this;if(!e.menu){e.menu=new Ext.menu.Menu({hideOnParentHide:false,items:e.getMenuItems(),listeners:{beforeshow:e.beforeMenuShow,hide:e.onMenuHide,scope:e}});e.fireEvent("menucreate",e,e.menu)}return e.menu},beforeMenuShow:function(e){var t=this,n=e.child("#columnItem"),r,i,e;if(!n){r=t.enableColumnHide?t.getColumnMenu(t):null;i=t.sortable?2:0;if(r&&r.length){e.insert(i,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:t.columnsText,iconCls:t.menuColsIcon,menu:{items:r},hideOnClick:false}])}}t.updateMenuDisabledState(t.menu)},getMenuItems:function(){var e=this,t=[],n=e.enableColumnHide?e.getColumnMenu(e):null;if(e.sortable){t=[{itemId:"ascItem",text:e.sortAscText,iconCls:e.menuSortAscCls,handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,iconCls:e.menuSortDescCls,handler:e.onSortDescClick,scope:e}]}if(n&&n.length){if(e.sortable){t.push({itemId:"columnItemSeparator",xtype:"menuseparator"})}t.push({itemId:"columnItem",text:e.columnsText,iconCls:e.menuColsIcon,menu:n,hideOnClick:false})}return t},onSortAscClick:function(){var e=this.getMenu(),t=e.activeHeader;t.sort("ASC")},onSortDescClick:function(){var e=this.getMenu(),t=e.activeHeader;t.sort("DESC")},getColumnMenu:function(e){var t=[],n=0,r,i=e.query(">gridcolumn[hideable]"),s=i.length,o;for(;n<s;n++){r=i[n];o=new Ext.menu.CheckItem({text:r.menuText||r.text,checked:!r.hidden,hideOnClick:false,headerId:r.id,menu:r.isGroupHeader?this.getColumnMenu(r):undefined,checkHandler:this.onColumnCheckChange,scope:this});t.push(o)}return t},onColumnCheckChange:function(e,t){var n=Ext.getCmp(e.headerId);if(n.rendered){n[t?"show":"hide"]()}else{n.hidden=!t}},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var e=0,t=this.getVisibleGridColumns(),n=t.length,r;for(r=0;r<n;r++){e+=t[r].getCellWidth()||0}return e},getVisibleGridColumns:function(){if(this.gridVisibleColumns){return this.gridVisibleColumns}var e=this.getGridColumns(),t,n=[],r=e.length,i;for(i=0;i<r;i++){if(!e[i].hidden){t=e[i];t.visibleIndex=n.length;n[n.length]=t}}this.gridVisibleColumns=n;return n},getGridColumns:function(e,t){if(!e&&this.gridDataColumns){return this.gridDataColumns}var n=this,r=e||[],i,s,o,u,a;t=t||n.hidden;if(n.items){i=n.items.items;for(s=0,o=i.length;s<o;s++){u=i[s];if(u.isGroupHeader){u.getGridColumns(r,t)}else{u.hiddenAncestor=t;r.push(u)}}}if(!e){n.gridDataColumns=r}if(!e&&o){for(s=0,o=r.length;s<o;s++){u=r[s];u.fullColumnIndex=s;u.isFirstVisible=u.isLastVisible=false;if(!(u.hidden||u.hiddenAncestor)){if(!a){u.isFirstVisible=true}a=u}}if(a){a.isLastVisible=true}}return r},getHideableColumns:function(){var e=this,t=e.hideableColumns;if(!t){t=e.hideableColumns=e.query("[hideable]")}return t},getHeaderIndex:function(e){if(!this.columnManager){this.columnManager=this.getOwnerHeaderCt().columnManager}return this.columnManager.getHeaderIndex(e)},getHeaderAtIndex:function(e){if(!this.columnManager){this.columnManager=this.getOwnerHeaderCt().columnManager}return this.columnManager.getHeaderAtIndex(e)},getVisibleHeaderClosestToIndex:function(e){if(!this.visibleColumnManager){this.visibleColumnManager=this.getOwnerHeaderCt().visibleColumnManager}return this.visibleColumnManager.getVisibleHeaderClosestToIndex(e)},applyForceFit:function(e){function v(){for(c=0,l=a.length;c<l;c++){h=a[c];if(h===e){continue}h.flex=h.flex||h.width||h.getWidth();u+=h.flex;h.width=null}}function m(){var t;for(c=0,l=a.length;c<l;c++){h=a[c];t=h===e;if(i&&!t){h.flex=r;h.width=null}else if(!t){d=h.flex||s;h.flex=Math.max(Math.ceil(d/u*o),r);h.width=null}h.setWidth(h.width||h.flex)}}var t=this,n=t.view,r=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,i=false,s=Ext.grid.header.Container.prototype.defaultWidth,o=t.el.dom.clientWidth-(n.el.dom.scrollHeight>n.el.dom.clientHeight?Ext.getScrollbarSize().width:0),u=0,a=t.getVisibleGridColumns(),f=e.hidden,l,c,h,p,d;Ext.suspendLayouts();p=o-(a.length+1)*r;e.flex=null;if(f){d=e.width||e.savedWidth;e.savedWidth=null}else{d=n.getMaxContentWidth(e)}if(d>p){e.width=p;i=true}else{e.width=d;o-=d+s;v()}m();Ext.resumeLayouts(true)},autoSizeColumn:function(e){var t=this.view;if(t){t.autoSizeColumn(e);if(this.forceFit){this.applyForceFit(e)}}},privates:{getFocusables:function(){return this.getVisibleGridColumns()},createFocusableContainerKeyNav:function(e){var t=this;return new Ext.util.KeyNav(e,{scope:t,down:t.showHeaderMenu,left:t.onFocusableContainerLeftKey,right:t.onFocusableContainerRightKey,space:t.toggleColumnSort,enter:t.toggleColumnSort})},showHeaderMenu:function(e){var t=this.getFocusableFromEvent(e);if(t&&t.triggerEl){this.onHeaderTriggerClick(t,e,t.triggerEl)}},toggleColumnSort:function(e){var t=this.getFocusableFromEvent(e);if(t&&t.sortable){t.toggleSortState();this.onHeaderClick(t,e,t.el)}},onFocusableContainerMousedown:Ext.privateFn}});Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:true,beginLayout:function(e){this.callParent(arguments);e.titleContext=e.getEl("titleEl");e.triggerContext=e.getEl("triggerEl")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments);if(e.widthModel.shrinkWrap){t.el.setWidth("")}t.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(e,t){var n=this,r=n.owner,i,s,o,u,a,f;if(r.getOwnerHeaderCt().hiddenHeaders){e.setProp("innerHeight",0);return}i=t-e.getBorderInfo().height;s=i;if(r.headerWrap&&!e.hasDomProp("width")){n.done=false;return}if(e.hasRawContent){o=r.textEl.getHeight();if(o){s-=o;if(s>0){a=Math.floor(s/2);f=s-a;e.titleContext.setProp("padding-top",a);e.titleContext.setProp("padding-bottom",f)}}}else{e.setProp("innerHeight",i-r.titleEl.getHeight(),false)}},measureContentHeight:function(e){return e.el.dom.offsetHeight},publishInnerWidth:function(e,t){if(!e.hasRawContent){e.setProp("innerWidth",t-e.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments),r=this.owner;if(!e.hasRawContent){if(!r.headerWrap||e.hasDomProp("width")){return t+r.titleEl.getHeight()+e.getBorderInfo().height}return null}return n},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.owner,r=e.getPaddingInfo().width,i=this.getTriggerOffset(n,e),s;if(n.isGroupHeader){s=t}else{s=Math.max(t,n.textEl.getWidth()+e.titleContext.getPaddingInfo().width)}return s+r+i},getTriggerOffset:function(e,t){var n=0;if(t.widthModel.shrinkWrap&&!e.menuDisabled){if(e.query(">:not([hidden])").length===0){n=e.self.triggerElWidth}}return n}});Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",xtype:"gridcolumn",requires:["Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout","Ext.app.bind.Template"],alternateClassName:"Ext.grid.Column",config:{triggerVisible:false},baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:Ext.supports.Touch?10:4,ariaRole:"columnheader",enableFocusableContainer:false,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],headerWrap:false,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" {tipMarkup}class="',Ext.baseCSSPrefix,"column-header-inner",'<tpl if="empty"> ',Ext.baseCSSPrefix,'column-header-inner-empty</tpl>">','<span id="{id}-textEl" data-ref="textEl" class="',Ext.baseCSSPrefix,"column-header-text",'{childElCls}">',"{text}","</span>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" class="',Ext.baseCSSPrefix,"column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,align:"left",draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:true,isColumn:true,producesHTML:true,tabIndex:-1,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var e=this;if(e.header!=null){e.text=e.header;e.header=null}if(e.cellWrap){e.tdCls=(e.tdCls||"")+" "+Ext.baseCSSPrefix+"wrap-cell"}if(e.columns!=null){e.isGroupHeader=true;if(e.dataIndex){Ext.Error.raise("Ext.grid.column.Column: Group header may not accept a dataIndex")}if(e.width&&e.width!==Ext.grid.header.Container.prototype.defaultWidth||e.flex){Ext.Error.raise("Ext.grid.column.Column: Group header does not support setting explicit widths or flexs. The group header width is calculated by the sum of its children.")}e.items=e.columns;e.columns=e.flex=e.width=null;e.cls=(e.cls||"")+" "+e.groupHeaderCls;e.sortable=e.resizable=false;e.align="center"}else{if(e.flex){e.minWidth=e.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}e.addCls(Ext.baseCSSPrefix+"column-header-align-"+e.align);e.setupRenderer();e.setupRenderer("edit");e.setupRenderer("summary");e.callParent(arguments)},bindFormatter:function(e){var t=this;return function(n){return e.format(n,e.scope||t.scope||t.resolveListenerScope())}},bindRenderer:function(e){var t=this;if(e in Ext.util.Format){Ext.log.warn('Use "formatter" config instead of "renderer" to use '+"Ext.util.Format to format cell values")}t.hasCustomRenderer=true;return function(){return Ext.callback(e,t.scope,arguments,0,t)}},setupRenderer:function(e){e=e||"column";var t=this,n=t[t.formatterNames[e]],r=t[t.rendererNames[e]],i=e==="column",s;if(!n){if(r){if(typeof r==="string"){r=t[t.rendererNames[e]]=t.bindRenderer(r)}if(i){t.hasCustomRenderer=r.length>1}}else if(i&&t.defaultRenderer){t.renderer=t.defaultRenderer;t.usingDefaultRenderer=true}}else{s=n.indexOf("this.")===0;if(s){n=n.substring(5)}n=Ext.app.bind.Template.prototype.parseFormat(n);t[t.formatterNames[e]]=null;if(s){n.scope=null}else if(!Ext.util.Format[n.fmt]){Ext.Error.raise('Invalid formatter specified: "'+n.fmt+'"')}t[t.rendererNames[e]]=t.bindFormatter(n)}},getView:function(){var e=this.getOwnerHeaderCt();if(e){return e.view}},onResize:function(e,t,n,r){var i=this,s,o;i.callParent(arguments);if(n&&i.cellWrap){s=i.getView();if(s){o=s.bufferedRenderer;if(o){o.onWrappedColumnWidthChange(n,e)}}}},initItems:function(){var e=this;e.callParent(arguments);if(e.isGroupHeader){if(!e.hasVisibleChildColumns()){e.hide()}}},hasVisibleChildColumns:function(){var e=this.items.items,t=e.length,n,r;for(n=0;n<t;++n){r=e[n];if(r.isColumn&&!r.hidden){return true}}return false},onAdd:function(e){var t=this;if(e.isColumn){e.isSubHeader=true;e.addCls(this.groupSubHeaderCls)}if(t.hidden&&e.isColumn){if(t.constructing){e.hide()}else if(!e.hidden){t.show()}}t.callParent(arguments)},onRemove:function(e){var t=this;if(e.isSubHeader){e.isSubHeader=false;e.removeCls(t.groupSubHeaderCls)}t.callParent(arguments);if(!(t.isDestroyed||t.destroying)&&t.isGroupHeader&&!t.hasVisibleChildColumns()){t.hide()}},initRenderData:function(){var e=this,t="",n=e.tooltip,r=e.text,i=e.tooltipType=="qtip"?"data-qtip":"title";if(!Ext.isEmpty(n)){t=i+'="'+n+'" '}return Ext.applyIf(e.callParent(arguments),{text:r,empty:r==="&#160;"||r===" "||r==="",menuDisabled:e.menuDisabled,tipMarkup:t,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(e){var t=this;t.applyColumnsState(e.columns);if(e.hidden!=null){t.hidden=e.hidden}if(e.locked!=null){t.locked=e.locked}if(e.sortable!=null){t.sortable=e.sortable}if(e.width!=null){t.flex=null;t.width=e.width}else if(e.flex!=null){t.width=null;t.flex=e.flex}},getColumnState:function(){var e=this,t=e.items.items,n=t?t.length:0,r,i=[],s={id:e.getStateId()};e.savePropsToState(["hidden","sortable","locked","flex","width"],s);if(e.isGroupHeader){for(r=0;r<n;r++){i.push(t[r].getColumnState())}if(i.length){s.columns=i}}else if(e.isSubHeader&&e.ownerCt.hidden){delete e.hidden}if("width"in s){delete s.flex}return s},getStateId:function(){return this.stateId||this.headerId},setText:function(e){this.text=e;if(this.rendered){this.textEl.setHtml(e)}},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.visibleIndex!=null?this.visibleIndex:this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var e=this,t=e.up("tablepanel");e.callParent();if(t){if((!e.sortable||t.sortableColumns===false)&&!e.groupable&&!e.lockable&&(t.enableColumnHide===false||!e.getOwnerHeaderCt().getHideableColumns().length)){e.menuDisabled=true}}if(e.cellWrap){e.variableRowHeight=true}e.protoEl.unselectable()},afterRender:function(){var e=this,t=e.triggerEl;e.callParent(arguments);if(t&&e.self.triggerElWidth===undefined){t.setStyle("display","block");e.self.triggerElWidth=t.getWidth();t.setStyle("display","")}},afterComponentLayout:function(e,t,n,r){var i=this,s=i.getOwnerHeaderCt();i.callParent(arguments);if(s&&(n!=null||i.flex)&&e!==n){s.onHeaderResize(i,e)}},onDestroy:function(){var e=this;Ext.destroy(e.field);e.field=null;e.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){if(this.triggerEl){this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(e,t){var n=this,r,i,s;if(n.isOnLeftEdge(e)){r=n.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(r&&r.getOwnerHeaderCt()===n.getOwnerHeaderCt()){r.autoSize()}}else if(n.isOnRightEdge(e)){if(n.isGroupHeader&&e.getPoint().isContainedBy(n.layout.innerCt)){i=n.query("gridcolumn:not([hidden]):not([isGroupHeader])");n.getOwnerHeaderCt().autoSizeColumn(i[i.length-1]);return}else{s=n.getOwnerHeaderCt();if(s.visibleColumnManager.getColumns().length===1&&s.forceFit){return}}n.autoSize()}},autoSize:function(){var e=this,t,n,r,i;if(e.isGroupHeader){t=e.query("gridcolumn:not([hidden]):not([isGroupHeader])");n=t.length;i=this.getOwnerHeaderCt();Ext.suspendLayouts();for(r=0;r<n;r++){i.autoSizeColumn(t[r])}Ext.resumeLayouts(true);return}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(e,t){var n=this,r,i;if(Ext.supports.Touch){i=n.previousSibling(":not([hidden])");if(!n.menuDisabled&&n.isOnRightEdge(e,parseInt(n.triggerEl.getStyle("width")))){if(!n.menuDisabled){r=n}}else if(i&&!i.menuDisabled&&n.isOnLeftEdge(e)){r=i}}else{r=n.triggerEl&&(e.target===n.triggerEl.dom||t===n.triggerEl.dom||e.within(n.triggerEl))?n:null}if(!r&&!n.isOnLeftEdge(e)&&!n.isOnRightEdge(e)||e.getKey()){n.toggleSortState()}return r},processEvent:function(e,t,n,r,i,s){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var e=this,t,n;if(e.sortable){t=Ext.Array.indexOf(e.possibleSortStates,e.sortState);n=(t+1)%e.possibleSortStates.length;e.sort()}},sort:function(e){var t=this,n=t.up("tablepanel"),r=n.store;Ext.suspendLayouts();t.sorting=true;r.sort(t.getSortParam(),e,n.multiColumnSort?"multi":"replace");delete t.sorting;Ext.resumeLayouts(true)},getSortParam:function(){return this.dataIndex},setSortState:function(e){var t=this,n=e&&e.getDirection(),r=t.ascSortCls,i=t.descSortCls,s=t.getOwnerHeaderCt(),o;switch(n){case"DESC":if(!t.hasCls(i)){t.addCls(i);t.sortState="DESC";o=true}t.removeCls(r);break;case"ASC":if(!t.hasCls(r)){t.addCls(r);t.sortState="ASC";o=true}t.removeCls(i);break;default:t.removeCls([r,i]);t.sortState=null;break}if(o){s.fireEvent("sortchange",s,t,n)}},isHideable:function(){var e={hideCandidate:this,result:this.hideable};if(e.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[e])}return e.result},hasOtherMenuEnabledChildren:function(e){var t,n;if(!this.isXType("headercontainer")){e.result=false;return false}t=this.query(">:not([hidden]):not([menuDisabled])");n=t.length;if(Ext.Array.contains(t,e.hideCandidate)){n--}if(n){return false}e.hideCandidate=this},isLockable:function(){var e={result:this.lockable!==false};if(e.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[e])}return e.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(e){if(!this.isXType("headercontainer")){e.result=false;return false}if(this.query(">:not([hidden])").length>1){return false}},hide:function(e){var t=this,n=t.getOwnerHeaderCt(),r=t.getRefOwner(),i,s,o,u,a;if(r.constructing){t.callParent();return t}if(t.rendered&&!t.isVisible()){return t}if(n.forceFit){t.visibleSiblingCount=n.getVisibleGridColumns().length-1;if(t.flex){t.savedWidth=t.getWidth();t.flex=null}}i=r.isGroupHeader;if(i&&!e){o=r.query(">:not([hidden])");if(o.length===1&&o[0]===t){t.ownerCt.hide();return}}Ext.suspendLayouts();if(t.isGroupHeader){o=t.items.items;for(a=0,u=o.length;a<u;a++){s=o[a];if(!s.hidden){s.hide(true)}}}t.callParent();n.onHeaderHide(t);Ext.resumeLayouts(true);return t},show:function(e,t){var n=this,r=n.getOwnerHeaderCt(),i=n.ownerCt,s,o,u,a;if(n.isVisible()){return n}if(n.rendered){if(r.forceFit){r.applyForceFit(n)}}Ext.suspendLayouts();if(n.isSubHeader&&i.hidden){i.show(false,true)}n.callParent(arguments);if(n.isGroupHeader&&t!==true&&!n.query(":not([hidden])").length){s=n.items.items;for(u=0,o=s.length;u<o;u++){a=s[u];if(a.hidden){a.show(true)}}}i=n.getOwnerHeaderCt();if(i){i.onHeaderShow(n)}Ext.resumeLayouts(true);return n},getCellWidth:function(){var e=this,t;if(e.rendered&&e.componentLayout&&e.componentLayout.lastComponentSize){t=e.componentLayout.lastComponentSize.width}else if(e.width){t=e.width}else if(!e.isColumn){t=e.getTableWidth()}return t},getCellId:function(){return Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellSelector:function(){return"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(e){return e.getXY()[0]-this.getX()<this.handleWidth},isOnRightEdge:function(e,t){return this.getX()+this.getWidth()-e.getXY()[0]<=(t||this.handleWidth)},setMenuActive:function(e){this.titleEl[e?"addCls":"removeCls"](this.headerOpenCls)},deprecated:{5:{methods:{bindRenderer:function(e){return function(t){return Ext.util.Format[e](t)}}}}}});Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:true,lockable:false,draggable:false,hideable:false,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:true,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"/>','<tpl if="checked !== null">','<input type="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" role="presentation" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var e=this;e.setupRenderer();e.origRenderer=e.renderer;e.origScope=e.scope||window;e.renderer=e.treeRenderer;e.scope=e;e.callParent()},treeRenderer:function(e,t,n,r,i,s,o){var u=this,a=n.get("cls"),f;if(a){t.tdCls+=" "+a}f=u.initTemplateRendererData(e,t,n,r,i,s,o);return u.getTpl("cellTpl").apply(f)},initTemplateRendererData:function(e,t,n,r,i,s,o){var u=this,a=u.origRenderer,f=n.data,l=n.parentNode,c=o.rootVisible,h=[],p;while(l&&(c||l.data.depth>0)){p=l.data;h[c?p.depth:p.depth-1]=p.isLast?0:1;l=l.parentNode}return{record:n,baseIconCls:u.iconCls,iconCls:f.iconCls,icon:f.icon,checkboxCls:u.checkboxCls,checked:f.checked,elbowCls:u.elbowCls,expanderCls:u.expanderCls,textCls:u.textCls,leaf:f.leaf,expandable:n.isExpandable(),isLast:n.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:f.href,hrefTarget:f.hrefTarget,lines:h,metaData:t,childCls:u.getChildCls?u.getChildCls()+" ":"",value:a?a.apply(u.origScope,arguments):e}}});Ext.define("Ext.grid.NavigationModel",{extend:"Ext.view.NavigationModel",alias:"view.navigation.grid",focusCls:Ext.baseCSSPrefix+"grid-item-focused",getViewListeners:function(){var e=this;return{containermousedown:e.onContainerMouseDown,cellmousedown:e.onCellMouseDown,cellclick:e.onCellClick,itemmousedown:e.onItemMouseDown,itemclick:e.onItemClick,itemcontextmenu:e.onItemClick,refresh:e.onViewRefresh,scope:e}},initKeyNav:function(e){var t=this;t.position=new Ext.grid.CellContext(e);t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:true,eventName:"cellkeydown",processEvent:function(e,t,n,r,i,s,o){return o},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:true,handler:t.onSelectAllKeyPress},scope:t})},onCellMouseDown:function(e,t,n,r,i,s,o){var u=o.parentEvent;if(!u||u.type!=="touchstart"){this.setPosition(o.position,null,o)}},onCellClick:function(e,t,n,r,i,s,o){if(this.position.isEqual(o.position)){this.fireNavigateEvent(o)}else{this.setPosition(o.position,null,o)}},onItemMouseDown:function(e,t,n,r,i){var s=this,o,u,a,f,l,c,h=i.parentEvent;if(!h||h.type!=="touchstart"){if(!i.position.cellElement){o=i.getX();u=e.getVisibleColumnManager().getColumns();a=u.length;for(f=0;f<a;f++){l=u[f];c=u[f].getBox();if(o>=c.left&&o<c.right){s.setPosition(t,u[f],i);return}}}}},onItemClick:function(e,t,n,r,i){if(!i.position.cellElement){this.fireNavigateEvent(i)}},deferSetPosition:function(e,t,n,r,i,s){var o=this.view.getFocusTask();o.delay(e,this.setPosition,this,[t,n,r,i,s]);return o},setPosition:function(e,t,n,r,i){var s=this,o,u,a,f,l,c,h,p=e==null&&t==null,d=s.record==null&&s.recordIndex==null&&s.item==null;if(e&&e.isCellContext){o=e.view}else if(n&&n.view){o=n.view}else if(s.lastFocused){o=s.lastFocused.view}else{o=s.view}u=o.getSelectionModel();a=o.dataSource;o.getFocusTask().cancel();if(o.isDestroyed||!o.refreshCounter||p&&d){return}if(e&&e.isCellContext){c=e.record;f=e.rowIdx;l=e.colIdx;h=e.column}else{if(p){c=f=null}else{if(t==null){t=s.lastFocused?s.lastFocused.column:0}if(typeof e==="number"){f=Math.max(Math.min(e,a.getCount()-1),0);c=a.getAt(e)}else if(e.isEntity){c=e;f=a.indexOf(c);if(f===-1){c=null}}else if(e.tagName){c=o.getRecord(e);f=a.indexOf(c);if(f===-1){c=null}}else{if(d){return}p=true;c=f=null}}if(c){if(t==null){if(!(h=s.column)){l=0;h=o.getVisibleColumnManager().getColumns()[l]}}else if(typeof t==="number"){h=o.getVisibleColumnManager().getColumns()[t];l=t}else{h=t;l=o.getVisibleColumnManager().indexOf(t)}}else{p=true;h=l=null}}if(f===s.recordIndex&&l===s.columnIndex){return}if(s.cell){s.cell.removeCls(s.focusCls)}s.previousRecordIndex=s.recordIndex;s.previousRecord=s.record;s.previousItem=s.item;s.previousCell=s.cell;s.previousColumn=s.column;s.previousColumnIndex=s.columnIndex;s.previousPosition=s.position.clone();s.position.setAll(o,s.recordIndex=f,s.columnIndex=l,s.record=c,s.column=h);if(p){s.item=s.cell=null}else{s.focusPosition(s.position)}if(!r){u.fireEvent("focuschange",u,s.previousRecord,s.record);o.fireEvent("rowfocus",s.record,s.item,s.recordIndex);o.fireEvent("cellfocus",s.record,s.cell,s.position)}if(!i&&s.cell!==s.previousCell){s.fireNavigateEvent(n)}},focusPosition:function(e){var t=this,n,r;t.item=t.cell=null;if(e&&e.record&&e.column){n=e.view;if(e.rowElement){r=t.item=e.rowElement}else{r=n.getRowByRecord(e.record)}if(r){t.cell=e.cellElement||Ext.fly(r).down(e.column.getCellSelector(),true);if(t.cell){t.cell=new Ext.dom.Fly(t.cell);n.lastFocused=t.lastFocused=t.position.clone();t.focusItem(t.cell);n.focusEl=t.cell}else{t.position.setAll();t.record=t.column=t.recordIndex=t.columnIndex=null}}else{r=e.rowIdx;t.position.setAll();t.record=t.column=t.recordIndex=t.columnIndex=null;if(n.bufferedRenderer){n.bufferedRenderer.scrollTo(r,false,t.afterBufferedScrollTo,t)}}}},focusItem:function(e){e.addCls(this.focusCls);e.focus()},getCell:function(){return this.cell},getPosition:function(){var e=this,t=e.position,n;if(t.record&&t.column){n=t.view;if(n.dataSource.indexOf(t.record)===-1||n.getVisibleColumnManager().indexOf(t.column)==-1){t.setAll();e.record=e.column=e.recordIndex=e.columnIndex=null}else{return t}}},getLastFocused:function(){var e=this,t,n=e.lastFocused;if(n&&n.record&&n.column){t=n.view;if(t.dataSource.indexOf(n.record)!==-1&&t.getVisibleColumnManager().indexOf(n.column)!==-1){return n}}},onKeyUp:function(e){var t=e.view.walkRecs(e.record,-1);if(t){this.setPosition(t,this.columnIndex,e)}},onKeyDown:function(e){var t=e.record.isExpandingOrCollapsing?null:e.view.walkRecs(e.record,1);if(t){this.setPosition(t,this.columnIndex,e)}},onKeyRight:function(e){var t=this.move("right",e);if(t){this.setPosition(t,null,e)}},onKeyLeft:function(e){var t=this.move("left",e);if(t){this.setPosition(t,null,e)}},move:function(e,t){var n=this,r=n.getPosition();if(r&&r.record){return r.view.walkCells(r,e,null,n.preventWrap)}return null},onKeyPageDown:function(e){var t=this,n=e.view,r=t.getRowsVisible(),i,s;if(r){if(n.bufferedRenderer){i=Math.min(e.recordIndex+r,n.dataSource.getCount()-1);t.lastKeyEvent=e;n.bufferedRenderer.scrollTo(i,false,t.afterBufferedScrollTo,t)}else{s=n.walkRecs(e.record,r);t.setPosition(s,null,e)}}},onKeyPageUp:function(e){var t=this,n=e.view,r=t.getRowsVisible(),i,s;if(r){if(n.bufferedRenderer){i=Math.max(e.recordIndex-r,0);t.lastKeyEvent=e;n.bufferedRenderer.scrollTo(i,false,t.afterBufferedScrollTo,t)}else{s=n.walkRecs(e.record,-r);t.setPosition(s,null,e)}}},onKeyHome:function(e){var t=this,n=e.view;if(e.altKey){if(n.bufferedRenderer){t.lastKeyEvent=e;n.bufferedRenderer.scrollTo(0,false,t.afterBufferedScrollTo,t)}else{t.setPosition(n.walkRecs(e.record,-n.dataSource.indexOf(e.record)),null,e)}}else{t.setPosition(e.record,0,e)}},afterBufferedScrollTo:function(e,t){this.setPosition(t,null,this.lastKeyEvent)},onKeyEnd:function(e){var t=this,n=e.view;if(e.altKey){if(n.bufferedRenderer){t.lastKeyEvent=e;n.bufferedRenderer.scrollTo(n.store.getCount()-1,false,t.afterBufferedScrollTo,t)}else{t.setPosition(n.walkRecs(e.record,n.dataSource.getCount()-1-n.dataSource.indexOf(e.record)),null,e)}}else{t.setPosition(e.record,e.view.getVisibleColumnManager().getColumns().length-1,e)}},getRowsVisible:function(){var e=false,t=this.view,n=t.all.first(),r,i;if(n){r=n.getHeight();i=t.el.getHeight();e=Math.floor(i/r)}return e},fireNavigateEvent:function(e){var t=this;t.fireEvent("navigate",{view:t.position.view,navigationModel:t,keyEvent:e||new Ext.event.Event({}),previousPosition:t.previousPosition,previousRecordIndex:t.previousRecordIndex,previousRecord:t.previousRecord,previousItem:t.previousItem,previousCell:t.previousCell,previousColumnIndex:t.previousColumnIndex,previousColumn:t.previousColumn,position:t.position,recordIndex:t.recordIndex,record:t.record,item:t.item,cell:t.cell,columnIndex:t.columnIndex,column:t.column})}});Ext.define("Ext.tree.NavigationModel",{extend:"Ext.grid.NavigationModel",alias:"view.navigation.tree",initKeyNav:function(e){var t=this;t.callParent([e]);t.keyNav.map.addBinding([{key:"8",shift:true,handler:t.onAsterisk,scope:t},{key:Ext.event.Event.NUM_MULTIPLY,handler:t.onAsterisk,scope:t}])},onKeyLeft:function(e){var t=this,n=t.view,r=t.record;if(!r.isLeaf()&&r.isExpanded()){n.collapse(r)}else{r=r.parentNode;if(r&&!(r.isRoot()&&!n.rootVisible)){t.setPosition(r,null,e)}}},onKeyRight:function(e){var t=this,n=t.record;if(!n.isLeaf()){if(!n.isExpanded()){t.view.expand(n)}else{n=n.childNodes[0];if(n){t.setPosition(n)}}}},onKeyEnter:function(e){if(this.record.data.checked!=null){this.toggleCheck(e)}else{this.callParent([e])}},onKeySpace:function(e){if(this.record.data.checked!=null){this.toggleCheck(e)}else{this.callParent([e])}},toggleCheck:function(e){this.view.onCheckChange(this.record)},onAsterisk:function(e){this.view.ownerCt.expandAll()}});Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore","Ext.tree.NavigationModel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",rowLines:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:true,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(e){e=e||{};if(e.animate===undefined){e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=e.animate;delete e.animate;this.callParent([e])},initComponent:function(){var e=this,t=[e.treeCls],n=e.store,r;if(e.useArrows){t.push(e.arrowCls);e.lines=false}if(e.lines){t.push(e.linesCls)}else if(!e.useArrows){t.push(e.noLinesCls)}if(Ext.isString(n)){n=e.store=Ext.StoreMgr.lookup(n)}else if(!n||!n.isStore){n=Ext.apply({type:"tree",root:e.root,fields:e.fields,model:e.model,proxy:"memory",folderSort:e.folderSort},n);n=e.store=Ext.StoreMgr.lookup(n)}else if(e.root){n=e.store=Ext.data.StoreManager.lookup(n);n.setRoot(e.root);if(e.folderSort!==undefined){n.folderSort=e.folderSort;n.sort()}}n.setRootVisible(e.rootVisible);if(!n.getRoot()){n.setRoot({})}e.viewConfig=Ext.apply({rootVisible:e.rootVisible,animate:e.enableAnimations,singleExpand:e.singleExpand,node:n.getRoot(),hideHeaders:e.hideHeaders,navigationModel:"tree"},e.viewConfig);if(!e.columns){if(e.initialConfig.hideHeaders===undefined){e.hideHeaders=true}e.addCls(e.autoWidthCls);e.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:e.displayField}]}if(e.cls){t.push(e.cls)}e.cls=t.join(" ");e.callParent();r=e.getView();e.relayEvents(r,["checkchange","afteritemexpand","afteritemcollapse"])},getSelectionModel:function(){var e=this.callParent();e.treeStore=this.getStore();return e},bindStore:function(e,t){var n=this,r=e.getRoot(),i=n.bufferedRenderer;n.callParent(arguments);if(i){if(i.store){i.bindStore(e)}}else{i={xclass:"Ext.grid.plugin.BufferedRenderer"};Ext.copyTo(i,n,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer");n.bufferedRenderer=i=n.addPlugin(i)}e.singleExpand=n.singleExpand;n.storeListeners=n.mon(e,{destroyable:true,rootchange:n.onRootChange,scope:n});n.storeRelayers=n.relayEvents(e,["beforeload","load"]);n.rootRelayers=n.mon(r,{destroyable:true,append:n.createRelayer("itemappend"),remove:n.createRelayer("itemremove"),move:n.createRelayer("itemmove",[0,4]),insert:n.createRelayer("iteminsert"),beforeappend:n.createRelayer("beforeitemappend"),beforeremove:n.createRelayer("beforeitemremove"),beforemove:n.createRelayer("beforeitemmove"),beforeinsert:n.createRelayer("beforeiteminsert"),expand:n.createRelayer("itemexpand",[0,1]),collapse:n.createRelayer("itemcollapse",[0,1]),beforeexpand:n.createRelayer("beforeitemexpand",[0,1]),beforecollapse:n.createRelayer("beforeitemcollapse",[0,1])});if(!n.rootVisible&&!e.autoLoad&&!(r.isExpanded()||r.isLoading())){if(r.isLoaded()){r.data.expanded=true;e.onNodeExpand(r,r.childNodes)}else{r.data.expanded=false;r.expand()}}e.ownerTree=n;if(!t){n.view.setRootNode(r,true)}},unbindStore:function(){var e=this,t=e.store;if(t){e.callParent();Ext.destroy(e.storeListeners,e.storeRelayers,e.rootRelayers);delete t.ownerTree;t.singleExpand=null}},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,n,r){return this.getView().expand(e,t,n,r||this)},collapseNode:function(e,t,n,r){return this.getView().collapse(e,t,n,r||this)},expandAll:function(e,t){var n=this,r=n.getRootNode(),i=n.enableAnimations;if(r){if(!i){Ext.suspendLayouts()}r.expand(true,e,t||n);if(!i){Ext.resumeLayouts(true)}}},collapseAll:function(e,t){var n=this,r=n.getRootNode(),i=n.enableAnimations,s=n.getView();if(r){if(!i){Ext.suspendLayouts()}t=t||n;if(s.rootVisible){r.collapse(true,e,t)}else{r.collapseChildren(true,e,t)}if(!i){Ext.resumeLayouts(true)}}},expandPath:function(e,t,n,r,i){var s=this,o=s.getRootNode(),u=1,a,f;t=t||s.getRootNode().idProperty;n=n||"/";if(Ext.isEmpty(e)){Ext.callback(r,i||s,[false,null]);return}a=e.split(n);if(o.get(t)!=a[1]){Ext.callback(r,i||s,[false,o]);return}f=function(){if(++u===a.length){Ext.callback(r,i||s,[true,o]);return}var e=o.findChild(t,a[u]);if(!e){Ext.callback(r,i||s,[false,o]);return}o=e;o.expand(false,f)};o.expand(false,f)},selectPath:function(e,t,n,r,i){var s=this,o,u,a;t=t||s.getRootNode().idProperty;n=n||"/";u=e.split(n);a=u.pop();if(u.length>1){s.expandPath(u.join(n),t,n,function(e,n){var o=n;if(e&&n){n=n.findChild(t,a);if(n){s.getSelectionModel().select(n);Ext.callback(r,i||s,[true,n]);return}}Ext.callback(r,i||s,[false,o])},s)}else{o=s.getRootNode();if(o.getId()===a){s.getSelectionModel().select(o);Ext.callback(r,i||s,[true,o])}else{Ext.callback(r,i||s,[false,null])}}}});Ext.define("Ext.form.field.VTypes",function(){var e=/^[a-zA-Z_]+$/,t=/^[a-zA-Z0-9_]+$/,n=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,r=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(e){return n.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return r.test(e)},urlText:'This field should be a URL in the format "http:/'+'/www.example.com"',alpha:function(t){return e.test(t)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return t.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}());Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",requires:["Ext.util.ClickRepeater"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"trigger"},repeatClick:false,hidden:false,hideOnReadOnly:undefined,weight:0,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>>',"{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(e,t){return e.weight-t.weight}},constructor:function(e){var t=this,n;Ext.apply(t,e);if(t.compat4Mode){n=t.cls;t.focusCls=[t.focusCls,n+"-focus"];t.overCls=[t.overCls,n+"-over"];t.clickCls=[t.clickCls,n+"-click"]}if(!t.validIdRe.test(t.id)){Ext.Error.raise('Invalid trigger "id": "'+t.id+'"')}},afterFieldRender:function(){this.initEvents()},destroy:function(){var e=this,t=e.clickRepeater;if(t){t.destroy()}if(e.el){e.el.destroy()}e.el=null;e.isDestroyed=true},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var e=this,t=e.el;e.hidden=true;if(t){t.hide()}},initEvents:function(){var e=this,t=e.isFieldEnabled,n=e.getStateEl(),r=e.el;n.addClsOnOver(e.overCls,t,e);n.addClsOnClick(e.clickCls,t,e);if(e.repeatClick){e.clickRepeater=new Ext.util.ClickRepeater(r,{preventDefault:true,handler:e.onClick,listeners:{mousedown:e.onClickRepeaterMouseDown,scope:e},scope:e})}else{e.field.mon(r,{click:e.onClick,mousedown:e.onMouseDown,scope:e})}},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var e=this,t=e.field,n=false;if(e.hidden||!t||!e.rendered||e.isDestroyed){n=true}return!n},onClick:function(){var e=this,t=arguments,n=e.clickRepeater?t[1]:t[0],r=e.handler,i=e.field;if(r&&!i.readOnly&&e.isFieldEnabled()){Ext.callback(e.handler,e.scope,[i,e,n],0,i)}},resolveListenerScope:function(e){return this.field.resolveListenerScope(e)},onMouseDown:function(e){if(!e.parentEvent||e.parentEvent.type==="mousedown"){this.field.inputEl.focus()}e.preventDefault()},onClickRepeaterMouseDown:function(e,t){if(!t.parentEvent||t.parentEvent.type==="mousedown"){this.field.inputEl.focus()}t.preventDefault()},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var e=this,t=e.el=e.field.triggerWrap.selectNode("#"+e.domId,false);t.setVisibilityMode(Ext.Element.DISPLAY);e.rendered=true},renderBody:function(e){var t=this,n=t.bodyTpl;Ext.apply(e,t.getBodyRenderData());return n?Ext.XTemplate.getTpl(t,"bodyTpl").apply(e):""},renderTrigger:function(e){var t=this,n=t.width,r=t.hidden?"display:none;":"";if(n){r+="width:"+n}return Ext.XTemplate.getTpl(t,"renderTpl").apply({$trigger:t,fieldData:e,ui:e.ui,childElCls:e.childElCls,triggerId:t.domId=t.field.id+"-trigger-"+t.id,cls:t.cls,triggerStyle:r,extraCls:t.extraCls,baseCls:t.baseCls})},setHidden:function(e){if(e!==this.hidden){this[e?"hide":"show"]()}},setVisible:function(e){this.setHidden(!e)},show:function(){var e=this,t=e.el;e.hidden=false;if(t){t.show()}}});Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.form.trigger.Trigger","Ext.util.TextMetrics"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:false,triggers:undefined},growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",valueContainsPlaceholder:false,ariaRole:"textbox",editable:true,repeatTriggerClick:false,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",monitorTab:true,mimicing:false,needArrowKeys:true,childEls:["triggerWrap","inputWrap"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:["</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var e=this,t=e.emptyCls;if(e.allowOnlyWhitespace===false){e.allowBlank=false}if(e.size){Ext.log.warn('Ext.form.field.Text "size" config was deprecated in Ext 5.0. Please specify a "width" or use a layout instead.')}if(e.size){e.defaultBodyWidth=e.size*6.5+20}if(!e.onTrigger1Click){e.onTrigger1Click=e.onTriggerClick}e.callParent();e.setReadOnly(e.readOnly);e.fieldFocusCls=e.baseCls+"-focus";e.emptyUICls=t+" "+t+"-"+e.ui;e.addStateEvents("change")},initEvents:function(){var e=this,t=e.inputEl;e.callParent();if(e.selectOnFocus||e.emptyText){e.mon(t,"mousedown",e.onMouseDown,e)}if(e.maskRe||e.vtype&&e.disableKeyFilter!==true&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"])){e.mon(t,"keypress",e.filterKeys,e)}if(e.enableKeyEvents){e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})}},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(e,t){this.callParent(arguments);this.autoSize()},getSubTplData:function(e){var t=this,n=t.getRawValue(),r=t.emptyText&&n.length<1,i=t.maxLength,s;if(t.enforceMaxLength){if(i===Number.MAX_VALUE){i=undefined}}else{i=undefined}if(r){if(Ext.supports.Placeholder){s=t.emptyText}else{n=t.emptyText;t.valueContainsPlaceholder=true}}return Ext.apply(t.callParent(arguments),{triggerWrapCls:t.triggerWrapCls,inputWrapCls:t.inputWrapCls,triggers:t.orderedTriggers,maxLength:i,readOnly:!t.editable||t.readOnly,placeholder:s,value:n,fieldCls:t.fieldCls+(r&&(s||n)?" "+t.emptyUICls:"")+(t.allowBlank?"":" "+t.requiredCls)})},onRender:function(){var e=this,t=e.getTriggers(),n=[],r,i;if(Ext.supports.FixedTableWidthBug){e.el._needsTableWidthFix=true}e.callParent();if(t){this.invokeTriggers("onFieldRender");for(r in t){n.push(t[r].el)}i=e.triggerEl=e.triggerCell=new Ext.CompositeElement(n,true)}e.inputCell=e.inputWrap},afterRender:function(){var e=this;e.autoSize();e.callParent();this.invokeTriggers("afterFieldRender")},onMouseDown:function(){var e=this;if(!e.hasFocus){e.mon(e.inputEl,"mouseup",Ext.emptyFn,e,{single:true,preventDefault:true})}},applyTriggers:function(e){var t=this,n=t.getHideTrigger(),r=t.readOnly,i=t.orderedTriggers=[],s=t.repeatTriggerClick,o,u,a,f,l;if(t.rendered){Ext.Error.raise("Cannot set triggers after field has already been rendered.")}if(t.triggerCls&&!e||t.trigger1Cls){Ext.log.warn("Ext.form.field.Text: 'triggerCls' and 'trigger<n>Cls'"+" are deprecated.  Use 'triggers' instead.")}if(!e){e={};if(t.triggerCls&&!t.trigger1Cls){t.trigger1Cls=t.triggerCls}for(l=1;f=t["trigger"+l+"Cls"];l++){e["trigger"+l]={cls:f,extraCls:Ext.baseCSSPrefix+"trigger-index-"+l,handler:"onTrigger"+l+"Click",compat4Mode:true,scope:t}}}for(o in e){if(e.hasOwnProperty(o)){u=e[o];u.field=t;u.id=o;if(r&&u.hideOnReadOnly!==false||n&&u.hidden!==false){u.hidden=true}if(s&&u.repeatClick!==false){u.repeatClick=true}a=e[o]=Ext.form.trigger.Trigger.create(u);i.push(a)}}Ext.Array.sort(i,Ext.form.trigger.Trigger.weightComparator);return e},invokeTriggers:function(e,t){var n=this,r=n.getTriggers(),i,s;if(r){for(i in r){if(r.hasOwnProperty(i)){s=r[i];s[e].apply(s,t||[])}}}},getTrigger:function(e){return this.getTriggers()[e]},updateHideTrigger:function(e){if(this.rendered){this.invokeTriggers(e?"hide":"show")}},setEditable:function(e){var t=this;t.editable=e;if(t.rendered){t.setReadOnlyAttr(!e||t.readOnly)}},setReadOnly:function(e){var t=this,n=t.getTriggers(),r=t.getHideTrigger(),i,s;e=!!e;t.callParent([e]);if(t.rendered){t.setReadOnlyAttr(e||!t.editable);if(n){for(s in n){i=n[s];if(i.hideOnReadOnly===true||i.hideOnReadOnly!==false&&!r){i[e?"hide":"show"].call(i)}}}}},setReadOnlyAttr:function(e){var t=this,n="readonly",r=t.inputEl.dom;if(e){r.setAttribute(n,n)}else{r.removeAttribute(n)}},processRawValue:function(e){var t=this,n=t.stripCharsRe,r;if(n){r=e.replace(n,"");if(r!==e){t.setRawValue(r);e=r}}return e},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var e=this,t=e.emptyText,n;if(e.rendered&&t){n=e.getRawValue().length<1&&!e.hasFocus;if(Ext.supports.Placeholder){e.inputEl.dom.placeholder=t}else if(n){e.setRawValue(t);e.valueContainsPlaceholder=true}if(n){e.inputEl.addCls(e.emptyUICls)}e.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var e=this.inputEl;if(e){e.dom.unselectable="on"}}},toggleInvalidCls:function(e){var t=e?"addCls":"removeCls";this.callParent();this.triggerWrap[t](this.triggerWrapInvalidCls);this.inputWrap[t](this.inputWrapInvalidCls)},beforeFocus:function(){var e=this,t=e.inputEl,n=e.emptyText,r;e.callParent(arguments);if(n&&!Ext.supports.Placeholder&&t.dom.value===e.emptyText&&e.valueContainsPlaceholder){e.setRawValue("");r=true;t.removeCls(e.emptyUICls);e.valueContainsPlaceholder=false}else if(Ext.supports.Placeholder){t.removeCls(e.emptyUICls)}if(e.selectOnFocus||r){if(Ext.isWebKit){if(!e.inputFocusTask){e.inputFocusTask=new Ext.util.DelayedTask(e.focusInput,e)}e.inputFocusTask.delay(1)}else{e.focusInput()}}},focusInput:function(){var e=this.inputEl;if(e){e=e.dom;if(e){e.select()}}},onFocus:function(e){var t=this;t.callParent(arguments);if(t.emptyText){t.autoSize()}t.addCls(t.fieldFocusCls);t.triggerWrap.addCls(t.triggerWrapFocusCls);t.inputWrap.addCls(t.inputWrapFocusCls);t.invokeTriggers("onFieldFocus",[e])},onBlur:function(e){var t=this;t.callParent(arguments);t.removeCls(t.fieldFocusCls);t.triggerWrap.removeCls(t.triggerWrapFocusCls);t.inputWrap.removeCls(t.inputWrapFocusCls);t.invokeTriggers("onFieldBlur",[e]);t.postBlur()},postBlur:function(){var e=this.inputFocusTask;this.callParent(arguments);this.applyEmptyText();if(e){e.cancel()}},filterKeys:function(e){if(e.ctrlKey&&!e.altKey){return}var t=e.getKey(),n=String.fromCharCode(e.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(e.isNavKeyPress()||t===e.BACKSPACE||t===e.DELETE&&e.button===-1)){return}if(!Ext.isGecko&&!Ext.isOpera&&e.isSpecialKey()&&!n){return}if(!this.maskRe.test(n)){e.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent(arguments);if(e.hasOwnProperty("value")){this.setValue(e.value)}},getRawValue:function(){var e=this,t=e.callParent();if(t===e.emptyText&&e.valueContainsPlaceholder){t=""}return t},setValue:function(e){var t=this,n=t.inputEl;if(n&&t.emptyText&&!Ext.isEmpty(e)){n.removeCls(t.emptyUICls);t.valueContainsPlaceholder=false}t.callParent(arguments);t.applyEmptyText();return t},getErrors:function(e){e=arguments.length?e==null?"":e:this.processRawValue(this.getRawValue());var t=this,n=t.callParent([e]),r=t.validator,i=t.vtype,s=Ext.form.field.VTypes,o=t.regex,u=Ext.String.format,a,f,l;if(Ext.isFunction(r)){a=r.call(t,e);if(a!==true){n.push(a)}}f=t.allowOnlyWhitespace?e:Ext.String.trim(e);if(f.length<1||e===t.emptyText&&t.valueContainsPlaceholder){if(!t.allowBlank){n.push(t.blankText)}if(!t.validateBlank){return n}l=true}if(!l&&e.length<t.minLength){n.push(u(t.minLengthText,t.minLength))}if(e.length>t.maxLength){n.push(u(t.maxLengthText,t.maxLength))}if(i){if(!s[i](e,t)){n.push(t.vtypeText||s[i+"Text"])}}if(o&&!o.test(e)){n.push(t.regexText||t.invalidText)}return n},selectText:function(e,t){var n=this,r=n.getRawValue(),i=true,s=n.inputEl.dom,o,u;if(r.length>0){e=e===o?0:e;t=t===o?r.length:t;if(s.setSelectionRange){s.setSelectionRange(e,t)}else if(s.createTextRange){u=s.createTextRange();u.moveStart("character",e);u.moveEnd("character",t-r.length);u.select()}i=Ext.isGecko||Ext.isOpera}if(i){n.focus()}},autoSize:function(){var e=this,t,n,r,i,s,o,u,a;if(e.grow&&e.rendered&&e.getSizeModel().width.auto){s=e.inputEl;t=e.getTriggers();i=0;a=Ext.util.Format.htmlEncode(s.dom.value||(e.hasFocus?"":e.emptyText)||"");a+=e.growAppend;for(n in t){i+=t[n].el.getWidth()}u=s.getTextWidth(a)+i+e.inputWrap.getBorderWidth("lr")+e.triggerWrap.getBorderWidth("lr");u=Math.min(Math.max(u,e.growMin),e.growMax);e.bodyEl.setWidth(u);e.updateLayout();e.fireEvent("autosize",e,u)}},onDestroy:function(){var e=this;e.invokeTriggers("destroy");Ext.destroy(e.triggerRepeater);e.callParent();if(e.inputFocusTask){e.inputFocusTask.cancel();e.inputFocusTask=null}},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var e=this.getTriggers(),t=0,n;if(e&&this.rendered){for(n in e){if(e.hasOwnProperty(n)){t+=e[n].el.getWidth()}}}return t}}}}});Ext.define("Ext.app.bindinspector.ComponentList",{alias:"widget.bindinspector-componentlist",extend:"Ext.tree.Panel",requires:["Ext.form.field.Text"],rootVisible:false,title:"Component Tree",hideHeaders:true,bindingsIconCls:Ext.baseCSSPrefix+"bindings-icon",vmIconCls:Ext.baseCSSPrefix+"vm-icon",missingDataCls:Ext.baseCSSPrefix+"bindinspector-missing-data",filterVisibleCls:Ext.baseCSSPrefix+"bindinspector-filter-visible",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",bindingsIcon:"",vmIcon:"",initComponent:function(){var e=this,t=[];e.viewConfig={toggleOnDblClick:false,getRowClass:function(t,n,r,i){var s=[];if(t.get("filtervisible")){s.push(e.filterVisibleCls)}if(t.get("sansData")){s.push(e.missingDataCls)}if(n===i.getCount()-1){s.push(e.lastItemCls)}return s.join(" ")}};Ext.Array.forEach(e.components,function(n){t.push(e.buildNode(n))},e);e.store={model:e.Model,root:{expanded:true,children:t}};e.columns=[{itemId:"srcVMIndicator",width:40,hidden:true,renderer:e.srcVMIndicator,scope:e},{xtype:"treecolumn",dataIndex:"text",flex:1}];e.dockedItems=[{xtype:"toolbar",itemId:"queryFieldTb",dock:"top",items:[{xtype:"textfield",reference:"queryField",itemId:"queryField",emptyText:"simple search by reference / ID or use a component query...",flex:1,triggers:{clear:{cls:Ext.baseCSSPrefix+"form-clear-trigger",handler:function(e){var t=e.up("treepanel"),n=t.store;e.reset();t.clearComponentFilter();e.focus()}}},listeners:{change:{fn:e.filterComponentTree,buffer:250,scope:e},afterrender:{fn:function(t){var n=t.up("toolbar").getEl();t.mon(n,"mouseenter",function(){var t=e.bindingsTip,r,i,s;t.stopAnimation();t.update("<b>Simple Search</b><br>Enter the string matching the reference or ID of the target component<hr><b>Component Query</b><br>Enter a component query string to find any items matching the query");t.setTarget(n);t.show();i=t.getX();s=t.getY();r=t.getAlignToXY(n,"l-r");t.animate({from:{opacity:0,x:r[0]+20,y:r[1]},to:{opacity:1,x:r[0]+10,y:r[1]}})})},scope:e}}}]},{xtype:"toolbar",cls:Ext.baseCSSPrefix+"vm-results-tb",itemId:"vmQueryResultsTb",hidden:true,dock:"top",defaultButtonUI:"default",items:["->",{text:"Clear VM Filter",handler:function(){console.log(this.up("#vmQueryResultsTb"));var e=this.up("#vmQueryResultsTb"),t=e.up("bindinspector-componentlist"),n=t.down("#queryFieldTb"),r=n.down("#queryField");e.hide();n.show();t.clearVMSearchIndicators();r.setValue(r.lastValue);t.filterComponentTree(null,r.lastValue)}}]}];e.callParent();e.getView().on("itemdblclick",e.onItemDblclick,e);e.on("select",e.onItemSelect,e);e.bindingsTip=Ext.create("Ext.tip.ToolTip",{renderTo:document.body,anchor:"left",cls:Ext.baseCSSPrefix+"componentlist-tip",bodyPadding:12});e.getView().on("itemmouseenter",e.showBindingsTip,e)},clearVMSearchIndicators:function(){var e=this.indicatedVM;Ext.suspendLayouts();if(e){Ext.Array.forEach(e,function(e){e.set("isSrcVM",false)})}this.down("#srcVMIndicator").hide();Ext.resumeLayouts(true);this.indicatedVM=null},srcVMIndicator:function(e,t,n){var r=n.get("isSrcVM"),i="",s,o,u,a;if(r){s=this.up("bindinspector-container").down("bindinspector-viewmodeldetail");o=s.getFirstTierRec(r);u=o.get("name");if(o!==r){i+="Root data node: &nbsp;<span class='"+Ext.baseCSSPrefix+"binding-tip-descriptor'>"+u+"</span><hr>"}a=o===r?o:r;i+=a.get("name")+":";i+="<br>&nbsp;&nbsp;&nbsp;&nbsp;";i+="<span class='"+Ext.baseCSSPrefix+"binding-tip-value'>"+Ext.app.bindinspector.Util.valueRenderer(a.get("value"))+"</span>";t.tdCls=Ext.baseCSSPrefix+"bindindicator-vm-src";t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="'+i+'"'}},onDestroy:function(){this.bindingsTip.destroy();this.callParent()},showBindingsTip:function(e,t,n,r,i){var s=this,o=s.bindingsTip,u=t.get("sansData"),a,f;o.stopAnimation();if(t.get("hasBindings")){a=s.ownerCt.env.getCmp(t.get("id")).bindings;f=[];Ext.Object.each(a,function(e,t,n){var r=e+": "+'<span class="'+Ext.baseCSSPrefix+'binding-tip-descriptor">'+t.descriptor+"</span><br>",i=t.value,s;if(Ext.isString(i)){s=i}else if(Ext.isObject(i)){if(i.isStore===true){s="Store {"+i.entityName+"}"}else if(i.isModel===true){s="Model {"+i.entityName+"}"}}r+='<span class="'+Ext.baseCSSPrefix+'binding-tip-value">'+s+"</span>";f.push(r)});f=f.join("<hr>");if(u){f+="<hr>";Ext.Array.forEach(u,function(e){f+='<div class="'+Ext.baseCSSPrefix+'binding-missing-data">Missing data: '+e+"</div>"})}o.update(f);o.setTarget(n);o.show();o.alignTo(n,"l-r",[20,0]);o.animate({from:{opacity:0},to:{opacity:1,x:o.getX()-10}})}},filterComponentTree:function(e,t){var n=this,e=n.down("#queryField"),r=t||e.getValue(),i=n.store,s=/[\s>\[\]=()^'"~$@*:+#,]/g,o=Ext.isArray(r),u=o?r:[],a=[],f,l,c;if(Ext.isString(r)){f=s.test(Ext.String.trim(r))}if(r.length>0){n.filteredComponents=[];if(f){try{a=Ext.ComponentQuery.query(r)}catch(h){}l=a.length;for(c=0;c<l;c++){u.push(a[c].id)}}i.suspendEvents();i.filter({filterFn:function(e){var t=e.childNodes,i=t&&t.length,s=false,a,l;if(f||o){s=Ext.Array.contains(u,e.get("id"))}else{s=e.get("text").indexOf(r)>-1}e.set("filtervisible",s);if(s){n.filteredComponents.push(e)}for(l=0;l<i;l++){if(t[l].get("visible")){s=true}}return s},id:"queryFilter"});i.resumeEvents();n.getView().refresh()}else{n.clearComponentFilter()}},clearComponentFilter:function(){var e=this,t=e.store,n=e.filteredComponents||[],r=n.length,i=0;for(;i<r;i++){n[i].set("filtervisible",false)}t.clearFilter()},buildNode:function(e){var t=this,n=t.getRefOwner(),r=e.items,i=e.viewModel,s=e.bindings,o=!!e.bindings,u=[],a=[],f={},l,c,h,p,d,v,m,g;if(i){u.push('<span class="'+t.vmIconCls+'">'+t.vmIcon+"</span>");n.buildVMDataMap(i)}if(o){u.push('<span class="'+t.bindingsIconCls+'">'+t.bindingsIcon+"</span>");for(m in s){l=s[m];if(l.descriptor&&Ext.isEmpty(l.value)){a.push(f[m]=l.descriptor)}}g=e.bindData=Ext.app.bindinspector.Util.buildBindData(s)}if(a.length===0){a=undefined}v=e.reference?"<b>["+e.reference+"]</b> &bull; ":"";p={id:e.id,text:v+e.id+(u.length?" "+u.join(" "):""),hasViewModel:!!i,hasBindings:o,hasDeepBindings:o,reference:e.reference,sansData:a,bindData:g,children:[]};if(r){for(h=0,c=r.length;h<c;++h){d=t.buildNode(r[h]);p.hasDeepBindings=p.hasDeepBindings||d.hasDeepBindings;if(d.hasDeepBindings){p.children.push(d)}}}if(p.children.length){p.expanded=true;p.leaf=false}else{p.leaf=true}return p},onItemDblclick:function(e,t){this.fireEvent("componentdblclick",this,t)},onItemSelect:function(e,t){var n=this.getView().getNode(t);this.fireEvent("componentselect",this,t,n)}},function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:["hasViewModel","hasBindings","reference","hasDeepBindings","reference","sansData","bindData","isSrcVM"]})});Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();e.xclass="Ext.resizer.BorderSplitterTracker";return e}});Ext.define("Ext.layout.container.Border",{extend:"Ext.layout.container.Container",alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",requires:["Ext.resizer.BorderSplitter","Ext.fx.Anim","Ext.layout.container.border.Region"],targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,n){var r=this,i=r.axisProps[n],s=!i.horizontal,o=i.sizeProp,u=0,a=e.childItems,f=a.length,l,c,h,p,d,v,m,g,y,b,w;for(c=0;c<f;++c){h=a[c];d=h.target;h.layoutPos={};if(d.region){h.region=v=d.region;h.isCenter=d.isCenter;h.isHorz=d.isHorz;h.isVert=d.isVert;h.weight=d.weight||r.regionWeights[v]||0;d.weight=h.weight;t[d.id]=h;if(d.isCenter){l=h;p=d.flex;e.centerRegion=l;continue}if(s!==h.isVert){continue}h.reverseWeighting=v==i.borderEnd;g=d[o];y=typeof g;if(!d.collapsed){if(y=="string"&&(m=r.percentageRe.exec(g))){h.percentage=parseInt(m[1],10)}else if(d.flex){u+=h.flex=d.flex}}}}if(l){b=l.target;if(w=b.placeholderFor){if(!p&&s===w.collapsedVertical()){p=0;l.collapseAxis=n}}else if(b.collapsed&&s===b.collapsedVertical()){p=0;l.collapseAxis=n}}if(p==null){p=1}u+=p;return Ext.apply({before:s?"top":"left",totalFlex:u},i)},beginLayout:function(e){var t=this,n=t.getLayoutItems(),r=t.padding,i=typeof r,s=false,o,u,a,f,l,c,h,p,d;if(e.heightModel.shrinkWrap){Ext.Error.raise("Border layout does not currently support shrinkWrap height. "+"Please specify a height on component: "+t.owner.id+", or use a container layout that sets the component's height.")}if(e.widthModel.shrinkWrap){Ext.Error.raise("Border layout does not currently support shrinkWrap width. "+"Please specify a width on component: "+t.owner.id+", or use a container layout that sets the component's width.")}if(r){if(i=="string"||i=="number"){r=Ext.util.Format.parseBox(r)}}else{r=e.getEl("getTargetEl").getPaddingInfo();s=true}e.outerPad=r;e.padOnContainer=s;for(f=0,a=n.length;f<a;++f){u=n[f];c=t.getSplitterTarget(u);if(c){h=undefined;p=!!u.hidden;if(!c.split){if(c.isCollapsingOrExpanding){h=!!c.collapsed}}else if(p!==c.hidden){h=!c.hidden}if(h){u.show()}else if(h===false){u.hide()}}}t.callParent(arguments);n=e.childItems;a=n.length;l={};e.borderAxisHorz=t.beginAxis(e,l,"horz");e.borderAxisVert=t.beginAxis(e,l,"vert");for(f=0;f<a;++f){o=n[f];c=t.getSplitterTarget(o.target);if(c){d=l[c.id];if(!d){d=e.getEl(c.el,t);d.region=c.region}o.collapseTarget=c=d;o.weight=c.weight;o.reverseWeighting=c.reverseWeighting;c.splitter=o;o.isHorz=c.isHorz;o.isVert=c.isVert}}t.sortWeightedItems(n,"reverseWeighting");t.setupSplitterNeighbors(n)},calculate:function(e){var t=this,n=t.getContainerSize(e),r=e.childItems,i=r.length,s=e.borderAxisHorz,o=e.borderAxisVert,u=e.outerPad,a=e.padOnContainer,f,l,c,h,p,d;s.begin=u[t.padOnContainerProp];o.begin=u.top;p=s.end=s.flexSpace=n.width+(a?u[t.padOnContainerProp]:-u[t.padNotOnContainerProp]);d=o.end=o.flexSpace=n.height+(a?u.top:-u.bottom);for(f=0;f<i;++f){l=r[f];c=l.getMarginInfo();if(l.isHorz||l.isCenter){s.addUnflexed(c.width);p-=c.width}if(l.isVert||l.isCenter){o.addUnflexed(c.height);d-=c.height}if(!l.flex&&!l.percentage){if(l.isHorz||l.isCenter&&l.collapseAxis==="horz"){h=l.getProp("width");s.addUnflexed(h);if(l.collapseTarget){p-=h}}else if(l.isVert||l.isCenter&&l.collapseAxis==="vert"){h=l.getProp("height");o.addUnflexed(h);if(l.collapseTarget){d-=h}}}}for(f=0;f<i;++f){l=r[f];c=l.getMarginInfo();if(l.percentage){if(l.isHorz){h=Math.ceil(p*l.percentage/100);h=l.setWidth(h);s.addUnflexed(h)}else if(l.isVert){h=Math.ceil(d*l.percentage/100);h=l.setHeight(h);o.addUnflexed(h)}}}for(f=0;f<i;++f){l=r[f];if(!l.isCenter){t.calculateChildAxis(l,s);t.calculateChildAxis(l,o)}}if(t.finishAxis(e,o)+t.finishAxis(e,s)<2){t.done=false}else{t.finishPositions(r)}},calculateChildAxis:function(e,t){var n=e.collapseTarget,r="set"+t.sizePropCap,i=t.sizeProp,s=e.getMarginInfo()[i],o,u,a,f,l;if(n){o=n.region}else{o=e.region;a=e.flex}u=o==t.borderBegin;if(!u&&o!=t.borderEnd){e[r](t.end-t.begin-s);f=t.begin}else{if(a){l=Math.ceil(t.flexSpace*(a/t.totalFlex));l=e[r](l)}else if(e.percentage){l=e.peek(i)}else{l=e.getProp(i)}l+=s;if(u){f=t.begin;t.begin+=l}else{t.end=f=t.end-l}}e.layoutPos[t.posProp]=f},eachItem:function(e,t,n){var r=this,i=r.getLayoutItems(),s=0,o;if(Ext.isFunction(e)){t=e;n=t}for(s;s<i.length;s++){o=i[s];if(!e||o.region===e){if(t.call(n,o)===false){break}}}},finishAxis:function(e,t){var n=t.end-t.begin,r=e.centerRegion;if(r){r["set"+t.sizePropCap](n-r.getMarginInfo()[t.sizeProp]);r.layoutPos[t.posProp]=t.begin}return Ext.isNumber(n)?1:0},finishPositions:function(e){var t=e.length,n,r,i=this.horzPositionProp;for(n=0;n<t;++n){r=e[n];r.setProp("x",r.layoutPos.x+r.marginInfo[i]);r.setProp("y",r.layoutPos.y+r.marginInfo.top)}},getLayoutItems:function(){var e=this.owner,t=e&&e.items&&e.items.items||[],n=t.length,r=[],i=0,s,o;for(;i<n;i++){s=t[i];o=s.placeholderFor;if(s.hidden||(!s.floated||s.isCollapsingOrExpanding===2)&&!(o&&o.isCollapsingOrExpanding===2)){r.push(s)}}return r},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getMaxWeight:function(e){return this.getMinMaxWeight(e)},getMinWeight:function(e){return this.getMinMaxWeight(e,true)},getMinMaxWeight:function(e,t){var n=this,r=null;n.eachItem(e,function(e){if(e.hasOwnProperty("weight")){if(r===null){r=e.weight;return}if(t&&e.weight<r||e.weight>r){r=e.weight}}},this);return r},getSplitterTarget:function(e){var t=e.collapseTarget;if(t&&t.collapsed){return t.placeholder||t}return t},isItemBoxParent:function(e){return true},isItemShrinkWrap:function(e){return true},insertSplitter:function(e,t,n,r){var i=e.region,s=Ext.apply({xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:n,canResize:e.splitterResize!==false,splitterFor:e,synthetic:true},r),o=t+(i==="south"||i==="east"?0:1);if(e.collapseMode==="mini"){s.collapsedCls=e.collapsedCls}e.splitter=this.owner.add(o,s)},getMoveAfterIndex:function(e){var t=this.callParent(arguments);if(e.splitter){t++}return t},moveItemBefore:function(e,t){var n=this.owner,r;if(t&&t.splitter){r=t.region;if(r==="south"||r==="east"){t=t.splitter}}return this.callParent([e,t])},onAdd:function(e,t){var n=this,r=e.placeholderFor,i=e.region,s,o,u,a;n.callParent(arguments);if(i){Ext.apply(e,n.regionFlags[i]);if(e.initBorderRegion){e.initBorderRegion()}s=i==="center";if(s){if(n.centerRegion){Ext.Error.raise("Cannot have multiple center regions in a BorderLayout.")}n.centerRegion=e}else{o=e.split;u=!!e.hidden;if(typeof o==="object"){a=o;o=true}if((e.isHorz||e.isVert)&&(o||e.collapseMode=="mini")){n.insertSplitter(e,t,u||!o,a)}}if(!s&&!e.hasOwnProperty("collapseMode")){e.collapseMode=n.panelCollapseMode}if(!e.hasOwnProperty("animCollapse")){if(e.collapseMode!=="placeholder"){e.animCollapse=false}else{e.animCollapse=n.panelCollapseAnimate}}}else if(r){Ext.apply(e,n.regionFlags[r.region]);e.region=r.region;e.weight=r.weight}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(e,t){var n=this,r=e.region,i=e.splitter,s=n.owner,o=s.destroying,u;if(r){if(e.isCenter){n.centerRegion=null}delete e.isCenter;delete e.isHorz;delete e.isVert;if(i&&!s.destroying){s.doRemove(i,true)}delete e.splitter}n.callParent(arguments);if(!o&&!t&&e.rendered){u=e.getEl();if(u){u.setStyle("top","");u.setStyle(n.horzPositionProp,"")}}},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(e){var t={},n=e.length,r=this.touchedRegions,i,s,o,u,a,f,l,c,h;for(i=0;i<n;++i){f=e[i].target;l=f.region;if(f.isCenter){o=f}else if(l){h=r[l];for(s=0,u=h.length;s<u;++s){a=t[h[s]];if(a){a.neighbors.push(f)}}if(f.placeholderFor){c=f.placeholderFor.splitter}else{c=f.splitter}if(c){c.neighbors=[]}t[l]=c}}if(o){h=r.center;for(s=0,u=h.length;s<u;++s){a=t[h[s]];if(a){a.neighbors.push(o)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t=this,n=this.sizePolicies,r,i,s,o;if(e.isCenter){o=e.placeholderFor;if(o){if(o.collapsedVertical()){return n.vert}return n.horz}if(e.collapsed){if(e.collapsedVertical()){return n.vert}return n.horz}return n.flexAll}r=e.collapseTarget;if(r){return r.isVert?n.vert:n.horz}if(e.region){if(e.isVert){i=e.height;s=n.vert}else{i=e.width;s=n.horz}if(e.flex||typeof i=="string"&&t.percentageRe.test(i)){return n.flexAll}return s}return t.autoSizePolicy}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e);Ext.apply(t.vert,e)});Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var e=this,t=e.getActiveItem();if(t){if(t.hasListeners.beforeactivate&&t.fireEvent("beforeactivate",t)===false){t=e.activeItem=e.owner.activeItem=null}else if(t.hasListeners.activate){t.on({boxready:function(){t.fireEvent("activate",t)},single:true})}if(e.deferredRender){if(t){return e.getItemsRenderTree([t])}}else{return e.callParent(arguments)}}},renderChildren:function(){var e=this,t=e.getActiveItem();if(!e.deferredRender){e.callParent()}else if(t){e.renderItems([t],e.getRenderTarget())}},isValidParent:function(e,t,n){var r=e.el?e.el.dom:Ext.getDom(e);return r&&r.parentNode===(t.dom||t)||false},getActiveItem:function(){var e=this,t=e.parseActiveItem(e.activeItem||e.owner&&e.owner.activeItem);if(t&&e.owner.items.indexOf(t)!=-1){e.activeItem=t}else{e.activeItem=null}return e.activeItem},parseActiveItem:function(e){if(e&&e.isComponent){return e}else if(typeof e=="number"||e===undefined){return this.getLayoutItems()[e||0]}else{return this.owner.getComponent(e)}},configureItem:function(e){if(e===this.getActiveItem()){e.hidden=false}else{e.hidden=true}this.callParent(arguments)},onRemove:function(e){this.callParent(arguments);if(e===this.activeItem){this.activeItem=null}},getAnimation:function(e,t){var n=(e||{}).cardSwitchAnimation;if(n===false){return false}return n||t.cardSwitchAnimation},getNext:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n+1]||(e?t[0]:false)},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n-1]||(e?t[t.length-1]:false)},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t=this,n=t.owner,r=t.activeItem,i=n.rendered,s;e=t.parseActiveItem(e);s=n.items.indexOf(e);if(s==-1){s=n.items.items.length;Ext.suspendLayouts();e=n.add(e);Ext.resumeLayouts()}if(e&&r!=e){if(e.fireEvent("beforeactivate",e,r)===false){return false}if(r&&r.fireEvent("beforedeactivate",r,e)===false){return false}if(i){Ext.suspendLayouts();if(!e.rendered){t.renderItem(e,t.getRenderTarget(),n.items.length)}if(r){if(t.hideInactive){r.hide();r.hiddenByLayout=true}r.fireEvent("deactivate",r,e)}if(e.hidden){e.show()}if(!e.hidden){t.activeItem=e}Ext.resumeLayouts(true)}else{t.activeItem=e}e.fireEvent("activate",e,r);return t.activeItem}return false}});Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.util.KeyNav"],isTab:true,tabIndex:-1,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",closeElPressedCls:Ext.baseCSSPrefix+"tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:true,closeText:"Close Tab",active:false,childEls:["closeEl"],scale:false,ariaRole:"tab",_btnWrapCls:Ext.baseCSSPrefix+"tab-wrap",_btnCls:Ext.baseCSSPrefix+"tab-button",_baseIconCls:Ext.baseCSSPrefix+"tab-icon-el",_glyphCls:Ext.baseCSSPrefix+"tab-glyph",_innerCls:Ext.baseCSSPrefix+"tab-inner",_textCls:Ext.baseCSSPrefix+"tab-text",_noTextCls:Ext.baseCSSPrefix+"tab-no-text",_hasIconCls:Ext.baseCSSPrefix+"tab-icon",_activeCls:Ext.baseCSSPrefix+"tab-active",_closableCls:Ext.baseCSSPrefix+"tab-closable",overCls:Ext.baseCSSPrefix+"tab-over",_pressedCls:Ext.baseCSSPrefix+"tab-pressed",_disabledCls:Ext.baseCSSPrefix+"tab-disabled",_rotateClasses:{1:Ext.baseCSSPrefix+"tab-rotate-right",2:Ext.baseCSSPrefix+"tab-rotate-left"},_positions:{top:{"default":"top",0:"top",1:"left",2:"right"},right:{"default":"top",0:"right",1:"top",2:"bottom"},bottom:{"default":"bottom",0:"bottom",1:"right",2:"left"},left:{"default":"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var e=this;if(e.card){e.setCard(e.card)}e.callParent(arguments)},getActualRotation:function(){var e=this.getRotation();return e!=="default"?e:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var e=this,t=e._positions,n=e._rotateClasses,r=e.getTabPosition(),i=e.getActualRotation(),s=e._rotateCls,o=e._rotateCls=n[i],u=e._positionCls,a=e._positionCls=e._positions[r][i];if(s!==o){if(s){e.removeCls(s)}if(o){e.addCls(o)}}if(u!==a){if(u){e.removeClsWithUI(u)}if(a){e.addClsWithUI(a)}if(e.rendered){e.updateFrame()}}if(e.rendered){e.setElOrientation()}},onAdded:function(e,t,n){this.callParent([e,t,n]);this.syncRotationAndPosition()},getTemplateArgs:function(){var e=this,t=e.callParent();t.closable=e.closable;t.closeText=e.closeText;return t},beforeRender:function(){var e=this,t=e.up("tabbar"),n=e.up("tabpanel");e.callParent();if(e.active){e.addCls(e._activeCls)}e.syncClosableCls();if(!e.minWidth){e.minWidth=t?t.minTabWidth:e.minWidth;if(!e.minWidth&&n){e.minWidth=n.minTabWidth}if(e.minWidth&&e.iconCls){e.minWidth+=25}}if(!e.maxWidth){e.maxWidth=t?t.maxTabWidth:e.maxWidth;if(!e.maxWidth&&n){e.maxWidth=n.maxTabWidth}}},onRender:function(){var e=this;e.setElOrientation();e.callParent(arguments);if(e.closable){e.closeEl.addClsOnOver(e.closeElOverCls);e.closeEl.addClsOnClick(e.closeElPressedCls)}e.initKeyNav()},initKeyNav:function(){var e=this;e.keyNav=new Ext.util.KeyNav(e.el,{enter:e.onEnterKey,del:e.onDeleteKey,scope:e})},setElOrientation:function(){var e=this,t=e.getActualRotation(),n=e.el;if(t){n.setVertical(t===1?90:270)}else{n.setHorizontal()}},enable:function(e){var t=this;t.callParent(arguments);t.removeCls(t._disabledCls);return t},disable:function(e){var t=this;t.callParent(arguments);t.addCls(t._disabledCls);return t},onDestroy:function(){var e=this;Ext.destroy(e.keyNav);delete e.keyNav;e.callParent(arguments)},setClosable:function(e){var t=this;e=!arguments.length||!!e;if(t.closable!=e){t.closable=e;if(t.card){t.card.closable=e}t.syncClosableCls();if(t.rendered){t.syncClosableElements();t.updateLayout()}}},syncClosableElements:function(){var e=this,t=e.closeEl;if(e.closable){if(!t){t=e.closeEl=e.btnWrap.insertSibling({tag:"a",role:"presentation",cls:e.baseCls+"-close-btn",href:"#",title:e.closeText},"after")}t.addClsOnOver(e.closeElOverCls);t.addClsOnClick(e.closeElPressedCls)}else if(t){t.destroy();delete e.closeEl}},syncClosableCls:function(){var e=this,t=e._closableCls;if(e.closable){e.addCls(t)}else{e.removeCls(t)}},setCard:function(e){var t=this;t.card=e;if(e.iconAlign){t.setIconAlign(e.iconAlign)}if(e.textAlign){t.setTextAlign(e.textAlign)}t.setText(t.title||e.title);t.setIconCls(t.iconCls||e.iconCls);t.setIcon(t.icon||e.icon);t.setGlyph(t.glyph||e.glyph)},onCloseClick:function(){var e=this;if(e.fireEvent("beforeclose",e)!==false){if(e.tabBar){if(e.tabBar.closeTab(e)===false){return}}else{e.fireClose()}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){var t=this;if(t.tabBar){t.tabBar.onClick(e,t.el)}},onDeleteKey:function(e){if(this.closable){this.onCloseClick()}},afterClick:function(e){if(!e){this.focus()}},activate:function(e){var t=this;t.active=true;t.addCls(t._activeCls);if(e!==true){t.fireEvent("activate",t)}},deactivate:function(e){var t=this;t.active=false;t.removeCls(t._activeCls);if(e!==true){t.fireEvent("deactivate",t)}},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(e){this.el=new Ext.dom.Element(e)}}});Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(e){this.callParent(arguments);e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e,t){var n=this,r=n.lastWidthModel,i=n.lastHeightModel,s=n.owner.body;n.callParent(arguments);if(r&&r.fixed&&e.widthModel.shrinkWrap){s.setWidth(null)}if(i&&i.fixed&&e.heightModel.shrinkWrap){s.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments);if(e.targetContext!=e){n+=e.getPaddingInfo().height}return n},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.callParent(arguments);if(e.targetContext!=e){n+=e.getPaddingInfo().width}return n},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(e,t){var n=t-e.getFrameInfo().height,r=e.targetContext;if(r!=e){n-=e.getPaddingInfo().height}return e.bodyContext.setHeight(n,!e.heightModel.natural)},publishInnerWidth:function(e,t){var n=t-e.getFrameInfo().width,r=e.targetContext;if(r!=e){n-=e.getPaddingInfo().width}e.bodyContext.setWidth(n,!e.widthModel.natural)}});Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Bar",xtype:"tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab","Ext.util.Point","Ext.layout.component.Body"],mixins:["Ext.util.FocusableContainer"],componentLayout:"body",isTabBar:true,config:{tabRotation:"default",tabStretchMax:true},defaultType:"tab",plain:false,ariaRole:"tablist",childEls:["body","strip"],_stripCls:Ext.baseCSSPrefix+"tab-bar-strip",_baseBodyCls:Ext.baseCSSPrefix+"tab-bar-body",renderTpl:'<div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} '+'{bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>'+"{%this.renderContainer(out,values)%}"+"</div>"+'<div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var e=this,t=e.initialConfig.layout,n=t&&t.align,r=t&&t.overflowHandler,i;if(e.plain){e.addCls(e.baseCls+"-plain")}e.callParent();e.setLayout({align:n||(e.getTabStretchMax()?"stretchmax":e._layoutAlign[e.dock]),overflowHandler:r||"scroller"});e.on({click:e.onClick,element:"el",scope:e})},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{bodyCls:e.bodyCls,baseBodyCls:e._baseBodyCls,bodyTargetCls:e.bodyTargetCls,stripCls:e._stripCls,dock:e.dock})},setDock:function(e){var t=this,n=t.items,r=t.ownerCt,i,s,o;n=n&&n.items;if(n){for(s=0,o=n.length;s<o;s++){i=n[s];if(i.isTab){i.setTabPosition(e)}}}if(t.rendered){t.resetItemMargins();if(r&&r.isHeader){r.resetItemMargins()}t.needsScroll=true}t.callParent([e])},updateTabRotation:function(e){var t=this,n=t.items,r,i,s;n=n&&n.items;if(n){for(r=0,i=n.length;r<i;r++){s=n[r];if(s.isTab){s.setRotation(e)}}}if(t.rendered){t.resetItemMargins();t.needsScroll=true;t.updateLayout()}},onRender:function(){var e=this;e.callParent();if(Ext.isIE8&&e.vertical){e.el.on({mousemove:e.onMouseMove,scope:e})}},afterLayout:function(){this.adjustTabPositions();this.callParent(arguments)},adjustTabPositions:function(){var e=this.items.items,t=e.length,n,r,i,s;if(!Ext.isIE8){while(t--){n=e[t];i=n.el;r=n.lastBox;s=n.isTab?n.getActualRotation():0;if(s===1&&n.isVisible()){i.setStyle("left",r.x+r.width+"px")}else if(s===2&&n.isVisible()){i.setStyle("left",r.x-r.height+"px")}}}},onAdded:function(e,t,n){if(e.isHeader){this.addCls(e.baseCls+"-"+e.ui+"-tab-bar")}this.callParent([e,t,n])},onRemove:function(e){var t=this;if(e===t.previousTab){t.previousTab=null}t.callParent(arguments)},onRemoved:function(e){var t=this.ownerCt;if(t.isHeader){this.removeCls(t.baseCls+"-"+t.ui+"-tab-bar")}this.callParent([e])},afterComponentLayout:function(e){var t=this,n=t.needsScroll,r=t.layout.overflowHandler;t.callParent(arguments);if(r&&n&&t.tooNarrow&&r.scrollToItem){r.scrollToItem(t.activeTab)}delete t.needsScroll},onMouseMove:function(e){var t=this,n=t._overTab,r,i;if(e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}r=t.getTabInfoFromPoint(e.getXY());i=r.tab;if(i!==n){if(n&&n.rendered){n.onMouseLeave(e);t._overTab=null}if(i){i.onMouseEnter(e);t._overTab=i;if(!i.disabled){t.el.setStyle("cursor","pointer")}}else{t.el.setStyle("cursor","default")}}},onMouseLeave:function(e){var t=this._overTab;if(t&&t.rendered){t.onMouseLeave(e)}},getTabInfoFromPoint:function(e){var t=this,n=t.items.items,r=n.length,i=t.layout.innerCt,s=i.getXY(),o=new Ext.util.Point(e[0],e[1]),u=0,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;for(;u<r;u++){T=n[u];a=T.lastBox;if(!a||!T.isTab){continue}g=s[0]+a.x;y=s[1]-i.dom.scrollTop+a.y;b=a.width;w=a.height;f=new Ext.util.Region(y,g+b,y+w,g);if(f.contains(o)){l=T.closeEl;if(l){if(t._isTabReversed===undefined){t._isTabReversed=S=T.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1}x=S?this._reverseDockNames[t.dock]:t.dock;v=l.getWidth();m=l.getHeight();h=t.getCloseXY(l,g,y,b,w,v,m,x);p=h[0];d=h[1];E=new Ext.util.Region(d,p+v,d+m,p);c=E.contains(o)}break}}return{tab:T,close:c}},getCloseXY:function(e,t,n,r,i,s,o,u){var a=e.getXY(),f,l;if(u==="right"){f=t+r-(a[1]-n+o);l=n+(a[0]-t)}else{f=t+(a[1]-n);l=n+t+i-a[0]-s}return[f,l]},closeTab:function(e){var t=this,n=e.card,r=t.tabPanel,i;if(n&&n.fireEvent("beforeclose",n)===false){return false}i=t.findNextActivatable(e);Ext.suspendLayouts();if(r&&n){delete e.ownerCt;n.fireEvent("close",n);r.remove(n);if(!r.getComponent(n)){e.fireClose();t.remove(e)}else{e.ownerCt=t;Ext.resumeLayouts(true);return false}}if(i){if(r){r.setActiveTab(i.card)}else{t.setActiveTab(i)}i.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(e){var t=this;if(e.active&&t.items.getCount()>1){return t.previousTab&&t.previousTab!==e&&!t.previousTab.disabled?t.previousTab:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]")}},setActiveTab:function(e,t){var n=this;if(!e.disabled&&e!==n.activeTab){if(n.activeTab){if(n.activeTab.isDestroyed){n.previousTab=null}else{n.previousTab=n.activeTab;n.activeTab.deactivate()}}e.activate();n.activeTab=e;n.needsScroll=true;if(!t){n.fireEvent("change",n,e,e.card);n.updateLayout()}}},privates:{applyTargetCls:function(e){this.bodyTargetCls=e},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(e,t){var n=this,r=n.tabPanel,i,s,o,u;if(e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}if(Ext.isIE8&&n.vertical){u=n.getTabInfoFromPoint(e.getXY());s=u.tab;o=u.close}else{i=e.getTarget("."+Ext.tab.Tab.prototype.baseCls);s=i&&Ext.getCmp(i.id);o=s&&s.closeEl&&t===s.closeEl.dom}if(o){e.preventDefault()}if(s&&s.isDisabled&&!s.isDisabled()){if(s.closable&&o){s.onCloseClick()}else{n.doActivateTab(s)}s.afterClick(o)}},doActivateTab:function(e){var t=this.tabPanel;if(t){t.setActiveTab(e.card)}else{this.setActiveTab(e)}},beforeFocusableChildFocus:function(e,t){var n=this,r=n.mixins.focusablecontainer;r.beforeFocusableChildFocus.call(n,e,t);if(!e.active){e.activate()}n.doActivateTab(e)}}});Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],config:{tabBar:undefined,tabPosition:"top",tabRotation:"default",tabStretchMax:true},removePanelHeader:true,plain:false,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var e=this,t=e.activeTab||(e.activeTab=0),n=e.getTabPosition(),r=e.getTabRotation(),i=e.dockedItems,s=e.header,o=e.tabBarHeaderPosition,u=e.getTabBar(),a;e.layout=new Ext.layout.container.Card(Ext.apply({owner:e,deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:t},e.layout));if(o!=null){if(!s){s=e.header={}}a=s.items=s.items?s.items.slice():[];s.itemPosition=o;a.push(u);s.hasTabBar=true}else{i=[].concat(e.dockedItems||[]);i.push(u);e.dockedItems=i}e.callParent(arguments);t=e.activeTab=e.getComponent(t);if(t){u.setActiveTab(t.tab,true)}},onRender:function(){var e=this.items.items,t=e.length,n;this.callParent(arguments);for(n=0;n<t;++n){e[n].getBind()}},setActiveTab:function(e){var t=this,n;e=t.getComponent(e);if(e){n=t.getActiveTab();if(n===e||t.fireEvent("beforetabchange",t,e,n)===false){return false}if(!e.isComponent){Ext.suspendLayouts();e=t.add(e);Ext.resumeLayouts()}t.activeTab=e;Ext.suspendLayouts();t.layout.setActiveItem(e);e=t.activeTab=t.layout.getActiveItem();if(e&&e!==n){t.tabBar.setActiveTab(e.tab);Ext.resumeLayouts(true);if(n!==e){t.fireEvent("tabchange",t,e,n)}}else{Ext.resumeLayouts(true)}return e}},setActiveItem:function(e){return this.setActiveTab(e)},getActiveTab:function(){var e=this,t=e.getComponent(e.activeTab);if(t&&e.items.indexOf(t)!=-1){e.activeTab=t}else{e.activeTab=null}return e.activeTab},applyTabBar:function(e){var t=this,n=t.tabBarHeaderPosition!=null?t.getHeaderPosition():t.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:t.ui,dock:n,tabRotation:t.getTabRotation(),vertical:n=="left"||n=="right",plain:t.plain,tabStretchMax:t.getTabStretchMax(),tabPanel:t},e))},updateHeaderPosition:function(e,t){var n=this.getTabBar();if(n&&this.tabBarHeaderPosition!=null){n.setDock(e)}this.callParent([e,t])},updateTabPosition:function(e){var t=this.getTabBar();if(t&&this.tabBarHeaderPosition==null){t.setDock(e)}},updateTabRotation:function(e){var t=this.getTabBar();if(t){t.setTabRotation(e)}},onAdd:function(e,t){var n=this,r=Ext.apply({},e.tabConfig),i=n.getTabBar(),s={xtype:"tab",title:e.title,icon:e.icon,iconCls:e.iconCls,glyph:e.glyph,ui:i.ui,card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:i,tabPosition:i.dock,rotation:i.getTabRotation()};if(e.closeText!==undefined){s.closeText=e.closeText}r=Ext.applyIf(r,s);e.tab=n.tabBar.insert(t,r);e.on({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow,iconchange:n.onItemIconChange,iconclschange:n.onItemIconClsChange,glyphchange:n.onItemGlyphChange,titlechange:n.onItemTitleChange});if(e.isPanel){if(n.removePanelHeader){if(e.rendered){if(e.header){e.header.hide()}}else{e.header=false}}if(e.isPanel&&n.border){e.setBorder(false)}}if(n.rendered){e.getBind()}},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){if(e!==this.activeTab){this.setActiveTab(e);return false}},onItemGlyphChange:function(e,t){e.tab.setGlyph(t)},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},onRemove:function(e,t){var n=this;e.un({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow,iconchange:n.onItemIconChange,iconclschange:n.onItemIconClsChange,glyphchange:n.onItemGlyphChange,titlechange:n.onItemTitleChange});if(e.tab&&!n.destroying&&e.tab.ownerCt===n.tabBar){n.tabBar.remove(e.tab)}},privates:{doRemove:function(e,t){var n=this,r;if(n.removingAll||n.destroying||n.items.getCount()==1){n.activeTab=null}else if(e.tab&&(r=n.tabBar.items.indexOf(n.tabBar.findNextActivatable(e.tab)))!==-1){n.setActiveTab(r)}this.callParent(arguments);if(e.tab){delete e.tab.card;delete e.tab}}}});Ext.define("Ext.app.bindinspector.Environment",{requires:["Ext.util.Collection"],getCmp:function(e){return this.components.get(e)},getVM:function(e){return this.viewModels.get(e)},getInheritedVM:function(e){var t=e.viewModel,n=e.parent;if(t){return t}if(n){return this.getInheritedVM(this.getCmp(n))}return null},captureSnapshot:function(){var e=Ext.ComponentManager.getAll(),t=e.length,n=[],r,i;this.models={};for(r=0;r<t;++r){i=e[r];if(i.afterRender&&this.isRootComponent(i)){n.push(this.buildComponent(i))}}return{isBindData:true,version:Ext.getVersion().version,models:this.models,components:n}},serializeModel:function(e){var t=this.models,n=e.entityName;if(!t[n]){t[n]=Ext.Array.map(e.getFields(),function(e){return{name:e.getName(),type:e.getType()}})}},isRootComponent:function(e){var t=e.getRefOwner();if(t||e.isBindInspector||e===Ext.MessageBox||e.is("quicktip")){return false}return true},buildComponent:function(e){var t=e.getRefItems?e.getRefItems():null,n=e.getViewModel(),r=e.getBind(),i=e.id,s,o,u,a;if(r){r=this.buildBind(r)}u={id:i,xtype:e.getXType(),publishes:e.getPublishes(),viewModel:n?this.buildViewModel(n,e):null,bindings:r||null,reference:e.reference||null,items:[]};if(t){for(o=0,s=t.length;o<s;++o){if(t[o].afterRender){a=this.buildComponent(t[o]);a.parent=i;u.items.push(a)}}}return u},buildBind:function(e){var t={},n,r,i,s,o;for(n in e){r=e[n];o=r.stub;i={id:r.id,value:this.serializeValue(r.getRawValue()),stub:o?{id:o.id,name:o.name}:null};if(r.isTemplateBinding){i.isTemplateBinding=true;i.tokens=[];Ext.Array.forEach(r.tokens,function(e){i.tokens.push(e.split("."))},this);i.descriptor=r.tpl.text}else if(r.isMultiBinding){i.isMultiBinding=true}else{if(o){s=this.buildStubName(o);i.tokens=s.split(".");i.descriptor="{"+s+"}"}}t[n]=i}return t},buildStubName:function(e){var t=e.parent,n="";if(t&&!t.isRootStub){n=this.buildStubName(t)+"."}return n+e.name},buildViewModel:function(e,t){var n=e.getParent();return{id:e.getId(),view:t.id,parent:n?n.getId():null,data:this.serializeValue(e.getData(),true),rootStub:this.buildStub(e.getRoot())}},buildStub:function(e,t){var n={},r=e.children,i=e.isLinkStub,s={},o,u,a,f;if(!e.isRootStub){n.name=e.name;n.parent=e.parent?e.parent.id:null;n.isLoading=e.isLoading();n.bindCount=e.bindings&&e.bindings.length||0;n.cumulativeBindCount=n.bindCount;n.value=this.serializeValue(e.getRawValue());if(i){f=e.target===e.owner;n.linkInfo={sameTarget:f,descriptor:e.linkDescriptor,value:this.serializeValue(e.binding.getValue())};t=true}}else{n.name="";n.isLoading=false;n.bindCount=n.cumulativeBindCount=0}if(r){for(o in r){u=true;a=this.buildStub(r[o],t);s[o]=a;n.cumulativeBindCount+=a.cumulativeBindCount}}if(u){n.children=s}return n},createModel:function(e,t){var n=Ext.app.bindinspector.noconflict[e];return new n(t)},unpackSnapshot:function(e){this.components=new Ext.util.Collection;this.viewModels=new Ext.util.Collection;Ext.Object.each(e.models,function(e,t){Ext.define("Ext.app.bindinspector.noconflict."+e,{extend:"Ext.app.bindinspector.noconflict.BaseModel",fields:t})});Ext.Array.forEach(e.components,function(e){this.unpackComponent(e,this.components,this.viewModels)},this);this.rootComponents=e.components},unpackComponent:function(e,t,n){var r=e.viewModel,i=e.items,s=e.bindings,o,u,a,f,l,c,h;t.add(e);if(s){for(c in s){h=s[c];h.value=this.deserializeValue(h.value)}}if(r){n.add(r);a=this.getVM(r.parent);if(a){f=Ext.Object.chain(a.data)}l=this.deserializeValue(r.data);if(f){l=Ext.apply(f,l)}r.data=l;this.deserializeStub(r.rootStub)}if(i){for(u=0,o=i.length;u<o;++u){this.unpackComponent(i[u],t,n)}}},serializeValue:function(e,t){var n={},r,i,s,o,u;if(e&&e.constructor===Object){r="object";n.value={};for(i in e){if(!(t&&!e.hasOwnProperty(i))){o=this.serializeValue(e[i],t);s={type:o.type,value:o.value};if(o.entityName){s.entityName=o.entityName}n.value[i]=s}}}else if(e&&e.isModel){r="model";n.entityName=e.entityName;this.serializeModel(e.self);n.value=this.serializeValue(e.data)}else if(e&&e.isStore){r="store";u=e.getModel();n.entityName=u.entityName;if(u.entityName){this.serializeModel(u)}}else if(Ext.isDate(e)){r="date";n.value=Ext.Date.format(e,"c")}else if(Ext.isArray(e)){r="array";n.value=[];Ext.Array.forEach(e,function(e){n.value.push(this.serializeValue(e))},this)}else{r=Ext.typeOf(e);n.value=e}n.type=r;return n},deserializeValue:function(e){var t=e.type,n=e.value,r,i;if(t==="null"){r=null}else if(t==="undefined"){r=undefined}else if(t==="string"||t==="boolean"||t==="number"){r=n}else if(t==="date"){r=Ext.Date.parse(n,"c")}else if(t==="object"){r={};for(i in n){r[i]=this.deserializeValue(n[i])}}else if(t==="model"){r=this.createModel(e.entityName,this.deserializeValue(n))}else if(t==="store"){r={isStore:true,entityName:e.entityName}}else if(t==="array"){r=[];Ext.Array.forEach(n,function(e){r.push(this.deserializeValue(e))},this)}return r},deserializeStub:function(e){var t=e.children,n=e.linkInfo,r;if(e.value){e.value=this.deserializeValue(e.value)}if(n){n.value=this.deserializeValue(n.value)}if(t){for(r in t){this.deserializeStub(t[r])}}}});Ext.define("Ext.app.bindinspector.ViewModelDetail",{extend:"Ext.tree.Panel",alias:"widget.bindinspector-viewmodeldetail",rootVisible:false,cls:Ext.baseCSSPrefix+"bindinspector-viewmodeldetail",inheritedCls:Ext.baseCSSPrefix+"bindinspector-inherited",notInheritedCls:Ext.baseCSSPrefix+"bindinspector-not-inherited",highlightedCls:Ext.baseCSSPrefix+"bindinspector-highlighted",unhighlightedCls:Ext.baseCSSPrefix+"bindinspector-unhighlighted",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",initComponent:function(){var e=this,t=e.vm,n="VM &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;",r=e.up("bindinspector-container").env,i=r.getCmp(t.view);if(i.reference){n+="["+i.reference+"] &bull; "}e.title=n+=i.id;e.viewConfig={getRowClass:function(t,n,r,i){var s=t.get("hasData"),o=t.get("hasStub"),u=[],a=t.get("highlighted");if(t.get("inherited")){u.push(e.inheritedCls)}else{u.push(e.notInheritedCls)}if(a===true){u.push(e.highlightedCls)}else if(a===-1){u.push(e.unhighlightedCls)}if(n===i.getCount()-1){u.push(e.lastItemCls)}if(s&&(!o||t.get("cumulativeBindCount")===0)){u.push(e.dataOnlyCls)}return u.join(" ")}};e.store={model:e.Model,root:{text:"Root",expanded:true,children:e.setupData(t,t.data,t.rootStub)}};e.columns=[{width:40,tdCls:Ext.baseCSSPrefix+"bindinspector-indicator-col",align:"center",scope:e,renderer:e.renderIndicator},{flex:1,xtype:"treecolumn",dataIndex:"name",text:"Name",scope:e,renderer:e.renderName},{flex:1,dataIndex:"value",text:"Value",scope:e,renderer:Ext.app.bindinspector.Util.valueRenderer},{text:"Bind #",width:64,align:"center",renderer:e.renderBindCount,scope:e},{width:40,isSearch:true,renderer:e.dataSrcConsumerRenderer,scope:e}];e.callParent();e.on("cellclick",e.onSearchCellClick,e)},dataOnlyNode:"This item contains data but has nothing requesting the value",stubOnlyNode:"This item has the value requested but no data backing it",dataPointLoading:"Data point is loading (at the time the app snapshot was captured)",dataPointLoadingCls:Ext.baseCSSPrefix+"bindinspector-isloading",zeroBindingCls:Ext.baseCSSPrefix+"bi-zero-bind-count",dataOnlyCls:Ext.baseCSSPrefix+"bindinspector-data-only",stubOnlyCls:Ext.baseCSSPrefix+"bindinspector-stub-only",onSearchCellClick:function(e,t,n,r,i,s,o){if(e.getHeaderCt().getHeaderAtIndex(n).isSearch){this.up("bindinspector-container").fireEvent("vmSearchClick",r)}},getFirstTierRec:function(e){var t=e.parentNode.isRoot(),n;if(!t){e.bubble(function(e){if(e.parentNode.isRoot()){n=e;return false}})}return t?e:n},dataSrcConsumerRenderer:function(e,t,n){var r=this.getFirstTierRec(n),i=r.get("name");t.tdCls=Ext.baseCSSPrefix+"bindinspector-data-search-cell";t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="Click to indicate within the Component List all ViewModels with a data property of &nbsp;<b>'+i+'</b>"'},renderIndicator:function(e,t,n){var r=n.get("ownerVMs"),i=r.length,s=false,o=false,u="",a=this.getFirstTierRec(n),f=a===n,l=a.get("name"),c;Ext.Array.forEach(r,function(e){if(e.id===e.thisVM){s=true}if(e.id!==e.thisVM){o=true}});if(s&&o){u=Ext.util.Format.format('<span style="color:#DB7851;">{0}</span>',f?"":"-");c=i>1?"VMs":"VM";t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+l+"</b>&nbsp; provided by this VM and "+(i-1)+" ancestor "+c+'"'}else if(s){u=f?"":"";t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+l+'</b>&nbsp; is provided by this VM"'}else if(o){u=f?"":"";c=i>1?"VMs":"VM";t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="<b>'+l+"</b>&nbsp; is provided by "+i+" ancestor "+c+'"'}return u},renderBindCount:function(e,t,n){var r=n.get("children").length,i=n.get("bindCount")||0,s,o;e=i;if(e===0){e='<span class="'+this.zeroBindingCls+'">'+e+"</span>"}if(r){s=n.get("cumulativeBindCount")||"?";if(s===0||s==="?"){e+=' / <span class="'+this.zeroBindingCls+'">'+s+"</span>"}else{e+=" / "+s}}o="Bindings Count = <b>"+i+"</b>";if(s&&s!==0&&s!=="?"){o+="<br>Cumulative Bindings Count = <b>"+s+"</b>"}t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="'+o+'"';return e},renderName:function(e,t,n){var r=this,i=n.get("hasData"),s=n.get("hasStub"),o="";if(n.get("isLoading")){t.tdCls=r.dataPointLoadingCls;o+=r.dataPointLoading}else if(i&&(!s||n.get("cumulativeBindCount")===0)){o+=r.dataOnlyNode}else if(s&&!i){t.tdCls=r.stubOnlyCls;o+=r.stubOnlyNode}if(o!==""){t.tdAttr='data-qclass="'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip="'+o+'"'}return e},setupData:function(e,t,n,r,i){var s={},o=[],u=e.dataMap,a=[],f,l,c,h,p,d;if(t&&Ext.isObject(t)){if(t.isModel){t=t.data;p=true}else if(t.isStore){p=true;t=null}if(t){for(h in t){if(!i){a=u[h]?u[h].ownerVMs:[]}f={name:h,value:t[h],inherited:Ext.isDefined(r)?r:!t.hasOwnProperty(h),ownerVMs:Ext.isDefined(i)?i:[],hasData:true};Ext.Array.forEach(a,function(t){f.ownerVMs.push({id:t.id,view:t.view,thisVM:e.id})});c=Ext.app.bindinspector.Util.getChildStub(h,n);if(c){f.hasStub=true;f.isLoading=c.isLoading;f.iconCls=c.isLoading?this.dataPointLoadingCls:"";f.bindCount=c.bindCount;f.cumulativeBindCount=c.cumulativeBindCount;f.stub=c}s[h]=f}}}if(n){l=n.children;for(h in l){c=l[h];f=s[h];if(!f){f={name:h,value:c.value||undefined,inherited:r||false,ownerVMs:i||[],hasData:false,hasStub:true,isLoading:c.isLoading,iconCls:c.isLoading?this.dataPointLoadingCls:"",bindCount:c.bindCount,cumulativeBindCount:c.cumulativeBindCount,stub:c};d=c.linkInfo;if(d&&d.sameTarget){f.value=d.value;f.hasData=f.value!==undefined}s[h]=f}}}for(h in s){f=s[h];f.children=this.setupData(e,f.value,f.stub,f.inherited,f.ownerVMs);delete f.stub;if(f.children&&f.children.length){f.expanded=true;f.leaf=false}else{f.leaf=true}o.push(s[h])}return o}},function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:["name","value","inherited","hasData","hasStub","isLoading","bindCount","cumulativeBindCount","highlighted"]})});Ext.define("Ext.app.bindinspector.noconflict.BaseModel",{extend:"Ext.data.Model",schema:{id:"Ext_app_bindinspector",namespace:"Ext.app.bindinspector"}});Ext.define("Ext.app.bindinspector.Container",{extend:"Ext.container.Container",alias:"widget.bindinspector-container",requires:["Ext.layout.container.Border","Ext.tab.Panel","Ext.app.bindinspector.ComponentDetail","Ext.app.bindinspector.ComponentList","Ext.app.bindinspector.Environment","Ext.app.bindinspector.Util","Ext.app.bindinspector.ViewModelDetail","Ext.app.bindinspector.noconflict.BaseModel"],isBindInspector:true,referenceHolder:true,layout:"border",cls:Ext.baseCSSPrefix+"bindinspector-container",componentPreviewDefault:{xtype:"container",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}]},initComponent:function(){var e=this;Ext.data.schema.Schema.get("Ext_app_bindinspector").clear();e.items=[{xtype:"bindinspector-componentlist",reference:"componentList",region:"west",width:400,split:true,collapsible:true,components:e.env.rootComponents,listeners:{scope:e,componentdblclick:e.onComponentDblclick,componentselect:e.onComponentSelect}},{xtype:"tabpanel",region:"center",reference:"tabs",items:[{title:"Preview",reference:"preview",layout:"fit",items:[e.componentPreviewDefault]}],listeners:{add:function(){this.getTabBar().setVisible(this.items.getCount()>1)},remove:function(){this.getTabBar().setVisible(this.items.getCount()>1)}}}];e.callParent();e.on("vmSearchClick",e.onVMSearchClick,e)},onVMSearchClick:function(e){var t=this.lookupReference("componentList"),n=t.getStore(),r=e.get("ownerVMs"),i=[],s=e.get("bindCount"),o=[],u=[],a=[],f,l;n.suspendEvents();t.clearVMSearchIndicators();Ext.Array.forEach(r,function(t){f=n.getById(t.view);f.set("isSrcVM",e);i.push(f)});n.resumeEvents();t.getView().refresh();t.indicatedVM=i;if(s>0){e.bubble(function(e){var t=e.get("name");if(t){o.push(t)}});l=o.reverse().join(".");t.getStore().getRootNode().cascadeBy(function(e){if(e.get("hasBindings")){Ext.Array.forEach(e.get("bindData"),function(t){var n=[];if(t.tokens){Ext.Array.forEach(t.tokens,function(e){if(Ext.isArray(e)){Ext.Array.forEach(e,function(e){n.push(e)})}else{n.push(e)}})}if(n.join(".")===l){u.push(e)}})}})}Ext.Array.forEach(u.concat(i),function(e){a.push(e.getId())});t.expand();t.filterComponentTree(null,a);Ext.Array.forEach(i,function(e){if(!Ext.Array.contains(u)){e.set("filtervisible",false)}});t.down("#srcVMIndicator").show();t.down("#queryFieldTb").hide();t.down("#vmQueryResultsTb").show()},onComponentSelect:function(e,t,n){var r=this,i=t.getId(),s=r.lookupReference("preview");if(s.referringID!==i){Ext.suspendLayouts();s.removeAll();s.add({xtype:"bindinspector-componentdetail",env:r.env,component:r.env.getCmp(i)});Ext.resumeLayouts(true);s.referringID=i}s.show()},onComponentDblclick:function(e,t,n){var r=t.id,i="bindtab-"+r,s=this.lookupReference("tabs"),o=s.items.get(i),u,a;if(!o){u=this.env.getCmp(r);a=u.reference;o=s.add({xtype:"bindinspector-componentdetail",env:this.env,itemId:i,title:a?"["+a+"] "+r:r,closable:true,component:u})}s.setActiveTab(o)},buildVMDataMap:function(e){var t=this.env,n=e,r=e.dataMap,i=[],s,o;if(!r){r=e.dataMap={};while(n){i.push(n);n=t.getVM(n.parent)}Ext.Array.forEach(i,function(e){var t;s=e.data;if(s&&Ext.isObject(s)){for(t in s){o=s.hasOwnProperty(t);if(!r[t]){r[t]={isDirect:o}}r[t].ownerVMs=r[t].ownerVMs||[];if(o){r[t].ownerVMs.push(e)}}}})}return e}});Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(e,t){this.comp=e;this.initialConstrainTo=t.constrainTo;this.callParent([t])},onStart:function(e){var t=this,n=t.comp;t.startPosition=n.getXY();if(n.ghost&&!n.liveDrag){t.proxy=n.ghost();t.dragTarget=t.proxy.header.el}if(t.constrain||t.constrainDelegate){t.constrainTo=t.calculateConstrainRegion()}if(n.beginDrag){n.beginDrag()}},calculateConstrainRegion:function(){var e=this,t=e.comp,n=e.initialConstrainTo,r=t.constraintInsets,i,s,o,u=e.proxy?e.proxy.el:t.el,a=!e.constrainDelegate&&u.shadow&&t.constrainShadow&&!u.shadowDisabled?u.shadow.getShadowSize():0;if(!(n instanceof Ext.util.Region)){i=Ext.fly(n);n=i.getViewRegion();n.right=n.left+i.dom.clientWidth}else{n=n.copy()}if(r){r=Ext.isObject(r)?r:Ext.Element.parseBox(r);n.adjust(r.top,r.right,r.bottom,r.length)}if(a){n.adjust(a[0],-a[1],-a[2],a[3])}if(!e.constrainDelegate){s=Ext.fly(e.dragTarget).getRegion();o=u.getRegion();n.adjust(s.top-o.top,s.right-o.right,s.bottom-o.bottom,s.left-o.left)}return n},onDrag:function(e){var t=this,n=t.proxy&&!t.comp.liveDrag?t.proxy:t.comp,r=t.getOffset(t.constrain||t.constrainDelegate?"dragTarget":null);n.setPagePosition(t.startPosition[0]+r[0],t.startPosition[1]+r[1])},onEnd:function(e){var t=this.comp;if(t.isDestroyed||t.destroying){return}if(this.proxy&&!t.liveDrag){t.unghost()}if(t.endDrag){t.endDrag()}}});Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,ariaRole:"dialog",initComponent:function(){var e=this;e.frame=false;e.callParent();if(e.plain){e.addClsWithUI("plain")}e.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e=this,t;t=e.callParent();t.tabIndex=-1;return t},getState:function(){var e=this,t=e.callParent()||{},n=!!e.maximized,r=e.ghostBox,i;t.maximized=n;if(n){i=e.restorePos}else if(r){i=[r.x,r.y]}else{i=e.getPosition()}Ext.apply(t,{size:n?e.restoreSize:e.getSize(),pos:i});return t},applyState:function(e){var t=this;if(e){t.maximized=e.maximized;if(t.maximized){t.hasSavedRestore=true;t.restoreSize=e.size;t.restorePos=e.pos}else{Ext.apply(t,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]})}}},onRender:function(e,t){var n=this;n.callParent(arguments);n.focusable=!!n.getFocusEl();if(n.maximizable){n.header.on({scope:n,dblclick:n.toggleMaximize})}},afterRender:function(){var e=this,t=e.header,n;if(e.maximized){e.maximized=false;e.maximize();if(t){t.removeCls(t.indicateDragCls)}}e.callParent();if(e.closable){n=e.getKeyMap();n.on(27,e.onEsc,e)}else{n=e.keyMap}if(n&&e.hidden){n.disable()}},onEsc:function(e,t){var n=Ext["FocusManager"];if(!Ext.enableFocusManager||n.focusedCmp===this){t.stopEvent();this.close()}},beforeDestroy:function(){var e=this;if(e.rendered){Ext.un("resize",e.onWindowResize,e);delete e.animateTarget;e.hide();Ext.destroy(e.keyMap)}e.callParent()},addTools:function(){var e=this,t=[],n=[];e.callParent();if(e.minimizable){t.push({type:"minimize",handler:"minimize",scope:e})}if(e.maximizable){t.push({type:"maximize",handler:"toggleMaximize",scope:e})}if(t.length){e.addTool(t)}},getDefaultFocus:function(){var e=this,t,n=e.defaultButton||e.defaultFocus,r;if(n!==undefined){if(Ext.isNumber(n)){t=e.query("button")[n]}else if(Ext.isString(n)){r=n;if(r.match(e.initialAlphaNum)){t=e.down(Ext.makeIdSelector(r))}if(!t){t=e.down(r)}}else if(n.focus){t=n}}return t||e.el},onFocus:function(){var e=this,t;if(Ext.enableFocusManager||(t=e.getDefaultFocus())===e){e.callParent(arguments)}else{t.focus()}},onShow:function(){var e=this;e.callParent(arguments);if(e.expandOnShow){e.expand(false)}e.syncMonitorWindowResize();if(e.keyMap){e.keyMap.enable()}},doClose:function(){var e=this;if(e.hidden){e.fireEvent("close",e);if(e.closeAction=="destroy"){e.destroy()}}else{e.hide(e.animateTarget,e.doClose,e)}},afterHide:function(){var e=this;e.syncMonitorWindowResize();if(e.keyMap){e.keyMap.disable()}e.callParent(arguments)},onWindowResize:function(){var e=this,t;if(!e.isDestroyed){if(e.maximized){e.fitContainer()}else{t=e.getSizeModel();if(t.width.natural||t.height.natural){e.updateLayout()}e.doConstrain()}}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(e){this.header.resumeLayouts(e?this.isRootCfg:null)},afterCollapse:function(){var e=this,t=e.header,n=e.tools;if(t&&e.maximizable){t.suspendLayouts();n.maximize.hide();this.resumeHeaderLayout(true)}if(e.resizer){e.resizer.disable()}e.callParent(arguments)},afterExpand:function(){var e=this,t=e.header,n=e.tools,r;if(t){t.suspendLayouts();if(e.maximizable){n.maximize.show();r=true}this.resumeHeaderLayout(r)}if(e.resizer){e.resizer.enable()}e.callParent(arguments)},maximize:function(e){var t=this,n=t.header,r=t.tools,i=t.width,s=t.height,o,u;if(!t.maximized){t.expand(false);if(!t.hasSavedRestore){o=t.restoreSize={width:Ext.isNumber(i)?i:null,height:Ext.isNumber(s)?s:null};t.restorePos=t.getPosition(true)}if(n){n.suspendLayouts();if(r.maximize){r.maximize.setType("restore")}if(t.collapseTool){t.collapseTool.hide();u=true}t.resumeHeaderLayout(u)}t.el.disableShadow();if(t.dd){t.dd.disable();if(n){n.removeCls(n.indicateDragCls)}}if(t.resizer){t.resizer.disable()}t.el.addCls(Ext.baseCSSPrefix+"window-maximized");t.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");t.syncMonitorWindowResize();t.fitContainer(e=e||!!t.animateTarget?{callback:function(){t.maximized=true;t.fireEvent("maximize",t)}}:null);if(!e){t.maximized=true;t.fireEvent("maximize",t)}}return t},restore:function(e){var t=this,n=t.tools,r=t.header,i=t.restoreSize,s;if(t.maximized){t.hasSavedRestore=null;t.removeCls(Ext.baseCSSPrefix+"window-maximized");if(r){r.suspendLayouts();if(n.maximize){n.maximize.setType("maximize")}if(t.collapseTool){t.collapseTool.show();s=true}t.resumeHeaderLayout(s)}i.x=t.restorePos[0];i.y=t.restorePos[1];t.setBox(i,e=e||!!t.animateTarget?{callback:function(){t.el.enableShadow(true);t.maximized=false;t.fireEvent("restore",t)}}:null);t.restorePos=t.restoreSize=null;if(t.dd){t.dd.enable();if(r){r.addCls(r.indicateDragCls)}}if(t.resizer){t.resizer.enable()}t.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");t.syncMonitorWindowResize();if(!e){t.el.enableShadow(true);t.maximized=false;t.fireEvent("restore",t)}}return t},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,n=e.constrain||e.constrainHeader||e.maximized,r=e.hidden||e.destroying||e.isDestroyed;if(n&&!r){if(!t){Ext.on("resize",e.onWindowResize,e,{buffer:1});e._monitoringResize=true}}else if(t){Ext.un("resize",e.onWindowResize,e);e._monitoringResize=false}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var e=this.callParent(arguments);e.xtype="window";return e},privates:{getFocusEl:function(){return this.getDefaultFocus()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments);if(this.maximized){this.resizer.disable()}}}});Ext.define("Ext.app.bindinspector.Inspector",{extend:"Ext.window.Window",requires:["Ext.app.bindinspector.Container","Ext.layout.container.Fit","Ext.tip.QuickTipManager"],title:"Bind Inspector",layout:"fit",autoShow:true,maximized:true,maximizable:true,width:960,height:575,initComponent:function(){var e=(new Ext.app.bindinspector.Environment).captureSnapshot(),t=new Ext.app.bindinspector.Environment;t.unpackSnapshot(e);this.items={xtype:"bindinspector-container",env:t};this.callParent()},afterRender:function(){this.callParent(arguments);Ext.tip.QuickTipManager.init()}});Ext.define("Ext.app.domain.Controller",{extend:"Ext.app.EventDomain",singleton:true,requires:["Ext.app.Controller"],type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var e=this;e.callParent();e.monitor(Ext.app.BaseController)},match:function(e,t){var n=false,r=e.alias;if(t==="*"){n=true}else if(t==="#"){n=!!e.isApplication}else if(this.idMatchRe.test(t)){n=e.getId()===t.substring(1)}else if(r){n=Ext.Array.indexOf(r,this.prefix+t)>-1}return n}});Ext.define("Ext.app.domain.Direct",{extend:"Ext.app.EventDomain",singleton:true,requires:["Ext.direct.Provider"],type:"direct",idProperty:"id",constructor:function(){var e=this;e.callParent();e.monitor(Ext.direct.Provider)}});Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",isSplitButton:true,arrowCls:"split",split:true,setArrowHandler:function(e,t){this.arrowHandler=e;this.scope=t},onClick:function(e){var t=this;t.doPreventDefault(e);if(!t.disabled){if(t.isWithinTrigger(e)){e.preventDefault();t.maybeShowMenu();t.fireEvent("arrowclick",t,e);if(t.arrowHandler){t.arrowHandler.call(t.scope||t,t,e)}}else{t.doToggle();t.fireHandler(e)}}}});Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t=this,n="";if(e&&t.showText===true){if(t.prependText){n+=t.prependText}n+=e.text;return n}return t.text},setActiveItem:function(e,t){var n=this;if(!Ext.isObject(e)){e=n.menu.getComponent(e)}if(e){if(!n.rendered){n.text=n.getButtonText(e);n.iconCls=e.iconCls;n.glyph=e.glyph}else{n.setText(n.getButtonText(e));n.setIconCls(e.iconCls);n.setGlyph(e.glyph)}n.activeItem=e;if(!e.checked){e.setChecked(true,false)}if(n.forceIcon){n.setIconCls(n.forceIcon)}if(n.forceGlyph){n.setGlyph(n.forceGlyph)}if(!t){n.fireEvent("change",n,e)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){var e=this,t=0,n,r,i,s;if(e.changeHandler){e.on("change",e.changeHandler,e.scope||e);delete e.changeHandler}n=(e.menu.items||[]).concat(e.items||[]);e.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},e.menu);i=n.length;for(r=0;r<i;r++){s=n[r];s=Ext.applyIf({group:e.id,itemIndex:r,checkHandler:e.checkHandler,scope:e,checked:s.checked||false},s);e.menu.items.push(s);if(s.checked){t=r}}e.itemCount=e.menu.items.length;e.callParent(arguments);e.on("click",e.toggleSelected,e);e.setActiveItem(t,e)},checkHandler:function(e,t){if(t){this.setActiveItem(e)}},toggleSelected:function(){var e=this,t=e.menu,n;n=e.activeItem.next(":not([disabled])")||t.items.getAt(0);n.setChecked(true)}});Ext.define("Ext.button.Segmented",{extend:"Ext.container.Container",xtype:"segmentedbutton",requires:["Ext.button.Button"],config:{allowDepress:false,allowMultiple:false,allowToggle:true,vertical:false,defaultUI:"default"},beforeRenderConfig:{value:undefined},publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:false,isSegmentedButton:true,baseCls:Ext.baseCSSPrefix+"segmented-button",itemCls:Ext.baseCSSPrefix+"segmented-button-item",_firstCls:Ext.baseCSSPrefix+"segmented-button-first",_lastCls:Ext.baseCSSPrefix+"segmented-button-last",_middleCls:Ext.baseCSSPrefix+"segmented-button-middle",applyValue:function(e,t){var n=this,r=n.getAllowMultiple(),i,s,o,u,a,f,l;o=e instanceof Array?e:e==null?[]:[e];u=t instanceof Array?t:t==null?[]:[t];n._isApplyingValue=true;if(!n.rendered){a=n.items.items;for(f=0,l=a.length;f<l;f++){s=a[f];if(s.pressed){i=s.value;if(i==null){i=n.items.indexOf(s)}if(!Ext.Array.contains(o,i)){o.push(i)}}}}l=o.length;if(l>1&&!r){Ext.Error.raise("Cannot set multiple values when allowMultiple is false")}for(f=0;f<l;f++){e=o[f];s=n._lookupButtonByValue(e);if(s){i=s.value;if(i!=null&&i!==e){o[f]=i}if(!s.pressed){s.setPressed(true)}}else{Ext.Error.raise("Invalid value '"+e+"' for segmented button: '"+n.id+"'")}}e=r?o:l?o[0]:null;for(f=0,l=u.length;f<l;f++){t=u[f];if(!Ext.Array.contains(o,t)){n._lookupButtonByValue(t).setPressed(false)}}n._isApplyingValue=false;return e},beforeRender:function(){var e=this;e.addCls(e.baseCls+e._getClsSuffix());e._syncItemClasses(true);e.callParent()},onAdd:function(e){var t=this,n="_syncItemClasses";var r=t.items.items,i=r.length,s=0,o,u;if(e.ui==="default"&&!e.hasOwnProperty("ui")){u=t.getDefaultUI();if(u!=="default"){e.ui=u}}for(;s<i;s++){if(r[s]!==e){o=r[s].value;if(o!=null&&o===e.value){Ext.Error.raise("Segmented button '"+t.id+"' cannot contain multiple items with value: '"+o+"'")}}}t.mon(e,{hide:n,show:n,toggle:"_onItemToggle",scope:t});if(t.getAllowToggle()){e.enableToggle=true;if(!t.getAllowMultiple()){e.toggleGroup=t.getId();e.allowDepress=t.getAllowDepress()}}e.addCls(t.itemCls+t._getClsSuffix());t._syncItemClasses();t.callParent([e])},onRemove:function(e){var t=this;e.removeCls(t.itemCls+t._getClsSuffix());t._syncItemClasses();t.callParent([e])},beforeLayout:function(){if(Ext.isChrome){this.el.dom.offsetWidth}this.callParent()},updateDefaultUI:function(e){var t=this.items,n,r,i;if(this.rendered){Ext.Error.raise("Changing the ui config of a segmented button after render is not supported.")}else if(t){if(t.items){t=t.items}for(r=0,i=t.length;r<i;r++){n=t[r];if(n.ui==="default"&&e!=="default"&&!n.hasOwnProperty("ui")){t[r].ui=e}}}},updateAllowDepress:function(e,t){if(this.rendered&&e!==t){Ext.Error.raise("Changing the allowDepress config of a segmented button after render is not supported.")}},updateAllowMultiple:function(e,t){if(this.rendered&&e!==t){Ext.Error.raise("Changing the allowMultiple config of a segmented button after render is not supported.")}},updateAllowToggle:function(e,t){if(this.rendered&&e!==t){Ext.Error.raise("Changing the allowToggle config of a segmented button after render is not supported.")}},updateVertical:function(e,t){if(this.rendered&&e!==t){Ext.Error.raise("Changing the orientation of a segmented button after render is not supported.")}},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(e){var t=this.items.items,n=t.length,r=0,i=null,s,o;for(;r<n;r++){o=t[r];s=o.value;if(s!=null&&s===e){i=o;break}}if(!i&&typeof e==="number"){i=t[e]}return i},_onItemToggle:function(e,t){if(this._isApplyingValue){return}var n=this,r=Ext.Array,i=n.allowMultiple,s=e.value!=null?e.value:n.items.indexOf(e),o=n.getValue(),u;if(i){u=r.indexOf(o,s)}if(t){if(i){if(u===-1){o.push(s)}}else{o=s}}else{if(i){if(u>-1){o.splice(u,1)}}else if(o===s){o=null}}n.setValue(o);n.fireEvent("toggle",n,e,t)},_syncItemClasses:function(e){var t=this,n,r,i,s,o,u,a,f;if(!e&&!t.rendered){return}n=t._getFirstCls();r=t._middleCls;i=t._getLastCls();s=t.items.items;o=s.length;u=[];for(f=0;f<o;f++){a=s[f];if(!a.hidden){u.push(a)}}o=u.length;for(f=0;f<o;f++){u[f].removeCls([n,r,i])}if(o>1){u[0].addCls(n);for(f=1;f<o-1;f++){u[f].addCls(r)}u[o-1].addCls(i)}}}});Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:true,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(e){return this.autoSizePolicy},initInheritedState:function(e,t){t.inShrinkWrapTable=true},getLayoutItems:function(){var e=this,t=[],n=e.callParent(),r,i=n.length,s;for(s=0;s<i;s++){r=n[s];if(!r.hidden){t.push(r)}}return t},getHiddenItems:function(){var e=[],t=this.owner.items.items,n=t.length,r=0,i;for(;r<n;++r){i=t[r];if(i.rendered&&i.hidden){e.push(i)}}return e},renderChildren:function(){var e=this,t=e.getLayoutItems(),n=e.owner.getTargetEl().child("table",true).tBodies[0],r=n.rows,i=0,s=t.length,o=e.getHiddenItems(),u,a,f,l,c,h,p,d,v;u=e.calculateCells(t);for(;i<s;i++){a=u[i];f=a.rowIdx;l=a.cellIdx;c=t[i];h=r[f];if(!h){h=n.insertRow(f);if(e.trAttrs){h.set(e.trAttrs)}}d=p=Ext.get(h.cells[l]||h.insertCell(l));if(e.needsDivWrap()){d=p.first()||p.createChild({tag:"div",role:"presentation"});d.setWidth(null)}if(!c.rendered){e.renderItem(c,d,0)}else if(!e.isValidParent(c,d,f,l,n)){e.moveItem(c,d,0)}if(e.tdAttrs){p.set(e.tdAttrs)}if(c.tdAttrs){p.set(c.tdAttrs)}p.set({colSpan:c.colspan||1,rowSpan:c.rowspan||1,id:c.cellId||"",cls:e.cellCls+" "+(c.cellCls||"")});if(!u[i+1]||u[i+1].rowIdx!==f){l++;while(h.cells[l]){h.deleteCell(l)}}}f++;while(n.rows[f]){n.deleteRow(f)}for(i=0,s=o.length;i<s;++i){e.ensureInDocument(o[i].getEl())}},ensureInDocument:function(e){var t=e.dom.parentNode;while(t){if(t.tagName.toUpperCase()=="BODY"){return}t=t.parentNode}Ext.getDetachedBody().appendChild(e)},calculate:function(e){if(!e.hasDomProp("containerChildrenSizeDone")){this.done=false}else{var t=e.targetContext,n=e.widthModel.shrinkWrap,r=e.heightModel.shrinkWrap,i=r||n,s=i&&t.el.child("table",true),o=i&&t.getPaddingInfo();if(n){e.setContentWidth(s.offsetWidth+o.width,true)}if(r){e.setContentHeight(s.offsetHeight+o.height,true)}}},finalizeLayout:function(){if(this.needsDivWrap()){var e=this.getLayoutItems(),t,n=e.length,r;for(t=0;t<n;t++){r=e[t];Ext.fly(r.el.dom.parentNode).setWidth(r.getWidth())}}},calculateCells:function(e){var t=[],n=0,r=0,i=0,s=this.columns||Infinity,o=[],u=0,a,f=e.length,l;for(;u<f;u++){l=e[u];while(r>=s||o[r]>0){if(r>=s){r=0;i=0;n++;for(a=0;a<s;a++){if(o[a]>0){o[a]--}}}else{r++}}t.push({rowIdx:n,cellIdx:i});for(a=l.colspan||1;a;--a){o[r]=l.rowspan||1;++r}++i}return t},getRenderTree:function(){var e=this,t=e.getLayoutItems(),n,r=[],i=Ext.apply({tag:"table",role:"presentation",cls:e.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",role:"presentation",cn:r}},e.tableAttrs),s=e.tdAttrs,o=e.needsDivWrap(),u,a=t.length,f,l,c,h,p,d;n=e.calculateCells(t);for(u=0;u<a;u++){f=t[u];l=n[u];h=l.rowIdx;p=l.cellIdx;c=r[h];if(!c){c=r[h]={tag:"tr",role:"presentation",cn:[]};if(e.trAttrs){Ext.apply(c,e.trAttrs)}}d=c.cn[p]={tag:"td",role:"presentation"};if(s){Ext.apply(d,s)}Ext.apply(d,{colSpan:f.colspan||1,rowSpan:f.rowspan||1,id:f.cellId||"",cls:e.cellCls+" "+(f.cellCls||"")});if(o){d=d.cn={tag:"div",role:"presentation"}}e.configureItem(f);d.cn=f.getRenderTree()}return i},isValidParent:function(e,t,n,r){var i,s,o;if(arguments.length===3){o=e.el.up("table");return o&&o.dom.parentNode===t.dom}i=this.owner.getTargetEl().child("table",true).tBodies[0];s=i.rows[n].cells[r];return e.el.dom.parentNode===s},needsDivWrap:function(){return Ext.isOpera10_5}});Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:true,frameHeader:false,titleAlign:"center",noTitleCls:"notitle",ariaRole:"group",initComponent:function(){var e=this,t=e.columns;if(t){e.layout=Ext.apply({},{columns:t},e.layout)}if(!e.title){e.addClsWithUI(e.noTitleCls)}e.callParent(arguments)},onBeforeAdd:function(e){if(e.isButton){if(this.defaultButtonUI&&e.ui==="default"&&!e.hasOwnProperty("ui")){e.ui=this.defaultButtonUI}else{e.ui=e.ui+"-toolbar"}}this.callParent(arguments)},privates:{applyDefaults:function(e){if(!Ext.isString(e)){e=this.callParent(arguments)}return e}}});Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(e){Ext.apply(this,e)},bind:function(e){var t=this;t.target=e;e.on("beforedestroy",t.disable,t);t.onContainerAdd(e)},unbind:function(){var e=this,t=e.target;if(t){t.un("beforedestroy",e.disable,e)}e.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(e,t){if(!this.disabled){if(t.is(this.selector)){this.onItemAdd(t.ownerCt,t)}if(t.isQueryable){this.onContainerAdd(t)}}},onItemAdd:function(e,t){var n=this,r=n.items,i=n.addHandler;if(!n.disabled){if(i){i.call(n.scope||t,t)}if(r){r.add(t)}}},onItemRemove:function(e,t){var n=this,r=n.items,i=n.removeHandler;if(!n.disabled){if(i){i.call(n.scope||t,t)}if(r){r.remove(t)}}},onContainerAdd:function(e,t){var n=this,r,i,s=n.handleAdd,o=n.handleRemove,u,a;if(e.isContainer){e.on("add",s,n);e.on("dockedadd",s,n);e.on("remove",o,n);e.on("dockedremove",o,n)}if(t!==true){r=e.query(n.selector);for(u=0,i=r.length;u<i;++u){a=r[u];n.onItemAdd(a.ownerCt,a)}}r=e.query(">container");for(u=0,i=r.length;u<i;++u){n.onContainerAdd(r[u],true)}},handleRemove:function(e,t){var n=this;if(!n.disabled){if(t.is(n.selector)){n.onItemRemove(e,t)}if(t.isQueryable){n.onContainerRemove(e,t)}}},onContainerRemove:function(e,t){var n=this,r,i,s,o;if(!t.isDestroyed&&!t.destroying&&t.isContainer){n.removeCtListeners(t);r=t.query(n.selector);for(i=0,s=r.length;i<s;++i){o=r[i];n.onItemRemove(o.ownerCt,o)}r=t.query("container");for(i=0,s=r.length;i<s;++i){n.removeCtListeners(r[i])}}else{n.invalidateItems(true)}},removeCtListeners:function(e){var t=this;e.un("add",t.handleAdd,t);e.un("dockedadd",t.handleAdd,t);e.un("remove",t.handleRemove,t);e.un("dockedremove",t.handleRemove,t)},getItems:function(){var e=this,t=e.items;if(!t){t=e.items=new Ext.util.MixedCollection;t.addAll(e.target.query(e.selector))}return t},invalidateItems:function(e){var t=this,n=t.invalidateHandler;if(e&&n){n.call(t.scope||t,t)}t.items=null}});Ext.define("Ext.plugin.Responsive",{extend:"Ext.mixin.Responsive",alias:"plugin.responsive",pluginId:"responsive",isPlugin:true,constructor:function(e){var t=this,n=e.cmp,r=Ext.apply({responsiveConfig:n.responsiveConfig,responsiveFormulas:n.responsiveFormulas},e);delete r.cmp;t.cmp=n;if(!n){Ext.Error.raise("Responsive plugin must be constructed by Component")}t.initConfig(r);if(t.transformed){n.setConfig(t.transformed);t.transformed=null}},init:Ext.emptyFn,privates:{transformInstanceConfig:function(e){var t=this.callParent([e]);if(t.ptype){t=Ext.apply({},t);delete t.ptype}this.transformed=t;var n=Ext.apply({},e);delete n.ptype;delete n.responsiveConfig;delete n.responsiveFormulas;return n},updateResponsiveState:function(){var e=this.getResponsiveState();this.cmp.setConfig(e)}}});Ext.define("Ext.plugin.Viewport",{extend:"Ext.plugin.Responsive",alias:"plugin.viewport",setCmp:function(e){this.cmp=e;if(e&&!e.isViewport){this.apply(e);if(e.renderConfigs){e.flushRenderConfigs()}e.setupViewport()}},statics:{apply:function(e){Ext.applyIf(e.prototype||e,{ariaRole:"application",viewportCls:Ext.baseCSSPrefix+"viewport"});Ext.override(e,{isViewport:true,preserveElOnDestroy:true,initComponent:function(){this.callParent();this.setupViewport()},handleViewportResize:function(){var e=this,t=Ext.dom.Element,n=t.getViewportWidth(),r=t.getViewportHeight();if(n!=e.width||r!=e.height){e.setSize(n,r)}},setupViewport:function(){var e=this,t=document.body.parentNode,n=e.el=Ext.getBody();Ext.getScrollbarSize();e.width=e.height=undefined;Ext.fly(t).addCls(e.viewportCls);if(e.autoScroll){Ext.fly(t).setStyle(e.getOverflowStyle());delete e.autoScroll}n.setHeight=n.setWidth=Ext.emptyFn;n.dom.scroll="no";e.allowDomMove=false;e.renderTo=e.el;if(Ext.supports.Touch){e.initMeta()}},afterLayout:function(e){if(Ext.supports.Touch){document.body.scrollTop=0}this.callParent([e])},onRender:function(){var e=this;e.callParent(arguments);e.width=Ext.Element.getViewportWidth();e.height=Ext.Element.getViewportHeight();if(Ext.supports.TouchEvents){e.mon(Ext.getDoc(),{touchmove:function(e){e.preventDefault()},translate:false,delegated:false})}},initInheritedState:function(e,t){var n=this,r=Ext.rootInheritedState;if(e!==r){n.initInheritedState(n.inheritedState=r,n.inheritedStateInner=Ext.Object.chain(r))}else{n.callParent([e,t])}},beforeDestroy:function(){var e=this;e.removeUIFromElement();e.el.removeCls(e.baseCls);Ext.fly(document.body.parentNode).removeCls(e.viewportCls);e.callParent()},addMeta:function(e,t){var n=document.createElement("meta");n.setAttribute("name",e);n.setAttribute("content",t);Ext.getHead().appendChild(n)},initMeta:function(){var e=this,t=e.maxUserScale||1;e.addMeta("viewport","width=device-width, initial-scale=1, maximum-scale="+t+", user-scalable="+(t!==1?"yes":"no"));e.addMeta("apple-mobile-web-app-capable","yes")},privates:{applyTargetCls:function(e){this.el.addCls(e)},disableTabbing:function(){var e=this.el;if(e){e.saveChildrenTabbableState()}},enableTabbing:function(){var e=this.el;if(e){e.restoreChildrenTabbableState()}}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();this.callParent()}}},function(e){e.prototype.apply=e.apply});Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",requires:["Ext.plugin.Viewport"],mixins:["Ext.mixin.Responsive"],alias:"widget.viewport",alternateClassName:"Ext.Viewport",privates:{updateResponsiveState:function(){this.handleViewportResize();this.mixins.responsive.updateResponsiveState.call(this)}}},function(){Ext.plugin.Viewport.apply(this)});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,setsItemSize:true,beginLayoutCycle:function(e){var t=this,n=0,r,i,s,o,u,a;t.callParent(arguments);s=e.childItems;u=s.length;for(o=0;o<u;++o){i=s[o];r=i.target.anchorSpec;if(r){if(i.widthModel.calculated&&r.right){n|=1}if(i.heightModel.calculated&&r.bottom){n|=2}if(n==3){break}}}e.anchorDimensions=n;t.sanityCheck(e)},calculateItems:function(e,t){var n=this,r=e.childItems,i=r.length,s=t.gotHeight,o=t.gotWidth,u=t.height,a=t.width,f=(o?1:0)|(s?2:0),l=e.anchorDimensions,c,h,p,d,v,m;if(!l){return true}for(v=0;v<i;v++){h=r[v];p=h.getMarginInfo();c=h.target.anchorSpec;if(o&&h.widthModel.calculated){m=c.right(a)-p.width;m=n.adjustWidthAnchor(m,h);h.setWidth(m)}if(s&&h.heightModel.calculated){d=c.bottom(u)-p.height;d=n.adjustHeightAnchor(d,h);h.setHeight(d)}}return(f&l)===l},sanityCheck:function(e){var t=e.widthModel.shrinkWrap,n=e.heightModel.shrinkWrap,r=e.childItems,i,s,o,u,a;for(u=0,a=r.length;u<a;++u){o=r[u];s=o.target;i=s.anchorSpec;if(i){if(o.widthModel.calculated&&i.right){if(t){Ext.log({level:"warn",msg:"Right anchor on "+s.id+" in shrinkWrap width container"})}}if(o.heightModel.calculated&&i.bottom){if(n){Ext.log({level:"warn",msg:"Bottom anchor on "+s.id+" in shrinkWrap height container"})}}}}},anchorFactory:{offset:function(e){return function(t){return t+e}},ratio:function(e){return function(t){return Math.floor(t*e)}},standard:function(e){return function(t){return t-e}}},parseAnchor:function(e,t,n){if(e&&e!="none"){var r=this.anchorFactory,i;if(this.parseAnchorRE.test(e)){return r.standard(n-t)}if(e.indexOf("%")!=-1){return r.ratio(parseFloat(e.replace("%",""))*.01)}i=parseInt(e,10);if(!isNaN(i)){return r.offset(i)}}return null},adjustWidthAnchor:function(e,t){return e},adjustHeightAnchor:function(e,t){return e},configureItem:function(e){var t=this,n=t.owner,r=e.anchor,i,s,o;t.callParent(arguments);if(!e.anchor&&e.items&&!Ext.isNumber(e.width)){e.anchor=r=t.defaultAnchor}if(n.anchorSize){if(typeof n.anchorSize=="number"){s=n.anchorSize}else{s=n.anchorSize.width;o=n.anchorSize.height}}else{s=n.initialConfig.width;o=n.initialConfig.height}if(r){i=r.split(" ");e.anchorSpec={right:t.parseAnchor(i[0],e.initialConfig.width,s),bottom:t.parseAnchor(i[1],e.initialConfig.height,o)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=e.anchorSpec,n="$",r=this.sizePolicy,i;if(t){i=this.owner.getSizeModel();if(t.right&&!i.width.shrinkWrap){r=r.r}if(t.bottom&&!i.height.shrinkWrap){n="b"}}return r[n]}});Ext.define("Ext.dashboard.Panel",{extend:"Ext.panel.Panel",xtype:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-panel",anchor:"100%",layout:"fit",frame:true,closable:true,collapsible:true,animCollapse:true,titleCollapse:true,stateful:true,draggable:{moveOnDrag:false},animateClose:true,loadMask:true,loadMessage:"Loading...",minHeight:90,resizable:true,resizeHandles:"s",doClose:function(){var e=this;if(e.animateClose){if(!e.closing){e.closing=true;e.el.animate({opacity:0,callback:e.finishClose,scope:e})}}else{e.finishClose()}},finishClose:function(){var e=this,t=e.closeAction;e.closing=false;e.fireEvent("close",e);Ext.suspendLayouts();e[t]();Ext.resumeLayouts(true);if(t==="hide"){e.el.setOpacity(0)}},afterRender:function(){this.callParent();if(this.loading){this.onViewBeforeLoad()}},getLoadMask:function(){var e=this,t=e.rendered&&e.loadMask,n;if(t&&!t.isComponent){n={target:e};if(t===true){t=n}else{Ext.apply(n,t)}e.loadMask=t=Ext.ComponentManager.create(n,"loadmask")}return t||null},onAdd:function(e){this.callParent(arguments);e.on({beforeload:"onViewBeforeLoad",load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=true;var e=this.getLoadMask();if(e){e.show()}},onViewLoaded:function(){this.loading=false;var e=this.getLoadMask();if(e){e.hide()}var t=this.items.getAt(0);if(t.getTitle){var n=t.getTitle();if(n){this.setTitle(n)}}},setBox:function(e){this.setSize(e.width,e.height)},getState:function(){var e=this,t=e.callParent()||{};if(!t.collapsed){e.addPropertyToState(t,"height",e.rendered?e.getHeight():e.height||e.minHeight||100)}return t}});Ext.define("Ext.dashboard.Column",{extend:"Ext.container.Container",xtype:"dashboard-column",requires:["Ext.layout.container.Anchor","Ext.dashboard.Panel"],layout:"anchor",isDashboardColumn:true,defaultType:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-column",synthetic:true,onRemove:function(e,t){var n=this,r=n.ownerCt,i,s,o=0,u;if(r&&n.items.getCount()===0){i=Ext.Array.filter(r.query(">"+n.xtype+"[rowIndex="+n.rowIndex+"]"),function(e){return e!==n});s=i.length;if(!n.destroying&&!n.isDestroyed){r.remove(n);if(s===1){i[0].columnWidth=1}else{for(u=0;u<s;u++){o+=i[u].columnWidth||0}for(u=0;u<s;u++){i[u].columnWidth=i[u].columnWidth/o}}if(t){r.updateLayout()}}}}});Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Auto",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:true,manageOverflow:true,setsItemSize:true,isItemShrinkWrap:function(e){return true},getItemSizePolicy:function(e,t){if(e.columnWidth){if(!t){t=this.owner.getSizeModel()}if(!t.width.shrinkWrap){return this.columnWidthSizePolicy}}return this.autoSizePolicy},calculateItems:function(e,t){var n=this,r=e.targetContext,i=e.childItems,s=i.length,o=0,u=t.gotWidth,a,f,l,c,h,p;if(u===false){r.domBlock(n,"width");a=true}else if(u){f=t.width}else{return true}for(l=0;l<s;++l){c=i[l];h=c.getMarginInfo().width;if(!c.widthModel.calculated){p=c.getProp("width");if(typeof p!=="number"){c.block(n,"width");a=true}o+=p+h}}if(!a){f=f<o?0:f-o;for(l=0;l<s;++l){c=i[l];if(c.widthModel.calculated){h=c.marginInfo.width;p=c.target.columnWidth;p=Math.floor(p*f)-h;p=c.setWidth(p);o+=p+h}}e.setContentWidth(o+e.paddingContext.getPaddingInfo().width)}return!a}});Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e,t=Ext.dom.Element;e=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});e.unselectable();e.setSize(t.getDocumentWidth(),t.getDocumentHeight());e.show()},getPrevCmp:function(){var e=this.getSplitter();return e.previousSibling(":not([hidden])")},getNextCmp:function(){var e=this.getSplitter();return e.nextSibling(":not([hidden])")},onBeforeStart:function(e){var t=this,n=t.getPrevCmp(),r=t.getNextCmp(),i=t.getSplitter().collapseEl,s=e.getTarget(),o;if(!n||!r){return false}if(i&&s===i.dom){return false}if(r.collapsed||n.collapsed){return false}t.prevBox=n.getEl().getBox();t.nextBox=r.getEl().getBox();t.constrainTo=o=t.calculateConstrainRegion();if(!o){return false}return o},onStart:function(e){var t=this.getSplitter();this.createDragOverlay();t.addCls(t.baseCls+"-active")},calculateConstrainRegion:function(){var e=this,t=e.getSplitter(),n=t.getWidth(),r=t.defaultSplitMin,i=t.orientation,s=e.prevBox,o=e.getPrevCmp(),u=e.nextBox,a=e.getNextCmp(),f,l,c;if(i==="vertical"){c={prevCmp:o,nextCmp:a,prevBox:s,nextBox:u,defaultMin:r,splitWidth:n};f=new Ext.util.Region(s.y,e.getVertPrevConstrainRight(c),s.bottom,e.getVertPrevConstrainLeft(c));l=new Ext.util.Region(u.y,e.getVertNextConstrainRight(c),u.bottom,e.getVertNextConstrainLeft(c))}else{f=new Ext.util.Region(s.y+(o.minHeight||r),s.right,(o.maxHeight?s.y+o.maxHeight:u.bottom-(a.minHeight||r))+n,s.x);l=new Ext.util.Region((a.maxHeight?u.bottom-a.maxHeight:s.y+(o.minHeight||r))-n,u.right,u.bottom-(a.minHeight||r),u.x)}return f.intersect(l)},performResize:function(e,t){var n=this,r=n.getSplitter(),i=r.orientation,s=n.getPrevCmp(),o=n.getNextCmp(),u=r.ownerCt,a=u.query(">[flex]"),f=a.length,l=i==="vertical",c=0,h=l?"width":"height",p=0,d,v;for(;c<f;c++){d=a[c];v=l?d.getWidth():d.getHeight();p+=v;d.flex=v}t=l?t[0]:t[1];if(s){v=n.prevBox[h]+t;if(s.flex){s.flex=v}else{s[h]=v}}if(o){v=n.nextBox[h]-t;if(o.flex){o.flex=v}else{o[h]=v}}u.updateLayout()},endDrag:function(){var e=this;if(e.overlay){e.overlay.destroy();delete e.overlay}e.callParent(arguments)},onEnd:function(e){var t=this,n=t.getSplitter();n.removeCls(n.baseCls+"-active");t.performResize(e,t.getResizeOffset())},onDrag:function(e){var t=this,n=t.getOffset("dragTarget"),r=t.getSplitter(),i=r.getEl(),s=r.orientation;if(s==="vertical"){i.setX(t.startRegion.left+n[0])}else{i.setY(t.startRegion.top+n[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(e){return(e.prevCmp.maxWidth?e.prevBox.x+e.prevCmp.maxWidth:e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin))+e.splitWidth},getVertPrevConstrainLeft:function(e){return e.prevBox.x+(e.prevCmp.minWidth||e.defaultMin)},getVertNextConstrainRight:function(e){return e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin)},getVertNextConstrainLeft:function(e){return(e.nextCmp.maxWidth?e.nextBox.right-e.nextCmp.maxWidth:e.prevBox.x+(e.prevBox.minWidth||e.defaultMin))-e.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}});Ext.define("Ext.layout.container.ColumnSplitterTracker",{extend:"Ext.resizer.SplitterTracker",onStart:function(e){Ext.apply(this.getSplitter().el.dom.style,{top:0,left:0});this.callParent(arguments)},endDrag:function(){var e=this;e.callParent(arguments);e.getSplitter().el.dom.style.left=0},performResize:function(e,t){var n=this,r=n.getPrevCmp(),i=n.getNextCmp(),s=n.getSplitter(),o=s.ownerCt,u=t[0],a,f,l;if(r&&i){r.width=a=n.prevBox.width+u;i.width=f=n.nextBox.width-u;l=(r.columnWidth+i.columnWidth)/(a+f);r.columnWidth=a*l;i.columnWidth=f*l}o.updateLayout()}});Ext.define("Ext.layout.container.ColumnSplitter",{extend:"Ext.resizer.Splitter",xtype:"columnsplitter",requires:["Ext.layout.container.ColumnSplitterTracker"],isSplitter:true,synthetic:true,cls:Ext.baseCSSPrefix+"splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var e=this.callParent();e.xclass=this.trackerClass;return e}});Ext.define("Ext.layout.container.Dashboard",{extend:"Ext.layout.container.Column",alias:"layout.dashboard",requires:["Ext.layout.container.ColumnSplitter"],type:"dashboard",firstColumnCls:Ext.baseCSSPrefix+"dashboard-column-first",lastColumnCls:Ext.baseCSSPrefix+"dashboard-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},getColumns:function(e){var t=Ext.Array;return t.filter(t.from(e),function(e){return e.target&&e.target.isSplitter!==true})},beginLayout:function(e){var t=this;t.callParent([e]);var n=e.childItems,r=e.rows=[],i=n.length,s=2,o=0,u=0,a=t.owner.getMaxColumns(),f,l,c,h,p,d,v;for(l=0;l<i;++l){d=(f=n[l]).target;p=d&&d.isSplitter;o+=p?0:1;v=p?0:d.columnWidth||1;if(s+v>1||a&&o>a){if(c){c.orphan=1;c.el.setHeight(0)}s=0;o=1;if(r.length){u=r.length-1;t.syncFirstLast(t.getColumns(r[u].items))}r.push(h={index:r.length,items:[],maxHeight:0})}s+=v;h.items.push(f);f.row=h;d.rowIndex=h.index;if(p){f.el.setHeight(1)}c=f}if(r.length){t.syncFirstLast(t.getColumns(r[r.length-1].items))}},beforeLayoutCycle:function(e){var t=this,n=t.owner.items;if(t.splitterGen!==n.generation){t.syncSplitters();t.splitterGen=n.generation}t.callParent(arguments)},finishedLayout:function(e){var t=e.childItems,n=t.length,r,i,s,o,u;this.callParent([e]);for(s=0;s<n;s+=2){o=(i=t[s]).target;r=o.lastBox;u=i.row;u.maxHeight=Math.max(u.maxHeight,r.height);o.width=r.width}for(s=1;s<n;s+=2){o=(i=t[s]).target;if(!i.orphan){o.el.setHeight(i.row.maxHeight)}}},syncSplitters:function(){var e=this,t=e.owner,n=t.items.items,r=n.length,i=true,s=false,o,u;while(r-->0){o=n[r];if(s){if(o.isSplitter){s=false}else{if(i){i=false;t.suspendLayouts()}u=t.add(r+1,e.getSplitterConfig())}}else{if(o.isSplitter){if(i){i=false;t.suspendLayouts()}t.remove(o)}else{s=true}}}while(n.length&&(o=n[0]).isSplitter){if(i){i=false;t.suspendLayouts()}t.remove(o)}if(!i){t.resumeLayouts()}},syncFirstLast:function(e){var t=this,n=t.firstColumnCls,r=t.lastColumnCls,i,s=[n,r],o,u,a;e=Ext.Array.from(e);i=e.length;for(o=0;o<i;++o){u=e[o].target;a=o===i-1;if(!o){if(a){u.addCls(s)}else{u.addCls(n);u.removeCls(r)}}else if(a){u.addCls(r);u.removeCls(n)}else{u.removeCls(s)}}}});Ext.define("Ext.dashboard.DropZone",{extend:"Ext.dd.DropTarget",ddScrollConfig:{vthresh:50,hthresh:-1,animate:true,increment:200},containerScroll:true,overClass:Ext.baseCSSPrefix+"dashboard-dd-over",constructor:function(e,t){this.dashboard=e;e.body.ddScrollConfig=this.ddScrollConfig;this.callParent([e.body,t])},getOverEvent:function(e,t,n){var r=this.dashboard,i=r.items.items,s=r.body.getBox(),o=i.length,u=t.getXY(),a=u[0]-s.x,f=u[1]-s.y,l={columnIndex:0,column:null,dashboard:r,above:null,extensible:false,beforeAfter:0,data:n,panel:n.panel,rawEvent:t,source:e,status:this.dropAllowed},c,h,p,d,v,m,g,y,b;for(p=0;p<o;p+=2){v=i[p];m=v.lastBox.width;if(i[p+1]){m+=i[p+1].lastBox.width}if(t.within(v.el)){l.columnIndex=p;l.column=v;l.extensible=this.isRowExtensible(v.rowIndex);c=Math.min(80,m*.2);l.beforeAfter=c=l.extensible&&(a<c?-1:a>m-c?1:0);if(!c||!l.extensible){y=v.items.items;for(d=0,g=y.length;d<g;++d){b=y[d];h=b.el.getHeight();if(f<h/2){l.above=b;break}f-=h}}break}a-=m}return l},notifyOver:function(e,t,n){var r=this,i=r.dashboard,s=r.getOverEvent(e,t,n),o=s.column&&s.column.el,u=e.proxy,a,f=s.above,l,c=0,h,p=i.hasListeners;n.lastOver=s;if((!p.validatedrop||i.fireEvent("validatedrop",s)!==false)&&(!p.beforedragover||i.fireEvent("beforedragover",s)!==false)){a=e.panelProxy.getProxy();u.getProxy().setWidth("auto");if(o){c=l=o.getWidth();if(s.beforeAfter){e.panelProxy.moveProxy(o.dom,o.dom.firstChild);c=l/2;a.setWidth(c)}else{if(f){e.panelProxy.moveProxy(f.el.dom.parentNode,f.el.dom)}else{e.panelProxy.moveProxy(o.dom,null)}a.setWidth("auto")}if(c){}a.setStyle({"float":"none",clear:"none","margin-left":s.beforeAfter>0?l-c-o.getPadding("lr")+"px":"","margin-top":"7px"})}else{h=i.body.getPadding("lr");a.setStyle({"float":"left",clear:"left",margin:"0 7px 0 7px"});a.setWidth(i.body.getWidth()-h);e.panelProxy.moveProxy(i.body.dom.firstChild.firstChild,null)}this.scrollPos=i.body.getScroll();if(p.dragover){i.fireEvent("dragover",s)}}return s.status},isRowExtensible:function(e){var t=this,n=t.dashboard,r=n.getMaxColumns()||1;return Ext.Array.from(n.query(">dashboard-column[rowIndex="+e+"]")).length<r},notifyDrop:function(e,t,n){this.callParent(arguments);var r=this.dashboard,i=n.lastOver,s=i.panel,o=s.ownerCt,u=i.column,a=u?i.beforeAfter:1,f=o.items.indexOf(s),l=u?i.above?u.items.indexOf(i.above):u.items.getCount():0,c,h,p=r.hasListeners;if(o===u){if(o.items.getCount()===1){return}if(!a){if(f<l){--l}if(f===l){return}}}if(p.validatedrop&&r.fireEvent("validatedrop",i)===false||p.beforedrop&&r.fireEvent("beforedrop",i)===false){return}Ext.suspendLayouts();s.isMoving=true;if(a){c=r.items.indexOf(u);if(c<0){c=r.items.getCount()}else if(a>0){++c}h=r.createColumn();if(u){h.columnWidth=u.columnWidth=u.columnWidth/2;delete u.width}else{h.columnWidth=1}u=r.insert(c,h);l=0}s.el.dom.style.display="";u.insert(l,s);s.isMoving=false;u.updateLayout();Ext.resumeLayouts(true);if(p.drop){r.fireEvent("drop",i)}}});Ext.define("Ext.dashboard.Part",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.ObjectTemplate"],alias:"part.part",factoryConfig:{type:"part"},isPart:true,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(e){this.initConfig(e)},applyViewTemplate:function(e){if(!Ext.isObject(e)){Ext.Error.raise("The viewTemplate for "+this.$className+" is not an Object")}return Ext.util.ObjectTemplate.create(e,this.viewTemplateOptions)},displayForm:function(e,t,n,r){n.call(r||this,{})},createView:function(e){var t=this,n=t.getViewTemplate(),r=n.apply(e);r.dashboard=t.getDashboard();r.part=t;r._partConfig=e;return r}});Ext.define("Ext.dashboard.Dashboard",{extend:"Ext.panel.Panel",xtype:"dashboard",requires:["Ext.layout.container.Dashboard","Ext.dashboard.DropZone","Ext.dashboard.Column","Ext.dashboard.Part"],isDashboard:true,cls:Ext.baseCSSPrefix+"dashboard",bodyCls:Ext.baseCSSPrefix+"dashboard-body",defaultType:"dashboard-column",autoScroll:true,layout:null,stateful:false,idSeed:1,config:{parts:null},renderConfig:{maxColumns:4},initComponent:function(){var e=this;if(!e.layout){e.layout={type:"dashboard"}}e.callParent()},applyParts:function(e,t){if(!t){t=new Ext.util.Collection({decoder:Ext.Factory.part})}var n,r;for(n in e){r=e[n];if(Ext.isString(r)){r={type:r}}r.id=n;r.dashboard=this;t.add(r)}return t},getPart:function(e){var t=this.getParts();return t.getByKey(e)},addNew:function(e,t,n){var r=this,i=r.getPart(e);i.displayForm(null,null,function(i){i.type=e;r.addView(i,t,n)})},addView:function(e,t,n){var r=this,i=r.items,s=i.getCount(),o=t||0,u=e.id?e:r.createView(e),a=r.columnWidths,f;if(!s){f=r.add(0,r.createColumn({columnWidth:1}));s=1;a=r.columnWidths=[]}if(o>=s){o=s-1;n=1}if(!n){f=i.getAt(o);if(f){return f.add(u)}}if(n>0){++o}f=r.createColumn();if(a){f.columnWidth=a[o]||(a[o]=1)}if(!f.items){f.items=[]}f.items.push(u);f=r.add(o,f);return f.items.first()},createColumn:function(e){var t=this.cycleLayout;return Ext.apply({items:[],bubbleEvents:["add","remove","move","resize"],listeners:{remove:this.onRemoveItem,expand:t,collapse:t,scope:this}},e)},createView:function(e){var t=this,n=e.type,r=t.getPart(n),i=r.createView(e);if(!i.id){i.id=t.id+"_"+n+t.idSeed++}i.bubbleEvents=Ext.Array.from(i.bubbleEvents).concat(["expand","collapse"]);i.stateful=t.stateful;return i},initEvents:function(){this.callParent();this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},cycleLayout:function(){this.updateLayout()},beforeDestroy:function(){if(this.dd){Ext.destroy(this.dd)}this.callParent()},applyState:function(e){delete e.items;var t=this;t.callParent([e]);var n=e.columnWidths,r=t.items.items,i=r.length,s,o;if(n){o=n.length;t.columnWidths=[];for(s=0;s<i;++s){t.columnWidths.push(r[s].columnWidth=s<o?n[s]:1/i)}}},getState:function(){var e=this,t=[],n=e.items.items,r=e.callParent()||{},i=n.length,s,o;for(s=0;s<i;++s){if(!(o=n[s]).isSplitter){t.push(o.columnWidth)}}r.columnWidths=t;r.idSeed=e.idSeed;r.items=e.serializeItems();e.columnWidths=t;return r},initItems:function(){var e=this,t=e.defaultContent,n;if(e.stateful){n=Ext.state.Manager.get(e.getStateId());t=n&&n.items||t}if(!e.items&&t){e.items=e.deserializeItems(t)}e.callParent()},deserializeItems:function(e){var t=this,n=e.length,r=[],i=t.columnWidths,s=t.getMaxColumns(),o,u,a,f,l,c;for(f=0;f<n;++f){c=e[f];u=Math.min(c.columnIndex||0,s-1);delete c.columnIndex;if(!(o=r[u])){r[u]=o=t.createColumn();a=i&&i[u];if(a){o.columnWidth=a}}l=t.createView(c);o.items.push(l)}for(f=0,n=r.length;f<n;++f){o=r[f];if(!o.columnWidth){o.columnWidth=1/n}}return r},serializeItem:function(e){return Ext.apply({type:e.part.id,id:e.id,columnIndex:e.columnIndex},e._partConfig)},serializeItems:function(){var e=this,t=e.items.items,n=t.length,r=[],i=0,s,o,u,a,f,l;for(u=0;u<n;++u){a=t[u];if(!a.isSplitter){o=a.items.items;for(f=0,l=o.length;f<l;++f){s=o[f];s.columnIndex=i;r.push(e.serializeItem(s))}++i}}return r},onRemoveItem:function(e,t){if(t.stateful&&!t.isMoving){Ext.state.Manager.clear(t.getStateId())}}});Ext.define("Ext.dom.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],alternateClassName:"Ext.Layer",isLayer:true,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e,t){e=e||{};var n=this,r=Ext.DomHelper,i=e.parentEl,s=i?Ext.getDom(i):document.body,o=e.hideMode,u=Ext.baseCSSPrefix+(e.fixed?"fixed-layer":"layer"),a,f,l;if(t){a=Ext.getDom(t);if(!a.parentNode){s.appendChild(a)}}if(!a){a=r.append(s,e.dh||{tag:"div",cls:u})}if(e.id){a.id=e.id}f=a.id;if(f){l=Ext.cache[f];if(l){delete Ext.cache[f];l.dom=null}}this.callParent([a]);if(t){n.addCls(u)}if(e.preventSync){n.preventSync=true}if(e.cls){n.addCls(e.cls)}n.constrain=e.constrain!==false;if(o){n.setVisibilityMode(Ext.Element[o.toUpperCase()])}else if(e.useDisplay){n.setVisibilityMode(Ext.Element.DISPLAY)}else{n.setVisibilityMode(Ext.Element.VISIBILITY)}if(e.shadow){n.shadowOffset=e.shadowOffset||4;n.shadow=new Ext.Shadow({offset:n.shadowOffset,mode:e.shadow,fixed:e.fixed});n.disableShadow()}else{n.shadowOffset=0}if(e.hidden===true){n.hide()}else if(e.hidden===false){n.show()}},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},disableShadow:function(){var e=this;if(e.shadow&&!e.shadowDisabled){e.shadowDisabled=true;e.shadow.hide();e.lastShadowOffset=e.shadowOffset;e.shadowOffset=0}},enableShadow:function(e){var t=this;if(t.shadow&&t.shadowDisabled){t.shadowDisabled=false;t.shadowOffset=t.lastShadowOffset;delete t.lastShadowOffset;if(e){t.sync(true)}}},sync:function(e){var t=this,n=t.shadow,r,i,s,o,u;if(t.preventSync){return}if(!t.updating&&t.isVisible()&&n){r=t[t.localXYNames.get]();i=r[0];s=r[1];o=t.dom.offsetWidth;u=t.dom.offsetHeight;if(n&&!t.shadowDisabled){if(e&&!n.isVisible()){n.show(t)}else{n.realign(i,s,o,u)}}}return t},destroy:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}},constrainXY:function(){if(this.constrain){var e=Ext.Element.getViewportWidth(),t=Ext.Element.getViewportHeight(),n=Ext.getDoc().getScroll(),r=this.getXY(),i=r[0],s=r[1],o=this.shadowOffset,u=this.dom.offsetWidth+o,a=this.dom.offsetHeight+o,f=false;if(i+u>e+n.left){i=e-u-o;f=true}if(s+a>t+n.top){s=t-a-o;f=true}if(i<n.left){i=n.left;f=true}if(s<n.top){s=n.top;f=true}if(f){Ext.Layer.superclass.setXY.call(this,[i,s]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,t,n,r,i){var s=this,o;o=function(){if(e){s.sync(true)}if(r){r()}};if(!e){s.hideUnders(true)}s.callParent([e,t,n,r,i]);if(!t){o()}return s},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(e){this.callParent(arguments);return this.sync()},setTop:function(e){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(e,t,n,r,i){var s=this;r=s.createCB(r);s.fixDisplay();s.beforeAction();s.callParent([e,t,n,r,i]);if(!t){r()}return s},createCB:function(e){var t=this,n=t.shadow&&t.shadow.isVisible();return function(){t.constrainXY();t.sync(n);if(e){e()}}},setX:function(e,t,n,r,i){this.setXY([e,this.getY()],t,n,r,i);return this},setY:function(e,t,n,r,i){this.setXY([this.getX(),e],t,n,r,i);return this},setSize:function(e,t,n,r,i,s){var o=this;i=o.createCB(i);o.beforeAction();o.callParent([e,t,n,r,i,s]);if(!n){i()}return o},setWidth:function(e,t,n,r,i){var s=this;r=s.createCB(r);s.beforeAction();s.callParent([e,t,n,r,i]);if(!t){r()}return s},setHeight:function(e,t,n,r,i){var s=this;r=s.createCB(r);s.beforeAction();s.callParent([e,t,n,r,i]);if(!t){r()}return s},setZIndex:function(e){var t=this;t.zindex=e;if(t.shadow){t.shadow.setZIndex(e)}return t.setStyle("z-index",e)},onOpacitySet:function(e){var t=this.shadow;if(t){t.setOpacity(e)}},deprecated:{4.2:{methods:{setBounds:function(e,t,n,r,i,s,o,u){var a=this;o=a.createCB(o);a.beforeAction();if(!i){Ext.Layer.superclass.setXY.call(a,[e,t]);Ext.Layer.superclass.setSize.call(a,n,r);o()}else{a.callParent([e,t,n,r,i,s,o,u])}return a},setLeftTop:function(e,t){this.callParent(arguments);return this.sync()}}}}});Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:false,renderTpl:['<div id="{swfId}" role="presentation"></div>'],initComponent:function(){if(!("swfobject"in window)){Ext.Error.raise("The SWFObject library is not loaded. Ext.flash.Component requires SWFObject version 2.2 or later: http://code.google.com/p/swfobject/")}if(!this.url){Ext.Error.raise('The "url" config is required for Ext.flash.Component')}this.callParent()},beforeRender:function(){this.callParent();Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var e=this,t=Ext.apply({},e.flashParams),n=Ext.apply({},e.flashVars);e.callParent();t=Ext.apply({allowScriptAccess:"always",bgcolor:e.backgroundColor,wmode:e.wmode},t);n=Ext.apply({allowedDomain:document.location.hostname},n);new swfobject.embedSWF(e.url,e.getSwfId(),e.swfWidth,e.swfHeight,e.flashVersion,e.expressInstall?e.statics.EXPRESS_INSTALL_URL:undefined,n,t,e.flashAttributes,e.swfCallback.bind(e))},swfCallback:function(e){var t=this;if(e.success){t.swf=Ext.get(e.ref);t.onSuccess();t.fireEvent("success",t)}else{t.onFailure();t.fireEvent("failure",t)}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var e=this,t=e.swf;if(t){swfobject.removeSWF(e.getSwfId());Ext.destroy(t);delete e.swf}e.callParent()},statics:{EXPRESS_INSTALL_URL:"http:/"+"/swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}});Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(e){if(e){Ext.apply(this,e)}var t=e.params;if(Ext.isString(t)){this.params=Ext.Object.fromQueryString(t)}},run:Ext.emptyFn,onFailure:function(e){this.response=e;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(e){this.response=e;if(!e.responseText&&!e.responseXML){return true}return this.result=this.handleResponse(e)},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var e=this,t,n=e.form;return{success:e.onSuccess,failure:e.onFailure,scope:e,timeout:this.timeout*1e3||n.timeout*1e3,upload:n.fileUpload?e.onSuccess:t}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),n=this.form;if(t===true||!t.success||!t.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;n.afterAction(this,false);return}n.clearInvalid();n.setValues(t.data);n.afterAction(this,true)},handleResponse:function(e){var t=this.form.reader,n,r;if(t){n=t.read(e);r=n.records&&n.records[0]?n.records[0].data:null;return{success:n.success,data:r}}return Ext.decode(e.responseText)}});Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this,t=e.form;if(e.clientValidation===false||t.isValid()){e.doSubmit()}else{e.failureType=Ext.form.action.Action.CLIENT_INVALID;t.afterAction(e,false)}},doSubmit:function(){var e=this,t=Ext.apply(e.createCallback(),{url:e.getUrl(),method:e.getMethod(),headers:e.headers}),n=e.form,r=e.jsonSubmit||n.jsonSubmit,i=r?"jsonData":"params",s;if(n.hasUpload()){s=e.buildForm();t.form=s.formEl;t.isUpload=true}else{t[i]=e.getParams(r)}Ext.Ajax.request(t);if(s){e.cleanup(s)}},cleanup:function(e){var t=e.formEl,n=e.uploadEls,r=e.uploadFields,i=r.length,s,o;for(s=0;s<i;++s){o=r[s];if(!o.clearOnSubmit){o.restoreInput(n[s])}}if(t){Ext.removeNode(t)}},getParams:function(e){var t=false,n=this.callParent(),r=this.form.getValues(t,t,this.submitEmptyText!==t,e,true);return Ext.apply({},r,n)},buildForm:function(){var e=this,t=[],n,r,i=e.form,s=e.getParams(),o=[],u=[],a=i.getFields().items,f,l=a.length,c,h,p,d,v,m;for(f=0;f<l;++f){c=a[f];if(c.isFileUpload()){o.push(c)}}for(h in s){if(s.hasOwnProperty(h)){p=s[h];if(Ext.isArray(p)){v=p.length;for(d=0;d<v;d++){t.push(e.getFieldConfig(h,p[d]))}}else{t.push(e.getFieldConfig(h,p))}}}n={tag:"form",role:"presentation",action:e.getUrl(),method:e.getMethod(),target:e.target||"_self",style:"display:none",cn:t};if(o.length){n.encoding=n.enctype="multipart/form-data"}r=Ext.DomHelper.append(Ext.getBody(),n);l=o.length;for(f=0;f<l;++f){m=o[f].extractFileInput();r.appendChild(m);u.push(m)}return{formEl:r,uploadFields:o,uploadEls:u}},getFieldConfig:function(e,t){return{tag:"input",type:"hidden",name:e,value:Ext.String.htmlEncode(t)}},onSuccess:function(e){var t=this.form,n=true,r=this.processResponse(e);if(r!==true&&!r.success){if(r.errors){t.markInvalid(r.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;n=false}t.afterAction(this,n)},handleResponse:function(e){var t=this.form,n=t.errorReader,r,i,s,o,u,a;if(n){r=n.read(e);u=r.records;i=[];if(u){for(s=0,o=u.length;s<o;s++){i[s]=u[s].data}}if(i.length<1){i=null}a={success:r.success,errors:i}}else{try{a=Ext.decode(e.responseText)}catch(f){a={success:false,errors:[]}}}return a}});Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" role="{role}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1e3,growAppend:"\n-",enterIsSpecial:false,preventScrollbars:false,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",constructor:function(e){this.callParent([e]);if(this.cols){Ext.log.warn('Ext.form.field.TextArea "cols" config was removed in Ext 5.0. Please specify a "width" or use a layout instead.')}if(this.rows){Ext.log.warn('Ext.form.field.TextArea "rows" config was removed in Ext 5.0. Please specify a "height" or use a layout instead.')}},getSubTplData:function(e){var t=this,n=t.getFieldStyle(),r=t.callParent(arguments);if(t.grow){if(t.preventScrollbars){r.fieldStyle=(n||"")+";overflow:hidden;height:"+t.growMin+"px"}}return r},afterRender:function(){var e=this;e.callParent(arguments);e.needsMaxCheck=e.enforceMaxLength&&e.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(e.needsMaxCheck){e.inputEl.on("paste",e.onPaste,e)}},transformRawValue:function(e){return this.stripReturns(e)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(e){e=this.stripReturns(e);return this.callParent([e])},stripReturns:function(e){if(e&&typeof e==="string"){e=e.replace(this.returnRe,"")}return e},onPaste:function(){var e=this;if(!e.pasteTask){e.pasteTask=new Ext.util.DelayedTask(e.pasteCheck,e)}e.pasteTask.delay(1)},pasteCheck:function(){var e=this,t=e.getValue(),n=e.maxLength;if(t.length>n){t=t.substr(0,n);e.setValue(t)}},fireKey:function(e){var t=this,n=e.getKey(),r;if(e.isSpecialKey()&&(t.enterIsSpecial||n!==e.ENTER||e.hasModifier())){t.fireEvent("specialkey",t,e)}if(t.needsMaxCheck&&n!==e.BACKSPACE&&n!==e.DELETE&&!e.isNavKeyPress()&&!t.isCutCopyPasteSelectAll(e,n)){r=t.getValue();if(r.length>=t.maxLength){e.stopEvent()}}},isCutCopyPasteSelectAll:function(e,t){if(e.ctrlKey){return t===e.A||t===e.C||t===e.V||t===e.X}return false},autoSize:function(){var e=this,t,n,r,i,s;if(e.grow&&e.rendered&&e.getSizeModel().height.auto){t=e.inputEl;i=t.getWidth(true);s=Ext.util.Format.htmlEncode(t.dom.value)||"&#160;";s+=e.growAppend;s=s.replace(/\n/g,"<br/>");r=Ext.util.TextMetrics.measure(t,s,i).height+t.getPadding("tb")+e.inputWrap.getBorderWidth("tb")+e.triggerWrap.getBorderWidth("tb");r=Math.min(Math.max(r,e.growMin),e.growMax);e.bodyEl.setHeight(r);e.updateLayout();e.fireEvent("autosize",e,r)}},beforeDestroy:function(){var e=this.pasteTask;if(e){e.cancel();this.pasteTask=null}this.callParent()}});Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.form.field.Display","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,autoScroll:true,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(e){var t=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(e){var t=this,n,r;if(t.cfg.prompt||t.cfg.multiline){if(t.cfg.multiline){r=t.textArea}else{r=t.textField}n=r.getValue();r.reset()}t.hide();t.userCallback(e.itemId,n,t.cfg)},hide:function(){var e=this,t=e.cfg?e.cfg.cls:"";e.progressBar.reset();if(t){e.removeCls(t)}e.callParent(arguments)},constructor:function(e){var t=this;t.callParent(arguments);t.minWidth=t.defaultMinWidth=t.minWidth||t.defaultMinWidth;t.maxWidth=t.defaultMaxWidth=t.maxWidth||t.defaultMaxWidth;t.minHeight=t.defaultMinHeight=t.minHeight||t.defaultMinHeight;t.maxHeight=t.defaultMaxHeight=t.maxHeight||t.defaultMaxHeight},initComponent:function(e){var t=this,n=t.id,r,i;t.title=t.title||"&#160;";t.iconCls=t.iconCls||"";t.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[t.iconComponent=new Ext.Component({cls:t.baseIconCls}),t.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[t.msg=new Ext.form.field.Display({id:n+"-displayfield",cls:t.baseCls+"-text"}),t.textField=new Ext.form.field.Text({id:n+"-textfield",enableKeyEvents:true,listeners:{keydown:t.onPromptKey,scope:t}}),t.textArea=new Ext.form.field.TextArea({id:n+"-textarea",height:75})]})]});t.progressBar=new Ext.ProgressBar({id:n+"-progressbar",margin:"0 10 10 10"});t.items=[t.topContainer,t.progressBar];t.msgButtons=[];for(r=0;r<4;r++){i=t.makeButton(r);t.msgButtons[i.itemId]=i;t.msgButtons.push(i)}t.bottomTb=new Ext.toolbar.Toolbar({id:n+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[t.msgButtons[0],t.msgButtons[1],t.msgButtons[2],t.msgButtons[3]]});t.dockedItems=[t.bottomTb];t.on("close",t.onClose,t);t.callParent()},onClose:function(){var e=this.header.child("[type=close]");e.itemId="cancel";this.btnCallback(e);delete e.itemId},onPromptKey:function(e,t){var n=this;if(t.keyCode===t.RETURN||t.keyCode===10){if(n.msgButtons.ok.isVisible()){n.msgButtons.ok.handler.call(n,n.msgButtons.ok)}else if(n.msgButtons.yes.isVisible()){n.msgButtons.yes.handler.call(n,n.msgButtons.yes)}}},reconfigure:function(e){var t=this,n=0,r=true,i=t.buttonText,s=t.resizer,o=t.header,u=o&&!o.isHeader,a=e&&(e.message||e.msg),f,l,c,h,p,d,v,m,g,y;t.updateButtonText();t.cfg=e=e||{};if(e.width){l=e.width}if(e.height){c=e.height}t.minWidth=e.minWidth||t.defaultMinWidth;t.maxWidth=e.maxWidth||t.defaultMaxWidth;t.minHeight=e.minHeight||t.defaultMinHeight;t.maxHeight=e.maxHeight||t.defaultMaxHeight;if(s){f=s.resizeTracker;s.minWidth=f.minWidth=t.minWidth;s.maxWidth=f.maxWidth=t.maxWidth;s.minHeight=f.minHeight=t.minHeight;s.maxHeight=f.maxHeight=t.maxHeight}delete t.defaultFocus;if(e.defaultFocus){t.defaultFocus=e.defaultFocus}t.animateTarget=e.animateTarget||undefined;t.modal=e.modal!==false;t.setTitle(e.title||u&&o.title||t.title);t.setIconCls(e.iconCls||u&&o.iconCls||t.iconCls);if(Ext.isObject(e.buttons)){t.buttonText=e.buttons;n=0}else{t.buttonText=e.buttonText||t.buttonText;n=Ext.isNumber(e.buttons)?e.buttons:0}n=n|t.updateButtonText();t.buttonText=i;Ext.suspendLayouts();delete t.width;delete t.height;if(l||c){if(l){t.setWidth(l)}if(c){t.setHeight(c)}}t.hidden=false;if(!t.rendered){t.render(Ext.getBody())}t.closable=e.closable!==false&&!e.wait;o=t.header;if(o){o.child("[type=close]").setVisible(t.closable);if(!e.title&&!t.closable&&!e.iconCls){o.hide()}else{o.show()}}t.liveDrag=!e.proxyDrag;t.userCallback=Ext.Function.bindCallback(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global);t.setIcon(e.icon);v=t.msg;if(a){v.setValue(a);v.show()}else{v.hide()}p=t.textArea;d=t.textField;if(e.prompt||e.multiline){t.multiline=e.multiline;if(e.multiline){p.setValue(e.value);p.setHeight(e.defaultTextHeight||t.defaultTextHeight);p.show();d.hide();t.defaultFocus=p}else{d.setValue(e.value);p.hide();d.show();t.defaultFocus=d}}else{p.hide();d.hide()}m=t.progressBar;if(e.progress||e.wait){m.show();t.updateProgress(0,e.progressText);y=e.wait;if(y===true){e=e.waitConfig}if(y){m.wait(y)}}else{m.hide()}g=t.msgButtons;for(h=0;h<4;h++){if(n&Math.pow(2,h)){if(!t.defaultFocus){t.defaultFocus=g[h]}g[h].show();r=false}else{g[h].hide()}}if(r){t.bottomTb.hide()}else{t.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var e=this,t=e.buttonText,n=0,r,i;for(r in t){if(t.hasOwnProperty(r)){i=e.msgButtons[r];if(i){if(e.cfg&&e.cfg.buttonText){n=n|Math.pow(2,Ext.Array.indexOf(e.buttonIds,r))}if(i.text!=t[r]){i.setText(t[r])}}}}return n},show:function(e){var t=this,n;e=e||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){t.show(e)},single:true});return t}t.reconfigure(e);if(e.cls){t.addCls(e.cls)}n=t.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");t.preventFocusOnActivate=!n.length;t.hidden=true;t.callParent();return t},onShow:function(){this.callParent(arguments);this.center()},updateText:function(e){this.msg.setValue(e)},setIcon:function(e,t,n){var r=this,i=r.iconComponent,s=r.messageIconCls;if(s){i.removeCls(s)}if(e){i.show();if(t||n){i.setSize(t||i.getWidth(),n||i.getHeight())}i.addCls(Ext.baseCSSPrefix+"dlg-icon");i.addCls(r.messageIconCls=e)}else{i.removeCls(Ext.baseCSSPrefix+"dlg-icon");i.hide()}return r},updateProgress:function(e,t,n){this.progressBar.updateProgress(e,t);if(n){this.updateText(n)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(e,t,n,r){if(Ext.isString(e)){e={title:e,icon:this.QUESTION,message:t,buttons:this.YESNO,callback:n,scope:r}}return this.show(e)},prompt:function(e,t,n,r,i,s){if(Ext.isString(e)){e={prompt:true,title:e,minWidth:this.minPromptWidth,message:t,buttons:this.OKCANCEL,callback:n,scope:r,multiline:i,value:s}}return this.show(e)},wait:function(e,t,n){if(Ext.isString(e)){e={title:t,message:e,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:n}}return this.show(e)},alert:function(e,t,n,r){if(Ext.isString(e)){e={title:e,message:t,buttons:this.OK,fn:n,scope:r,minWidth:this.minWidth}}return this.show(e)},progress:function(e,t,n){if(Ext.isString(e)){e={title:e,message:t,progress:true,progressText:n}}return this.show(e)}},function(){Ext.MessageBox=Ext.Msg=new this});Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.ErrorCollection","Ext.util.DelayedTask"],taskDelay:10,constructor:function(e,t){var n=this,r;n.owner=e;n.checkValidityTask=new Ext.util.DelayedTask(n.checkValidity,n);n.checkDirtyTask=new Ext.util.DelayedTask(n.checkDirty,n);n.checkErrorTask=new Ext.util.DelayedTask(n.checkError,n);n.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:n,addHandler:n.onFieldAdd,removeHandler:n.onFieldRemove,invalidateHandler:n.onMonitorInvalidate});n.monitor.bind(e);Ext.apply(n,t);if(Ext.isString(n.paramOrder)){n.paramOrder=n.paramOrder.split(/[\s,|]/)}r=n.reader;if(r&&!r.isReader){if(typeof r==="string"){r={type:r}}n.reader=Ext.createByAlias("reader."+r.type,r)}r=n.errorReader;if(r&&!r.isReader){if(typeof r==="string"){r={type:r}}n.errorReader=Ext.createByAlias("reader."+r.type,r)}n.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var e=this,t=e.monitor;if(t){t.unbind();e.monitor=null}e.clearListeners();e.checkValidityTask.cancel();e.checkDirtyTask.cancel();e.checkErrorTask.cancel();e.checkValidityTask=e.checkDirtyTask=checkErrorTask=null;e.isDestroyed=true},onFieldAdd:function(e){var t=this;t.mon(e,"validitychange",t.checkValidityDelay,t);t.mon(e,"dirtychange",t.checkDirtyDelay,t);t.mon(e,"errorchange",t.checkErrorDelay,t);t.onMonitorInvalidate()},onFieldRemove:function(e){var t=this;t.mun(e,"validitychange",t.checkValidityDelay,t);t.mun(e,"dirtychange",t.checkDirtyDelay,t);t.mun(e,"errorchange",t.checkErrorDelay,t);t.onMonitorInvalidate()},onMonitorInvalidate:function(){if(this.initialized){this.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var e=this._boundItems;if(!e||e.getCount()===0){e=this._boundItems=new Ext.util.MixedCollection;e.addAll(this.owner.query("[formBind]"))}return e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t=e.preventMark,n;e.preventMark=true;n=e.isValid();e.preventMark=t;return!n})},isValid:function(){var e=this,t;Ext.suspendLayouts();t=e.getFields().filterBy(function(e){return!e.validate()});Ext.resumeLayouts(true);return t.length<1},checkValidity:function(){var e=this,t;if(e.isDestroyed){return}t=!e.hasInvalidField();if(t!==e.wasValid){e.onValidityChange(t);e.fireEvent("validitychange",e,t);e.wasValid=t}},checkValidityDelay:function(){var e=this.taskDelay;if(e){this.checkValidityTask.delay(e)}else{this.checkValidity()}},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var e=this.taskDelay;if(e){this.checkErrorTask.delay(e)}else{this.checkError()}},onValidityChange:function(e){var t=this.getBoundItems(),n,r,i,s;if(t){n=t.items;i=n.length;for(r=0;r<i;r++){s=n[r];if(s.disabled===e){s.setDisabled(!e)}}}},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirtyDelay:function(){var e=this.taskDelay;if(e){this.checkDirtyTask.delay(e)}else{this.checkDirty()}},checkDirty:function(){var e=this,t;if(e.isDestroyed){return}t=this.isDirty();if(t!==this.wasDirty){this.fireEvent("dirtychange",this,t);this.wasDirty=t}},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){if(Ext.isString(e)){e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))}if(this.fireEvent("beforeaction",this,e)!==false){this.beforeAction(e);Ext.defer(e.run,100,e)}return this},submit:function(e){e=e||{};var t=this,n;if(e.standardSubmit||t.standardSubmit){n="standardsubmit"}else{n=t.api?"directsubmit":"submit"}return t.doAction(n,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){e=e||this._record;if(!e){Ext.Error.raise("A record is required.");return this}var t=e.self.fields,n=this.getFieldValues(),r={},i=0,s=t.length,o;for(;i<s;++i){o=t[i].name;if(n.hasOwnProperty(o)){r[o]=n[o]}}e.beginEdit();e.set(r);e.endEdit();return this},loadRecord:function(e){this._record=e;return this.setValues(e.getData())},getRecord:function(){return this._record},beforeAction:function(e){var t=this,n=e.waitMsg,r=Ext.baseCSSPrefix+"mask-loading",i=t.getFields().items,s,o=i.length,u,a;for(s=0;s<o;s++){u=i[s];if(u.isFormField&&u.syncValue){u.syncValue()}}if(n){a=t.waitMsgTarget;if(a===true){t.owner.el.mask(n,r)}else if(a){a=t.waitMsgTarget=Ext.get(a);a.mask(n,r)}else{t.floatingAncestor=t.owner.up("[floating]");if(t.floatingAncestor){t.savePreventFocusOnActivate=t.floatingAncestor.preventFocusOnActivate;t.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(n,e.waitTitle||t.waitTitle)}}},afterAction:function(e,t){var n=this;if(e.waitMsg){var r=Ext.MessageBox,i=n.waitMsgTarget;if(i===true){n.owner.el.unmask()}else if(i){i.unmask()}else{r.hide()}}if(n.floatingAncestor){n.floatingAncestor.preventFocusOnActivate=n.savePreventFocusOnActivate}if(t){if(e.reset){n.reset()}Ext.callback(e.success,e.scope||e,[n,e]);n.fireEvent("actioncomplete",n,e)}else{Ext.callback(e.failure,e.scope||e,[n,e]);n.fireEvent("actionfailed",n,e)}},findField:function(e){return this.getFields().findBy(function(t){return t.id===e||t.name===e||t.dataIndex===e})},markInvalid:function(e){function u(e,n){var r=t.findField(e);if(r){r.markInvalid(n)}}var t=this,n,r,i,s,o;if(Ext.isArray(e)){r=e.length;for(n=0;n<r;n++){i=e[n];u(i.id,i.msg)}}else if(e instanceof Ext.data.ErrorCollection){r=e.items.length;for(n=0;n<r;n++){i=e.items[n];u(i.field,i.message)}}else{for(o in e){if(e.hasOwnProperty(o)){s=e[o];u(o,s,e)}}}return this},setValues:function(e){function s(e,n){var r=t.findField(e);if(r){r.setValue(n);if(t.trackResetOnLoad){r.resetOriginalValue()}}}var t=this,n,r,i;Ext.suspendLayouts();if(Ext.isArray(e)){r=e.length;for(n=0;n<r;n++){i=e[n];s(i.id,i.value)}}else{Ext.iterate(e,s)}Ext.resumeLayouts(true);return this},getValues:function(e,t,n,r,i){var s={},o=this.getFields().items,u=o.length,a=Ext.isArray,f,l,c,h,p,d;for(d=0;d<u;d++){f=o[d];if(!t||f.isDirty()){l=f[r?"getModelData":"getSubmitData"](n,i);if(Ext.isObject(l)){for(p in l){if(l.hasOwnProperty(p)){c=l[p];if(n&&c===""){c=f.emptyText||""}if(!f.isRadio){if(s.hasOwnProperty(p)){h=s[p];if(!a(h)){h=s[p]=[h]}if(a(c)){s[p]=h.concat(c)}else{h.push(c)}}else{s[p]=c}}else{s[p]=s[p]||c}}}}}}if(e){s=Ext.Object.toQueryString(s)}return s},getFieldValues:function(e){return this.getValues(false,e,false,true)},clearInvalid:function(){Ext.suspendLayouts();var e=this,t=e.getFields().items,n,r=t.length;for(n=0;n<r;n++){t[n].clearInvalid()}Ext.resumeLayouts(true);return e},reset:function(e){Ext.suspendLayouts();var t=this,n=t.getFields().items,r,i=n.length;for(r=0;r<i;r++){n[r].reset()}Ext.resumeLayouts(true);if(e===true){delete t._record}return t},applyToFields:function(e){var t=this.getFields().items,n,r=t.length;for(n=0;n<r;n++){Ext.apply(t[n],e)}return this},applyIfToFields:function(e){var t=this.getFields().items,n,r=t.length;for(n=0;n<r;n++){Ext.applyIf(t[n],e)}return this}});Ext.define("Ext.form.FieldAncestor",{extend:"Ext.Mixin",requires:["Ext.container.Monitor"],mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{destroy:"onBeforeDestroy"}},initFieldAncestor:function(){var e=this;e.monitor=new Ext.container.Monitor({scope:e,selector:"[isFormField]:not([excludeForm])",addHandler:e.onChildFieldAdd,removeHandler:e.onChildFieldRemove});e.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(e){var t=e.fieldDefaults,n=this.fieldDefaults;if(n){if(t){e.fieldDefaults=Ext.apply(Ext.Object.chain(t),n)}else{e.fieldDefaults=n}}},onChildFieldAdd:function(e){var t=this;t.mon(e,"errorchange",t.handleFieldErrorChange,t);t.mon(e,"validitychange",t.handleFieldValidityChange,t)},onChildFieldRemove:function(e){var t=this;t.mun(e,"errorchange",t.handleFieldErrorChange,t);t.mun(e,"validitychange",t.handleFieldValidityChange,t)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(e,t){var n=this;if(e!==n){n.fireEvent("fieldvaliditychange",n,e,t);n.onFieldValidityChange(e,t)}},handleFieldErrorChange:function(e,t){var n=this;if(e!==n){n.fireEvent("fielderrorchange",n,e,t);n.onFieldErrorChange(e,t)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor.unbind()}});Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.Auto",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(e){var t=this.owner;this.callParent(arguments);e.hasRawContent=true;t.containerEl.setStyle("height","");e.containerElContext=e.getEl("containerEl")},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerHeight:function(e,t){var n=this.owner;if(n.labelAlign==="top"&&n.hasVisibleLabel()){t-=n.labelEl.getHeight()}if(n.msgTarget==="under"&&n.hasActiveError()){t-=n.errorWrapEl.getHeight()}t-=n.bodyEl.getPadding("tb");e.containerElContext.setHeight(t,false)},publishInnerWidth:function(e,t){var n=this.owner;if(n.labelAlign!=="top"&&n.hasVisibleLabel()){t-=n.labelWidth+(n.labelPad||0)}if(n.msgTarget==="side"&&n.hasActiveError()){t-=n.errorWrapEl.getWidth()}t-=n.bodyEl.getPadding("lr");e.containerElContext.setWidth(t,false)}});Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:true,customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}" role="presentation">',"{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var e=this;e.initLabelable();e.initFieldAncestor();e.callParent();e.initMonitor()},onAdd:function(e){var t=this;if(e.isLabelable&&Ext.isGecko&&t.layout.type==="absolute"&&!t.hideLabel&&t.labelAlign!=="top"){e.x+=t.labelWidth+t.labelPad}t.callParent(arguments);if(e.isLabelable&&t.combineLabels){e.oldHideLabel=e.hideLabel;e.hideLabel=true}t.updateLabel()},onRemove:function(e,t){var n=this;n.callParent(arguments);if(!t){if(e.isLabelable&&n.combineLabels){e.hideLabel=e.oldHideLabel}n.updateLabel()}},initRenderData:function(){var e=this,t=e.callParent();t.containerElCls=e.containerElCls;return Ext.applyIf(t,e.getLabelableRenderData())},getFieldLabel:function(){var e=this.fieldLabel||"";if(!e&&this.combineLabels){e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)}return e},getSubTplData:function(){var e=this.initRenderData();Ext.apply(e,this.subTplData);return e},getSubTplMarkup:function(e){var t=this,n=t.getTpl("fieldSubTpl"),r;if(!n.renderContent){t.setupRenderTpl(n)}r=n.apply(t.getSubTplData(e));return r},updateLabel:function(){var e=this,t=e.labelEl;if(t){e.setFieldLabel(e.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var e=this,t=e.getActiveError(),n=Ext.Array.filter(e.query("[isFormField]"),function(e){return e.hasActiveError()}),r=e.getCombinedErrors(n);if(r){e.setActiveErrors(r)}else{e.unsetActiveError()}if(t!==e.getActiveError()){e.updateLayout()}}},getCombinedErrors:function(e){var t=[],n,r=e.length,i,s,o,u,a,f;for(n=0;n<r;n++){i=e[n];s=i.getActiveErrors();u=s.length;for(o=0;o<u;o++){a=s[o];f=i.getFieldLabel();t.push((f?f+": ":"")+a)}}return t},privates:{applyTargetCls:function(e){var t=this.containerElCls;this.containerElCls=t?t+" "+e:e},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var e=this;if(!e.hasOwnProperty("renderTpl")){e.renderTpl=e.getTpl("labelableRenderTpl")}return e.callParent()}}});Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" data-ref="innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></table>"],lastOwnerItemsGeneration:null,beginLayout:function(e){var t=this,n,r,i,s,o,u=0,a=0,f=t.autoFlex,l=t.innerCt.dom.style;t.callParent(arguments);n=t.columnNodes;e.innerCtContext=e.getEl("innerCt",t);if(!e.widthModel.shrinkWrap){r=n.length;if(t.columnsArray){for(i=0;i<r;i++){s=t.owner.columns[i];if(s<1){u+=s;a++}}for(i=0;i<r;i++){s=t.owner.columns[i];if(s<1){o=s/u*100+"%"}else{o=s+"px"}n[i].style.width=o}}else{for(i=0;i<r;i++){o=f?1/r*100+"%":"";n[i].style.width=o;a++}}if(!a){l.tableLayout="fixed";l.width=""}else if(a<r){l.tableLayout="fixed";l.width="100%"}else{l.tableLayout="auto";if(f){l.width="100%"}else{l.width=""}}}else{l.tableLayout="auto";l.width=""}},cacheElements:function(){var e=this;e.callParent();e.rowEl=e.innerCt.down("tr");e.columnNodes=e.rowEl.dom.childNodes},calculate:function(e){var t=this,n,r,i,s,o,u;if(!e.getDomProp("containerChildrenSizeDone")){t.done=false}else{n=e.innerCtContext;r=e.widthModel.shrinkWrap;i=e.heightModel.shrinkWrap;s=i||r;o=n.el.dom;u=s&&n.getPaddingInfo();if(r){e.setContentWidth(o.offsetWidth+u.width,true)}if(i){e.setContentHeight(o.offsetHeight+u.height,true)}}},doRenderColumn:function(e,t,n){var r=t.$layout,i=r.owner,s=t.columnCount,o=i.items.items,u=o.length,a,f,l,c,h;if(i.vertical){l=Math.ceil(u/s);f=n*l;u=Math.min(u,f+l);c=1}else{f=n;c=s}for(;f<u;f+=c){a=o[f];r.configureItem(a);h=a.getRenderTree();Ext.DomHelper.generateMarkup(h,e)}},getColumnCount:function(){var e=this,t=e.owner,n=t.columns;if(e.columnsArray){return n.length}if(Ext.isNumber(n)){return n}return t.items.length},getItemSizePolicy:function(e){return this.autoSizePolicy},getRenderData:function(){var e=this,t=e.callParent(),n=e.owner,r,i=e.getColumnCount(),s,o,u,a=e.autoFlex,f=0,l=0;if(e.columnsArray){for(r=0;r<i;r++){s=e.owner.columns[r];if(s<1){f+=s;l++}}}t.colCls=n.groupCls;t.columnCount=i;t.columns=[];for(r=0;r<i;r++){o=t.columns[r]={};if(e.columnsArray){s=e.owner.columns[r];if(s<1){u=s/f*100+"%"}else{u=s+"px"}o.style="width:"+u}else{o.style="width:"+1/i*100+"%";l++}}t.tableStyle=!l?"table-layout:fixed;":l<i?"table-layout:fixed;width:100%":a?"table-layout:auto;width:100%":"table-layout:auto;";return t},initLayout:function(){var e=this,t=e.owner;e.columnsArray=Ext.isArray(t.columns);e.autoColumns=!t.columns||t.columns==="auto";e.vertical=t.vertical;e.callParent()},isValidParent:Ext.returnTrue,setupRenderTpl:function(e){this.callParent(arguments);e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this,t=e.owner.items.generation;if(e.lastOwnerItemsGeneration!==t){e.lastOwnerItemsGeneration=t;e.renderItems(e.getLayoutItems())}},renderItems:function(e){var t=this,n=e.length,r,i,s,o,u,a;if(n){Ext.suspendLayouts();if(t.autoColumns){t.addMissingColumns(n)}o=t.columnNodes.length;s=Math.ceil(n/o);for(r=0;r<n;r++){i=e[r];u=t.getRenderRowIndex(r,s,o);a=t.getRenderColumnIndex(r,s,o);if(!i.rendered){t.renderItem(i,u,a)}else if(!t.isItemAtPosition(i,u,a)){t.moveItem(i,u,a)}}if(t.autoColumns){t.removeExceedingColumns(n)}Ext.resumeLayouts(true)}},isItemAtPosition:function(e,t,n){return e.el.dom===this.getNodeAt(t,n)},getRenderColumnIndex:function(e,t,n){if(this.vertical){return Math.floor(e/t)}else{return e%n}},getRenderRowIndex:function(e,t,n){var r=this;if(r.vertical){return e%t}else{return Math.floor(e/n)}},getNodeAt:function(e,t){return this.columnNodes[t].childNodes[e]},addMissingColumns:function(e){var t=this,n=t.columnNodes.length,r,i,s,o;if(n<e){r=e-n;i=t.rowEl;s=t.owner.groupCls;for(o=0;o<r;o++){i.createChild({cls:s,tag:"td",vAlign:"top",role:"presentation"})}}},removeExceedingColumns:function(e){var t=this,n=t.columnNodes.length,r,i,s;if(n>e){r=n-e;i=t.rowEl;for(s=0;s<r;s++){i.last().destroy()}}},renderItem:function(e,t,n){var r=this;r.configureItem(e);e.render(Ext.get(r.columnNodes[n]),t)},moveItem:function(e,t,n){var r=this,i=r.columnNodes[n],s=i.childNodes[t];i.insertBefore(e.el.dom,s||null)}});Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Checkbox","Ext.form.field.Base"],columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",ariaRole:"group",initComponent:function(){var e=this;e.callParent();e.initField()},initValue:function(){var e=this,t=e.value;e.originalValue=e.lastValue=t||e.getValue();if(t){e.setValue(t)}},onAdd:function(e){var t=this,n,r,i;if(e.isCheckbox){t.mon(e,"change",t.checkChange,t)}else if(e.isContainer){n=e.items.items;for(i=0,r=n.length;i<r;i++){t.onAdd(n[i])}}t.callParent(arguments)},onRemove:function(e){var t=this,n,r,i;if(e.isCheckbox){t.mun(e,"change",t.checkChange,t)}else if(e.isContainer){n=e.items.items;for(i=0,r=n.length;i<r;i++){t.onRemove(n[i])}}t.callParent(arguments)},isEqual:function(e,t){var n=Ext.Object.toQueryString;return n(e)===n(t)},getErrors:function(){var e=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){e.push(this.blankText)}return e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var e=this.getBoxes(),t,n=e.length;for(t=0;t<n;t++){if(e[t].isDirty()){return true}}},setReadOnly:function(e){var t=this.getBoxes(),n,r=t.length;for(n=0;n<r;n++){t[n].setReadOnly(e)}this.readOnly=e},reset:function(){var e=this,t=e.hasActiveError(),n=e.preventMark;e.preventMark=true;e.batchChanges(function(){var t=e.getBoxes(),n,r=t.length;for(n=0;n<r;n++){t[n].reset()}});e.preventMark=n;e.unsetActiveError();if(t){e.updateLayout()}},resetOriginalValue:function(){var e=this,t=e.getBoxes(),n,r=t.length;for(n=0;n<r;n++){t[n].resetOriginalValue()}e.originalValue=e.getValue();e.checkDirty()},setValue:function(e){var t=this,n=t.getBoxes(),r,i=n.length,s,o,u;t.batchChanges(function(){for(r=0;r<i;r++){s=n[r];o=s.getName();u=false;if(e&&e.hasOwnProperty(o)){if(Ext.isArray(e[o])){u=Ext.Array.contains(e[o],s.inputValue)}else{u=e[o]}}s.setValue(u)}});return t},getValue:function(){var e={},t=this.getBoxes(),n,r=t.length,i,s,o,u;for(n=0;n<r;n++){i=t[n];s=i.getName();o=i.inputValue;if(i.getValue()){if(e.hasOwnProperty(s)){u=e[s];if(!Ext.isArray(u)){u=e[s]=[u]}u.push(o)}else{e[s]=o}}}return e},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e=this,t,n,r;if(e.disabled){n=true}else{t=e.getErrors();n=Ext.isEmpty(t);r=e.wasValid;if(n){e.unsetActiveError()}else{e.setActiveError(t)}}if(n!==r){e.wasValid=n;e.fireEvent("validitychange",e,n);e.updateLayout()}return n}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])});Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],focusable:true,checkboxUI:"default",collapsed:false,toggleOnTitleClick:true,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",ariaRole:null,autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,beforeDestroy:function(){var e=this,t=e.legend;if(t){delete t.ownerCt;t.destroy();e.legend=null}e.callParent()},initComponent:function(){var e=this,t=e.baseCls;e.initFieldAncestor();e.callParent();e.layout.managePadding=e.layout.manageOverflow=false;if(e.collapsed){e.addCls(t+"-collapsed");e.collapse()}if(e.title||e.checkboxToggle||e.collapsible){e.addTitleClasses();e.legend=Ext.widget(e.createLegendCt())}e.initMonitor()},initRenderData:function(){var e=this,t=e.callParent();t.bodyTargetCls=e.bodyTargetCls;e.protoBody.writeTo(t);delete e.protoBody;return t},getState:function(){var e=this.callParent();e=this.addPropertyToState(e,"collapsed");return e},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var e=this,t=[],n={xtype:"container",baseCls:e.baseCls+"-header",layout:"container",ui:e.ui,id:e.id+"-legend",autoEl:"legend",ariaRole:null,ariaLabelledBy:"."+e.baseCls+"-header-text",items:t,ownerCt:e,shrinkWrap:true,ownerLayout:e.componentLayout};if(e.checkboxToggle){t.push(e.createCheckboxCmp())}else if(e.collapsible){t.push(e.createToggleCmp())}t.push(e.createTitleCmp());return n},createTitleCmp:function(){var e=this,t={xtype:"component",html:e.title,ui:e.ui,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle"};if(e.collapsible&&e.toggleOnTitleClick){t.listeners={click:{element:"el",scope:e,fn:e.toggle}};t.cls+=" "+e.baseCls+"-header-text-collapsible"}return e.titleCmp=Ext.widget(t)},createCheckboxCmp:function(){var e=this,t="-checkbox",n=e.baseCls+"-header"+t;n+=" "+n+"-"+e.ui;e.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:true,name:e.checkboxName||e.id+t,cls:n,id:e.id+"-legendChk",ui:e.checkboxUI,checked:!e.collapsed,msgTarget:"none",listeners:{change:e.onCheckChange,scope:e}});return e.checkboxCmp},createToggleCmp:function(){var e=this;e.toggleCmp=Ext.widget({xtype:"tool",cacheHeight:false,cls:e.baseCls+"-header-tool-"+e.ui,type:"toggle",handler:e.toggle,id:e.id+"-legendToggle",scope:e});return e.toggleCmp},doRenderLegend:function(e,t){var n=t.$comp,r=n.legend,i;if(r){r.ownerLayout.configureItem(r);i=r.getRenderTree();Ext.DomHelper.generateMarkup(i,e)}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,n=t.legend;t.title=e;if(t.rendered){if(!n){t.legend=n=Ext.widget(t.createLegendCt());t.addTitleClasses();n.ownerLayout.configureItem(n);n.render(t.el,0)}t.titleCmp.update(e)}else if(n){t.titleCmp.update(e)}else{t.addTitleClasses();t.legend=Ext.widget(t.createLegendCt())}return t},addTitleClasses:function(){var e=this,t=e.title,n=e.baseCls;if(t){e.addCls(n+"-with-title")}if(t||e.checkboxToggle||e.collapsible){e.addCls(n+"-with-legend")}},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(e){var t=this,n=t.checkboxCmp,r=e?"expand":"collapse";if(!t.rendered||t.fireEvent("before"+r,t)!==false){e=!!e;if(n){n.setValue(e)}if(e){t.removeCls(t.baseCls+"-collapsed")}else{t.addCls(t.baseCls+"-collapsed")}t.collapsed=!e;if(e){delete t.getInherited().collapsed}else{t.getInherited().collapsed=true}if(t.rendered){t.updateLayout({isRoot:false});t.fireEvent(r,t)}}return t},getRefItems:function(e){var t=this.callParent(arguments),n=this.legend;if(n){t.unshift(n);if(e){t.unshift.apply(t,n.getRefItems(true))}}return t},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(e){this.bodyTargetCls=e},finishRender:function(){var e=this.legend;this.callParent();if(e){e.finishRender()}},getProtoBody:function(){var e=this,t=e.protoBody;if(!t){e.protoBody=t=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return t},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(e){var t=this,n=t.getProtoBody(),r=t.padding,i;if(r!==undefined){if(Ext.isIE8){r=t.parseBox(r);i=Ext.Element.parseBox(0);i.top=r.top;r.top=0;n.setStyle("padding",t.unitizeBox(i))}e.setStyle("padding",t.unitizeBox(r))}},onCheckChange:function(e,t){this.setExpanded(t)},setupRenderTpl:function(e){this.callParent(arguments);e.renderLegend=this.doRenderLegend}}});Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:false,getElConfig:function(){var e=this;e.html=e.text?Ext.util.Format.htmlEncode(e.text):e.html||"";return Ext.apply(e.callParent(),{htmlFor:e.forId||""})},setText:function(e,t){var n=this;t=t!==false;if(t){n.text=e;delete n.html}else{n.html=e;delete n.text}if(n.rendered){n.el.dom.innerHTML=t!==false?Ext.util.Format.htmlEncode(e):e;n.updateLayout()}return n}});Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var e=this;if(e.frame){e.border=false}e.initFieldAncestor();e.callParent();e.relayEvents(e.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(e.pollForChanges){e.startPolling(e.pollInterval||500)}},initItems:function(){this.callParent();this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments);this.form.initialize()},createForm:function(){var e={},t=this.basicFormConfigs,n=t.length,r=0,i;for(;r<n;++r){i=t[r];e[i]=this[i]}return new Ext.form.Basic(this,e)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(e){return this.getForm().updateRecord(e)},getValues:function(e,t,n,r){return this.getForm().getValues(e,t,n,r)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(){this.form.reset()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();var t=new Ext.util.TaskRunner(e);t.start({interval:0,run:this.checkChange,scope:this});this.pollTask=t},stopPolling:function(){var e=this.pollTask;if(e){e.stopAll();delete this.pollTask}},checkChange:function(){var e=this.form.getFields().items,t,n=e.length;for(t=0;t<n;t++){e[t].checkChange()}}});Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(e,t){return this.filterBy(function(n){return n.name==e&&n.getFormId()==t})},getWithValue:function(e,t,n){return this.filterBy(function(r){return r.name==e&&r.inputValue==t&&r.getFormId()==n})},getChecked:function(e,t){return this.findBy(function(n){return n.name==e&&n.checked&&n.getFormId()==t})}});Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:true,inputType:"radio",ariaRole:"radio",tabIndex:0,formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onBoxClick:function(){var e=this;if(!e.disabled&&!e.readOnly){this.setValue(true)}},onRemoved:function(){this.callParent(arguments);this.formId=null},setValue:function(e){var t=this,n,r;if(Ext.isBoolean(e)){t.callParent(arguments)}else{r=t.getManager().getWithValue(t.name,e,t.getFormId()).getAt(0);if(r){r.setValue(true)}}return t},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){var e=this.callParent(arguments);if(e){e[this.getName()]=this.getSubmitValue()}return e},onChange:function(e,t){var n=this,r,i,s,o;n.callParent(arguments);if(e){o=n.getManager().getByName(n.name,n.getFormId()).items;i=o.length;for(r=0;r<i;r++){s=o[r];if(s!==n){s.setValue(false)}}}},getManager:function(){return Ext.form.RadioManager}});Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",requires:["Ext.form.field.Radio"],mixins:["Ext.util.FocusableContainer"],allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",ariaRole:"radiogroup",getBoxes:function(e,t){return(t||this).query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),t=Ext.Object.getKeys(e)[0];if(Ext.isArray(e[t])){return}this.callParent(arguments)},setValue:function(e){var t,n,r,i,s,o,u;if(Ext.isObject(e)){for(u in e){if(e.hasOwnProperty(u)){t=e[u];n=this.items.first();r=n?n.getFormId():null;i=Ext.form.RadioManager.getWithValue(u,t,r).items;o=i.length;for(s=0;s<o;++s){i[s].setValue(true)}}}}return this},privates:{getFocusables:function(){return this.getBoxes()},initDefaultFocusable:function(e){var t=this,n,r;n=t.getChecked();if(n.length>1){Ext.log.error("RadioGroup "+t.id+" has more than one checked button")}if(n.length){r=n[0]}else{r=t.findNextFocusableChild(null,true,null,e)}if(r){t.activateFocusable(r)}return r},onFocusableContainerFocusLeave:function(){this.clearFocusables();this.initDefaultFocusable()},doFocusableChildAdd:function(e){var t=this,n=t.mixins.focusablecontainer,r,i,s;r=e.isContainer?t.getBoxes("",e):[e];for(i=0,s=r.length;i<s;i++){n.doFocusableChildAdd.call(t,r[i])}},doFocusableChildRemove:function(e){var t=this,n=t.mixins.focusablecontainer,r,i,s;r=e.isContainer?t.getBoxes("",e):[e];for(i=0,s=r.length;i<s;i++){n.doFocusableChildRemove.call(t,r[i])}},focusChild:function(e,t,n){var r=this.mixins.focusablecontainer.focusChild.apply(this,arguments);if(!n.ctrlKey){r.setValue(true)}}}});Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var e=this,t=e.form,n=t.api,r=n.load,i,s;if(typeof r!=="function"){var o=r;n.load=r=Ext.direct.Manager.parseMethod(r);if(!Ext.isFunction(r)){Ext.Error.raise("Cannot resolve Ext.Direct API method "+o)}}i=r.directCfg.method;s=i.getArgs(e.getParams(),t.paramOrder,t.paramsAsHash);s.push(e.onComplete,e);r.apply(window,s)},processResponse:function(e){return this.result=e},onComplete:function(e){if(e){this.onSuccess(e)}else{this.onFailure(null)}}});Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var e=this,t=e.form,n=t.api,r=n.submit,i,s;if(typeof r!=="function"){var o=r;n.submit=r=Ext.direct.Manager.parseMethod(r);if(!Ext.isFunction(r)){Ext.Error.raise("Cannot resolve Ext.Direct API method "+o)}}if(e.timeout||t.timeout){s={timeout:e.timeout*1e3||t.timeout*1e3}}i=e.buildForm();r.call(window,i.formEl,e.onComplete,e,s);e.cleanup(i)},processResponse:function(e){return this.result=e},onComplete:function(e){if(e){this.onSuccess(e)}else{this.onFailure(null)}}});Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.formEl.submit();this.cleanup(e)}});Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Text",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],config:{triggers:{picker:{handler:"onTriggerClick",scope:"this"}}},matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,applyTriggers:function(e){var t=this,n=e.picker;if(!n.cls){n.cls=t.triggerCls}return t.callParent([e])},initEvents:function(){var e=this;e.callParent();e.keyNav=new Ext.util.KeyNav(e.inputEl,{down:e.onDownArrow,esc:{handler:e.onEsc,scope:e,defaultEventAction:false},scope:e,forceKeyDown:true});if(!e.editable){e.mon(e.inputEl,"click",e.onTriggerClick,e)}if(Ext.isGecko){e.inputEl.dom.setAttribute("autocomplete","off")}},onEsc:function(e){if(Ext.isIE){e.preventDefault()}if(this.isExpanded){this.collapse();e.stopEvent()}},onDownArrow:function(){if(!this.isExpanded){this.onTriggerClick()}},expand:function(){var e=this,t,n,r;if(e.rendered&&!e.isExpanded&&!e.isDestroyed){e.expanding=true;t=e.bodyEl;n=e.getPicker();r=e.collapseIf;n.show();e.isExpanded=true;e.alignPicker();t.addCls(e.openCls);e.mon(Ext.getDoc(),{mousewheel:r,mousedown:r,scope:e});Ext.on("resize",e.alignPicker,e);e.fireEvent("expand",e);e.onExpand();delete e.expanding}},onExpand:Ext.emptyFn,alignPicker:function(){var e=this,t,n=e.getPicker();if(e.isExpanded){if(e.matchFieldWidth){t=e.bodyEl.getWidth();n.setWidth(t)}if(n.isFloating()){e.doAlign()}}},doAlign:function(){var e=this,t=e.picker,n="-above",r;e.picker.alignTo(e.triggerWrap,e.pickerAlign,e.pickerOffset);r=t.el.getY()<e.inputEl.getY();e.bodyEl[r?"addCls":"removeCls"](e.openCls+n);t[r?"addCls":"removeCls"](t.baseCls+n)},collapse:function(){var e=this;if(e.isExpanded&&!e.isDestroyed&&!e.destroying){var t=e.openCls,n=e.picker,r=Ext.getDoc(),i=e.collapseIf,s="-above";n.hide();e.isExpanded=false;e.bodyEl.removeCls([t,t+s]);n.el.removeCls(n.baseCls+s);r.un("mousewheel",i,e);r.un("mousedown",i,e);Ext.un("resize",e.alignPicker,e);e.fireEvent("collapse",e);e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var t=this;if(!t.isDestroyed&&!e.within(t.bodyEl,false,true)&&!t.owns(e.target)){t.collapse()}},getPicker:function(){var e=this,t=e.picker;if(!t){e.picker=t=e.createPicker();t.ownerCmp=e}return e.picker},getRefItems:function(){var e=[];if(this.picker){e[0]=this.picker}return e},createPicker:Ext.emptyFn,onTriggerClick:function(e){var t=this;if(!t.readOnly&&!t.disabled){if(t.isExpanded){t.collapse()}else{t.expand()}}},onOtherFocus:function(e){if(this.hasFocus&&!this.owns(e)){this.callParent([e])}},beforeDestroy:function(){var e=this,t=e.picker;e.collapse();e.callParent();Ext.un("resize",e.alignPicker,e);Ext.destroy(e.keyNav,t);if(t){delete e.picker;delete t.pickerField}}});Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this,n=t.owner,r=n.pagingToolbar;t.scrollPos=n.listWrap.getScroll();t.callParent(arguments);if(n.floating){e.savedXY=n.getXY();n.setXY([0,-9999])}if(r){e.toolbarContext=e.context.getCmp(r)}e.listContext=e.getEl("listWrap")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments);if(e.heightModel.auto){t.el.setHeight("auto");t.listWrap.setHeight("auto")}},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return true},finishedLayout:function(e){var t=this,n=e.savedXY,r=t.owner,i=r.listWrap,s=t.scrollPos;t.callParent(arguments);if(n){t.owner.setXY(n)}i.setScrollLeft(s.left);i.setScrollTop(s.top)},measureContentWidth:function(e){return this.owner.listWrap.getWidth()},measureContentHeight:function(e){return this.owner.listWrap.getHeight()},publishInnerHeight:function(e,t){var n=e.toolbarContext,r=0;if(n){r=n.getProp("height")}if(r===undefined){this.done=false}else{e.listContext.setHeight(t-e.getFrameInfo().height-r)}},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),n=e.toolbarContext;if(n){t+=n.getProp("height")}return t}});Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){var e=this;e.callParent();Ext.apply(e.renderData,{text:e.text})},setText:function(e){var t=this;t.text=e;if(t.rendered){t.el.setHtml(e);t.updateLayout()}}});Ext.define("Ext.form.trigger.Spinner",{extend:"Ext.form.trigger.Trigger",alias:"trigger.spinner",cls:Ext.baseCSSPrefix+"form-trigger-spinner",spinnerCls:Ext.baseCSSPrefix+"form-spinner",spinnerUpCls:Ext.baseCSSPrefix+"form-spinner-up",spinnerDownCls:Ext.baseCSSPrefix+"form-spinner-down",focusCls:Ext.baseCSSPrefix+"form-spinner-focus",overCls:Ext.baseCSSPrefix+"form-spinner-over",clickCls:Ext.baseCSSPrefix+"form-spinner-click",focusFieldOnClick:true,vertical:true,bodyTpl:'<tpl if="vertical">'+'<div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui}'+' {childElCls} {upDisabledCls}"></div>'+"</tpl>"+'<div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui}'+' {childElCls} {downDisabledCls}"></div>'+'<tpl if="!vertical">'+'<div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui}'+' {childElCls} {upDisabledCls}"></div>'+"</tpl>",getBodyRenderData:function(){var e=this;return{vertical:e.vertical,upDisabledCls:e.upEnabled?"":e.spinnerUpCls+"-disabled",downDisabledCls:e.downEnabled?"":e.spinnerDownCls+"-disabled",spinnerCls:e.spinnerCls,spinnerUpCls:e.spinnerUpCls,spinnerDownCls:e.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(e){var t=this,n=arguments,e=t.clickRepeater?n[1]:n[0],r=t.field;if(!r.readOnly&&!r.disabled){if(t.upEl.contains(e.target)){Ext.callback(t.upHandler,t.scope,[r,t,e],0,r)}else if(t.downEl.contains(e.target)){Ext.callback(t.downHandler,t.scope,[r,t,e],0,r)}}r.inputEl.focus()},onFieldRender:function(){var e=this,t=e.vertical,n,r;e.callParent();n=e.spinnerEl=e.el.select("."+e.spinnerCls,true);r=n.elements;e.upEl=t?r[0]:r[1];e.downEl=t?r[1]:r[0]},setUpEnabled:function(e){this.upEl[e?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(e){this.downEl[e?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}});Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Text",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.form.trigger.Spinner","Ext.util.KeyNav"],config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",scope:"this"}}},spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(e){var t=this,n=e.spinner;n.upEnabled=t.spinUpEnabled;n.downEnabled=t.spinDownEnabled;return t.callParent([e])},onRender:function(){var e=this,t=e.getTrigger("spinner");e.callParent();if(e.keyNavEnabled){e.spinnerKeyNav=new Ext.util.KeyNav(e.inputEl,{scope:e,up:e.spinUp,down:e.spinDown})}if(e.mouseWheelEnabled){e.mon(e.bodyEl,"mousewheel",e.onMouseWheel,e)}e.spinUpEl=t.upEl;e.spinDownEl=t.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var e=this;if(e.spinUpEnabled&&!e.disabled){e.fireEvent("spin",e,"up");e.fireEvent("spinup",e);e.onSpinUp()}},spinDown:function(){var e=this;if(e.spinDownEnabled&&!e.disabled){e.fireEvent("spin",e,"down");e.fireEvent("spindown",e);e.onSpinDown()}},setSpinUpEnabled:function(e){var t=this,n=t.spinUpEnabled;t.spinUpEnabled=e;if(n!==e&&t.rendered){t.getTrigger("spinner").setUpEnabled(e)}},setSpinDownEnabled:function(e){var t=this,n=t.spinDownEnabled;t.spinDownEnabled=e;if(n!==e&&t.rendered){t.getTrigger("spinner").setDownEnabled(e)}},onMouseWheel:function(e){var t=this,n;if(t.hasFocus){n=e.getWheelDelta();if(n>0){t.spinUp()}else if(n<0){t.spinDown()}e.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:null,submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var e=this;if(e.decimalSeparator===null){e.decimalSeparator=Ext.util.Format.decimalSeparator}e.callParent();e.setMinValue(e.minValue);e.setMaxValue(e.maxValue)},getErrors:function(e){e=arguments.length>0?e:this.processRawValue(this.getRawValue());var t=this,n=t.callParent([e]),r=Ext.String.format,i;if(e.length<1){return n}e=String(e).replace(t.decimalSeparator,".");if(isNaN(e)){n.push(r(t.nanText,e))}i=t.parseValue(e);if(t.minValue===0&&i<0){n.push(this.negativeText)}else if(i<t.minValue){n.push(r(t.minText,t.minValue))}if(i>t.maxValue){n.push(r(t.maxText,t.maxValue))}return n},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));if(t===null){t=e||null}return t},valueToRaw:function(e){var t=this,n=t.decimalSeparator;e=t.parseValue(e);e=t.fixPrecision(e);e=Ext.isNumber(e)?e:parseFloat(String(e).replace(n,"."));e=isNaN(e)?"":String(e).replace(".",n);return e},getSubmitValue:function(){var e=this,t=e.callParent();if(!e.submitLocaleSeparator){t=t.replace(e.decimalSeparator,".")}return t},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var e=this,t=e.getValue(),n=t===null,r;if(e.spinUpEnabled||e.spinUpDisabledByToggle){r=n||t<e.maxValue;e.setSpinUpEnabled(r,true)}if(e.spinDownEnabled||e.spinDownDisabledByToggle){r=n||t>e.minValue;e.setSpinDownEnabled(r,true)}},setMinValue:function(e){var t=this,n;t.minValue=Ext.Number.from(e,Number.NEGATIVE_INFINITY);t.toggleSpinners();if(t.disableKeyFilter!==true){n=t.baseChars+"";if(t.allowExponential){n+=t.decimalSeparator+"e+-"}else{if(t.allowDecimals){n+=t.decimalSeparator}if(t.minValue<0){n+="-"}}n=Ext.String.escapeRegex(n);t.maskRe=new RegExp("["+n+"]");if(t.autoStripChars){t.stripCharsRe=new RegExp("[^"+n+"]","gi")}}},setMaxValue:function(e){this.maxValue=Ext.Number.from(e,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(e){e=parseFloat(String(e).replace(this.decimalSeparator,"."));return isNaN(e)?null:e},fixPrecision:function(e){var t=this,n=isNaN(e),r=t.decimalPrecision;if(n||!e){return n?"":e}else if(!t.allowDecimals||r<=0){r=0}return parseFloat(Ext.Number.toFixed(parseFloat(e),r))},onBlur:function(e){var t=this,n=t.rawToValue(t.getRawValue());if(!Ext.isEmpty(n)){t.setValue(n)}t.callParent([e])},setSpinUpEnabled:function(e,t){this.callParent(arguments);if(!t){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!e}},onSpinUp:function(){var e=this;if(!e.readOnly){e.setSpinValue(Ext.Number.constrain(e.getValue()+e.step,e.minValue,e.maxValue))}},setSpinDownEnabled:function(e,t){this.callParent(arguments);if(!t){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!e}},onSpinDown:function(){var e=this;if(!e.readOnly){e.setSpinValue(Ext.Number.constrain(e.getValue()-e.step,e.minValue,e.maxValue))}},setSpinValue:function(e){var t=this;if(t.enforceMaxLength){if(t.fixPrecision(e).toString().length>t.maxLength){return}}t.setValue(e)}});Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",xtype:"pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:["Ext.util.StoreHolder"],displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var e=this,t={scope:e,blur:e.onPagingBlur};t[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=e.onPagingKeyDown;return[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:e.inputItemWidth,margin:"-1 2 3 2",listeners:t},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:e.store.isLoading(),handler:e.doRefresh,scope:e}]},initComponent:function(){var e=this,t=e.items||e.buttons||[],n;e.bindStore(e.store||"ext-empty-store",true);n=e.getPagingItems();if(e.prependButtons){e.items=t.concat(n)}else{e.items=n.concat(t)}delete e.buttons;if(e.displayInfo){e.items.push("->");e.items.push({xtype:"tbtext",itemId:"displayItem"})}e.callParent()},beforeRender:function(){var e=this;e.callParent(arguments);if(!e.store.isLoading()){e.calledFromRender=true;e.onLoad();delete e.calledFromRender}},updateInfo:function(){var e=this,t=e.child("#displayItem"),n=e.store,r=e.getPageData(),i,s;if(t){i=n.getCount();if(i===0){s=e.emptyMsg}else{s=Ext.String.format(e.displayMsg,r.fromRecord,r.toRecord,r.total)}t.setText(s)}},onLoad:function(){var e=this,t,n,r,i,s,o,u;s=e.store.getCount();o=s===0;if(!o){t=e.getPageData();n=t.currentPage;r=t.pageCount;if(n>r){e.store.loadPage(r);return}i=Ext.String.format(e.afterPageText,isNaN(r)?1:r)}else{n=0;r=0;i=Ext.String.format(e.afterPageText,0)}Ext.suspendLayouts();u=e.child("#afterTextItem");if(u){u.setText(i)}u=e.getInputItem();if(u){u.setDisabled(o).setValue(n)}e.setChildDisabled("#first",n===1||o);e.setChildDisabled("#prev",n===1||o);e.setChildDisabled("#next",n===r||o);e.setChildDisabled("#last",n===r||o);e.setChildDisabled("#refresh",false);e.updateInfo();Ext.resumeLayouts(true);if(!e.calledFromRender){e.fireEvent("change",e,t)}},setChildDisabled:function(e,t){var n=this.child(e);if(n){n.setDisabled(t)}},getPageData:function(){var e=this.store,t=e.getTotalCount();return{total:t,currentPage:e.currentPage,pageCount:Math.ceil(t/e.pageSize),fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:Math.min(e.currentPage*e.pageSize,t)}},onLoadError:function(){this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(e){var t=this.getInputItem(),n=false,r;if(t){r=t.getValue();n=parseInt(r,10);if(!r||isNaN(n)){t.setValue(e.currentPage);return false}}return n},onPagingBlur:function(e){var t=this.getInputItem(),n;if(t){n=this.getPageData().currentPage;t.setValue(n)}},onPagingKeyDown:function(e,t){this.processKeyEvent(e,t)},processKeyEvent:function(e,t){var n=this,r=t.getKey(),i=n.getPageData(),s=t.shiftKey?10:1,o;if(r==t.RETURN){t.stopEvent();o=n.readPageFromInput(i);if(o!==false){o=Math.min(Math.max(1,o),i.pageCount);if(o!==i.currentPage&&n.fireEvent("beforechange",n,o)!==false){n.store.loadPage(o)}}}else if(r==t.HOME||r==t.END){t.stopEvent();o=r==t.HOME?1:i.pageCount;e.setValue(o)}else if(r==t.UP||r==t.PAGE_UP||r==t.DOWN||r==t.PAGE_DOWN){t.stopEvent();o=n.readPageFromInput(i);if(o){if(r==t.DOWN||r==t.PAGE_DOWN){s*=-1}o+=s;if(o>=1&&o<=i.pageCount){e.setValue(o)}}}},beforeLoad:function(){this.setChildDisabled("#refresh",true)},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1);return true}return false},movePrevious:function(){var e=this,t=e.store,n=t.currentPage-1;if(n>0){if(e.fireEvent("beforechange",e,n)!==false){t.previousPage();return true}}return false},moveNext:function(){var e=this,t=e.store,n=e.getPageData().pageCount,r=t.currentPage+1;if(r<=n){if(e.fireEvent("beforechange",e,r)!==false){t.nextPage();return true}}return false},moveLast:function(){var e=this,t=e.getPageData().pageCount;if(e.fireEvent("beforechange",e,t)!==false){e.store.loadPage(t);return true}return false},doRefresh:function(){var e=this,t=e.store,n=t.currentPage;if(e.fireEvent("beforechange",e,n)!==false){t.loadPage(n);return true}return false},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onDestroy:function(){this.bindStore(null);this.callParent()}});Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],mixins:["Ext.mixin.Queryable"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,preserveScrollOnRefresh:true,enableInitialSelection:false,componentLayout:"boundlist",navigationModel:"boundlist",autoScroll:true,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap" role="presentation" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="'+Ext.plainListCls+'">',"</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],focusable:false,initComponent:function(){var e=this,t=e.baseCls,n=e.itemCls;e.selectedItemCls=t+"-selected";if(e.trackOver){e.overItemCls=t+"-item-over"}e.itemSelector="."+n;e.scrollerSelector="ul."+Ext.plainListCls;if(e.floating){e.addCls(t+"-floating")}if(!e.tpl){e.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+n+'">'+e.getInnerTpl(e.displayField)+"</li>","</tpl>")}else if(!e.tpl.isTemplate){e.tpl=new Ext.XTemplate(e.tpl)}if(e.pageSize){e.pagingToolbar=e.createPagingToolbar()}e.callParent();e.getSelectionModel().preventFocus=true},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=this.callParent(),t=this.pagingToolbar;if(t){e.push(t)}return e},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var e=this,t=e.tpl,n=e.pagingToolbar,r=e.rendered;t.field=e.pickerField;t.store=e.store;e.callParent();t.field=t.store=null;if(r&&n&&n.rendered&&!e.preserveScrollOnRefresh){e.el.appendChild(n.el,true)}},bindStore:function(e,t){var n=this.pagingToolbar;this.callParent(arguments);if(n){n.bindStore(e,t)}},getInnerTpl:function(e){return"{"+e+"}"},onDestroy:function(){this.callParent();Ext.destroyMembers(this,"pagingToolbar","listWrap","listEl")},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments);if(e){e.finishRender()}}}});Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.view.NavigationModel",alias:"view.navigation.boundlist",initKeyNav:function(e){var t=this,n=t.view.pickerField;if(!e.pickerField){return}if(!n.rendered){n.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:true});return}t.keyNav=new Ext.util.KeyNav({target:n.inputEl,forceKeyDown:true,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,scope:t})},onItemMouseDown:function(e,t,n,r,i){this.callParent([e,t,n,r,i]);i.preventDefault()},onKeyUp:function(){var e=this,t=e.view,n=t.all,r=t.highlightedItem,i=r?t.indexOf(r):-1,s=i>0?i-1:n.getCount()-1;e.setPosition(s)},onKeyDown:function(){var e=this,t=e.view,n=t.all,r=t.highlightedItem,i=r?t.indexOf(r):-1,s=i<n.getCount()-1?i+1:0;e.setPosition(s)},onKeyLeft:Ext.emptyFn,onKeyRight:Ext.emptyFn,onKeyTab:function(e){var t=this.view,n=t.pickerField;if(t.isVisible()){if(n.selectOnTab){this.selectHighlighted(e)}n.collapse()}return true},onKeyEnter:function(e){var t=this.view.getSelectionModel(),n=this.view.pickerField,r=t.getCount();this.selectHighlighted(e);if(!n.multiSelect&&r===t.getCount()){n.collapse()}},onKeySpace:function(){this.callParent(arguments);return true},focusItem:function(e){var t=this,n=t.view;if(typeof e==="number"){e=n.all.item(e)}if(e){e=e.dom;n.highlightItem(e);n.getOverflowEl().scrollChildIntoView(e,false)}},selectHighlighted:function(e){var t=this.view,n=t.getSelectionModel(),r;r=t.getNavigationModel().getRecord();if(r){if(e.getKey()===e.ENTER||!n.isSelected(r)){n.selectWithEvent(r,e)}}}});Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:["Ext.util.StoreHolder"],config:{filters:null,selection:null},publishes:["selection"],twoWayBindable:["selection"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hidden-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",childEls:{hiddenDataEl:true},filtered:false,afterRender:function(){var e=this;e.callParent(arguments);e.setHiddenValue(e.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,autoLoadOnValue:false,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,clearFilterOnBlur:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:true,ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var e=this;return e.grow&&e.growToLongestValue},initComponent:function(){var e=this,t=Ext.isDefined,n=e.store,r=e.transform,i=e.displayTpl,s,o;if(e.typeAhead&&e.multiSelect){Ext.Error.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them.")}if(e.typeAhead&&!e.editable){Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings.")}if(e.selectOnFocus&&!e.editable){Ext.Error.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings.")}if(r){s=Ext.getDom(r);if(s){if(!e.store){n=Ext.Array.map(Ext.Array.from(s.options),function(e){return[e.value,e.text]})}if(!e.name){e.name=s.name}if(!("value"in e)){e.value=s.value}}}e.bindStore(n||"ext-empty-store",true,true);n=e.store;if(n.autoCreated){e.queryMode="local";e.valueField=e.displayField="field1";if(!n.expanded){e.displayField="field2"}}if(!t(e.valueField)){e.valueField=e.displayField}o=e.queryMode==="local";if(!t(e.queryDelay)){e.queryDelay=o?10:500}if(!t(e.minChars)){e.minChars=o?0:4}if(!i){e.displayTpl=new Ext.XTemplate('<tpl for=".">'+'{[typeof values === "string" ? values : values["'+e.displayField+'"]]}'+'<tpl if="xindex < xcount">'+e.delimiter+"</tpl>"+"</tpl>")}else if(!i.isTemplate){e.displayTpl=new Ext.XTemplate(i)}e.callParent();e.doQueryTask=new Ext.util.DelayedTask(e.doRawQuery,e);if(e.store.getCount()>0){e.setValue(e.value)}if(s){if(e.transformInPlace){e.render(s.parentNode,s);delete e.renderTo}Ext.removeNode(s)}},getSubTplMarkup:function(e){var t=this,n="",r=t.callParent(arguments);if(t.hiddenName){n='<div id="'+e.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+t.hiddenDataCls+'" role="presentation"></div>'}return n+r},applyFilters:function(e,t){var n=this;if(e===null||e.isFilterCollection){return e}if(e){if(!t){t=this.getFilters()}t.beginUpdate();t.splice(0,t.length,e);t.each(function(e){e.ownerId=n.id});t.endUpdate()}return t},getFilters:function(e){var t=this.filters;if(!t&&e!==false){t=new Ext.util.FilterCollection;this.setFilters(t)}return t},updateFilters:function(e,t){var n=this;if(t){t.un("endupdate","onEndUpdateFilters",n)}if(e){e.on("endupdate","onEndUpdateFilters",n)}n.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t=this,n=t.filtered,r=!!e&&e.length>0,i,s;if(n||r){t.filtered=r;i=[];s=t.store.getFilters();s.each(function(n){if(n.ownerId===t.id&&!e.contains(n)){i.push(n)}});s.splice(0,i,e.items)}},getStore:function(){return this.store},onBlur:function(e){var t=this,n=t.queryFilter;t.doQueryTask.cancel();t.assertValue();if(n&&t.queryMode==="local"&&t.clearFilterOnBlur){t.getStore().getFilters().remove(n)}t.callParent([e])},onFocus:function(e){var t=this;t.callParent([e]);if(!t.duringTriggerClick&&t.triggerAction!=="all"&&t.queryFilter&&t.queryMode==="local"&&t.clearFilterOnBlur){delete t.lastQuery;t.doRawQuery()}},assertValue:function(){var e=this,t=e.getRawValue(),n,r;if(e.forceSelection){if(e.multiSelect){if(t!==e.getDisplayValue()){e.setValue(e.lastSelection)}}else{n=e.findRecordByDisplay(t);if(n){r=e.value;if(!e.findRecordByValue(r)){e.select(n,true)}}else{e.setValue(e.lastSelection)}}}e.collapse()},onTypeAhead:function(){var e=this,t=e.displayField,n=e.store.findRecord(t,e.getRawValue()),r=e.getPicker(),i,s,o;if(n){i=n.get(t);s=i.length;o=e.getRawValue().length;r.highlightItem(r.getNode(n));if(o!==0&&o!==s){e.setRawValue(i);e.selectText(o,i.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){var e=this.queryFilter;this.callParent();if(e){this.getStore().getFilters().remove(e)}},onUnbindStore:function(){var e=this,t=e.picker,n=e.queryFilter;if(n&&!e.store.isDestroyed){e.getStore().getFilters().remove(n)}if(t){t.bindStore(null)}},onBindStore:function(e,t){var n=this.picker;if(!t){this.resetToDefault()}if(n){n.bindStore(e)}},bindStore:function(e,t,n){var r=this,i=r.queryFilter;r.mixins.storeholder.bindStore.call(r,e,n);e=r.getStore();if(e&&i&&!t){e.getFilters().add(i)}if(!n&&e){r.setValueOnData()}},getStoreListeners:function(){var e=this;return{beforeload:e.onBeforeLoad,clear:e.onClear,datachanged:e.onDataChanged,load:e.onLoad,exception:e.onException,remove:e.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var e=this;if(e.resizeComboToGrow()){e.updateLayout()}},onClear:function(){var e=this;if(e.resizeComboToGrow()){e.removingRecords=true;e.onDataChanged()}},onRemove:function(){var e=this;if(e.resizeComboToGrow()){e.removingRecords=true}},onException:function(){if(this.ignoreSelection>0){--this.ignoreSelection}this.collapse()},onLoad:function(e,t,n){if(this.ignoreSelection>0){--this.ignoreSelection}if(n&&!e.lastOptions.rawQuery){this.setValueOnData()}},setValueOnData:function(){var e=this;if(e.value==null){if(e.getStore().getCount()){e.doAutoSelect()}else{e.setValue(e.value)}}else{e.setValue(e.value)}},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(e,t,n){var r=this,i=r.beforeQuery({query:e||"",rawQuery:n,forceAll:t,combo:r,cancel:false});if(i===false||i.cancel){return false}if(r.queryCaching&&i.query===r.lastQuery){r.expand();if(r.queryMode==="local"){r.doAutoSelect()}}else{r.lastQuery=i.query;if(r.queryMode==="local"){r.doLocalQuery(i)}else{r.doRemoteQuery(i)}}return true},beforeQuery:function(e){var t=this;if(t.fireEvent("beforequery",e)===false){e.cancel=true}else if(!e.cancel){if(e.query.length<t.minChars&&!e.forceAll){e.cancel=true}}return e},doLocalQuery:function(e){var t=this,n=e.query,r=t.getStore().getFilters(),i=t.queryFilter;t.queryFilter=null;r.beginUpdate();if(i){r.remove(i)}if(n){i=t.queryFilter=new Ext.util.Filter({id:t.id+"-filter",anyMatch:t.anyMatch,caseSensitive:t.caseSensitive,root:"data",property:t.displayField,value:t.enableRegEx?new RegExp(n,t.caseSensitive?"":"i"):n});r.add(i)}r.endUpdate();if(t.store.getCount()||t.getPicker().emptyText){t.expand()}else{t.collapse()}t.afterQuery(e)},doRemoteQuery:function(e){var t=this,n=function(){t.afterQuery(e)};t.expand();if(t.pageSize){t.loadPage(1,{rawQuery:e.rawQuery,callback:n})}else{t.store.load({params:t.getParams(e.query),rawQuery:e.rawQuery,callback:n})}},afterQuery:function(e){var t=this;if(t.store.getCount()){if(t.typeAhead){t.doTypeAhead()}if(t.getRawValue()!==t.getDisplayValue()){t.ignoreSelection++;t.picker.getSelectionModel().deselectAll();t.ignoreSelection--}if(e.rawQuery){t.syncSelection();if(t.picker&&!t.picker.getSelectionModel().hasSelection()){t.doAutoSelect()}}else{t.doAutoSelect()}}},loadPage:function(e,t){this.store.loadPage(e,Ext.apply({params:this.getParams(this.lastQuery)},t))},onPageChange:function(e,t){this.loadPage(t);return false},getParams:function(e){var t={},n=this.queryParam;if(n){t[n]=e}return t},doAutoSelect:function(){var e=this,t=e.picker;if(t&&e.autoSelect&&e.store.getCount()>0){t.getNavigationModel().setPosition(e.picker.getSelectionModel().lastSelected||0)}},doTypeAhead:function(){var e=this,t=Ext.event.Event;if(!e.typeAheadTask){e.typeAheadTask=new Ext.util.DelayedTask(e.onTypeAhead,e)}if(e.lastKey!==t.BACKSPACE&&e.lastKey!==t.DELETE){e.typeAheadTask.delay(e.typeAheadDelay)}},onTriggerClick:function(){var e=this;e.duringTriggerClick=true;if(!e.readOnly&&!e.disabled){if(e.isExpanded){e.collapse()}else{e.onFocus({});if(e.triggerAction==="all"){e.doQuery(e.allQuery,true)}else if(e.triggerAction==="last"){e.doQuery(e.lastQuery,true)}else{e.doQuery(e.getRawValue(),false,true)}}}delete e.duringTriggerClick},onPaste:function(){var e=this;if(!e.readOnly&&!e.disabled&&e.editable){e.doQueryTask.delay(e.queryDelay)}},onKeyUp:function(e,t){var n=this,r=e.getKey();if(!n.readOnly&&!n.disabled&&n.editable){n.lastKey=r;if(!e.isSpecialKey()||r===e.BACKSPACE||r===e.DELETE){n.doQueryTask.delay(n.queryDelay)}}if(n.enableKeyEvents){n.callParent(arguments)}},initEvents:function(){var e=this;e.callParent();if(!e.enableKeyEvents){e.mon(e.inputEl,"keyup",e.onKeyUp,e)}e.mon(e.inputEl,"paste",e.onPaste,e)},onDestroy:function(){var e=this;if(e.typeAheadTask){e.typeAheadTask.cancel();e.typeAheadTask=null}e.bindStore(null);e.callParent()},onAdded:function(){var e=this;e.callParent(arguments);if(e.picker){e.picker.ownerCt=e.up("[floating]");e.picker.registerWithOwnerCt()}},createPicker:function(){var e=this,t,n=Ext.apply({xtype:"boundlist",pickerField:e,selModel:{mode:e.multiSelect?"SIMPLE":"SINGLE",enableInitialSelection:false},floating:true,hidden:true,store:e.store,displayField:e.displayField,preserveScrollOnRefresh:true,pageSize:e.pageSize,tpl:e.tpl},e.listConfig,e.defaultListConfig);t=e.picker=Ext.widget(n);if(e.pageSize){t.pagingToolbar.on("beforechange",e.onPageChange,e)}e.mon(t,{refresh:e.onListRefresh,scope:e});e.mon(t.getSelectionModel(),{beforeselect:e.onBeforeSelect,beforedeselect:e.onBeforeDeselect,selectionchange:e.onListSelectionChange,scope:e});return t},alignPicker:function(){var e=this,t=e.getPicker(),n=e.getPosition()[1]-Ext.getBody().getScroll().top,r=Ext.Element.getViewportHeight()-n-e.getHeight(),i=Math.max(n,r),s=t.getTargetEl().dom,o=s.scrollTop;if(t.height){delete t.height;t.updateLayout()}if(t.getHeight()>i-5){t.setHeight(i-5)}e.callParent();s.scrollTop=o},onListRefresh:function(){if(!this.expanding){this.alignPicker()}this.syncSelection()},onBeforeSelect:function(e,t){return this.fireEvent("beforeselect",this,t,this.getStore().indexOf(t))},onBeforeDeselect:function(e,t){return this.fireEvent("beforedeselect",this,t,this.getStore().indexOf(t))},getSelection:function(){var e=this.getPicker().getSelectionModel(),t=e.getSelection();return t.length?e.getLastSelected():null},updateSelection:function(e){var t=this,n;if(!t.ignoreNextSelection){t.ignoreNextSelection=true;n=t.getPicker().getSelectionModel();t.processSelectionChange=true;if(e){n.select(e)}else{n.deselectAll()}t.processSelectionChange=false;t.ignoreNextSelection=false}},updateBindSelection:function(e,t){var n=this,r=null;if(!n.ignoreNextSelection){n.ignoreNextSelection=true;if(t.length){r=e.getLastSelected();n.hasHadSelection=true}if(n.hasHadSelection){n.setSelection(r)}n.ignoreNextSelection=false}},onListSelectionChange:function(e,t){var n=this,r=n.multiSelect,i=t.length>0,s=n.processSelectionChange;n.updateBindSelection(e,t);if(!n.ignoreSelection&&(n.isExpanded||s)){if(!r){n.collapse()}if(r||i||s){n.setValue(t,false)}if(i){n.fireEvent("select",n,t)}}},onExpand:function(){var e=this,t;if(e.selectOnTab){e.ignoreMonitorTab=true}t=e.getPicker().getNavigationModel();Ext.defer(t.enable,1,t)},onCollapse:function(){var e=this,t=e.getPicker().getNavigationModel();if(t){t.disable();e.ignoreMonitorTab=false}},select:function(e,t){var n=this,r=n.picker,i;if(e&&e.isModel&&t===true&&r){i=!r.getSelectionModel().isSelected(e)}n.setValue(e,true);if(i){n.fireEvent("select",n,e)}},findRecord:function(e,t){var n=this.store,r=n.findExact(e,t);return r!==-1?n.getAt(r):false},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(e){return this.findRecord(this.valueField,e)},findRecordByDisplay:function(e){return this.findRecord(this.displayField,e)},setValue:function(e,t){var n=this,r=n.valueNotFoundText,i=n.getStore(),s=n.inputEl,o=[],u=[],a=[],f=n.autoLoadOnValue,l=i.hasPendingLoad(),c=f&&i.loadCount===0&&!l,h,p,d,v;if(e!=null&&(l||c||i.isEmptyStore)){n.value=e;n.setHiddenValue(n.value);if(c&&i.getProxy().isRemote){i.load()}return n}e=Ext.Array.from(e);for(h=0,p=e.length;h<p;h++){d=e[h];if(!d||!d.isModel){d=n.findRecordByValue(d)}if(d){o.push(d);u.push(d.data);a.push(d.get(n.valueField))}else{if(!n.forceSelection){a.push(e[h]);v={};v[n.displayField]=e[h];u.push(v)}else if(Ext.isDefined(r)){u.push(r)}}}n.setHiddenValue(a);n.value=n.multiSelect?a:a[0];if(!Ext.isDefined(n.value)){n.value=undefined}n.displayTplData=u;n.lastSelection=n.valueModels=o;if(s&&n.emptyText&&!Ext.isEmpty(e)){s.removeCls(n.emptyCls)}n.setRawValue(n.getDisplayValue());n.checkChange();if(t!==false){n.syncSelection()}n.applyEmptyText();return n},setHiddenValue:function(e){var t=this,n=t.hiddenName,r,i,s,o,u,a;if(!t.hiddenDataEl||!n){return}e=Ext.Array.from(e);i=t.hiddenDataEl.dom;s=i.childNodes;o=s[0];u=e.length;a=s.length;if(!o&&u>0){t.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:n}));a=1;o=i.firstChild}while(a>u){i.removeChild(s[0]);--a}while(a<u){i.appendChild(o.cloneNode(true));++a}for(r=0;r<u;r++){s[r].value=e[r]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this,t=e.picker,n=e.getRawValue(),r=e.value;if(e.getDisplayValue()!==n){r=n;e.value=e.displayTplData=e.valueModels=undefined;if(t){e.ignoreSelection++;t.getSelectionModel().deselectAll();e.ignoreSelection--}}e.value=r==null?null:r;return e.value},getSubmitValue:function(){var e=this.getValue();if(Ext.isEmpty(e)){e=""}return e},isEqual:function(e,t){var n=Ext.Array.from,r,i;e=n(e);t=n(t);i=e.length;if(i!==t.length){return false}for(r=0;r<i;r++){if(t[r]!==e[r]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var e=this,t=e.getPicker(),n,r,i=e.valueModels||[],s=i.length,o,u;if(t){n=[];for(o=0;o<s;o++){u=i[o];if(u&&u.isModel&&e.store.indexOf(u)>=0){n.push(u)}}e.ignoreSelection++;r=t.getSelectionModel();if(n.length){r.select(n,false)}else{r.deselectAll()}e.ignoreSelection--}},onEditorTab:function(e){var t=this.getPicker().getNavigationModel();if(this.selectOnTab&&t){t.selectHighlighted(e)}}});Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",isMonthPicker:true,focusable:true,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected";if(e.small){e.addCls(e.smallCls)}e.setValue(e.value);e.activeYear=e.getYear((new Date).getFullYear()-4,-4);if(e.showButtons){e.okBtn=new Ext.button.Button({text:e.okText,handler:e.onOkClick,scope:e});e.cancelBtn=new Ext.button.Button({text:e.cancelText,handler:e.onCancelClick,scope:e})}this.callParent()},beforeRender:function(){var e=this,t=0,n=[],r=Ext.Date.getShortMonthName,i=e.monthOffset,s=e.monthMargin,o="";if(e.padding&&!e.width){e.cacheWidth()}e.callParent();for(;t<i;++t){n.push(r(t),r(t+i))}if(Ext.isDefined(s)){o="margin: 0 "+s+"px;"}Ext.apply(e.renderData,{months:n,years:e.getYears(),showButtons:e.showButtons,monthStyle:o})},cacheWidth:function(){var e=this,t=e.parseBox(e.padding),n=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});e.self.prototype.width=n.getWidth()+t.left+t.right;n.destroy()},afterRender:function(){var e=this,t=e.bodyEl;e.callParent();e.mon(t,"click",e.onBodyClick,e);e.mon(t,"dblclick",e.onBodyClick,e);e.years=t.select("."+e.baseCls+"-year a");e.months=t.select("."+e.baseCls+"-month a");e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])});e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over");e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])});e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over");e.updateBody();if(!Ext.isDefined(e.monthMargin)){Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin()}},calculateMonthMargin:function(){var e=this,t=e.monthEl,n=e.months,r=n.first(),i=r.getMargin("l");while(i&&e.getLargest()>e.measureMaxHeight){--i;n.setStyle("margin","0 "+i+"px")}return i},getLargest:function(e){var t=0;this.months.each(function(e){var n=e.getHeight();if(n>t){t=n}});return t},setValue:function(e){var t=this,n=t.activeYear,r=t.monthOffset,i,s;if(!e){t.value=[null,null]}else if(Ext.isDate(e)){t.value=[e.getMonth(),e.getFullYear()]}else{t.value=[e[0],e[1]]}if(t.rendered){i=t.value[1];if(i!==null){if(i<n||i>n+t.yearOffset){t.activeYear=i-t.yearOffset+1}}t.updateBody()}return t},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return e[0]!==null&&e[1]!==null},getYears:function(){var e=this,t=e.yearOffset,n=e.activeYear,r=n+t,i=n,s=[];for(;i<r;++i){s.push(i,i+t)}return s},updateBody:function(){var e=this,t=e.years,n=e.months,r=e.getYears(),i=e.selectedCls,s=e.getYear(null),o=e.value[0],u=e.monthOffset,a,f,l,c,h;if(e.rendered){t.removeCls(i);n.removeCls(i);f=t.elements;c=f.length;for(l=0;l<c;l++){h=Ext.fly(f[l]);a=r[l];h.dom.innerHTML=a;if(a==s){h.addCls(i)}}if(o!==null){if(o<u){o=o*2}else{o=(o-u)*2+1}n.item(o).addCls(i)}}},getYear:function(e,t){var n=this.value[1];t=t||0;return n===null?e:n+t},onBodyClick:function(e,t){var n=this,r=e.type=="dblclick";if(e.getTarget("."+n.baseCls+"-month")){e.stopEvent();n.onMonthClick(t,r)}else if(e.getTarget("."+n.baseCls+"-year")){e.stopEvent();n.onYearClick(t,r)}},adjustYear:function(e){if(typeof e!="number"){e=this.totalYears}this.activeYear+=e;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var n=this;n.value[0]=n.resolveOffset(n.months.indexOf(e),n.monthOffset);n.updateBody();n.fireEvent("month"+(t?"dbl":"")+"click",n,n.value);n.fireEvent("select",n,n.value)},onYearClick:function(e,t){var n=this;n.value[1]=n.activeYear+n.resolveOffset(n.years.indexOf(e),n.yearOffset);n.updateBody();n.fireEvent("year"+(t?"dbl":"")+"click",n,n.value);n.fireEvent("select",n,n.value)},resolveOffset:function(e,t){if(e%2===0){return e/2}else{return t+Math.floor(e/2)}},beforeDestroy:function(){var e=this;e.years=e.months=null;Ext.destroyMembers(e,"backRepeater","nextRepeater","okBtn","cancelBtn");e.callParent()},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()},privates:{finishRenderChildren:function(){var e=this;this.callParent(arguments);if(this.showButtons){e.okBtn.finishRender();e.cancelBtn.finishRender()}}}});Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",isDatePicker:true,focusable:true,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="button" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="button" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" {%','if (values.$comp.focusable) {out.push("tabindex=\\"0\\"");}','%} cellspacing="0">','<thead><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)},isEndOfWeek:function(e){e--;var t=e%7===0&&e!==0;return t?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected";e.disabledCellCls=e.baseCls+"-disabled";e.prevCls=e.baseCls+"-prevday";e.activeCls=e.baseCls+"-active";e.cellCls=e.baseCls+"-cell";e.nextCls=e.baseCls+"-prevday";e.todayCls=e.baseCls+"-today";if(!e.format){e.format=Ext.Date.defaultFormat}if(!e.dayNames){e.dayNames=Ext.Date.dayNames}e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay));e.callParent();e.value=e.value?t(e.value,true):t(new Date);e.initDisabledDays()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=[],t=this.monthBtn,n=this.todayBtn;if(t){e.push(t)}if(n){e.push(n)}return e},beforeRender:function(){var e=this,t=new Array(e.numDays),n=Ext.Date.format(new Date,e.format);if(e.padding&&!e.width){e.cacheWidth()}e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,listeners:{click:e.doShowMonthPicker,arrowclick:e.doShowMonthPicker,scope:e}});if(e.showToday){e.todayBtn=new Ext.button.Button({ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,n),tooltip:Ext.String.format(e.todayTip,n),tooltipType:"title",handler:e.selectToday,scope:e})}e.callParent();Ext.applyIf(e,{renderData:{}});Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:e.prevText,nextText:e.nextText,days:t});e.protoEl.unselectable()},cacheWidth:function(){var e=this,t=e.parseBox(e.padding),n=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});e.self.prototype.width=n.getWidth()+t.left+t.right;n.destroy()},onRender:function(e,t){var n=this;n.callParent(arguments);n.cells=n.eventEl.select("tbody td");n.textNodes=n.eventEl.query("tbody td div");n.eventEl.set({"aria-labelledby":n.monthBtn.id});n.mon(n.eventEl,{scope:n,mousewheel:n.handleMouseWheel,click:{fn:n.handleDateClick,delegate:"div."+n.baseCls+"-date"}})},initEvents:function(){var e=this,t=e.pickerField,n=Ext.Date,r=n.DAY;e.callParent();if(!e.focusable){e.el.on({mousedown:e.onMouseDown})}e.prevRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:e.showPrevMonth,scope:e,preventDefault:true,stopDefault:true});e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:e.showNextMonth,scope:e,preventDefault:true,stopDefault:true});e.keyNav=new Ext.util.KeyNav(t?t.inputEl:e.eventEl,Ext.apply({scope:e,capture:true,left:function(t){if(t.ctrlKey){e.showPrevMonth()}else{e.update(n.add(e.activeDate,r,-1))}},right:function(t){if(t.ctrlKey){e.showNextMonth()}else{e.update(n.add(e.activeDate,r,1))}},up:function(t){if(t.ctrlKey){e.showNextYear()}else{e.update(n.add(e.activeDate,r,-7))}},down:function(t){if(t.ctrlKey){e.showPrevYear()}else{e.update(n.add(e.activeDate,r,7))}},pageUp:function(t){if(t.ctrlKey){e.showPrevYear()}else{e.showPrevMonth()}},pageDown:function(t){if(t.ctrlKey){e.showNextYear()}else{e.showNextMonth()}},tab:function(t){e.handleTabClick(t);return true},enter:function(t){e.handleDateClick(t,e.activeCell.firstChild)},space:function(){e.setValue(new Date(e.activeCell.firstChild.dateValue));var n=e.startValue,r=e.value,i;if(t){i=t.getValue();if(i&&n&&i.getTime()===r.getTime()){t.setValue(n)}else{t.setValue(r)}}},home:function(t){e.update(n.getFirstDateOfMonth(e.activeDate))},end:function(t){e.update(n.getLastDateOfMonth(e.activeDate))}},e.keyNavConfig));if(e.disabled){e.syncDisabled(true)}e.update(e.value)},onMouseDown:function(e){e.preventDefault()},handleTabClick:function(e){var t=this,n=t.getSelectedDate(t.activeDate),r=t.handler;if(!t.disabled&&n.dateValue&&!Ext.fly(n.parentNode).hasCls(t.disabledCellCls)){t.setValue(new Date(n.dateValue));t.fireEvent("select",t,t.value);if(r){r.call(t.scope||t,t,t.value)}t.onSelect()}},getSelectedDate:function(e){var t=this,n=e.getTime(),r=t.cells,i=t.selectedCls,s=r.elements,o,u=s.length,a;r.removeCls(i);for(o=0;o<u;o++){a=Ext.fly(s[o]);if(a.dom.firstChild.dateValue==n){return a.dom.firstChild}}return null},initDisabledDays:function(){var e=this,t=e.disabledDates,n="(?:",r,i,s,o;if(!e.disabledDatesRE&&t){r=t.length-1;s=t.length;for(i=0;i<s;i++){o=t[i];n+=Ext.isDate(o)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(o,e.format))+"$":o;if(i!==r){n+="|"}}e.disabledDatesRE=new RegExp(n+")")}},setDisabledDates:function(e){var t=this;if(Ext.isArray(e)){t.disabledDates=e;t.disabledDatesRE=null}else{t.disabledDatesRE=e}t.initDisabledDays();t.update(t.value,true);return t},setDisabledDays:function(e){this.disabledDays=e;return this.update(this.value,true)},setMinDate:function(e){this.minDate=e;return this.update(this.value,true)},setMaxDate:function(e){this.maxDate=e;return this.update(this.value,true)},setValue:function(e){this.value=Ext.Date.clearTime(e||new Date,true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},onEnable:function(){this.callParent();this.syncDisabled(false);this.update(this.activeDate)},onShow:function(){this.callParent();this.syncDisabled(false);if(this.pickerField){this.startValue=this.pickerField.getValue()}},onHide:function(){this.callParent();this.syncDisabled(true)},onDisable:function(){this.callParent();this.syncDisabled(true)},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,n={duration:200,callback:function(){t.setVisible(!e)}};if(e){t.el.slideOut("t",n)}else{t.el.slideIn("t",n)}},hideMonthPicker:function(e){var t=this,n=t.monthPicker;if(n&&n.isVisible()){if(t.shouldAnimate(e)){t.runAnimation(true)}else{n.hide()}}return t},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(e){var t=this,n=t.el,r;if(t.rendered&&!t.disabled){r=t.createMonthPicker();if(!r.isVisible()){r.setValue(t.getActive());r.setSize(n.getSize());r.setPosition(-n.getBorderWidth("l"),-n.getBorderWidth("t"));if(t.shouldAnimate(e)){t.runAnimation(false)}else{r.show()}}}return t},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;if(!t){e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,floating:true,padding:e.padding,shadow:false,small:e.showToday===false,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}});if(!e.disableAnim){t.el.setStyle("display","none")}t.hide();e.on("beforehide",e.doHideMonthPicker,e)}return t},onOkClick:function(e,t){var n=this,r=t[0],i=t[1],s=new Date(i,r,n.getActive().getDate());if(s.getMonth()!==r){s=Ext.Date.getLastDateOfMonth(new Date(i,r,1))}n.setValue(s);n.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){e.stopEvent();if(!this.disabled){var t=e.getWheelDelta();if(t>0){this.showPrevMonth()}else if(t<0){this.showNextMonth()}}},handleDateClick:function(e,t){var n=this,r=n.handler;e.stopEvent();if(!n.disabled&&t.dateValue&&!Ext.fly(t.parentNode).hasCls(n.disabledCellCls)){n.setValue(new Date(t.dateValue));n.fireEvent("select",n,n.value);if(r){r.call(n.scope||n,n,n.value)}n.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var e=this,t=e.todayBtn,n=e.handler;if(t&&!t.disabled){e.setValue(Ext.Date.clearTime(new Date));e.fireEvent("select",e,e.value);if(n){n.call(e.scope||e,e,e.value)}e.onSelect()}return e},selectedUpdate:function(e){var t=this,n=e.getTime(),r=t.cells,i=t.selectedCls,s,o=r.getCount(),u;u=t.activeCell;if(u){Ext.fly(u).removeCls(i);u.setAttribute("aria-selected",false)}for(s=0;s<o;s++){u=r.item(s);if(t.textNodes[s].dateValue==n){t.activeCell=u.dom;t.eventEl.dom.setAttribute("aria-activedescendant",u.dom.id);u.dom.setAttribute("aria-selected",true);u.addCls(i);t.fireEvent("highlightitem",t,u);break}}},fullUpdate:function(e){var t=this,n=t.cells.elements,r=t.textNodes,i=t.disabledCellCls,s=Ext.Date,o=0,u=0,a=+s.clearTime(e,true),f=+s.clearTime(new Date),l=t.minDate?s.clearTime(t.minDate,true):Number.NEGATIVE_INFINITY,c=t.maxDate?s.clearTime(t.maxDate,true):Number.POSITIVE_INFINITY,h=t.disabledDatesRE,p=t.disabledDatesText,d=t.disabledDays?t.disabledDays.join(""):false,v=t.disabledDaysText,m=t.format,g=s.getDaysInMonth(e),y=s.getFirstDateOfMonth(e),b=y.getDay()-t.startDay,w=s.add(e,s.MONTH,-1),E=t.ariaTitleDateFormat,S,x,T,N,C,k,L,A,O;if(b<0){b+=7}g+=b;S=s.getDaysInMonth(w)-b;x=new Date(w.getFullYear(),w.getMonth(),S,t.initHour);if(t.showToday){N=s.clearTime(new Date);T=N<l||N>c||h&&m&&h.test(s.dateFormat(N,m))||d&&d.indexOf(N.getDay())!=-1;if(!t.disabled){t.todayBtn.setDisabled(T)}}C=function(e,r){var o=n[e];O=+s.clearTime(x,true);o.setAttribute("aria-label",s.format(x,E));o.firstChild.dateValue=O;if(O==f){r+=" "+t.todayCls;o.firstChild.title=t.todayText;t.todayElSpan=Ext.DomHelper.append(o.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hidden-clip",html:t.todayText},true)}if(O==a){t.activeCell=o;t.eventEl.dom.setAttribute("aria-activedescendant",o.id);o.setAttribute("aria-selected",true);r+=" "+t.selectedCls;t.fireEvent("highlightitem",t,o)}else{o.setAttribute("aria-selected",false)}if(O<l){r+=" "+i;o.setAttribute("aria-label",t.minText)}else if(O>c){r+=" "+i;o.setAttribute("aria-label",t.maxText)}else if(d&&d.indexOf(x.getDay())!==-1){o.setAttribute("aria-label",v);r+=" "+i}else if(h&&m){A=s.dateFormat(x,m);if(h.test(A)){o.setAttribute("aria-label",p.replace("%0",A));r+=" "+i}}o.className=r+" "+t.cellCls};for(;o<t.numDays;++o){if(o<b){k=++S;L=t.prevCls}else if(o>=g){k=++u;L=t.nextCls}else{k=o-b+1;L=t.activeCls}r[o].innerHTML=k;x.setDate(x.getDate()+1);C(o,L)}t.monthBtn.setText(Ext.Date.format(e,t.monthYearFormat))},update:function(e,t){var n=this,r=n.activeDate;if(n.rendered){n.activeDate=e;if(!t&&r&&n.el&&r.getMonth()==e.getMonth()&&r.getFullYear()==e.getFullYear()){n.selectedUpdate(e,r)}else{n.fullUpdate(e,r)}}return n},beforeDestroy:function(){var e=this;if(e.rendered){Ext.destroy(e.keyNav,e.monthPicker,e.monthBtn,e.nextRepeater,e.prevRepeater,e.todayBtn);delete e.textNodes;delete e.cells.elements}e.callParent()},privates:{finishRenderChildren:function(){var e=this;e.callParent();e.monthBtn.finishRender();if(e.showToday){e.todayBtn.finishRender()}},getFocusEl:function(){return this.eventEl},syncDisabled:function(e){var t=this,n=t.keyNav;if(n){n.setDisabled(e);t.prevRepeater.setDisabled(e);t.nextRepeater.setDisabled(e);if(t.todayBtn){t.todayBtn.setDisabled(e)}}}}});Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,valuePublishEvent:["select","blur"],initComponent:function(){var e=this,t=Ext.isString,n,r;n=e.minValue;r=e.maxValue;if(t(n)){e.minValue=e.parseDate(n)}if(t(r)){e.maxValue=e.parseDate(r)}e.disabledDatesRE=null;e.initDisabledDays();e.callParent()},initValue:function(){var e=this,t=e.value;if(Ext.isString(t)){e.value=e.rawToValue(t)}e.callParent()},initDisabledDays:function(){if(this.disabledDates){var e=this.disabledDates,t=e.length-1,n="(?:",r,i=e.length,s;for(r=0;r<i;r++){s=e[r];n+=Ext.isDate(s)?"^"+Ext.String.escapeRegex(s.dateFormat(this.format))+"$":s;if(r!==t){n+="|"}}this.disabledDatesRE=new RegExp(n+")")}},setDisabledDates:function(e){var t=this,n=t.picker;t.disabledDates=e;t.initDisabledDays();if(n){n.setDisabledDates(t.disabledDatesRE)}},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e;if(t){t.setDisabledDays(e)}},setMinValue:function(e){var t=this,n=t.picker,r=Ext.isString(e)?t.parseDate(e):e;t.minValue=r;if(n){n.minText=Ext.String.format(t.minText,t.formatDate(t.minValue));n.setMinDate(r)}},setMaxValue:function(e){var t=this,n=t.picker,r=Ext.isString(e)?t.parseDate(e):e;t.maxValue=r;if(n){n.maxText=Ext.String.format(t.maxText,t.formatDate(t.maxValue));n.setMaxDate(r)}},getErrors:function(e){e=arguments.length>0?e:this.formatDate(this.processRawValue(this.getRawValue()));var t=this,n=Ext.String.format,r=Ext.Date.clearTime,i=t.callParent([e]),s=t.disabledDays,o=t.disabledDatesRE,u=t.minValue,a=t.maxValue,f=s?s.length:0,l=0,c,h,p,d;if(e===null||e.length<1){return i}c=e;e=t.parseDate(e);if(!e){i.push(n(t.invalidText,c,Ext.Date.unescapeFormat(t.format)));return i}d=e.getTime();if(u&&d<r(u).getTime()){i.push(n(t.minText,t.formatDate(u)))}if(a&&d>r(a).getTime()){i.push(n(t.maxText,t.formatDate(a)))}if(s){p=e.getDay();for(;l<f;l++){if(p===s[l]){i.push(t.disabledDaysText);break}}}h=t.formatDate(e);if(o&&o.test(h)){i.push(n(t.disabledDatesText,h))}return i},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},safeParse:function(e,t){var n=this,r=Ext.Date,i=null,s=n.useStrict,o;if(r.formatContainsHourInfo(t)){i=r.parse(e,t,s)}else{o=r.parse(e+" "+n.initTime,t+" "+n.initTimeFormat,s);if(o){i=r.clearTime(o)}}return i},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):""},parseDate:function(e){if(!e||Ext.isDate(e)){return e}var t=this,n=t.safeParse(e,t.format),r=t.altFormats,i=t.altFormatsArray,s=0,o;if(!n&&r){i=i||r.split("|");o=i.length;for(;s<o&&!n;++s){n=t.safeParse(e,i[s])}}return n},formatDate:function(e){return Ext.isDate(e)?Ext.Date.dateFormat(e,this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({pickerField:e,floating:true,focusable:false,hidden:true,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),maxText:t(e.maxText,e.formatDate(e.maxValue)),listeners:{scope:e,select:e.onSelect},keyNavConfig:{esc:function(){e.collapse()}}})},onSelect:function(e,t){var n=this;n.setValue(t);n.fireEvent("select",n,t);n.collapse()},onExpand:function(){var e=this.getValue();this.picker.setValue(Ext.isDate(e)?e:new Date)},onBlur:function(e){var t=this,n=t.rawToValue(t.getRawValue());if(Ext.isDate(n)){t.setValue(n)}t.callParent([e])}});Ext.define("Ext.form.field.FileButton",{extend:"Ext.button.Button",alias:"widget.filebutton",childEls:["fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:false,tabIndex:null,autoEl:{tag:"div",unselectable:"on"},afterTpl:['<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" ','type="file" size="1" name="{inputName}" role="{role}" ','<tpl if="tabIndex != null">tabindex="{tabIndex}"</tpl>',">"],getAfterMarkup:function(e){return this.getTpl("afterTpl").apply(e)},getTemplateArgs:function(){var e=this.callParent();e.inputCls=this.inputCls;e.inputName=this.inputName;e.tabIndex=this.ownerCt.tabIndex;return e},afterRender:function(){var e=this;e.callParent(arguments);e.fileInputEl.on({scope:e,change:e.fireChange,focus:e.onFocus,blur:e.onBlur})},fireChange:function(e){this.fireEvent("change",this,e,this.fileInputEl.dom.value)},createFileInput:function(e){var t=this;t.fileInputEl=t.el.createChild({name:t.inputName,id:!e?t.id+"-fileInputEl":undefined,cls:t.inputCls,tag:"input",type:"file",size:1,role:"button"});t.fileInputEl.on({scope:t,change:t.fireChange,focus:t.onFocus,blur:t.onBlur})},reset:function(e){if(e){this.fileInputEl.destroy()}this.createFileInput(!e)},restoreInput:function(e){this.fileInputEl.destroy();e=Ext.get(e);this.el.appendChild(e);this.fileInputEl=e},onDisable:function(){this.callParent();this.fileInputEl.dom.disabled=true},onEnable:function(){this.callParent();this.fileInputEl.dom.disabled=false},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el}}});Ext.define("Ext.form.trigger.Component",{extend:"Ext.form.trigger.Trigger",alias:"trigger.component",cls:Ext.baseCSSPrefix+"form-trigger-cmp",onFieldRender:function(){var e=this,t=e.component;this.callParent();if(!t.isComponent&&!t.isWidget){t=Ext.widget(t)}e.component=t;t.render(e.el)},destroy:function(){var e=this.component;if(e.isComponent||e.isWidget){e.destroy()}}});Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Text",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],requires:["Ext.form.field.FileButton","Ext.form.trigger.Component"],needArrowKeys:false,triggers:{filebutton:{type:"component",hideOnReadOnly:false}},buttonText:"Browse...",buttonOnly:false,buttonMargin:3,clearOnSubmit:true,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",inputCls:Ext.baseCSSPrefix+"form-text-file",readOnly:true,editable:false,submitValue:false,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(e){var t=this,n=(e||{}).filebutton;if(n){n.component=Ext.apply({xtype:"filebutton",ownerCt:t,id:t.id+"-button",ui:t.ui,disabled:t.disabled,text:t.buttonText,style:t.buttonOnly?"":t.getButtonMarginProp()+t.buttonMargin+"px",inputName:t.getName(),listeners:{scope:t,change:t.onFileChange}},t.buttonConfig);return t.callParent([e])}else{Ext.Error.raise(t.$className+' requires a valid trigger config containing "filebutton" specification')}},getSubTplData:function(e){var t=this.callParent([e]);t.tabIdx=-1;return t},onRender:function(){var e=this,t,n,r,i;e.callParent(arguments);t=e.inputEl;t.dom.name="";i=e.getTrigger("filebutton");n=e.button=i.component;e.fileInputEl=n.fileInputEl;r=n.el;if(e.buttonOnly){e.inputWrap.setDisplayed(false);e.shrinkWrap=3}i.el.setWidth(r.getWidth()+r.getMargin("lr"));if(Ext.isIE){e.button.getEl().repaint()}},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"></td>'},onFileChange:function(e,t,n){this.duringFileSelect=true;Ext.form.field.File.superclass.setValue.call(this,n);delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setValue:Ext.emptyFn,reset:function(){var e=this,t=e.clearOnSubmit;if(e.rendered){e.button.reset(t);e.fileInputEl=e.button.fileInputEl;if(t){e.inputEl.dom.value="";Ext.form.field.File.superclass.setValue.call(this,null)}}e.callParent()},onShow:function(){this.callParent();this.button.updateLayout()},onDisable:function(){this.callParent();this.button.disable()},onEnable:function(){this.callParent();this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var e=this,t;if(e.rendered){t=e.button.fileInputEl.dom;e.reset()}else{t=document.createElement("input");t.type="file";t.className=Ext.baseCSSPrefix+"hidden-display";t.name=e.getName()}return t},restoreInput:function(e){if(this.rendered){var t=this.button;t.restoreInput(e);this.fileInputEl=t.fileInputEl}},onDestroy:function(){Ext.destroyMembers(this,"button");delete this.fileInputEl;this.callParent()},getButtonMarginProp:function(){return"margin-left:"},privates:{getFocusEl:function(){return this.button}}});Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",focusable:false,inputType:"hidden",isTextInput:false,hideLabel:true,hidden:true,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden";this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",focusable:true,componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var e=this;e.callParent(arguments);if(e.handler){e.on("select",e.handler,e.scope,true)}},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{itemCls:e.itemCls,colors:e.colors})},onRender:function(){var e=this,t=e.clickEvent;e.callParent(arguments);e.mon(e.el,t,e.handleClick,e,{delegate:"a"});if(t!=="click"){e.mon(e.el,"click",Ext.emptyFn,e,{delegate:"a",stopEvent:true})}},afterRender:function(){var e=this,t;e.callParent(arguments);if(e.value){t=e.value;e.value=null;e.select(t,true)}},handleClick:function(e){var t=this,n;e.stopEvent();if(!t.disabled){n=e.currentTarget.className.match(t.colorRe)[1];t.select(n.toUpperCase())}},select:function(e,t){var n=this,r=n.selectedCls,i=n.value,s;e=e.replace("#","");if(!n.rendered){n.value=e;return}if(e!=i||n.allowReselect){s=n.el;if(n.value){s.down("a.color-"+i).removeCls(r)}s.down("a.color-"+e).addCls(r);n.value=e;if(t!==true){n.fireEvent("select",n,e)}}},clear:function(){var e=this,t=e.value,n;if(t&&e.rendered){n=e.el.down("a.color-"+t);n.removeCls(e.selectedCls)}e.value=null},getValue:function(){return this.value||null}});Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.FieldContainer",alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(e){var t=this.owner,n;if(Ext.isGecko){n=t.textareaEl.dom;this.lastValue=n.value;n.value=""}this.callParent(arguments);e.toolbarContext=e.context.getCmp(t.toolbar);e.inputCmpContext=e.context.getCmp(t.inputCmp);e.bodyCellContext=e.getEl("bodyEl");e.textAreaContext=e.getEl("textareaEl");e.iframeContext=e.getEl("iframeEl")},beginLayoutCycle:function(e){var t=this,n=e.widthModel,r=e.heightModel,i=t.owner,s=i.iframeEl,o=i.textareaEl;t.callParent(arguments);if(n.shrinkWrap){s.setStyle("width","");o.setStyle("width","")}else if(n.natural){e.bodyCellContext.setWidth(t.naturalWidth)}if(r.natural||r.shrinkWrap){s.setHeight(t.naturalHeight);o.setHeight(t.naturalHeight)}},finishedLayout:function(){var e=this.owner;this.callParent(arguments);if(Ext.isGecko){e.textareaEl.dom.value=this.lastValue}}});Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.layout.container.VBox","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],focusable:true,componentLayout:"htmleditor",textareaCls:Ext.baseCSSPrefix+"htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabindex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],stretchInputElFixed:true,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http:/"+"/",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",defaultButtonUI:"default-toolbar",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,containerElCls:Ext.baseCSSPrefix+"html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,initComponent:function(){var e=this;e.items=[e.createToolbar(),e.createInputCmp()];e.layout={type:"vbox",align:"stretch"};e.callParent(arguments);e.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var e=this,t=e.id+"-inputCmp",n={id:t,name:e.name,textareaCls:e.textareaCls+" "+Ext.baseCSSPrefix+"hidden",value:e.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};e.getInsertionRenderData(n,e.subTplInsertions);return{flex:1,xtype:"component",tpl:e.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:t,cls:Ext.baseCSSPrefix+"html-editor-input",data:n}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){function u(t,n,s){return{itemId:t,cls:i+"btn-icon",iconCls:i+"edit-"+t,enableToggle:n!==false,scope:e,handler:s||e.relayBtnCmd,clickEvent:"mousedown",tooltip:r?e.buttonTips[t]||o:o,overflowText:e.buttonTips[t].title||o,tabIndex:-1}}var e=this,t=[],n,r=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),i=Ext.baseCSSPrefix,s,o;if(e.enableFont&&!Ext.isSafari2){s=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+i+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){e.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;if(e){e.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;if(e){e.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){e.win.focus();e.relayCmd("fontName",e.fontSelect.dom.value);e.deferFocus()},element:"selectEl"}});t.push(s,"-")}if(e.enableFormat){t.push(u("bold"),u("italic"),u("underline"))}if(e.enableFontSize){t.push("-",u("increasefontsize",false,e.adjustFont),u("decreasefontsize",false,e.adjustFont))}if(e.enableColors){t.push("-",{itemId:"forecolor",cls:i+"btn-icon",iconCls:i+"edit-forecolor",overflowText:e.buttonTips.forecolor.title,tooltip:r?e.buttonTips.forecolor||o:o,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(t,n){e.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+n:n);this.up("menu").hide()}}]})},{itemId:"backcolor",cls:i+"btn-icon",iconCls:i+"edit-backcolor",overflowText:e.buttonTips.backcolor.title,tooltip:r?e.buttonTips.backcolor||o:o,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(t,n){if(Ext.isGecko){e.execCmd("useCSS",false);e.execCmd("hilitecolor","#"+n);e.execCmd("useCSS",true);e.deferFocus()}else{e.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+n:n)}this.up("menu").hide()}}]})})}if(e.enableAlignments){t.push("-",u("justifyleft"),u("justifycenter"),u("justifyright"))}if(!Ext.isSafari2){if(e.enableLinks){t.push("-",u("createlink",false,e.createLink))}if(e.enableLists){t.push("-",u("insertorderedlist"),u("insertunorderedlist"))}if(e.enableSourceEdit){t.push("-",u("sourceedit",true,function(){e.toggleSourceEdit(!e.sourceEditMode)}))}}for(n=0;n<t.length;n++){if(t[n].itemId!=="sourceedit"){t[n].disabled=true}}return{xtype:"toolbar",defaultButtonUI:e.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:true,items:t,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var t=this,n=t.textareaEl,r=t.iframeEl,i;t.readOnly=e;if(n){n.dom.readOnly=e}if(t.initialized){i=t.getEditorBody();if(Ext.isIE){r.setDisplayed(false);i.contentEditable=!e;r.setDisplayed(true)}else{t.setDesignMode(!e)}if(i){i.style.cursor=e?"default":"text"}t.disableItems(e)}},getDocMarkup:function(){var e=this,t=e.iframeEl.getHeight()-e.iframePad*2;return Ext.String.format("<!DOCTYPE html>"+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(e.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",e.iframePad,t,e.defaultFont)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var e=this,t=0,n,r,i,s,o,u,a;if(!e.defaultFont){r=e.textareaEl.getStyle("font-family");r=Ext.String.capitalize(r.split(",")[0]);n=Ext.Array.clone(e.fontFamilies);Ext.Array.include(n,r);n.sort();e.defaultFont=r;i=e.down("#fontSelect").selectEl.dom;for(o=0,u=n.length;o<u;++o){r=n[o];a=r.toLowerCase();s=new Option(r,a);if(r===e.defaultFont){t=o}s.style.fontFamily=a;if(Ext.isIE){i.add(s)}else{i.options.add(s)}}i.options[t].selected=true}},isEqual:function(e,t){return this.isEqualAsString(e,t)},afterRender:function(){var e=this,t=e.inputCmp;e.callParent(arguments);e.iframeEl=t.iframeEl;e.textareaEl=t.textareaEl;e.inputEl=e.iframeEl;if(e.enableFont){e.initDefaultFont()}e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100})},initFrameDoc:function(){var e=this,t,n;Ext.TaskManager.stop(e.monitorTask);t=e.getDoc();e.win=e.getWin();t.open();t.write(e.getDocMarkup());t.close();n={run:function(){var t=e.getDoc();if(t.body||t.readyState==="complete"){Ext.TaskManager.stop(n);e.setDesignMode(true);Ext.defer(e.initEditor,10,e)}},interval:10,duration:1e4,scope:e};Ext.TaskManager.start(n)},checkDesignMode:function(){var e=this,t=e.getDoc();if(t&&(!t.editorInitialized||e.getDesignMode()!=="on")){e.initFrameDoc()}},setDesignMode:function(e){var t=this,n=t.getDoc();if(n){if(t.readOnly){e=false}n.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off"}},getDesignMode:function(){var e=this.getDoc();return!e?"":String(e.designMode).toLowerCase()},disableItems:function(e){var t=this.getToolbar().items.items,n,r=t.length,i;for(n=0;n<r;n++){i=t[n];if(i.getItemId()!=="sourceedit"){i.setDisabled(e)}}},toggleSourceEdit:function(e){var t=this,n=t.iframeEl,r=t.textareaEl,i=Ext.baseCSSPrefix+"hidden",s=t.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(e)){e=!t.sourceEditMode}t.sourceEditMode=e;if(s.pressed!==e){s.toggle(e)}if(e){t.disableItems(true);t.syncValue();n.addCls(i);r.removeCls(i);r.dom.removeAttribute("tabindex");r.focus();t.inputEl=r}else{if(t.initialized){t.disableItems(t.readOnly)}t.pushValue();n.removeCls(i);r.addCls(i);r.dom.setAttribute("tabindex",-1);t.deferFocus();t.inputEl=n}t.fireEvent("editmodechange",t,e);t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);if(e&&e!=="http:/"+"/"){this.relayCmd("createlink",e)}},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this,n=t.textareaEl,r=t.inputCmp;if(e===null||e===undefined){e=""}if(n){n.dom.value=e}t.pushValue();if(!t.rendered&&t.inputCmp){t.inputCmp.data.value=e}t.mixins.field.setValue.call(t,e);return t},cleanHtml:function(e){e=String(e);if(Ext.isWebKit){e=e.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")}if(e.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)){e=e.substring(1)}return e},syncValue:function(){var e=this,t,n,r,i,s,o;if(e.initialized){t=e.getEditorBody();r=t.innerHTML;o=e.textareaEl.dom;if(Ext.isWebKit){i=t.getAttribute("style");s=i.match(/text-align:(.*?);/i);if(s&&s[1]){r='<div style="'+s[0]+'">'+r+"</div>"}}r=e.cleanHtml(r);if(e.fireEvent("beforesync",e,r)!==false){if(Ext.isGecko&&o.value===""&&r==="<br>"){r=""}if(o.value!==r){o.value=r;n=true}e.fireEvent("sync",e,r);if(n){e.checkChange()}}}},getValue:function(){var e=this,t;if(!e.sourceEditMode){e.syncValue()}t=e.rendered?e.textareaEl.dom.value:e.value;e.value=t;return t},pushValue:function(){var e=this,t;if(e.initialized){t=e.textareaEl.dom.value||"";if(!e.activated&&t.length<1){t=e.defaultValue}if(e.fireEvent("beforepush",e,t)!==false){e.getEditorBody().innerHTML=t;if(Ext.isGecko){e.setDesignMode(false);e.setDesignMode(true)}e.fireEvent("push",e,t)}}},focus:function(e,t){var n=this,r,i;if(t){if(!n.focusTask){n.focusTask=new Ext.util.DelayedTask(n.focus)}n.focusTask.delay(Ext.isNumber(t)?t:10,null,n,[e,false])}else{if(e){if(n.textareaEl&&n.textareaEl.dom){r=n.textareaEl.dom.value}if(r&&r.length){n.execCmd("selectall",true)}}i=n.getFocusEl();if(i&&i.focus){i.focus()}}return n},initEditor:function(){var e=this,t,n,r,i,s;if(e.destroying||e.isDestroyed){return}t=e.getEditorBody();n=e.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]);n["background-attachment"]="fixed";t.bgProperties="fixed";Ext.DomHelper.applyStyles(t,n);r=e.getDoc();i=Ext.get(r);if(i){try{i.clearListeners()}catch(o){}s=e.onEditorEvent.bind(e);i.on({mousedown:s,dblclick:s,click:s,keyup:s,delegated:false,buffer:100});s=e.onRelayedEvent;i.on({mousedown:s,mousemove:s,mouseup:s,click:s,dblclick:s,delegated:false,scope:e});if(Ext.isGecko){i.on("keypress",e.applyCommand,e)}if(e.fixKeys){i.on("keydown",e.fixKeys,e)}if(e.fixKeysAfter){i.on("keyup",e.fixKeysAfter,e)}if(Ext.isIE9){Ext.get(r.documentElement).on("focus",e.focus,e)}if(Ext.isIE8){i.on("focusout",function(){e.savedSelection=r.selection.type!=="None"?r.selection.createRange():null},e);i.on("focusin",function(){if(e.savedSelection){e.savedSelection.select()}},e)}Ext.getWin().on("beforeunload",e.beforeDestroy,e);r.editorInitialized=true;e.initialized=true;e.pushValue();e.setReadOnly(e.readOnly);e.fireEvent("initialize",e)}},beforeDestroy:function(){var e=this,t=e.monitorTask,n,r;if(t){Ext.TaskManager.stop(t)}if(e.rendered){Ext.getWin().un(e.beforeDestroy,e);n=e.getDoc();if(n){Ext.get(n).clearListeners();if(n.hasOwnProperty){for(r in n){try{if(n.hasOwnProperty(r)){delete n[r]}}catch(i){}}}}delete e.iframeEl;delete e.textareaEl;delete e.toolbar;delete e.inputCmp}e.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,n=Ext.fly(t).getTrueXY(),r=e.getXY(),i=e.getXY();e.xy=[n[0]+i[0],n[1]+i[1]];e.injectEvent(t);e.xy=r},onFirstFocus:function(){var e=this,t,n;e.activated=true;e.disableItems(e.readOnly);if(Ext.isGecko){e.win.focus();t=e.win.getSelection();if(t.focusNode&&!e.getValue().length){n=t.getRangeAt(0);n.selectNodeContents(e.getEditorBody());n.collapse(true);e.deferFocus()}try{e.execCmd("useCSS",true);e.execCmd("styleWithCSS",false)}catch(r){}}e.fireEvent("activate",e)},adjustFont:function(e){var t=e.getItemId()==="increasefontsize"?1:-1,n=this.getDoc().queryCommandValue("FontSize")||"2",r=Ext.isString(n)&&n.indexOf("px")!==-1,i;n=parseInt(n,10);if(r){if(n<=10){n=1+t}else if(n<=13){n=2+t}else if(n<=16){n=3+t}else if(n<=18){n=4+t}else if(n<=24){n=5+t}else{n=6+t}n=Ext.Number.constrain(n,1,6)}else{i=Ext.isSafari;if(i){t*=2}n=Math.max(1,n+t)+(i?"px":0)}this.relayCmd("FontSize",n)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function f(){var e;for(t=0,n=arguments.length,s;t<n;t++){s=arguments[t];try{e=i.queryCommandState(s)}catch(o){e=false}r[s].toggle(e)}}var e=this,t,n,r,i,s,o,u,a;if(e.readOnly){return}if(!e.activated){e.onFirstFocus();return}r=e.getToolbar().items.map;i=e.getDoc();if(e.enableFont&&!Ext.isSafari2){o=i.queryCommandValue("fontName");s=(o?o.split(",")[0].replace(e.reStripQuotes,""):e.defaultFont).toLowerCase();u=e.fontSelect.dom;if(s!==u.value||s!==o){u.value=s}}if(e.enableFormat){f("bold","italic","underline")}if(e.enableAlignments){f("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&e.enableLists){f("insertorderedlist","insertunorderedlist")}a=e.toolbar.query("menu");for(t=0;t<a.length;t++){a[t].hide()}e.syncValue()},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){var n=this;if(!this.isDestroyed){n.win.focus();n.execCmd(e,t);n.updateToolbar()}},10,this)},execCmd:function(e,t){var n=this,r=n.getDoc();r.execCommand(e,false,t===undefined?null:t);n.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t=this,n=e.getCharCode(),r;if(n>0){n=String.fromCharCode(n);switch(n){case"b":r="bold";break;case"i":r="italic";break;case"u":r="underline";break}if(r){t.win.focus();t.execCmd(r);t.deferFocus();e.preventDefault()}}}},insertAtCursor:function(e){var t=this,n;if(t.activated){t.win.focus();if(Ext.isIE){n=t.getDoc().selection.createRange();if(n){n.pasteHTML(e);t.syncValue();t.deferFocus()}}else{t.execCmd("InsertHTML",e);t.deferFocus()}}},fixKeys:function(){var e;if(Ext.isIE){return function(t){var n=this,r=t.getKey(),i=n.getDoc(),s=n.readOnly,o,u;if(r===t.TAB){t.stopEvent();if(!s){o=i.selection.createRange();if(o){if(o.collapse){o.collapse(true);o.pasteHTML("&#160;&#160;&#160;&#160;")}n.deferFocus()}}}else if(r===t.ENTER){if(!s){if(Ext.isIE10m){o=i.selection.createRange();if(o){u=o.parentElement();if(!u||u.tagName.toLowerCase()!=="li"){t.stopEvent();o.pasteHTML("<br />");o.collapse(false);o.select()}}}else{o=i.getSelection().getRangeAt(0);if(o&&o.commonAncestorContainer.parentNode.tagName.toLowerCase()!=="li"){t.stopEvent();e=i.createElement("div");o.insertNode(e)}}}}}}if(Ext.isOpera){return function(e){var t=this,n=e.getKey(),r=t.readOnly;if(n===e.TAB){e.stopEvent();if(!r){t.win.focus();t.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");t.deferFocus()}}}}return null}(),fixKeysAfter:function(){if(Ext.isIE){return function(e){var t=this,n=e.getKey(),r=t.getDoc(),i=t.readOnly,s;if(!i&&(n===e.BACKSPACE||n===e.DELETE)){s=r.body.innerHTML;if(s==="<p>&nbsp;</p>"||s==="<P>&nbsp;</P>"){r.body.innerHTML=""}}}}return null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}},privates:{deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var e=this,t=e.win;return t&&!e.sourceEditMode?t:e.textareaEl}}});Ext.define("Ext.form.field.Tag",{extend:"Ext.form.field.ComboBox",requires:["Ext.selection.Model","Ext.data.Store"],xtype:"tagfield",multiSelect:true,forceSelection:true,createNewOnEnter:false,createNewOnBlur:false,encodeSubmitValue:false,triggerOnClick:true,stacked:false,pinList:true,filterPickList:false,selectOnFocus:true,grow:true,growMin:false,growMax:false,fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper" class="'+Ext.baseCSSPrefix+'tagfield {fieldCls} {typeCls} {typeCls}-{ui}">','<ul id="{cmpId}-itemList" data-ref="itemList" class="'+Ext.baseCSSPrefix+'tagfield-list">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" class="'+Ext.baseCSSPrefix+'tagfield-input">','<div id="{cmpId}-emptyEl" data-ref="emptyEl" class="{emptyCls}">{emptyText}</div>','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx != null">tabindex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','class="'+Ext.baseCSSPrefix+'tagfield-input-field {inputElCls}" autocomplete="off">',"</li>","</ul>","</div>",{disableFormats:true}],childEls:["listWrapper","itemList","inputEl","inputElCt","emptyEl"],emptyInputCls:Ext.baseCSSPrefix+"tagfield-emptyinput",initComponent:function(){var e=this,t=e.typeAhead,n=e.delimiter;if(t&&!e.editable){Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings.")}e.typeAhead=false;e.listConfig=Ext.apply({refreshSelmodelOnRefresh:false},e.listConfig);e.selectionModel=new Ext.selection.Model({mode:"MULTI",lastFocused:null,onSelectChange:function(e,t,n,r){r()}});e.callParent();e.typeAhead=t;if(n&&e.multiSelect){e.delimiterRegexp=new RegExp(Ext.String.escapeRegex(n))}},initEvents:function(){var e=this;e.callParent(arguments);if(!e.enableKeyEvents){e.inputEl.on("keydown",e.onKeyDown,e)}e.inputEl.on("paste",e.onPaste,e);e.listWrapper.on("click",e.onItemListClick,e);e.selectionModel.on({scope:e,selectionchange:e.onSelectionChange,focuschange:e.onFocusChange})},onBindStore:function(e){var t=this,n=t.selectedFilter,r;if(e){t.valueStore=r=new Ext.data.Store({model:e.getModel()});r.on("datachanged",t.onValueStoreChange,t);t.selectionModel.bindStore(r);if(t.filterPickList){if(!n){t.selectedFilter=n=new Ext.util.Filter({filterFn:function(e){return!t.valueStore.contains(e)}})}e.addFilter(n)}}},onUnbindStore:function(e){var t=this,n=t.valueStore;if(n){n.destroy();t.valueStore=null}if(t.filterPickList){e.removeFilter(t.selectedFilter)}t.callParent(arguments)},onValueStoreChange:function(){var e=this,t=e.store.getFilters();if(e.filterPickList){t.add(e.selectedFilter)}e.applyMultiselectItemMarkup()},onSelectionChange:function(e,t){this.applyMultiselectItemMarkup();this.fireEvent("valueselectionchange",this,t)},onFocusChange:function(e,t,n){this.fireEvent("valuefocuschange",this,t,n)},createPicker:function(){var e=this,t=e.callParent(arguments);e.mon(t,"beforerefresh",e.onBeforeListRefresh,e);return t},onDestroy:function(){this.selectionModel=Ext.destroy(this.selectionModel);this.callParent(arguments)},getSubTplData:function(e){var t=this,n=t.callParent(arguments),r=t.emptyText,i=t.emptyInputCls,s=r&&n.value.length<1;n.value="";n.emptyText=s?r:"";n.emptyCls=s?t.emptyCls:i;n.inputElCls=s?i:"";return n},afterRender:function(){var e=this,t=e.listWrapper,n=e.itemList,r=e.growMin,i=e.growMax;if(Ext.supports.Placeholder&&e.inputEl&&e.emptyText){delete e.inputEl.dom.placeholder}e.bodyEl.applyStyles("vertical-align:top");if(e.grow){if(Ext.isNumber(r)&&r>0){t.applyStyles("min-height:"+r+"px")}if(Ext.isNumber(i)&&i>0){t.applyStyles("max-height:"+i+"px")}}if(e.stacked===true){n.addCls(Ext.baseCSSPrefix+"tagfield-stacked")}if(!e.multiSelect){n.addCls(Ext.baseCSSPrefix+"tagfield-singleselect")}e.applyMultiselectItemMarkup();e.callParent(arguments)},findRecord:function(e,t){var n=this.store,r;if(n){r=n.queryBy(function(n){return n.isEqual(n.get(e),t)})}return r||false},onLoad:function(){var e=this,t=e.valueField,n=e.valueStore,r=false;if(n){if(!Ext.isEmpty(e.value)&&n.getCount()===0){e.setValue(e.value,false,true)}n.suspendEvents();n.each(function(i){var s=e.findRecord(t,i.get(t)),o=s?n.indexOf(i):-1;if(o>=0){n.removeAt(o);n.insert(o,s);r=true}});n.resumeEvents();if(r){e.onValueStoreChange()}}e.callParent(arguments)},isFilteredRecord:function(e){var t=this,n=t.store,r=t.valueField,i=false,s;s=n.findExact(r,e.get(r));i=s===-1&&(!n.snapshot||t.findRecord(r,e.get(r))!==false);i=i||!i&&s===-1&&t.forceSelection!==true&&t.valueStore.findExact(r,e.get(r))>=0;return i},doRawQuery:function(){var e=this,t=e.inputEl.dom.value;if(e.multiSelect){t=t.split(e.delimiter).pop()}e.doQuery(t,false,true)},onBeforeListRefresh:function(){this.ignoreSelection++},onListRefresh:function(){this.callParent(arguments);if(this.ignoreSelection>0){--this.ignoreSelection}},onListSelectionChange:function(e,t){var n=this,r=n.valueStore,i=[],s;if(n.ignoreSelection<=0&&n.isExpanded){r.each(function(e){if(Ext.Array.contains(t,e)||n.isFilteredRecord(e)){i.push(e)}});i=Ext.Array.merge(i,t);s=Ext.Array.intersect(i,r.getRange()).length;if(s!=i.length||s!=n.valueStore.getCount()){n.setValue(i,false);if(!n.multiSelect||!n.pinList){Ext.defer(n.collapse,1,n)}if(r.getCount()>0){n.fireEvent("select",n,r.getRange())}}if(!n.pinList){n.inputEl.dom.value=""}if(!Ext.supports.TouchEvents){n.inputEl.focus();if(n.selectOnFocus){n.inputEl.dom.select()}}}},syncSelection:function(){var e=this,t=e.picker,n=e.valueField,r,i,s;if(t){r=t.store;i=[];if(e.valueStore){e.valueStore.each(function(e){var t=r.findExact(n,e.get(n));if(t>=0){i.push(r.getAt(t))}})}e.ignoreSelection++;s=t.getSelectionModel();s.deselectAll();if(i.length>0){s.select(i)}if(e.ignoreSelection>0){--e.ignoreSelection}}},getCursorPosition:function(){var e;if(document.selection){e=document.selection.createRange();e.collapse(true);e.moveStart("character",-this.inputEl.dom.value.length);e=e.text.length}else{e=this.inputEl.dom.selectionStart}return e},hasSelectedText:function(){var e=this.inputEl.dom,t,n;if(document.selection){t=document.selection;n=t.createRange();return n.parentElement()===e}else{return e.selectionStart!==e.selectionEnd}},onKeyDown:function(e){var t=this,n=e.getKey(),r=t.inputEl,i=r.dom.value,s=t.valueStore,o=t.selectionModel,u=false,a;if(t.readOnly||t.disabled||!t.editable){return}if(t.isExpanded&&n===e.A&&e.ctrlKey){t.select(t.getStore().getRange());o.setLastFocused(null);o.deselectAll();t.collapse();r.focus();u=true}else if(s.getCount()>0&&(i===""||t.getCursorPosition()===0&&!t.hasSelectedText())){a=o.getCount()>0?s.indexOf(o.getLastSelected()||o.getLastFocused()):-1;if(n===e.BACKSPACE||n===e.DELETE){if(a>-1){if(o.getCount()>1){a=-1}s.remove(o.getSelection())}else{s.remove(s.last())}o.clearSelections();t.setValue(s.getRange());if(a>0){o.select(a-1)}u=true}else if(n===e.RIGHT||n===e.LEFT){if(a===-1&&n===e.LEFT){o.select(s.last());u=true}else if(a>-1){if(n===e.RIGHT){if(a<s.getCount()-1){o.select(a+1,e.shiftKey);u=true}else if(!e.shiftKey){o.setLastFocused(null);o.deselectAll();u=true}}else if(n===e.LEFT&&a>0){o.select(a-1,e.shiftKey);u=true}}}else if(n===e.A&&e.ctrlKey){o.selectAll();u=e.A}r.focus()}if(u){t.preventKeyUpEvent=u;e.stopEvent();return}if(t.isExpanded&&n===e.ENTER&&t.picker.highlightedItem){t.preventKeyUpEvent=true}if(t.enableKeyEvents){t.callParent(arguments)}if(!e.isSpecialKey()&&!e.hasModifier()){o.setLastFocused(null);o.deselectAll();r.focus()}},onKeyUp:function(e,t){var n=this,r=n.inputEl,i=r.dom.value,s=n.preventKeyUpEvent;if(n.preventKeyUpEvent){e.stopEvent();if(s===true||e.getKey()===s){delete n.preventKeyUpEvent}return}if(n.multiSelect&&n.delimiterRegexp&&n.delimiterRegexp.test(i)||n.createNewOnEnter===true&&e.getKey()===e.ENTER){i=Ext.Array.clean(i.split(n.delimiterRegexp));r.dom.value="";n.setValue(n.valueStore.getRange().concat(i));r.focus()}n.callParent([e,t])},onPaste:function(e){var t=this,n=t.inputEl,r=n.dom.value,i=e&&e.browserEvent&&e.browserEvent.clipboardData?e.browserEvent.clipboardData:false;if(t.multiSelect&&t.delimiterRegexp&&t.delimiterRegexp.test(r)){if(i&&i.getData){if(/text\/plain/.test(i.types)){r=i.getData("text/plain")}else if(/text\/html/.test(i.types)){r=i.getData("text/html")}}r=Ext.Array.clean(r.split(t.delimiterRegexp));n.dom.value="";t.setValue(t.valueStore.getRange().concat(r));n.focus()}},onTypeAhead:function(){var e=this,t=e.displayField,n=e.inputEl.dom,r=e.getPicker(),i=e.store.findRecord(t,n.value),s,o,u;if(i){s=i.get(t);o=s.length;u=n.value.length;r.highlightItem(r.getNode(i));if(u!==0&&u!==o){n.value=s;e.selectText(u,s.length)}}},onItemListClick:function(e){var t=this,n=t.selectionModel,r=e.getTarget("."+Ext.baseCSSPrefix+"tagfield-item"),i=r?e.getTarget("."+Ext.baseCSSPrefix+"tagfield-item-close"):false;if(t.readOnly||t.disabled){return}e.stopPropagation();if(r){if(i){t.removeByListItemNode(r);if(t.valueStore.getCount()>0){t.fireEvent("select",t,t.valueStore.getRange())}}else{t.toggleSelectionByListItemNode(r,e.shiftKey)}if(!Ext.supports.TouchEvents){t.inputEl.focus()}}else{if(n.getCount()>0){n.setLastFocused(null);n.deselectAll()}if(t.triggerOnClick){t.onTriggerClick()}}},getMultiSelectItemMarkup:function(){var e=this;if(!e.multiSelectItemTpl){if(!e.labelTpl){e.labelTpl="{"+e.displayField+"}"}e.labelTpl=e.getTpl("labelTpl");e.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li class="    '+Ext.baseCSSPrefix+"tagfield-item ",'<tpl if="this.isSelected(values)">'," selected","</tpl>","{%","values = values.data;","%}",'" qtip="{'+e.displayField+'}">','<div class="'+Ext.baseCSSPrefix+'tagfield-item-text">{[this.getItemLabel(values)]}</div>','<div class="'+Ext.baseCSSPrefix+'tagfield-item-close"></div>',"</li>","</tpl>",{isSelected:function(t){return e.selectionModel.isSelected(t)},getItemLabel:function(t){return e.labelTpl.apply(t)}}])}if(!e.multiSelectItemTpl.isTemplate){e.multiSelectItemTpl=this.getTpl("multiSelectItemTpl")}return e.multiSelectItemTpl.apply(this.valueStore.getRange())},applyMultiselectItemMarkup:function(){var e=this,t=e.itemList,n;if(t){while(n=e.inputElCt.prev()){n.destroy()}e.inputElCt.insertHtml("beforeBegin",e.getMultiSelectItemMarkup())}Ext.GlobalEvents.on({idle:function(){if(e.picker&&e.isExpanded){e.alignPicker()}if(e.hasFocus&&e.inputElCt&&e.listWrapper){e.inputElCt.scrollIntoView(e.listWrapper)}},single:true})},getRecordByListItemNode:function(e){var t=this,n=0,r=t.itemList.dom.firstChild;while(r&&r.nextSibling){if(r==e){break}n++;r=r.nextSibling}n=r==e?n:false;if(n===false){return false}return t.valueStore.getAt(n)},toggleSelectionByListItemNode:function(e,t){var n=this,r=n.getRecordByListItemNode(e),i=n.selectionModel;if(r){if(i.isSelected(r)){if(i.isFocused(r)){i.setLastFocused(null)}i.deselect(r)}else{i.select(r,t)}}},removeByListItemNode:function(e){var t=this,n=t.getRecordByListItemNode(e);if(n){t.valueStore.remove(n);t.setValue(t.valueStore.getRange())}},getRawValue:function(){var e=this,t=e.inputEl,n;e.inputEl=false;n=e.callParent(arguments);e.inputEl=t;return n},setRawValue:function(e){var t=this,n=t.inputEl,r;t.inputEl=false;r=t.callParent([e]);t.inputEl=n;return r},addValue:function(e){var t=this;if(e){t.setValue(Ext.Array.merge(t.value,Ext.Array.from(e)))}},removeValue:function(e){var t=this;if(e){t.setValue(Ext.Array.difference(t.value,Ext.Array.from(e)))}},setValue:function(e,t,n){var r=this,i=r.valueStore,s=r.valueField,o=[],u,a,f,l,c;if(Ext.isEmpty(e)){e=null}if(Ext.isString(e)&&r.multiSelect){e=e.split(r.delimiter)}e=Ext.Array.from(e,true);for(f=0,a=e.length;f<a;f++){u=e[f];if(!u||!u.isModel){l=i.findExact(s,u);if(l>=0){e[f]=i.getAt(l)}else{l=r.findRecord(s,u);if(!l){if(r.forceSelection){o.push(u)}else{l={};l[r.valueField]=u;l[r.displayField]=u;c=r.valueStore.getModel();l=new c(l)}}if(l){e[f]=l}}}}if(n!==true&&o.length>0&&r.queryMode==="remote"){var h={};h[r.valueParam||r.valueField]=o.join(r.delimiter);r.store.load({params:h,callback:function(){if(r.itemList){r.itemList.unmask()}r.setValue(e,t,true);r.autoSize();r.lastQuery=false}});return false}if(!r.multiSelect&&e.length>0){for(f=e.length-1;f>=0;f--){if(e[f].isModel){e=e[f];break}}if(Ext.isArray(e)){e=e[e.length-1]}}return r.callParent([e,t])},getValueRecords:function(){return this.valueStore.getRange()},getSubmitData:function(){var e=this,t=e.callParent(arguments);if(e.multiSelect&&e.encodeSubmitValue&&t&&t[e.name]){t[e.name]=Ext.encode(t[e.name])}return t},mimicBlur:function(){var e=this;if(e.selectOnTab&&e.picker&&e.picker.highlightedItem){e.inputEl.dom.value=""}e.callParent(arguments)},assertValue:function(){var e=this,t=e.inputEl.dom.value,n=!Ext.isEmpty(t)?e.findRecordByDisplay(t):false,r=false;if(!n&&!e.forceSelection&&e.createNewOnBlur&&!Ext.isEmpty(t)){r=t}else if(n){r=n}if(r){e.addValue(r)}e.inputEl.dom.value="";e.collapse()},checkChange:function(){if(!this.suspendCheckChange&&!this.isDestroyed){var e=this,t=e.valueStore,n=e.lastValue||"",r=e.valueField,i=Ext.Array.map(Ext.Array.from(e.value),function(e){if(e.isModel){return e.get(r)}return e},this).join(this.delimiter),s=e.isEqual(i,n);if(!s||i.length>0&&t.getCount()<e.value.length){t.suspendEvents();t.removeAll();if(Ext.isArray(e.valueModels)){t.add(e.valueModels)}t.resumeEvents();t.fireEvent("datachanged",t);if(!s){e.lastValue=i;e.fireEvent("change",e,i,n);e.onChange(i,n)}}}},isEqual:function(e,t){var n=Ext.Array.from,r=this.valueField,i,s,o,u;e=n(e);t=n(t);s=e.length;if(s!==t.length){return false}for(i=0;i<s;i++){o=e[i].isModel?e[i].get(r):e[i];u=t[i].isModel?t[i].get(r):t[i];if(o!==u){return false}}return true},applyEmptyText:function(){var e=this,t=e.emptyText,n=e.emptyEl,r=e.inputEl,i=e.listWrapper,s=e.emptyCls,o=e.emptyInputCls,u;if(e.rendered&&t){u=Ext.isEmpty(e.value)&&!e.hasFocus;if(u){r.dom.value="";n.setHtml(t);n.addCls(s);n.removeCls(o);i.addCls(s);r.addCls(o)}else{n.addCls(o);n.removeCls(s);i.removeCls(s);r.removeCls(o)}e.autoSize()}},preFocus:function(){var e=this,t=e.inputEl,n=t.dom.value==="";e.emptyEl.addCls(e.emptyInputCls);e.emptyEl.removeCls(e.emptyCls);e.listWrapper.removeCls(e.emptyCls);e.inputEl.removeCls(e.emptyInputCls);if(e.selectOnFocus||n){t.dom.select()}},onFocus:function(){var e=this,t=e.focusCls,n=e.itemList;if(t&&n){n.addCls(t)}e.callParent(arguments)},onBlur:function(){var e=this,t=e.focusCls,n=e.itemList;if(t&&n){n.removeCls(t)}e.callParent(arguments)},renderActiveError:function(){var e=this,t=e.invalidCls,n=e.itemList,r=e.hasActiveError();if(t&&n){n[r?"addCls":"removeCls"](e.invalidCls+"-field")}e.callParent(arguments)},autoSize:function(){var e=this;if(e.grow&&e.rendered){e.autoSizing=true;e.updateLayout()}return e},afterComponentLayout:function(){var e=this,t;if(e.autoSizing){t=e.getHeight();if(t!==e.lastInputHeight){if(e.isExpanded){e.alignPicker()}e.fireEvent("autosize",e,t);e.lastInputHeight=t;e.autoSizing=false}}}});Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:false,initComponent:function(){var e=this,t=Ext.Date,n=t.clearTime,r=e.initDate;e.absMin=n(new Date(r[0],r[1],r[2]));e.absMax=t.add(n(new Date(r[0],r[1],r[2])),"mi",24*60-1);e.store=e.createStore();e.updateList();e.callParent()},setMinValue:function(e){this.minValue=e;this.updateList()},setMaxValue:function(e){this.maxValue=e;this.updateList()},normalizeDate:function(e){var t=this.initDate;e.setFullYear(t[0],t[1],t[2]);return e},updateList:function(){var e=this,t=e.normalizeDate(e.minValue||e.absMin),n=e.normalizeDate(e.maxValue||e.absMax),r=e.getStore().getFilters(),i=e.rangeFilter;r.beginUpdate();if(i){r.remove(i)}i=e.rangeFilter=new Ext.util.Filter({filterFn:function(e){var r=e.get("date");return r>=t&&r<=n}});r.add(i);r.endUpdate()},createStore:function(){var e=this,t=Ext.Date,n=[],r=e.absMin,i=e.absMax;while(r<=i){n.push({disp:t.dateFormat(r,e.format),date:r});r=t.add(r,"mi",e.increment)}return new Ext.data.Store({model:e.modelType,autoDestroy:true,data:n})}},function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})});Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,snapToIncrement:false,valuePublishEvent:["select","blur"],initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this,t=e.minValue,n=e.maxValue;if(t){e.setMinValue(t)}if(n){e.setMaxValue(n)}e.store=e.getPicker().store;e.displayTpl=new Ext.XTemplate('<tpl for=".">'+'{[typeof values === "string" ? values : this.formatDate(values["'+e.displayField+'"])]}'+'<tpl if="xindex < xcount">'+e.delimiter+"</tpl>"+"</tpl>",{formatDate:e.formatDate.bind(e)});e.callParent()},isEqual:function(e,t){var n=Ext.Array.from,r=Ext.Date.isEqual,i,s;e=n(e);t=n(t);s=e.length;if(s!==t.length){return false}for(i=0;i<s;i++){if(!r(t[i],e[i])){return false}}return true},setMinValue:function(e){var t=this,n=t.picker;t.setLimit(e,true);if(n){n.setMinValue(t.minValue)}},setMaxValue:function(e){var t=this,n=t.picker;t.setLimit(e,false);if(n){n.setMaxValue(t.maxValue)}},setLimit:function(e,t){var n=this,r,i;if(Ext.isString(e)){r=n.parseDate(e)}else if(Ext.isDate(e)){r=e}if(r){i=n.getInitDate();i.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}else{i=null}n[t?"minValue":"maxValue"]=i},getInitDate:function(e,t,n){var r=this.initDateParts;return new Date(r[0],r[1],r[2],e||0,t||0,n||0,0)},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){e=arguments.length>0?e:this.getRawValue();var t=this,n=Ext.String.format,r=t.callParent([e]),i=t.minValue,s=t.maxValue,o=t.displayTplData,u=t.getRawValue(),a,f,l,c;if(o&&o.length>0){for(a=0,f=o.length;a<f;a++){c=o[a];c=c.date||c.disp;l=t.parseDate(c);if(!l){r.push(n(t.invalidText,c,Ext.Date.unescapeFormat(t.format)));continue}if(i&&l<i){r.push(n(t.minText,t.formatDate(i)))}if(s&&l>s){r.push(n(t.maxText,t.formatDate(s)))}}}else if(u.length&&!t.parseDate(u)){r.push(n(t.invalidText,u,Ext.Date.unescapeFormat(t.format)))}return r},formatDate:function(e){var t=[],n,r;e=Ext.Array.from(e);for(n=0,r=e.length;n<r;n++){t.push(Ext.form.field.Date.prototype.formatDate.call(this,e[n]))}return t.join(this.delimiter)},parseDate:function(e){var t=this,n=e,r=t.altFormats,i=t.altFormatsArray,s=0,o;if(e&&!Ext.isDate(e)){n=t.safeParse(e,t.format);if(!n&&r){i=i||r.split("|");o=i.length;for(;s<o&&!n;++s){n=t.safeParse(e,i[s])}}}if(n&&t.snapToIncrement){n=new Date(Ext.Number.snap(n.getTime(),t.increment*60*1e3))}return n},safeParse:function(e,t){var n=this,r=Ext.Date,i,s=null;if(r.formatContainsDateInfo(t)){s=r.parse(e,t)}else{i=r.parse(n.initDate+" "+e,n.initDateFormat+" "+t);if(i){s=i}}return s},getSubmitValue:function(){var e=this,t=e.submitFormat||e.format,n=e.getValue();return n?Ext.Date.format(n,t):null},createPicker:function(){var e=this,t;e.listConfig=Ext.apply({xtype:"timepicker",pickerField:e,selModel:{mode:e.multiSelect?"SIMPLE":"SINGLE"},cls:undefined,minValue:e.minValue,maxValue:e.maxValue,increment:e.increment,format:e.format,maxHeight:e.pickerMaxHeight},e.listConfig);t=e.callParent();return t},onItemClick:function(e,t){var n=this,r=e.getSelectionModel().getSelection();if(!n.multiSelect&&r.length){if(r.length>0){r=r[0];if(r&&Ext.Date.isEqual(t.get("date"),r.get("date"))){n.collapse()}}}},syncSelection:function(){var e=this,t=e.picker,n=Ext.Date.isEqual,r=[],i,s,o,u,a,f,l,c,h,p;if(t){t.clearHighlight();s=e.getValue();i=t.getSelectionModel();e.ignoreSelection++;if(s===null){i.deselectAll()}else{o=Ext.Array.from(s);l=t.store.data.items;h=l.length;for(u=0,a=o.length;u<a;u++){f=o[u];if(Ext.isDate(f)){for(c=0;c<h;c++){p=l[c];if(n(p.get("date"),f)){r.push(p);if(!e.multiSelect){break}}}if(r.length){i.select(r)}}}}e.ignoreSelection--}},postBlur:function(){var e=this,t=e.getValue();e.callParent(arguments);if(e.validateValue(t)){e.setValue(t)}},findRecordByValue:function(e){if(typeof e==="string"){e=this.parseDate(e)}return this.callParent([e])},rawToValue:function(e){var t=this,n,r,i,s;if(t.multiSelect){r=[];n=Ext.Array.from(e);for(i=0,s=n.length;i<s;i++){r.push(t.parseDate(n[i]))}return r}return t.parseDate(e)},setValue:function(e){this.getPicker();if(Ext.isDate(e)){e=this.getInitDate(e.getHours(),e.getMinutes(),e.getSeconds())}return this.callParent([e])},getValue:function(){return this.rawToValue(this.callParent(arguments))}});Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.dom.Helper","Ext.util.ClickRepeater"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){Ext.log.warn("Ext.form.field.Trigger is deprecated. Use Ext.form.field.Text instead.")}},onClassExtended:function(){this.warnDeprecated()},constructor:function(e){this.self.warnDeprecated();this.callParent([e])}});Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",y:0,constructor:function(e){e=Ext.apply({},e);if(e.field){e.field.monitorTab=false}this.callParent([e])},setGrid:function(e){var t=this,n=t.grid,r,i;if(e!==n){i={beforerefresh:t.beforeViewRefresh,refresh:t.onViewRefresh,scope:t};if(n){n.getView().un(i)}r=e.getView();t.renderTo=r.getTargetEl().dom;t.grid=t.ownerCt=e;r.on(i)}},adjustPosition:function(){return{x:0,y:0}},beforeViewRefresh:function(){var e=this,t=e.el&&e.el.dom;if(t){if(e.editing&&!(e.field.column&&e.field.column.sorting)){e.grid.containsFocus=false;e.wasAllowBlur=e.allowBlur;e.allowBlur=false}if(t.parentNode){t.parentNode.removeChild(t)}}},onViewRefresh:function(){var e=this,t=e.el&&e.el.dom,n;if(t){n=e.field.column&&e.field.column.sorting;if(e.editing&&!n){e.allowBlur=e.wasAllowBlur;e.renderTo.appendChild(t);e.grid.containsFocus=true;e.field.focus()}else if(!n){Ext.getDetachedBody().dom.appendChild(t)}if(e.editing&&n){e.completeEdit()}}},onShow:function(){var e=this,t=e.boundEl.first();if(e.el.dom.parentNode!==e.renderTo){e.renderTo.appendChild(e.el.dom)}if(t){if(e.isForTree){t=t.child(e.treeNodeSelector)}t.hide()}e.callParent(arguments)},onEditComplete:function(e){if(e){this.restoreCell()}this.callParent(arguments)},onHide:function(){this.restoreCell();this.callParent(arguments)},restoreCell:function(){var e=this,t=e.boundEl.first();if(t){if(e.isForTree){t=t.child(e.treeNodeSelector)}t.show()}},afterRender:function(){var e=this,t=e.field;e.callParent(arguments);if(t.isCheckbox){t.mon(t.inputEl,{mousedown:e.onCheckBoxMouseDown,click:e.onCheckBoxClick,scope:e})}Ext.on("mousedown",e.onDocMouseDown,e)},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onDocMouseDown:function(e){var t=this.field;if(t&&t.hasFocus&&!t.owns(e.target)){t.blur()}},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(e){var t=this,n=t.boundEl,r=n.first(),i=r.dom.firstChild,s=n.getWidth(),o=Ext.Array.clone(t.offsets),u=t.grid,a,f="",l=!i||i.nodeType===3&&!Ext.String.trim(f=i.data).length;if(t.isForTree){a=t.getTreeNodeOffset(r);s-=Math.abs(a);o[0]+=a}if(u.columnLines){s-=n.getBorderWidth("rl")}if(e===true){t.field.setWidth(s)}if(l){r.dom.innerHTML="X"}t.alignTo(r,t.alignment,o);if(l){r.dom.firstChild.data=f}},getTreeNodeOffset:function(e){return e.child(this.treeNodeSelector).getOffsetsTo(e)[0]},onEditorTab:function(e){var t=this.field;if(t.onEditorTab){t.onEditorTab(e)}},onFieldBlur:function(){this.callParent(arguments);this.selectSameEditor=false},alignment:"l-l",hideEl:false,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:false,shadow:false});Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(e,t,n){if(!t.isRootHeader&&!t.isGroupHeader){Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header")}this.headerCt=t;if(n){if(!t.isRootHeader&&!t.isGroupHeader){Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header")}this.secondHeaderCt=n}this.visibleOnly=!!e},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},hasVariableRowHeight:function(){var e=this,t=e.getColumns(),n=t.length,r;if(e.variableRowHeight==null){e.variableRowHeight=false;for(r=0;!e.variableRowHeight&&r<n;r++){e.variableRowHeight=!!t[r].variableRowHeight}}return e.variableRowHeight},getHeaderIndex:function(e){if(e.isGroupHeader){e=this.getHeaderColumns(e)[0]}return Ext.Array.indexOf(this.getColumns(),e)},getHeaderAtIndex:function(e){var t=this.getColumns(),n=t[e];return n||null},getPreviousSibling:function(e){var t=this.getHeaderIndex(e),n=null;if(t>0){n=this.getColumns()[t-1]}return n},getNextSibling:function(e){var t=this.getHeaderIndex(e),n;if(t!==-1){n=this.getColumns()[t+1]}return n||null},getFirst:function(){var e=this.getColumns();return e.length>0?e[0]:null},getLast:function(){var e=this.getColumns(),t=e.length;return t>0?e[t-1]:null},getHeaderByDataIndex:function(e){var t=this.getColumns(),n=t.length,r,i;for(r=0;r<n;++r){i=t[r];if(i.dataIndex===e){return i}}return null},getHeaderById:function(e){var t=this.getColumns(),n=t.length,r,i;for(r=0;r<n;++r){i=t[r];if(i.getItemId()===e){return i}}return null},getVisibleHeaderClosestToIndex:function(e){var t=this.getHeaderAtIndex(e);if(t&&t.hidden){t=t.next(":not([hidden])")||t.prev(":not([hidden])")}return t},cacheColumns:function(){var e=this.getHeaderColumns(this.headerCt),t=this.secondHeaderCt;if(t){e=e.concat(this.getHeaderColumns(t))}this.columns=e},getHeaderColumns:function(e){var t=this.visibleOnly?e.getVisibleGridColumns():e.getGridColumns();return Ext.Array.clone(t)},invalidate:function(){var e=this.rootColumns;this.columns=this.variableRowHeight=null;if(e){e.invalidate()}},destroy:function(){this.columns=this.rootColumns=null}},function(){this.createAlias("indexOf","getHeaderIndex")});Ext.define("Ext.grid.RowEditorButtons",{extend:"Ext.container.Container",alias:"widget.roweditorbuttons",frame:true,shrinkWrap:true,position:"bottom",constructor:function(e){var t=this,n=e.rowEditor,r=Ext.baseCSSPrefix,i=n.editingPlugin;e=Ext.apply({baseCls:r+"grid-row-editor-buttons",defaults:{xtype:"button",ui:n.buttonUI,scope:i,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:r+"row-editor-update-button",itemId:"update",handler:i.completeEdit,text:n.saveBtnText,disabled:n.updateButtonDisabled},{cls:r+"row-editor-cancel-button",handler:i.cancelEdit,text:n.cancelBtnText}]},e);t.callParent([e]);t.addClsWithUI(t.position)},setButtonPosition:function(e){var t=this,n=this.rowEditor,r=n.getHeight(),i=n.body,s="",o="";t.removeClsWithUI(t.position);t.position=e;t.addClsWithUI(e);if(e==="top"){s=r-i.getBorderWidth("t")+"px"}else{o=r-i.getBorderWidth("b")+"px"}t.el.setStyle({top:o,bottom:s})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var e=this.callParent();e.top=true;return e}}});Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",alias:"widget.roweditor",requires:["Ext.tip.ToolTip","Ext.util.KeyNav","Ext.grid.RowEditorButtons"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,errorCls:Ext.baseCSSPrefix+"grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",initComponent:function(){var e=this,t=e.editingPlugin.grid,n=Ext.container.Container,r;e.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor";e.layout={type:"hbox",align:"middle"};e.lockable=t.lockable;if(e.lockable){e.items=[e.lockedColumnContainer=new n({id:t.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),e.normalColumnContainer=new n({flex:1,id:t.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]}else{e.lockedColumnContainer=e.normalColumnContainer=e}e.callParent(arguments);if(e.fields){e.addFieldsForColumn(e.fields,true);e.insertColumnEditor(e.fields);delete e.fields}e.mon(Ext.GlobalEvents,{scope:e,show:e.repositionIfVisible});r=e.getForm();r.trackResetOnLoad=true;r.on("validitychange",e.onValidityChange,e);r.on("errorchange",e.onErrorChange,e)},onGridResize:function(){var e=this,t=e.getClientWidth(),n=e.editingPlugin.grid,r=n.body,i=e.getFloatingButtons();e.setLocalX(r.getOffsetsTo(n)[0]+r.getBorderWidth("l")-n.el.getBorderWidth("l"));e.setWidth(t);i.setLocalX((t-i.getWidth())/2)},syncAllFieldWidths:function(){var e=this;Ext.Array.each(e.query("[isEditorComponent]"),function(t){if(t.column.isVisible()){e.onColumnShow(t.column)}},e)},syncFieldWidth:function(e){var t=e.getEditor(),n;t._marginWidth=t._marginWidth||t.el.getMargin("lr");n=e.getWidth()-t._marginWidth;t.setWidth(n);if(t.xtype==="displayfield"){t.inputWidth=n}},onValidityChange:function(e,t){this.updateButton(t);this.isValid=t},onErrorChange:function(){var e=this,t;if(e.errorSummary&&e.isVisible()){t=e.getForm().isValid();e[t?"hideToolTip":"showToolTip"]()}},updateButton:function(e){var t=this.floatingButtons;if(t){t.child("#update").setDisabled(!e)}else{this.updateButtonDisabled=!e}},afterRender:function(){var e=this,t=e.editingPlugin,n=t.grid,r=n.lockable?n.normalGrid.view:n.view;e.callParent(arguments);e.scrollingView=r;e.scrollingViewEl=r.el;r.on("scroll",e.onViewScroll,e);e.mon(e.el,{click:Ext.emptyFn,stopPropagation:true});e.mon(n,{resize:e.onGridResize,scope:e});e.el.swallowEvent(["keypress","keydown"]);e.fieldScroller=e.normalColumnContainer.layout.innerCt;e.fieldScroller.dom.style.overflow="hidden";e.fieldScroller.on({scroll:e.onFieldContainerScroll,scope:e});e.initKeyNav();e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e});e.preventReposition=true;e.syncAllFieldWidths();delete e.preventReposition},initKeyNav:function(){var e=this,t=e.editingPlugin;e.keyNav=new Ext.util.KeyNav(e.el,{enter:t.completeEdit,esc:t.onEscKey,scope:t})},onBeforeViewRefresh:function(e){var t=this,n=e.el.dom;if(t.el.dom.parentNode===n){n.removeChild(t.el.dom)}},onViewRefresh:function(e){var t=this,n=t.context,r;if(n&&(r=e.getRow(n.record))){n.row=r;t.reposition();if(t.tooltip&&t.tooltip.isVisible()){t.tooltip.setTarget(n.row)}}else{t.editingPlugin.cancelEdit()}},onViewItemRemove:function(e,t,n,r){if(!r.refreshing){var i=this.context;if(i&&e===i.record){this.editingPlugin.cancelEdit()}}},onViewScroll:function(){var e=this,t=e.editingPlugin.view.el,n=e.scrollingView,r=n.getScrollY(),i=n.getScrollX(),s=i!==e.lastScrollLeft,o=r!==e.lastScrollTop,u;e.lastScrollTop=r;e.lastScrollLeft=i;if(e.isVisible()){u=Ext.getDom(e.context.row);if(u&&t.contains(u)){if(o){e.context.row=u;e.reposition(null,true);if(e.tooltip&&e.tooltip.isVisible()||e.hiddenTip){e.repositionTip()}e.syncEditorClip()}}else{e.setLocalY(-400)}}if(e.rendered&&s){e.syncFieldsHorizontalScroll()}},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingView.setScrollX(this.getFieldScrollerScrollX())},getFieldScrollerScrollX:function(){return this.fieldScroller.getScrollLeft()},onColumnResize:function(e,t){var n=this;if(n.rendered&&!n.editingPlugin.reconfiguring){n.onGridResize();n.onViewScroll();if(!e.isGroupHeader){n.syncFieldWidth(e);n.repositionIfVisible()}}},onColumnHide:function(e){if(!this.editingPlugin.reconfiguring&&!e.isGroupHeader){e.getEditor().hide();this.repositionIfVisible()}},onColumnShow:function(e){var t=this;if(t.rendered&&!t.editingPlugin.reconfiguring&&!e.isGroupHeader&&e.getEditor){e.getEditor().show();t.syncFieldWidth(e);if(!t.preventReposition){this.repositionIfVisible()}}},onColumnMove:function(e,t,n){var r=this,i=e.isLocked(),s=i?r.lockedColumnContainer:r.normalColumnContainer,o,u,a,f,l;if(e.isGroupHeader){Ext.suspendLayouts();f=n>t;l=f?1:0;o=e.getGridColumns();for(u=0,a=o.length;u<a;++u){e=o[u];n=e.getIndex();if(f){++l}r.setColumnEditor(e,n+l,s)}Ext.resumeLayouts(true)}else{r.setColumnEditor(e,e.getIndex(),s)}},setColumnEditor:function(e,t,n){this.addFieldsForColumn(e);n.insert(t,e.getEditor())},onColumnAdd:function(e){if(e.isGroupHeader){e=e.getGridColumns()}this.addFieldsForColumn(e);this.insertColumnEditor(e);this.preventReposition=false},insertColumnEditor:function(e){var t=this,n,r,i;if(Ext.isArray(e)){for(i=0,r=e.length;i<r;i++){t.insertColumnEditor(e[i])}return}if(!e.getEditor){return}n=e.isLocked()?t.lockedColumnContainer:t.normalColumnContainer;n.insert(e.getIndex(),e.getEditor());t.needsSyncFieldWidths=true},destroyColumnEditor:function(e){var t=this,n,r,i;if(Ext.isArray(e)){for(i=0,r=e.length;i<r;i++){t.removeColumnEditor(e[i])}return}if(e.hasEditor()&&(n=e.getEditor())){n.destroy()}},getFloatingButtons:function(){var e=this,t=e.floatingButtons;if(!t){e.floatingButtons=t=new Ext.grid.RowEditorButtons({rowEditor:e})}return t},repositionIfVisible:function(e){var t=this,n=t.view;if(e&&(e===t||!e.el.isAncestor(n.el))){return}if(t.isVisible()&&n.isVisible(true)){t.reposition()}},isDescendantOf:function(){return false},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(e){var t=this,n;if(t.lockable){n=[t.lockedColumnContainer];n.push.apply(n,t.lockedColumnContainer.getRefItems(e));n.push(t.normalColumnContainer);n.push.apply(n,t.normalColumnContainer.getRefItems(e))}else{n=t.callParent(arguments)}n.push.apply(n,t.getFloatingButtons().getRefItems(e));return n},reposition:function(e,t){var n=this,r=n.context,i=r&&r.row,s=0,o,u,a,f;if(i&&Ext.isElement(i)){a=n.syncButtonPosition(n.getScrollDelta());if(!n.editingPlugin.grid.rowLines){s=-parseInt(Ext.fly(i).first().getStyle("border-bottom-width"),10)}o=n.calculateLocalRowTop(i);u=n.calculateEditorTop(o)+s;if(!t){f=function(){if(a){n.scrollingViewEl.scrollBy(0,a,true)}n.focusContextCell()}}n.syncEditorClip();if(e){n.animate(Ext.applyIf({to:{top:u},duration:e.duration||125,callback:f},e))}else{n.setLocalY(u);if(f){f()}}}},getScrollDelta:function(){var e=this,t=e.scrollingViewEl.dom,n=e.context,r=e.body,i=0;if(n){i=Ext.fly(n.row).getOffsetsTo(t)[1];if(i<0){i-=r.getBorderPadding().beforeY}else if(i>0){i=Math.max(i+e.getHeight()+e.floatingButtons.getHeight()-t.clientHeight-r.getBorderWidth("b"),0);if(i>0){i-=r.getBorderPadding().afterY}}}return i},calculateLocalRowTop:function(e){var t=this.editingPlugin.grid;return Ext.fly(e).getOffsetsTo(t)[1]-t.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(e){return e-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var e=this,t=e.editingPlugin.grid,n;if(e.lockable){n=t.lockedGrid.getWidth()+t.normalGrid.view.el.dom.clientWidth-1}else{n=t.view.el.dom.clientWidth}return n},getEditor:function(e){var t=this;if(Ext.isNumber(e)){return t.query("[isEditorComponent]")[e]}else if(e.isHeader&&!e.isGroupHeader){return e.getEditor()}},addFieldsForColumn:function(e,t){var n=this,r,i,s;if(Ext.isArray(e)){for(r=0,i=e.length;r<i;r++){n.addFieldsForColumn(e[r],t)}return}if(e.getEditor){s=e.getEditor(null,n.getDefaultFieldCfg());if(e.align==="right"){s.fieldStyle="text-align:right"}if(e.xtype==="actioncolumn"){s.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"}if(n.isVisible()&&n.context){if(s.is("displayfield")){n.renderColumnData(s,n.context.record,e)}else{s.suspendEvents();s.setValue(n.context.record.get(e.dataIndex));s.resumeEvents()}}if(e.hidden){n.onColumnHide(e)}else if(e.rendered&&!t){n.onColumnShow(e)}}},getDefaultFieldCfg:function(){return{xtype:"displayfield",getModelData:function(){return null}}},loadRecord:function(e){var t=this,n=t.getForm(),r=n.getFields(),i=r.items,s=i.length,o,u,a;for(o=0;o<s;o++){i[o].suspendEvents()}n.loadRecord(e);for(o=0;o<s;o++){i[o].resumeEvents()}if(n.hasInvalidField()===n.wasValid){delete n.wasValid}a=n.isValid();if(t.errorSummary){if(a){t.hideToolTip()}else{t.showToolTip()}}t.updateButton(a);u=t.query(">displayfield");s=u.length;for(o=0;o<s;o++){t.renderColumnData(u[o],e)}},renderColumnData:function(e,t,n){var r=this,i=r.editingPlugin.grid,s=i.headerCt,o=r.scrollingView,u=o.dataSource,a=n||e.column,f=t.get(a.dataIndex),l=a.editRenderer||a.renderer,c,h,p,d=a.usingDefaultRenderer&&!a.scope?a:a.scope;if(l){c={tdCls:"",style:""};h=u.indexOf(t);p=s.getHeaderIndex(a);f=l.call(d||s.ownerCt,f,c,t,h,p,u,o)}e.setRawValue(f);e.resetOriginalValue()},beforeEdit:function(){var e=this,t;if(e.isVisible()&&e.errorSummary&&!e.autoCancel&&e.isDirty()){t=e.getScrollDelta();if(t){e.scrollingViewEl.scrollBy(0,t,true)}e.showToolTip();return false}},startEdit:function(e,t){var n=this,r=n.editingPlugin,i=r.grid,s=n.context=r.context;if(!n.rendered){n.width=n.getClientWidth();n.render(i.el,i.el.dom.firstChild);n.getFloatingButtons().render(n.el);n.onViewScroll()}else{n.syncFieldsHorizontalScroll()}s.grid.getSelectionModel().select(e);if(n.isVisible()){n.reposition(true)}else{n.show()}n.onGridResize();n.loadRecord(e)},syncButtonPosition:function(e){var t=this,n=t.getFloatingButtons(),r=t.scrollingView,i=r.el.dom,s=t.getScrollDelta()-(i.scrollHeight-r.getScrollY()-t.scrollingViewEl.dom.clientHeight);if(s>0){if(!t._buttonsOnTop){n.setButtonPosition("top");t._buttonsOnTop=true}e=0}else if(t._buttonsOnTop!==false){n.setButtonPosition("bottom");t._buttonsOnTop=false}return e},syncEditorClip:function(){var e=this,t=e.getScrollDelta(),n;if(t){e.isOverflowing=true;n=e.floatingButtons.getHeight();if(t>0){e.clipBottom(Math.max(e.getHeight()-t+n,-n))}else if(t<0){t=Math.abs(t);e.clipTop(Math.max(t,0))}}else if(e.isOverflowing){e.clearClip();e.isOverflowing=false}},focusContextCell:function(){var e=this.context.column,t;if(!e.isDestroyed){t=this.getEditor(e);if(t&&t.focus){t.focus()}}},cancelEdit:function(){var e=this,t=e.getForm(),n=t.getFields(),r=n.items,i=r.length,s;e.hide();t.clearInvalid();for(s=0;s<i;s++){r[s].suspendEvents()}t.reset();for(s=0;s<i;s++){r[s].resumeEvents()}},completeEdit:function(){var e=this,t=e.getForm();if(!t.isValid()){return false}t.updateRecord(e.context.record);e.hide();return true},onShow:function(){var e=this;e.previousFocus=Ext.Element.getActiveElement();e.callParent(arguments);if(e.needsSyncFieldWidths){e.suspendLayouts();e.syncAllFieldWidths();e.resumeLayouts(true)}delete e.needsSyncFieldWidths;e.reposition()},onHide:function(){var e=this;e.previousFocus.focus();e.callParent(arguments);if(e.tooltip){e.hideToolTip()}if(e.context){e.context.view.focusRow(e.context.record);e.context=null}},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left",anchorToTarget:false}))},hideToolTip:function(){var e=this,t=e.getToolTip();if(t.rendered){t.disable()}e.hiddenTip=false},showToolTip:function(){var e=this,t=e.getToolTip();t.showAt([0,0]);t.update(e.getErrors());e.repositionTip();t.enable()},repositionTip:function(){var e=this,t=e.getToolTip(),n=e.context,r=Ext.get(n.row),i=e.scrollingViewEl,s=i.dom.clientHeight,o=e.lastScrollTop,u=o+s,a=r.getHeight(),f=r.getOffsetsTo(e.context.view.body)[1],l=f+a;if(l>o&&f<u){t.showAt(t.getAlignToXY(i,"tl-tr",[15,r.getOffsetsTo(i)[1]]));e.hiddenTip=false}else{t.hide();e.hiddenTip=true}},getErrors:function(){var e=this,t=[],n=e.query(">[isFormField]"),r=n.length,i,s,o,u;for(i=0;i<r;i++){u=n[i];o=u.getErrors();if(o.length){t.push(e.createErrorListItem(o[0],u.column.text))}}if(!t.length&&!e.autoCancel&&e.isDirty()){t[0]=e.createErrorListItem(e.dirtyText)}return'<ul class="'+Ext.plainListCls+'">'+t.join("")+"</ul>"},createErrorListItem:function(e,t){e=t?t+": "+e:e;return'<li class="'+this.errorCls+'">'+e+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);this.callParent()},clipBottom:function(e){this.el.setStyle("clip","rect(-1000px auto "+e+"px auto)")},clipTop:function(e){this.el.setStyle("clip","rect("+e+"px auto 1000px auto)")},clearClip:function(e){this.el.setStyle("clip",Ext.isIE8?"rect(-1000px auto 1000px auto)":"auto")}});Ext.define("Ext.grid.Scroller",{constructor:Ext.deprecated()});Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",indicatorHtml:['<div class="',Ext.baseCSSPrefix,'grid-drop-indicator-left" role="presentation"></div>','<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(e){var t=this;Ext.apply(t,e);if(!t.ddGroup){t.ddGroup="view-dd-zone-"+t.view.id}t.callParent([t.view.el])},fireViewEvent:function(){var e=this,t;e.lock();t=e.view.fireEvent.apply(e.view,arguments);e.unlock();return t},getTargetFromEvent:function(e){var t=e.getTarget(this.view.getItemSelector()),n,r,i,s,o,u;if(!t){n=e.getY();for(s=0,r=this.view.getNodes(),o=r.length;s<o;s++){i=r[s];u=Ext.fly(i).getBox();if(n<=u.bottom){return i}}}return t},getIndicator:function(){var e=this;if(!e.indicator){e.indicator=new Ext.Component({ariaRole:"presentation",html:e.indicatorHtml,cls:e.indicatorCls,ownerCt:e.view,floating:true,shadow:false})}return e.indicator},getPosition:function(e,t){var n=e.getXY()[1],r=Ext.fly(t).getRegion(),i;if(r.bottom-n>=(r.bottom-r.top)/2){i="before"}else{i="after"}return i},containsRecordAtOffset:function(e,t,n){if(!t){return false}var r=this.view,i=r.indexOf(t),s=r.getNode(i+n),o=s?r.getRecord(s):null;return o&&Ext.Array.contains(e,o)},positionIndicator:function(e,t,n){var r=this,i=r.view,s=r.getPosition(n,e),o=i.getRecord(e),u=t.records,a;if(!Ext.Array.contains(u,o)&&(s==="before"&&!r.containsRecordAtOffset(u,o,-1)||s==="after"&&!r.containsRecordAtOffset(u,o,1))){r.valid=true;if(r.overRecord!==o||r.currentPosition!==s){a=Ext.fly(e).getY()-i.el.getY()-1;if(s==="after"){a+=Ext.fly(e).getHeight()}if(i.touchScroll===2){a+=i.getScrollY()}r.getIndicator().setWidth(Ext.fly(i.el).getWidth()).showAt(0,a);r.overRecord=o;r.currentPosition=s}}else{r.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(e,t,n,r){var i=this;if(!Ext.Array.contains(r.records,i.view.getRecord(e))){i.positionIndicator(e,r,n)}return i.valid?i.dropAllowed:i.dropNotAllowed},notifyOut:function(e,t,n,r){var i=this;i.callParent(arguments);i.overRecord=i.currentPosition=null;i.valid=false;if(i.indicator){i.indicator.hide()}},onContainerOver:function(e,t,n){var r=this,i=r.view,s=i.dataSource.getCount();if(s){r.positionIndicator(i.all.last(),n,t)}else{r.overRecord=r.currentPosition=null;r.getIndicator().setWidth(Ext.fly(i.el).getWidth()).showAt(0,0);r.valid=true}return r.dropAllowed},onContainerDrop:function(e,t,n){return this.onNodeDrop(e,null,t,n)},onNodeDrop:function(e,t,n,r){var i=this,s=false,o={wait:false,processDrop:function(){i.invalidateDrop();i.handleNodeDrop(r,i.overRecord,i.currentPosition);s=true;i.fireViewEvent("drop",e,r,i.overRecord,i.currentPosition)},cancelDrop:function(){i.invalidateDrop();s=true}},u=false;if(i.valid){u=i.fireViewEvent("beforedrop",e,r,i.overRecord,i.currentPosition,o);if(o.wait){return}if(u!==false){if(!s){o.processDrop()}}}return u},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;this.callParent()}});Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left" role="presentation"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,n){var r=this.view,i=r.getStore(),s,o,u,a;if(e.copy){o=e.records;e.records=[];for(u=0,a=o.length;u<a;u++){e.records.push(o[u].copy())}}else{e.view.store.remove(e.records,e.view===r)}if(t&&n){s=i.indexOf(t);if(n!=="before"){s++}i.insert(s,e.records)}else{i.add(e.records)}r.getSelectionModel().select(e.records)}});Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",stopSelection:true,actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",actionIconCls:Ext.baseCSSPrefix+"action-col-icon",constructor:function(e){var t=this,n=Ext.apply({},e),r=n.items||t.items||[t],i,s,o;t.origRenderer=n.renderer||t.renderer;t.origScope=n.scope||t.scope;t.renderer=t.scope=n.renderer=n.scope=null;n.items=null;t.callParent([n]);t.items=r;for(s=0,o=r.length;s<o;++s){if(r[s].getClass){i=true;break}}if(t.origRenderer||i){t.hasCustomRenderer=true}},initComponent:function(){var e=this;e.callParent();if(e.sortable&&!e.dataIndex){e.sortable=false}},defaultRenderer:function(e,t,n,r,i,s,o){var u=this,a=Ext.baseCSSPrefix,f=u.origScope||u,l=u.items,c=l.length,h=0,p,d,v,m;d=Ext.isFunction(u.origRenderer)?u.origRenderer.apply(f,arguments)||"":"";t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;h<c;h++){p=l[h];v=p.disabled||(p.isDisabled?p.isDisabled.call(p.scope||f,o,r,i,p,n):false);m=v?null:p.tooltip||(p.getTip?p.getTip.apply(p.scope||f,arguments):null);if(!p.hasActionConfiguration){p.stopSelection=u.stopSelection;p.disable=Ext.Function.bind(u.disableAction,u,[h],0);p.enable=Ext.Function.bind(u.enableAction,u,[h],0);p.hasActionConfiguration=true}d+='<img role="button" alt="'+(p.altText||u.altText)+'" src="'+(p.icon||Ext.BLANK_IMAGE_URL)+'" class="'+u.actionIconCls+" "+a+"action-col-"+String(h)+" "+(v?a+"item-disabled":" ")+(Ext.isFunction(p.getClass)?p.getClass.apply(p.scope||f,arguments):p.iconCls||u.iconCls||"")+'"'+(m?' data-qtip="'+m+'"':"")+" />"}return d},updater:function(e,t,n,r,i){var s={};e.firstChild.innerHTML=this.defaultRenderer(t,s,n,null,null,i,r);Ext.fly(e).addCls(s.tdCls)},enableAction:function(e,t){var n=this;if(!e){e=0}else if(!Ext.isNumber(e)){e=Ext.Array.indexOf(n.items,e)}n.items[e].disabled=false;n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(n.disabledCls);if(!t){n.fireEvent("enable",n)}},disableAction:function(e,t){var n=this;if(!e){e=0}else if(!Ext.isNumber(e)){e=Ext.Array.indexOf(n.items,e)}n.items[e].disabled=true;n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(n.disabledCls);if(!t){n.fireEvent("disable",n)}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(e,t,n,r,i,s,o,u){var a=this,f=s.getTarget(),l=e==="keydown"&&s.getKey(),c,h,p;if(e==="mousedown"){return false}if(l&&!Ext.fly(f).findParent(t.getCellSelector())){f=Ext.fly(n).down("."+Ext.baseCSSPrefix+"action-col-icon",true)}if(f&&(c=f.className.match(a.actionIdRe))){h=a.items[parseInt(c[1],10)];p=h.disabled||(h.isDisabled?h.isDisabled.call(h.scope||a.origScope||a,t,r,i,h,o):false);if(h&&!p){if(e==="click"||l===s.ENTER||l===s.SPACE){Ext.callback(h.handler||a.handler,h.scope||a.origScope,[t,r,i,h,s,o,u],undefined,a);if(h.stopSelection!==false){return false}}}}return a.callParent(arguments)},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]}});Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:false,defaultRenderer:function(e){if(e===undefined){return this.undefinedText}if(!e||e==="false"){return this.falseText}return this.trueText},updater:function(e,t){e.firstChild.firstChild.data=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,t)}});Ext.define("Ext.grid.column.Check",{extend:"Ext.grid.column.Column",alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],alias:"widget.checkcolumn",align:"center",stopSelection:true,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",defaultFilterType:"boolean",constructor:function(){this.scope=this;this.callParent(arguments)},processEvent:function(e,t,n,r,i,s,o,u){var a=this,f=e==="keydown"&&s.getKey(),l=e=="mousedown";if(!a.disabled&&(l||f==s.ENTER||f==s.SPACE)){var c=!a.isRecordChecked(o);if(a.fireEvent("beforecheckchange",a,r,c)!==false){a.setRecordCheck(o,c,n,u,s);a.fireEvent("checkchange",a,r,c);if(l){s.stopEvent()}if(!a.stopSelection){t.selModel.selectByPosition({row:r,column:i})}return false}else{return!a.stopSelection}}else{return a.callParent(arguments)}},onEnable:function(){this.callParent(arguments);this._setDisabled(false)},onDisable:function(){this._setDisabled(true)},_setDisabled:function(e){var t=this,n=t.disabledCls,r;r=t.up("tablepanel").el.select(t.getCellSelector());if(e){r.addCls(n)}else{r.removeCls(n)}},defaultRenderer:function(e,t){var n=Ext.baseCSSPrefix,r=n+"grid-checkcolumn";if(this.disabled){t.tdCls+=" "+this.disabledCls}if(e){r+=" "+n+"grid-checkcolumn-checked"}return'<img class="'+r+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'},isRecordChecked:function(e){var t=this.property;if(t){return e[t]}return e.get(this.dataIndex)},setRecordCheck:function(e,t,n,r,i){var s=this,o=s.property;if(o){e[o]=t;s.updater(n,t)}else{e.set(s.dataIndex,t)}},updater:function(e,t){var n={};e.firstChild.innerHTML=this.defaultRenderer(t,n);Ext.fly(e).addCls(n.tdCls)}});Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",isDateColumn:true,defaultFilterType:"date",producesHTML:false,initComponent:function(){if(!this.format){this.format=Ext.Date.defaultFormat}this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)},updater:function(e,t){e.firstChild.innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,t)}});Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:false,defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)},updater:function(e,t){e.firstChild.innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,t)}});Ext.define("Ext.grid.column.RowNumberer",{extend:"Ext.grid.column.Column",alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"&#160;",width:23,sortable:false,draggable:false,autoLock:true,lockable:false,align:"right",producesHTML:false,constructor:function(e){var t=this;t.width=t.width;t.callParent(arguments);t.sortable=false;t.scope=t},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:undefined,defaultRenderer:function(e,t,n,r,i,s,o){var u=this.rowspan,a=s.currentPage,f=o.store.indexOf(n);if(t&&u){t.tdAttr='rowspan="'+u+'"'}if(a>1){f+=(a-1)*s.pageSize}return f+1},updater:function(e,t,n,r,i){e.firstChild.innerHTML=this.defaultRenderer(t,null,n,null,null,i,r)}});Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var e=this;e.tpl=!Ext.isPrimitive(e.tpl)&&e.tpl.compile?e.tpl:new Ext.XTemplate(e.tpl);e.hasCustomRenderer=true;e.callParent(arguments)},defaultRenderer:function(e,t,n){var r=Ext.apply({},n.data,n.getAssociatedData());return this.tpl.apply(r)},updater:function(e,t){e.firstChild.innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,t)}});Ext.define("Ext.grid.column.Widget",{extend:"Ext.grid.column.Column",alias:"widget.widgetcolumn",config:{defaultWidgetUI:{}},sortable:false,stopSelection:true,preventUpdate:true,initComponent:function(){var e=this,t;e.callParent(arguments);t=e.widget;if(!t||t.isComponent){Ext.Error.raise("column.Widget requires a widget configuration.")}if(!t.ui){t.ui=e.getDefaultWidgetUI()[t.xtype]||"default"}e.isFixedSize=Ext.isNumber(t.width)},processEvent:function(e,t,n,r,i,s,o,u){var a=t.innerSelector,f;if(this.stopSelection&&e==="click"){f=s.getTarget(a);if(f&&f!==s.target){return false}}},beforeRender:function(){var e=this,t;e.liveWidgets={};e.cachedStyles={};e.freeWidgetStack=[];e.listenerScopeFn=function(t){if(t==="this"){return this}return e.resolveListenerScope(t)};t=e.getFreeWidget();e.tdCls=t.getTdCls();e.setupViewListeners(e.getView());e.callParent(arguments)},afterRender:function(){var e=this.getView();this.callParent(arguments);if(e&&e.viewReady){this.onViewRefresh(e,e.getViewRange())}},defaultRenderer:Ext.emptyFn,updater:function(e,t,n){this.updateWidget(n)},onResize:function(e){var t=this,n=t.liveWidgets,r=t.getView(),i,s;if(!t.isFixedSize&&t.rendered&&r&&r.viewReady){s=r.getEl().down(t.getCellInnerSelector());if(s){e-=parseInt(t.getCachedStyle(s,"padding-left"),10)+parseInt(t.getCachedStyle(s,"padding-right"),10);for(i in n){n[i].setWidth(e)}}}},onAdded:function(){var e;this.callParent(arguments);e=this.getView();if(e){this.setupViewListeners(e)}},onRemoved:function(e){var t=this,n=t.liveWidgets,r=t.viewListeners,i,s;if(t.rendered){if(r){r.destroy();this.viewListeners=null}if(!e){for(i in n){s=n[i];Ext.detachedBodyEl.dom.appendChild((s.el||s.element).dom)}}}t.callParent(arguments)},onDestroy:function(){var e=this,t=e.liveWidgets,n=e.freeWidgetStack,r,i,s,o;if(e.rendered){for(r in t){i=t[r];i.$widgetRecord=i.$widgetColumn=null;delete i.getWidgetRecord;delete i.getWidgetColumn;i.destroy()}for(s=0,o=n.length;s<o;++s){n[s].destroy()}}e.freeWidgetStack=e.liveWidgets=null;e.callParent()},getWidget:function(e){var t=this.liveWidgets,n;if(e&&t){n=t[e.internalId]}return n||null},privates:{getCachedStyle:function(e,t){var n=this.cachedStyles;return n[t]||(n[t]=Ext.fly(e).getStyle(t))},getFreeWidget:function(){var e=this,t=e.freeWidgetStack.pop();if(!t){t=Ext.widget(e.widget);t.resolveListenerScope=e.listenerScopeFn;t.getWidgetRecord=e.widgetRecordDecorator;t.getWidgetColumn=e.widgetColumnDecorator;t.dataIndex=e.dataIndex;t.measurer=e}return t},onViewRefresh:function(e,t){var n=this,r=e.all,i=!!n.onWidgetAttach,s=n.liveWidgets,o=n.dataIndex,u=n.isFixedSize,a,f,l,c,h,p,d,v,m,g;if(n.rendered&&!n.hidden){n.liveWidgets={};Ext.suspendLayouts();for(p=r.startIndex,d=0;p<=r.endIndex;p++,d++){v=t[d];if(v.isNonData){continue}h=v.internalId;a=e.getRow(r.item(p)).cells[n.getVisibleIndex()].firstChild;f=n.liveWidgets[h]=s[h]||n.getFreeWidget();delete s[h];g=n.lastBox;if(g&&!u&&c===undefined){c=g.width-parseInt(n.getCachedStyle(a,"padding-left"),10)-parseInt(n.getCachedStyle(a,"padding-right"),10)}Ext.fly(a).empty();if(l=f.el||f.element){a.appendChild(l.dom);if(!u){f.setWidth(c)}}else{if(!u){f.width=c}f.render(a)}if(f.defaultBindProperty&&o){f.setConfig(f.defaultBindProperty,t[d].get(o))}f.$widgetRecord=v;f.$widgetColumn=n;if(i){n.onWidgetAttach(f,v)}}Ext.resumeLayouts(true);for(m in s){f=s[m];f.$widgetRecord=f.$widgetColumn=null;Ext.detachedBodyEl.dom.appendChild((f.el||f.element).dom)}}},onItemUpdate:function(e,t,n){this.updateWidget(e)},onItemAdd:function(e,t,n){var r=this,i=r.getView(),s=!!r.onWidgetAttach,o=r.dataIndex,u=r.isFixedSize,a=e.length,f,l,c,h,p,d,v;if(r.rendered&&!r.hidden){for(f=0;f<a;f++){l=e[f];if(l.isNonData){continue}c=i.getRowFromItem(n[f]);if(c){h=c.cells[r.getVisibleIndex()].firstChild;if(!u&&!v){v=r.lastBox.width-parseInt(r.getCachedStyle(h,"padding-left"),10)-parseInt(r.getCachedStyle(h,"padding-right"),10)}p=r.liveWidgets[l.internalId]=r.getFreeWidget();Ext.fly(h).empty();if(d=p.el||p.element){h.appendChild(d.dom);if(!u){p.setWidth(v)}}else{if(!u){p.width=v}p.render(h)}if(p.defaultBindProperty&&r.dataIndex){p.setConfig(p.defaultBindProperty,l.get(r.dataIndex))}p.$widgetColumn=r;p.$widgetRecord=l;if(s){r.onWidgetAttach(p,l)}}}}},onItemRemove:function(e,t,n){var r=this,i=r.liveWidgets,s;if(r.rendered&&e&&(s=i[e.internalId])){delete i[e.internalId];r.freeWidgetStack.unshift(s);s.$widgetRecord=s.$widgetColumn=null;Ext.detachedBodyEl.dom.appendChild((s.el||s.element).dom)}},setupViewListeners:function(e){var t=this;t.viewListeners=e.on({refresh:t.onViewRefresh,itemupdate:t.onItemUpdate,itemadd:t.onItemAdd,itemremove:t.onItemRemove,scope:t,destroyable:true})},updateWidget:function(e){var t=this.dataIndex,n;if(this.rendered){n=this.liveWidgets[e.internalId];if(n&&n.defaultBindProperty&&t){n.setConfig(n.defaultBindProperty,e.get(t))}}},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}});Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",wrapsItem:false,isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(e){this.initialConfig=e;this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(e,t,n,r){return[e,t,n,r]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(e,t,n){if(t.record.isSummary&&this.summaryFeature.showSummaryRow){this.summaryFeature.outputSummaryRecord(t.record,t,e,n)}else{this.nextTpl.applyOut(t,e,n)}},priority:1e3},showSummaryRow:true,init:function(){var e=this;e.view.summaryFeature=e;e.rowTpl=e.view.self.prototype.rowTpl;e.view.addRowTpl(e.summaryRowTpl).summaryFeature=e;e.summaryData={};e.groupInfo={};if(!e.summaryTableCls){e.summaryTableCls=Ext.baseCSSPrefix+"grid-item"}},toggleSummaryRow:function(e){var t=this,n=t.showSummaryRow;e=arguments.length===1?!!e:!t.showSummaryRow;t.showSummaryRow=e;if(e&&e!==n){t.updateNext=true}},createRenderer:function(e,t){var n=this,r=t.ownerGroup,i=r?n.summaryData[r]:n.summaryData,s=e.dataIndex||e.getItemId();return function(){return e.summaryRenderer?e.summaryRenderer(t.data[s],i,s):t.data[s]}},outputSummaryRecord:function(e,t,n){var r=t.view,i=r.rowValues,s=t.columns||r.headerCt.getVisibleGridColumns(),o=s.length,u,a,f={view:r,record:e,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:r.getRowId(e),columns:s};for(u=0;u<o;u++){a=s[u];a.savedRenderer=a.renderer;if(a.summaryType||a.summaryRenderer){a.renderer=this.createRenderer(a,e)}else{a.renderer=Ext.emptyFn}}r.rowValues=f;r.self.prototype.rowTpl.applyOut(f,n,parent);r.rowValues=i;for(u=0;u<o;u++){a=s[u];a.renderer=a.savedRenderer;a.savedRenderer=null}},getSummary:function(e,t,n,r){var i=!!r,s=i?r:e;if(t){if(Ext.isFunction(t)){if(i){return s.aggregate(n,t)}else{return s.aggregate(t,null,false,[n])}}switch(t){case"count":return s.count(n);case"min":return s.min(n);case"max":return s.max(n);case"sum":return s.sum(n);case"average":return s.average(n);default:return""}}},generateSummaryData:function(){var e=this,t=e.view.store,n=t.getGroups().items,r=t.getProxy().getReader(),i=n.length,s=e.getGroupField(),o={},u=e.lockingPartner,a=e.updateNext,f,l,c,h,p,d,v,m,g;if(e.remoteRoot&&r.rawData){d=true;m={};h=r.getRootProperty();r.setRootProperty(e.remoteRoot);r.buildExtractors(true);p=r.getRoot(r.rawData)||[];i=p.length;for(f=0;f<i;++f){v=r.extractRecordData(p[f],e.readDataOptions);m[v[s]]=v}r.setRootProperty(h);r.buildExtractors(true)}for(f=0;f<i;++f){l=n[f];g=e.getGroupInfo(l);if(a||d||t.updating||g.lastGeneration!==l.generation){c=e.populateRecord(l,g,m);if(!u||e.view.ownerCt===e.view.ownerCt.ownerLockable.normalGrid){g.lastGeneration=l.generation}}else{c=e.getAggregateRecord(l)}o[l.getGroupKey()]=c}e.updateNext=false;return o},setSummaryData:function(e,t,n,r){if(r){if(!this.summaryData[r]){this.summaryData[r]={}}this.summaryData[r][t]=n}else{this.summaryData[t]=n}},populateRecord:function(e,t,n){var r=this,i=r.grid.ownerLockable?r.grid.ownerLockable.view:r.view,s=r.view.getStore(),o=r.getAggregateRecord(e),u=i.headerCt.getGridColumns(),a=u.length,f=e.getGroupKey(),l,c,h,p,d,v;o.beginEdit();if(n){l=n[f];for(c in l){if(l.hasOwnProperty(c)){if(c!==o.idProperty){o.set(c,l[c])}}}}for(h=0;h<a;++h){p=u[h];d=p.dataIndex||p.getItemId();if(!n){v=r.getSummary(s,p.summaryType,d,e);o.set(d,v)}else{v=o.get(p.dataIndex)}r.setSummaryData(o,p.getItemId(),v,f)}o.ownerGroup=f;o.endEdit(true);o.commit();return o},getGroupInfo:function(e){var t=this.groupInfo,n=e.getGroupKey(),r=t[n];if(!r){r=t[n]={lastGeneration:null,aggregateRecord:new Ext.data.Model}}return r},getAggregateRecord:function(e,t){var n;if(t===true||e.dirty||!e.aggregateRecord){n=new Ext.data.Model;e.aggregateRecord=n;n.isNonData=n.isSummary=true}return e.aggregateRecord}});Ext.define("Ext.grid.feature.GroupStore",{extend:"Ext.util.Observable",isStore:true,defaultViewSize:100,isFeatureStore:true,constructor:function(e,t){var n=this;n.callParent();n.groupingFeature=e;n.bindStore(t)},bindStore:function(e){var t=this;if(t.store){Ext.destroy(t.storeListeners);t.store=null}if(e){t.storeListeners=e.on({groupchange:t.onGroupChange,remove:t.onRemove,add:t.onAdd,update:t.onUpdate,refresh:t.onRefresh,clear:t.onClear,scope:t,destroyable:true});t.store=e;t.processStore(e)}},processStore:function(e){var t=this,n=e.getGroups(),r=n?n.length:0,i,s,o,u=t.data,a=t.groupingFeature.groupCache,f=t.groupingFeature.clearGroupCache(),l=t.groupingFeature.startCollapsed,c=e.getGroupField(),h,p,d;if(u){u.clear()}else{u=t.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}})}if(e.getCount()){t.groupingFeature.startCollapsed=false;if(r>0){for(i=0;i<r;i++){s=n.getAt(i);h=s.getGroupKey();f[h]=s;s.isCollapsed=l||a[h]&&a[h].isCollapsed;if(s.isCollapsed){d=e.getModel();p={};p[d.idProperty]="group-"+h+"-placeholder";p[c]=h;s.placeholder=o=new d(p);o.isNonData=o.isCollapsedPlaceholder=true;o.group=s;u.add(o)}else{u.insert(t.data.length,s.items)}}}else{u.add(e.getRange())}}},isCollapsed:function(e){return this.groupingFeature.groupCache[e].isCollapsed},isInCollapsedGroup:function(e){var t=this.store,n;if(t.isGrouped()&&(n=this.groupingFeature.groupCache[e.get(t.getGroupField())])){return n.isCollapsed||false}return false},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(e,t){return t<this.getCount()},getRange:function(e,t,n){var r=this.data.getRange(e,Ext.isNumber(t)?t+1:t);if(n&&n.callback){n.callback.call(n.scope||this,r,e,t,n)}return r},getAt:function(e){return this.data.getAt(e)},getById:function(e){return this.store.getById(e)},getByInternalId:function(e){return this.data.byInternalId.get(e)||null},expandGroup:function(e){var t=this,n,r;if(typeof e==="string"){e=t.groupingFeature.groupCache[e]}if(e){r=e.items}if(r.length&&(n=t.data.indexOf(e.placeholder))!==-1){e.isCollapsed=false;t.isExpandingOrCollapsing=1;t.data.removeAt(n);t.data.insert(n,e.items);t.fireEvent("replace",t,n,[e.placeholder],e.items);t.fireEvent("groupexpand",t,e);t.isExpandingOrCollapsing=0}},collapseGroup:function(e){var t=this,n,r,i,s;if(typeof e==="string"){e=t.groupingFeature.groupCache[e]}if(e){s=e.items}if(s&&(i=s.length)&&(n=t.data.indexOf(s[0]))!==-1){e.isCollapsed=true;t.isExpandingOrCollapsing=2;t.data.removeAt(n,i);t.data.insert(n,r=t.getGroupPlaceholder(e));t.fireEvent("replace",t,n,s,[r]);t.fireEvent("groupcollapse",t,e);t.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(e){if(!e.placeholder){var t=this.store,n=t.getModel(),r={},i=e.getGroupKey(),s;r[n.idProperty]="group-"+i+"-placeholder";r[t.getGroupField()]=i;s=e.placeholder=new n(r);s.isNonData=s.isCollapsedPlaceholder=true;s.group=e}return e.placeholder},indexOf:function(e){if(!e.isCollapsedPlaceholder){return this.data.indexOf(e)}return-1},indexOfTotal:function(e){return this.store.indexOf(e)},onRefresh:function(e){this.processStore(this.store);this.fireEvent("refresh",this)},onRemove:function(e,t,n,r){this.processStore(this.store);this.fireEvent("refresh",this)},onClear:function(e,t,n){this.processStore(this.store);this.fireEvent("clear",this)},onAdd:function(e,t,n){this.processStore(this.store);this.fireEvent("replace",this,this.indexOf(t[0]),[],t)},onUpdate:function(e,t,n,r){var i=this,s,o,u,a;if(e.isGrouped()){s=t.group=i.groupingFeature.getRecordGroup(t);if(r&&Ext.Array.contains(r,i.groupingFeature.getGroupField())){return i.onRefresh(i.store)}if(s.isCollapsed){i.fireEvent("update",i,s.placeholder)}else{Ext.suspendLayouts();i.fireEvent("update",i,t,n,r);a=s.items;o=a[0];u=a[a.length-1];if(o!==t){o.group=s;i.fireEvent("update",i,o,"edit",r);delete o.group}if(u!==t&&u!==o&&i.groupingFeature.showSummaryRow){u.group=s;i.fireEvent("update",i,u,"edit",r);delete u.group}Ext.resumeLayouts(true)}delete t.group}else{i.fireEvent("update",i,t,n,r)}},onGroupChange:function(e){this.fireEvent("groupchange",e)}});Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",mixins:{summary:"Ext.grid.feature.AbstractSummary"},requires:["Ext.grid.feature.GroupStore"],alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:true,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,collapsible:true,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:false,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div data-groupname="{groupName:htmlEncode}" class="',Ext.baseCSSPrefix,'grid-group-hd {collapsibleCls}" nottabindex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',Ext.baseCSSPrefix,'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr}>','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</td>","</tr>","</tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","</tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(e,t){e=Ext.fly(e,"syncDest");t=Ext.fly(t,"sycSrc");var n=this.owner,r=e.down(n.eventSelector,true),i,s=e.down(n.summaryRowSelector,true),o,u,a;if(r&&(i=t.down(n.eventSelector,true))){r.style.height=i.style.height="";if((u=r.offsetHeight)>(a=i.offsetHeight)){Ext.fly(i).setHeight(u)}else if(a>u){Ext.fly(r).setHeight(a)}}if(s&&(o=t.down(n.summaryRowSelector,true))){s.style.height=o.style.height="";if((u=s.offsetHeight)>(a=o.offsetHeight)){Ext.fly(o).setHeight(u)}else if(a>u){Ext.fly(s).setHeight(a)}}},syncContent:function(e,t,n){e=Ext.fly(e,"syncDest");t=Ext.fly(t,"sycSrc");var r=this.owner,i=e.down(r.eventSelector,true),s=t.down(r.eventSelector,true),o=e.down(r.summaryRowSelector,true),u=t.down(r.summaryRowSelector,true);if(i&&s){Ext.fly(i).syncContent(s)}if(o&&u){if(n){this.groupingFeature.view.updateColumns(o,u,n)}else{Ext.fly(o).syncContent(u)}}}}],constructor:function(){this.groupCache={};this.callParent(arguments)},init:function(e){var t=this,n=t.view,r=n.getStore(),i;n.isGrouping=!!r.getGrouper();if(t.lockingPartner&&t.lockingPartner.groupCache){t.groupCache=t.lockingPartner.groupCache}t.mixins.summary.init.call(t);t.callParent(arguments);n.headerCt.on({columnhide:t.onColumnHideShow,columnshow:t.onColumnHideShow,columnmove:t.onColumnMove,scope:t});n.addTpl(Ext.XTemplate.getTpl(t,"outerTpl")).groupingFeature=t;n.addRowTpl(Ext.XTemplate.getTpl(t,"groupRowTpl")).groupingFeature=t;n.preserveScrollOnRefresh=true;if(r.isBufferedStore){t.collapsible=false}else{i=t.lockingPartner;if(i&&i.dataSource){t.dataSource=n.dataSource=i.dataSource}else{t.dataSource=n.dataSource=new Ext.grid.feature.GroupStore(t,r)}}e=e.ownerLockable||e;e.on({reconfigure:t.onReconfigure,scope:t});n.on({afterrender:t.afterViewRender,scope:t,single:true});t.storeListeners=n.store.on({groupchange:t.onGroupChange,scope:t,destroyable:true})},indexOf:function(e){return this.dataSource.indexOf(e)},isInCollapsedGroup:function(e){var t,n=this.view.getStore();if(n.isGrouped()&&(t=this.getGroup(e))){return t.isCollapsed||false}return false},clearGroupCache:function(){var e=this,t=e.groupCache={};if(e.lockingPartner){e.lockingPartner.groupCache=t}return t},vetoEvent:function(e,t,n,r){if(r.type!=="mouseover"&&r.type!=="mouseout"&&r.type!=="mouseenter"&&r.type!=="mouseleave"&&r.getTarget(this.eventSelector)){return false}},enable:function(){var e=this,t=e.view,n=t.getStore(),r;t.isGrouping=true;if(t.lockingPartner){t.lockingPartner.isGrouping=true}e.callParent();if(e.lastGrouper){n.group(e.lastGrouper);e.lastGrouper=null}r=e.view.headerCt.getMenu().down("#groupToggleMenuItem");if(r){r.setChecked(true,true)}},disable:function(){var e=this,t=e.view,n=t.getStore(),r,i=n.getGrouper();t.isGrouping=false;if(t.lockingPartner){t.lockingPartner.isGrouping=false}e.callParent();if(i){e.lastGrouper=i;n.clearGrouping()}r=e.view.headerCt.getMenu().down("#groupToggleMenuItem");if(r){r.setChecked(false,true)}},afterViewRender:function(){var e=this,t=e.view;t.on({scope:e,groupclick:e.onGroupClick});if(e.enableGroupingMenu){e.injectGroupingMenu()}e.pruneGroupedHeader();e.lastGrouper=e.view.getStore().getGrouper();if(e.disabled){e.disable()}},injectGroupingMenu:function(){var e=this,t=e.view.headerCt;t.showMenuBy=e.showMenuBy;t.getMenuItems=e.getMenuItems()},onColumnHideShow:function(e,t){var n=this.view,r=n.headerCt,i=r.getMenu(),s=i.activeHeader,o=i.down("#groupMenuItem"),u,a=this.grid.getVisibleColumnManager().getColumns().length,f,l,c;if(s&&o){u=s.groupable===false||s.dataIndex==null||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable";o[u]()}if(n.rendered&&a){f=n.el.query("."+this.ctCls);for(c=0,l=f.length;c<l;++c){f[c].colSpan=a}}},onColumnMove:function(){var e=this,t=e.view.getStore(),n,r,i,s,o;if(t.isGrouped()){n=e.groupCache;Ext.suspendLayouts();for(r in n){if(n.hasOwnProperty(r)){i=n[r];s=i.items[0];o=i.items[i.items.length-1];t.fireEvent("update",t,s,"edit",null);if(o!==s&&e.showSummaryRow){t.fireEvent("update",t,o,"edit",null)}}}Ext.resumeLayouts(true)}},showMenuBy:function(e,t){var n=this.getMenu(),r=n.down("#groupMenuItem"),i=t.groupable===false||t.dataIndex==null||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",s=n.down("#groupToggleMenuItem"),o=this.view.store.isGrouped();r[i]();if(s){s.setChecked(o,true);s[o?"enable":"disable"]()}Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var e=this,t=e.groupByText,n=e.disabled||!e.getGroupField(),r=e.showGroupsText,i=e.enableNoGroups,s=e.view.headerCt.getMenuItems;return function(){var o=s.call(this);o.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:t,handler:e.onGroupMenuItemClick,scope:e});if(i){o.push({itemId:"groupToggleMenuItem",text:r,checked:!n,checkHandler:e.onGroupToggleMenuItemClick,scope:e})}return o}},onGroupMenuItemClick:function(e,t){var n=this,r=e.parentMenu,i=r.activeHeader,s=n.view,o=s.store;if(n.disabled){n.lastGrouper=null;n.block();n.enable();n.unblock()}o.group(i.dataIndex);n.pruneGroupedHeader()},block:function(e){this.blockRefresh=this.view.blockRefresh=true;if(this.lockingPartner&&!e){this.lockingPartner.block(true)}},unblock:function(e){this.blockRefresh=this.view.blockRefresh=false;if(this.lockingPartner&&!e){this.lockingPartner.unblock(true)}},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this,t=e.getGroupedHeader();if(e.hideGroupedHeader&&t){Ext.suspendLayouts();if(e.prunedHeader&&e.prunedHeader!==t){e.prunedHeader.show()}e.prunedHeader=t;if(t.rendered){t.hide()}Ext.resumeLayouts(true)}},getHeaderNode:function(e){var t=this.view.getEl(),n,r,i,s,o;if(t){e=Ext.htmlEncode(e);n=t.query(this.eventSelector);for(r=0,i=n.length;r<i;++r){o=n[r];if(o.getAttribute("data-groupName")===e){return o}}}},getGroup:function(e){if(e.isModel){e=e.get(this.view.getStore().getGroupField())}var t=this.groupCache,n=t[e];if(!n){n=t[e]={isCollapsed:false}}return n},isExpanded:function(e){return!this.getGroup(e).isCollapsed},expand:function(e,t){this.doCollapseExpand(false,e,t)},expandAll:function(){var e=this,t=e.groupCache,n,r=e.lockingPartner;for(n in t){if(t.hasOwnProperty(n)){t[n].isCollapsed=false}}Ext.suspendLayouts();e.dataSource.onRefresh();Ext.resumeLayouts(true);for(n in t){if(t.hasOwnProperty(n)){e.afterCollapseExpand(false,n);if(r){r.afterCollapseExpand(false,n)}}}},collapse:function(e,t){this.doCollapseExpand(true,e,t)},isAllCollapsed:function(){var e=this,t=e.groupCache,n;for(n in t){if(t.hasOwnProperty(n)){if(!t[n].isCollapsed){return false}}}return true},isAllExpanded:function(){var e=this,t=e.groupCache,n;for(n in t){if(t.hasOwnProperty(n)){if(t[n].isCollapsed){return false}}}return true},collapseAll:function(){var e=this,t=e.groupCache,n,r=e.lockingPartner;for(n in t){if(t.hasOwnProperty(n)){t[n].isCollapsed=true}}Ext.suspendLayouts();e.dataSource.onRefresh();if(r&&!r.isAllCollapsed()){r.collapseAll()}Ext.resumeLayouts(true);for(n in t){if(t.hasOwnProperty(n)){e.afterCollapseExpand(true,n);if(r){r.afterCollapseExpand(true,n)}}}},doCollapseExpand:function(e,t,n){var r=this,i=r.lockingPartner,s=r.groupCache[t];if(s.isCollapsed!==e){Ext.suspendLayouts();if(e){r.dataSource.collapseGroup(s)}else{r.dataSource.expandGroup(s)}Ext.resumeLayouts(true);r.afterCollapseExpand(e,t,n);if(i){i.afterCollapseExpand(e,t,false)}}},afterCollapseExpand:function(e,t,n){var r=this,i=r.view,s;s=r.getHeaderNode(t);i.fireEvent(e?"groupcollapse":"groupexpand",i,s,t);if(n){if(s){i.scrollElIntoView(Ext.fly(s).up(i.getItemSelector()),false,true)}else if(i.bufferedRenderer){i.bufferedRenderer.scrollTo(r.dataSource.indexOf(r.getGroup(t).getAt(0)))}}},onGroupChange:function(e,t){var n=this,r=n.grid.ownerCt,i=n.view;if(!t){if(r&&r.lockable){r.view.refresh()}else{i.refresh()}}else{n.lastGrouper=t}},getMenuItem:function(e){var t=this.view,n=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),r=t.headerCt.getMenu();return n?r.down("menuitem[headerId="+n.id+"]"):null},onGroupKey:function(e,t){var n=this,r=n.getGroupName(t.target);if(r){n.onGroupClick(n.view,t.target,r,t)}},onGroupClick:function(e,t,n,r){var i=this,s=i.groupCache,o=!i.isExpanded(n),u;if(i.collapsible){if(r.ctrlKey){Ext.suspendLayouts();for(u in s){if(u===n){if(o){i.expand(n)}}else if(!s[u].isCollapsed){i.doCollapseExpand(true,u,false)}}Ext.resumeLayouts(true);return}if(o){i.expand(n)}else{i.collapse(n)}}},setupRowData:function(e,t,n){var r=this,i=n.recordIndex,s=r.refreshData,o=r.groupInfo,u=s.header,a=s.groupField,f=r.view.getStore(),l=r.view.dataSource,c,h,p,d,v;n.isCollapsedGroup=false;n.summaryRecord=n.groupHeaderCls=null;if(s.doGrouping){c=f.getGrouper();if(e.isCollapsedPlaceholder){h=e.group.getGroupKey();v=e.group.items;n.isFirstRow=n.isLastRow=true;n.groupHeaderCls=r.hdCollapsedCls;n.isCollapsedGroup=n.needsWrap=true;n.groupName=h;n.groupInfo=o;o.groupField=a;o.name=h;o.groupValue=v[0].get(a);o.columnName=u?u.text:a;n.collapsibleCls=r.collapsible?r.collapsibleCls:r.hdNotCollapsibleCls;o.rows=o.children=v;if(r.showSummaryRow){n.summaryRecord=s.summaryData[h]}return}h=c.getGroupString(e);if(e.group){v=e.group.items;n.isFirstRow=e===v[0];n.isLastRow=e===v[v.length-1]}else{n.isFirstRow=i===0;if(!n.isFirstRow){p=f.getAt(i-1);if(p){n.isFirstRow=!p.isEqual(c.getGroupString(p),h)}}n.isLastRow=i==(f.isBufferedStore?f.getTotalCount():f.getCount())-1;if(!n.isLastRow){d=f.getAt(i+1);if(d){n.isLastRow=!d.isEqual(c.getGroupString(d),h)}}}if(n.isFirstRow){o.groupField=a;o.name=h;o.groupValue=e.get(a);o.columnName=u?u.text:a;n.collapsibleCls=r.collapsible?r.collapsibleCls:r.hdNotCollapsibleCls;n.groupName=h;if(!r.isExpanded(h)){n.itemClasses.push(r.hdCollapsedCls);n.isCollapsedGroup=true}if(l.isBufferedStore){o.rows=o.children=[]}else{o.rows=o.children=r.getRecordGroup(e).items}n.groupInfo=o}if(n.isLastRow){if(r.showSummaryRow){n.summaryRecord=s.summaryData[h];n.itemClasses.push(Ext.baseCSSPrefix+"grid-group-last")}}n.needsWrap=n.isFirstRow||n.summaryRecord}},setup:function(e,t){var n=this,r=n.refreshData,i=t.view,s=i.store.isGrouped(),o=!n.disabled&&i.isGrouping&&s;n.skippedRows=0;if(i.bufferedRenderer){i.bufferedRenderer.variableRowHeight=i.bufferedRenderer.variableRowHeight||s}r.groupField=n.getGroupField();r.header=n.getGroupedHeader(r.groupField);r.doGrouping=o;t.groupHeaderTpl=Ext.XTemplate.getTpl(n,"groupHeaderTpl");if(o&&n.showSummaryRow){r.summaryData=n.generateSummaryData()}},cleanup:function(e,t){var n=this.refreshData;t.groupInfo=t.groupHeaderTpl=t.isFirstRow=null;n.groupField=n.header=null},getGroupName:function(e){var t=this,n=t.view,r=t.eventSelector,i,s,o;s=Ext.fly(e).findParent(r);if(!s){o=Ext.fly(e).findParent(n.itemSelector);if(o){s=o.down(r,true)}}if(s){return Ext.htmlDecode(s.getAttribute("data-groupname"))}},getRecordGroup:function(e){var t=this.view.getStore().getGrouper();if(t){return this.groupCache[t.getGroupString(e)]}},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(e){var t=this,n=t.view.headerCt,r=t.lockingPartner,i,s;e=e||this.getGroupField();if(e){i="[dataIndex="+e+"]";s=n.down(i);if(!s&&r){s=r.view.headerCt.down(i)}}return s||null},getFireEventArgs:function(e,t,n,r){return[e,t,n,this.getGroupName(n),r]},destroy:function(){var e=this,t=e.dataSource;e.view=e.prunedHeader=e.grid=e.groupCache=e.dataSource=null;e.callParent();if(t){t.bindStore(null)}},onReconfigure:function(e,t,n,r,i){var s=this,o=s.view,u=s.dataSource,a=e.lockable?e:null,f;if(t&&t!==r){f=t.isBufferedStore;s.storeListeners&&s.storeListeners.destroy();s.storeListeners=t.on({groupchange:s.onGroupChange,scope:s,destroyable:true});if(f!==r.isBufferedStore){Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores")}o.isGrouping=!!t.getGrouper();u.bindStore(t);if(a){a.getView().bindStore(u,false,"dataSource")}else{o.refresh()}}}});Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",showSummaryRow:true,vetoEvent:function(e,t,n,r){var i=this.callParent(arguments);if(i!==false){if(r.getTarget(this.summaryRowSelector)){i=false}}return i}});Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",colSpanDecrement:0,bodyBefore:false,outerTpl:{fn:function(e,t,n){var r=t.view,i=r.rowValues;this.rowBody.setup(t.rows,i);this.nextTpl.applyOut(t,e,n);this.rowBody.cleanup(t.rows,i)},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}" {ariaRowAttr}>','<td class="'+Ext.baseCSSPrefix+"grid-td "+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,syncRowHeights:function(e,t){var n=this.owner,r=Ext.fly(e).down(n.eventSelector,true),i,s,o;if(r&&(i=Ext.fly(t).down(n.eventSelector,true))){if((s=r.offsetHeight)>(o=i.offsetHeight)){Ext.fly(i).setHeight(s)}else if(o>s){Ext.fly(r).setHeight(o)}}},syncContent:function(e,t,n){var r=this.owner,i=Ext.fly(e).down(r.eventSelector,true),s;if(i&&(s=Ext.fly(t).down(r.eventSelector,true))){Ext.fly(i).syncContent(s)}}}],init:function(e){var t=this,n=t.view=e.getView();e.variableRowHeight=n.variableRowHeight=true;n.rowBodyFeature=t;e.mon(n,{element:"el",click:t.onClick,scope:t});n.headerCt.on({columnschanged:t.onColumnsChanged,scope:t});n.addTpl(t.outerTpl).rowBody=t;n.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=t;t.callParent(arguments)},onClick:function(e){var t=this,n=e.getTarget(t.eventSelector);if(n&&Ext.fly(n=n.previousSibling||n.nextSibling).is(t.view.rowSelector)){e.target=n;t.view.handleEvent(e)}},getSelectedRow:function(e,t){var n=e.getNode(t);if(n){return Ext.fly(n).down(this.eventSelector)}return null},onColumnsChanged:function(e){var t=this.view.el.query(this.rowBodyTdSelector),n=e.getVisibleGridColumns().length,r=t.length,i;for(i=0;i<r;++i){t[i].colSpan=n}},setupRowData:function(e,t,n){if(this.getAdditionalData){Ext.apply(n,this.getAdditionalData(e.data,t,e,n))}},setup:function(e,t){t.rowBodyCls=this.rowBodyCls;t.rowBodyColspan=this.view.headerCt.visibleColumnManager.getColumns().length-this.colSpanDecrement},cleanup:function(e,t){t.rowBodyCls=t.rowBodyColspan=t.rowBody=null}});Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",dock:undefined,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",summaryItemCls:Ext.baseCSSPrefix+"grid-item-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",scrollPadProperty:"padding-right",hasFeatureEvent:false,init:function(e){var t=this,n=t.view;t.callParent(arguments);if(t.dock){e.headerCt.on({add:t.onStoreUpdate,afterlayout:t.onStoreUpdate,scope:t});e.on({beforerender:function(){var r=[t.summaryTableCls];if(n.columnLines){r[r.length]=n.ownerCt.colLinesCls}t.summaryBar=e.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+r.join(" ")+'">','<tr class="'+t.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[t.dockedSummaryCls,t.dockedSummaryCls+"-"+t.dock],xtype:"component",dock:t.dock,weight:1e7})[0]},afterrender:function(){e.body.addCls(t.panelBodyCls+t.dock);n.on("scroll",t.onViewScroll,t);t.onStoreUpdate()},single:true});e.headerCt.afterComponentLayout=Ext.Function.createSequence(e.headerCt.afterComponentLayout,function(){var e=this.getTableWidth(),n=t.summaryBar.innerCt;t.summaryBar.item.setWidth(e);if(this.tooNarrow){e+=Ext.getScrollbarSize().width}n.setWidth(e)})}else{t.view.addFooterFn(t.renderSummaryRow)}e.on({columnmove:t.onStoreUpdate,scope:t});n.mon(n.store,{update:t.onStoreUpdate,datachanged:t.onStoreUpdate,scope:t})},renderSummaryRow:function(e,t,n){var r=e.view,i=r.findFeature("summary");if(i.showSummaryRow){t.push('<table class="'+Ext.baseCSSPrefix+"table-plain "+i.summaryItemCls+'">');i.outputSummaryRecord(i.createSummaryRecord(r),e,t,n);t.push("</table>")}},toggleSummaryRow:function(e){var t=this,n=t.summaryBar;t.callParent(arguments);if(n){n.setVisible(t.showSummaryRow);t.onViewScroll()}},vetoEvent:function(e,t,n,r){return!r.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},createSummaryRecord:function(e){var t=e.headerCt.getVisibleGridColumns(),n=this.summaryRecord,r=t.length,i,s,o,u,a;if(!n){a={id:e.id+"-summary-record"};n=this.summaryRecord=new Ext.data.Model(a)}n.beginEdit();for(i=0;i<r;i++){s=t[i];o=s.dataIndex||s.getItemId();u=this.getSummary(e.store,s.summaryType,o);n.set(o,u);this.setSummaryData(n,s.getItemId(),u)}n.endEdit(true);n.commit(true);n.isSummary=true;return n},onStoreUpdate:function(){var e=this,t=e.view,n=e.createSummaryRecord(t),r=t.createRowElement(n,-1).firstChild.firstChild,i,s;if(!t.rendered){return}if(e.dock){s=e.summaryBar.item.dom.firstChild;i=s.firstChild}else{i=e.view.getRow(n);s=i?i.parentNode:null}if(s){s.insertBefore(r,i);s.removeChild(i)}if(e.dock){e.onColumnHeaderLayout()}},onColumnHeaderLayout:function(){var e=this.view,t=e.headerCt.getVisibleGridColumns(),n,r=t.length,i,s=this.summaryBar.el,o;for(i=0;i<r;i++){n=t[i];o=s.down(e.getCellSelector(n));if(o){o.setWidth(n.width||(n.lastBox?n.lastBox.width:100))}}}});Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:true,mixins:["Ext.mixin.Queryable"],activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:0,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:true,baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">'+"{text}"+"<tpl else>"+'<a id="{id}-itemEl" data-ref="itemEl"'+' class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}"'+' href="{href}" role="menuitem" '+'<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>'+' hidefocus="true"'+' unselectable="on"'+'<tpl if="tabIndex != null">'+' tabindex="{tabIndex}"'+"</tpl>"+">"+'<span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on">{text}</span>'+'<tpl if="hasIcon">'+'<div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}'+'{[values.rightIcon ? "-right" : ""]} {iconCls}'+'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>'+'<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">'+'<tpl if="glyph">&#{glyph};</tpl>'+"</div>"+"</tpl>"+'<tpl if="showCheckbox">'+'<div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}'+'{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} '+'{groupCls} {checkboxCls}{childElCls}">'+"</div>"+"</tpl>"+'<tpl if="hasMenu">'+'<div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div>'+"</tpl>"+"</a>"+"</tpl>",maskOnDisable:false,iconAlign:"left",activate:function(e){var t=this;if(e||!t.activated&&t.canActivate&&t.rendered&&!t.isDisabled()&&t.isVisible()){if(!t.plain){t.el.addCls(t.activeCls)}t.focus(false,true);t.activated=true;if(t.hasListeners.activate){t.fireEvent("activate",t)}}},deactivate:function(){var e=this,t;if(e.activated){t=e.up("");if(!e.plain){e.el.removeCls(e.activeCls)}if(t){t.focus(false,true)}e.hideMenu();e.activated=false;if(e.hasListeners.deactivate){e.fireEvent("deactivate",e)}}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var e;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){e=this.up(":not([hidden])");if(e){e.focus()}}},expandMenu:function(e){var t=this;if(t.menu){t.cancelDeferHide();if(e===0){t.doExpandMenu()}else{clearTimeout(t.expandMenuTimer);t.expandMenuTimer=Ext.defer(t.doExpandMenu,Ext.isNumber(e)?e:t.menuExpandDelay,t)}}},doExpandMenu:function(){var e=this,t=e.menu;if(e.activated&&(!t.rendered||!t.isVisible())){e.parentMenu.activeChild=t;t.ownerCmp=e;t.parentMenu=e.parentMenu;t.constrainTo=document.body;t.showBy(e,e.menuAlign)}},getRefItems:function(e){var t=this.menu,n;if(t){n=t.getRefItems(e);n.unshift(t)}return n||[]},hideMenu:function(e){var t=this;if(t.menu){clearTimeout(t.expandMenuTimer);t.hideMenuTimer=Ext.defer(t.deferHideMenu,Ext.isNumber(e)?e:t.menuHideDelay,t)}},initComponent:function(){var e=this,t=Ext.baseCSSPrefix,n="",r;if(e.plain){n+=t+"menu-item-plain"}if(e.cls){n+=" "+e.cls}e.cls=n;if(e.menu){r=e.menu;delete e.menu;e.setMenu(r)}e.callParent(arguments)},onClick:function(e){var t=this,n=t.clickHideDelay,r=e.browserEvent,i;if(!t.href||t.disabled){e.stopEvent()}if(t.disabled||t.handlingClick){return}if(t.hideOnClick&&e.browserEvent.type!=="touchcancel"&&!(e.type==="tap"&&t.menu)){if(!n){t.deferHideParentMenus()}else{t.deferHideParentMenusTimer=Ext.defer(t.deferHideParentMenus,n,t)}}Ext.callback(t.handler,t.scope,[t,e],0,t);t.fireEvent("click",t,e);if(Ext.isIE9m){i=r.returnValue===false?true:false}else{i=!!r.defaultPrevented}if(t.href&&e.type!=="click"&&!i){t.handlingClick=true;t.itemEl.dom.click();delete t.handlingClick}if(!t.hideOnClick){t.focus()}},onRemoved:function(){var e=this;if(e.activated&&e.parentMenu.activeItem===e){e.parentMenu.deactivateActiveItem()}e.callParent(arguments);e.parentMenu=e.ownerCmp=null},beforeDestroy:function(){var e=this;if(e.rendered){e.clearTip()}e.callParent()},onDestroy:function(){var e=this;clearTimeout(e.expandMenuTimer);e.cancelDeferHide();clearTimeout(e.deferHideParentMenusTimer);e.setMenu(null);e.callParent(arguments)},beforeRender:function(){var e=this,t=e.glyph,n=Ext._glyphFontFamily,r=!!(e.icon||e.iconCls||t),i=!!e.menu,s=e.iconAlign==="right"&&!i,o=e.isMenuCheckItem,u=[],a=e.ownerCt,f=a.plain,l;e.callParent();if(r){if(i&&e.showCheckbox){r=false}}if(typeof t==="string"){l=t.split("@");t=l[0];n=l[1]}if(!f||r&&!s||o){if(a.showSeparator&&!f){u.push(e.indentCls)}else{u.push(e.indentNoSeparatorCls)}}if(i){u.push(e.indentRightArrowCls)}else if(r&&(s||o)){u.push(e.indentRightIconCls)}Ext.applyIf(e.renderData,{hasHref:!!e.href,href:e.href||"#",hrefTarget:e.hrefTarget,icon:e.icon,iconCls:e.iconCls,glyph:t,glyphCls:t?Ext.baseCSSPrefix+"menu-item-glyph":undefined,glyphFontFamily:n,hasIcon:r,hasMenu:i,indent:!f||r||o,isCheckItem:o,rightIcon:s,plain:e.plain,text:e.text,arrowCls:e.arrowCls,baseIconCls:e.baseIconCls,textCls:e.textCls,indentCls:u.join(" "),linkCls:e.linkCls,linkHrefCls:e.linkHrefCls,groupCls:e.group?e.groupCls:"",tabIndex:e.tabIndex})},onRender:function(){var e=this;e.callParent(arguments);if(e.tooltip){e.setTooltip(e.tooltip,true)}},setMenu:function(e,t){var n=this,r=n.menu,i=n.arrowEl;if(r){r.ownerCmp=r.parentMenu=null;if(t===true||t!==false&&n.destroyMenu){Ext.destroy(r)}}if(e){e=n.menu=Ext.menu.Manager.get(e,{ownerCmp:n});e.ownerCmp=n}else{e=n.menu=null}if(e&&n.rendered&&!n.destroying&&i){i[e?"addCls":"removeCls"](n.arrowCls)}},setHandler:function(e,t){this.handler=e||null;this.scope=t},setIcon:function(e){var t=this.iconEl,n=this.icon;if(t){t.src=e||Ext.BLANK_IMAGE_URL}this.icon=e;this.fireEvent("iconchange",this,n,e)},setIconCls:function(e){var t=this,n=t.iconEl,r=t.iconCls;if(n){if(t.iconCls){n.removeCls(t.iconCls)}if(e){n.addCls(e)}}t.iconCls=e;t.fireEvent("iconchange",t,r,e)},setText:function(e){var t=this,n=t.textEl||t.el,r=t.text;t.text=e;if(t.rendered){n.setHtml(e||"");t.ownerCt.updateLayout()}t.fireEvent("textchange",t,r,e)},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(e,t){var n=this;if(n.rendered){if(!t){n.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(e)){Ext.tip.QuickTipManager.register(Ext.apply({target:n.itemEl.id},e));n.tooltip=e}else{n.itemEl.dom.setAttribute(n.getTipAttr(),e)}}else{n.tooltip=e}return n},privates:{getFocusEl:function(){return this.itemEl}}});Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:true,isMenuCheckItem:true,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){var e=this;e.checked=!!e.checked;e.callParent(arguments);Ext.menu.Manager.registerCheckable(e);if(e.group){if(e.initialConfig.hideOnClick!==false){e.hideOnClick=true}}},beforeRender:function(){var e=this;e.callParent();Ext.apply(e.renderData,{checkboxCls:e.checkboxCls,showCheckbox:e.showCheckbox})},afterRender:function(){var e=this;e.callParent();e.checked=!e.checked;e.setChecked(!e.checked,true);if(e.checkChangeDisabled){e.disableCheckChange()}},disableCheckChange:function(){var e=this,t=e.checkEl;if(t){t.addCls(e.disabledCls)}if(Ext.isIE8&&e.rendered){e.el.repaint()}e.checkChangeDisabled=true},enableCheckChange:function(){var e=this,t=e.checkEl;if(t){t.removeCls(e.disabledCls)}e.checkChangeDisabled=false},onClick:function(e){var t=this;if(!t.disabled&&!t.checkChangeDisabled&&!(t.checked&&t.group)){t.setChecked(!t.checked)}this.callParent([e])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(e,t){var n=this,r=n.checkedCls,i=n.uncheckedCls,s=n.el;if(n.checked!==e&&(t||n.fireEvent("beforecheckchange",n,e)!==false)){if(s){if(e){s.addCls(r);s.removeCls(i)}else{s.addCls(i);s.removeCls(r)}}n.checked=e;Ext.menu.Manager.onCheckChange(n,e);if(!t){Ext.callback(n.checkHandler,n.scope||n,[n,e]);n.fireEvent("checkchange",n,e)}}}});Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",constructor:function(e){var t=this;t.menu=e.target;t.callParent([Ext.apply({down:t.down,enter:t.enter,esc:t.escape,left:t.left,right:t.right,space:t.enter,tab:t.tab,up:t.up},e)])},down:function(e){var t=this,n=t.menu.focusedItem;if(n&&e.getKey()==e.DOWN&&t.isWhitelisted(n)){return true}t.focusNextItem(1)},enter:function(e){var t=this.menu,n=t.focusedItem;if(t.activeItem){t.onClick(e)}else if(n&&n.isFormField){return true}},escape:function(e){Ext.menu.Manager.hideAll()},focusNextItem:function(e){var t=this.menu,n=t.items,r=t.focusedItem,i=r?n.indexOf(r):-1,s=i+e,o=n.length,u=0,a;while(u<o&&s!==i){if(s<0){s=o-1}else if(s>=o){s=0}a=n.getAt(s);if(t.canActivateItem(a)){t.setActiveItem(a);break}s+=e;++u}},isWhitelisted:function(e){return!!e.needArrowKeys},left:function(e){var t=this.menu,n=t.focusedItem;if(n&&this.isWhitelisted(n)){return true}if(t.parentMenu){t.hide();t.parentMenu.focus()}},right:function(e){var t=this.menu,n=t.focusedItem,r=t.activeItem,i;if(n&&this.isWhitelisted(n)){return true}if(r){i=t.activeItem.menu;if(i){r.expandMenu(0);i.setActiveItem(i.child(":focusable"))}}},tab:function(e){var t=this;if(e.shiftKey){t.up(e)}else{t.down(e)}},up:function(e){var t=this,n=t.menu.focusedItem;if(n&&e.getKey()==e.UP&&t.isWhitelisted(n)){return true}t.focusNextItem(-1)}});Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",focusable:false,canActivate:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(e,t){var n=this;n.callParent();n.addCls(n.separatorCls)}});Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",focusable:true,baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var e=this,t=[Ext.baseCSSPrefix+"menu"],n=e.bodyCls?[e.bodyCls]:[],r=e.floating!==false;Ext.menu.Manager.register(e);if(e.plain){t.push(Ext.baseCSSPrefix+"menu-plain")}e.cls=t.join(" ");n.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls);e.bodyCls=n.join(" ");if(r){if(e.minWidth===undefined){e.minWidth=e.defaultMinWidth}}else{e.hidden=!!e.initialConfig.hidden;e.constrain=false}e.callParent(arguments);Ext.override(e.getLayout(),{configureItem:e.configureItem})},initFloatConstrain:Ext.emptyFn,initHierarchyEvents:Ext.emptyFn,getInherited:function(){var e=this.callParent();e.hidden=this.hidden;return e},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align="stretch"}},onBoxReady:function(){var e=this,t={click:e.onClick,mouseover:e.onMouseOver,scope:e},n=e._iconSeparatorCls;if(Ext.supports.Touch){t.pointerdown=e.onMouseOver;e.mon(Ext.GlobalEvents,"mousedown",e.onDocMouseDown,e)}e.callParent(arguments);if(e.showSeparator){e.iconSepEl=e.body.insertFirst({role:"presentation",cls:n+" "+n+"-"+e.ui,html:"&#160;"})}e.mon(e.el,t);e.mouseMonitor=e.el.monitorMouseLeave(100,e.onMouseLeave,e);if(e.enableKeyNav){e.keyNav=new Ext.menu.KeyNav({target:e,keyMap:e.getKeyMap()})}},canActivateItem:function(e){return e&&!e.isDisabled()&&e.isVisible()&&(e.canActivate||!e.isMenuItem)},deactivateActiveItem:function(e){var t=this,n=t.activeItem,r=t.focusedItem;if(n){n.deactivate();if(!n.activated){delete t.activeItem}}if(r&&e){r.blur();delete t.focusedItem}},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(e){var t=this,n=t.layout.getRenderTarget().dom,r=e.getTarget();while(r.parentNode!==n){r=r.parentNode;if(!r){return}}return Ext.getCmp(r.id)},lookupComponent:function(e){var t=this;if(typeof e=="string"){e=t.lookupItemFromString(e)}else if(Ext.isObject(e)){e=t.lookupItemFromObject(e)}e.minWidth=e.minWidth||t.minWidth;return e},lookupItemFromObject:function(e){var t=this;if(!e.isComponent){if(!e.xtype){e=Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)}else{e=Ext.ComponentManager.create(e,e.xtype)}}if(e.isMenuItem){e.parentMenu=t}return e},lookupItemFromString:function(e){return e=="separator"||e=="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:e})},configureItem:function(e){var t=this.owner,n=Ext.baseCSSPrefix,r=t.ui,i,s;if(e.isMenuItem){e.setUI(r)}else if(t.items.getCount()>1&&!e.rendered&&!e.dock){s=t._itemCmpCls;i=[s+" "+s+"-"+r];if(!t.plain&&(e.indent!==false||e.iconCls==="no-icon")){i.push(n+"menu-item-indent-"+r)}if(e.rendered){e.el.addCls(i)}else{e.cls=(e.cls||"")+" "+i.join(" ")}}this.callParent(arguments)},onClick:function(e){var t=this,n=e.type,r;if(t.disabled){e.stopEvent();return}r=n!=="keydown"?t.getItemFromEvent(e):t.activeItem;if(r&&r.isMenuItem){if(!r.menu||!t.ignoreParentClicks){r.onClick(e)}else{e.stopEvent()}}if(!r||r.disabled){r=undefined}t.fireEvent("click",t,r,e)},onDestroy:function(){var e=this;Ext.menu.Manager.unregister(e);e.parentMenu=e.ownerCmp=null;if(e.rendered){e.el.un(e.mouseMonitor);Ext.destroy(e.keyNav);e.keyNav=null}e.callParent(arguments)},onDocMouseDown:function(e){if(!this.owns(e.target)){this.deactivateActiveItem()}},onMouseLeave:function(e){var t=this;t.deactivateActiveItem();if(t.disabled){return}t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t=this,n=e.getRelatedTarget(),r=!t.el.contains(n),i=t.getItemFromEvent(e),s=t.parentMenu,o=t.ownerCmp;if(r&&s){s.setActiveItem(o);o.cancelDeferHide();s.mouseMonitor.mouseenter()}if(t.disabled){return}if(i&&!i.activated){t.setActiveItem(i);if(i.activated&&i.expandMenu){i.expandMenu()}}if(r){t.fireEvent("mouseenter",t,e)}t.fireEvent("mouseover",t,i,e)},setActiveItem:function(e){var t=this;if(e&&e!=t.activeItem){t.deactivateActiveItem();if(t.canActivateItem(e)){if(e.activate){e.activate(true);if(e.activated){t.activeItem=e;t.focusedItem=e}}else{e.focus();t.focusedItem=e}}}},beforeShow:function(){var e=this,t;if(e.floating){e.savedMaxHeight=e.maxHeight;t=e.container.getViewSize().height;e.maxHeight=Math.min(e.maxHeight||t,t)}e.callParent(arguments)},afterShow:function(){var e=this;e.callParent(arguments);if(e.floating){e.maxHeight=e.savedMaxHeight}},privates:{getFocusEl:function(){return this.el}}});Ext.define("Ext.grid.filters.filter.Base",{mixins:["Ext.mixin.Factoryable"],factoryConfig:{type:"grid.filter"},$configPrefixed:false,$configStrict:false,config:{itemDefaults:null,menuDefaults:{xtype:"menu"}},active:false,type:"string",dataIndex:null,menu:null,updateBuffer:500,isGridFilter:true,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(e){this.initConfig(e)},destroy:function(){this.menu=Ext.destroy(this.menu)},getStore:function(){return this.grid.getStore()},addStoreFilter:function(e){this.getStore().getFilters().add(e)},createFilter:function(e,t){e.id=this.getBaseIdPrefix();if(!e.property){e.property=this.column.dataIndex}if(!e.root){e.root=this.defaultRoot}if(t){e.id+="-"+t}return new Ext.util.Filter(e)},createMenu:function(){var e=this.getMenuConfig();this.menu=Ext.widget(e)},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.column.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getStoreFilter:function(e){var t=this.getBaseIdPrefix();if(e){t+="-"+e}return this.getStore().getFilters().get(t)},removeStoreFilter:function(e){this.getStore().getFilters().remove(e)},setActive:function(e){var t=this,n=t.owner,r=n.activeFilterMenuItem,i;if(t.active!==e){t.active=e;i=t.getStore().getFilters();i.beginUpdate();if(e){t.activate()}else{t.deactivate()}i.endUpdate();if(r&&r.activeFilter===t){r.setChecked(e)}t.column[e?"addCls":"removeCls"](n.filterCls)}},showMenu:function(e){if(!this.menu){this.createMenu()}e.activeFilter=this;e.setMenu(this.menu,false);e.setChecked(this.active);e.setDisabled(this.disabled===true);if(this.active){this.activate(true)}},updateStoreFilter:function(e){this.getStore().getFilters().notify("endupdate")}});Ext.define("Ext.grid.filters.filter.SingleFilter",{extend:"Ext.grid.filters.filter.Base",constructor:function(e){var t=this,n,r;t.callParent([e]);r=t.value;n=t.getStoreFilter();if(n){t.active=true}else{if(t.grid.stateful&&t.getStore().saveStatefulFilters){r=undefined}t.active=r!==undefined;n=t.createFilter({operator:t.operator,value:r});if(t.active){t.addStoreFilter(n)}}t.filter=n},activate:function(e){if(e){this.activateMenu()}else{this.addStoreFilter(this.filter)}},deactivate:function(){this.removeStoreFilter(this.filter)},onFilterRemove:function(){if(!this.menu||this.active){this.active=false}}});Ext.define("Ext.grid.filters.filter.Boolean",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.boolean",type:"boolean",operator:"=",defaultValue:false,yesText:"Yes",noText:"No",createMenu:function(e){var t=this,n=Ext.id(),r={scope:t,click:t.onClick},i=t.getItemDefaults();t.callParent(arguments);t.menu.add([Ext.apply({text:t.yesText,filterKey:1,group:n,checked:!!t.defaultValue,listeners:r},i),Ext.apply({text:t.noText,filterKey:0,group:n,checked:!t.defaultValue,listeners:r},i)])},onClick:function(e){this.setValue(!!e.filterKey)},setValue:function(e){var t=this;t.filter.setValue(e);if(e!==undefined&&t.active){t.updateStoreFilter(t.filter)}else{t.setActive(true)}},activateMenu:Ext.emptyFn});Ext.define("Ext.grid.filters.filter.TriFilter",{extend:"Ext.grid.filters.filter.Base",menuItems:["lt","gt","-","eq"],constructor:function(e){var t=this,n=false,r={},i,s,o,u,a;t.callParent([e]);u=t.value;s=t.getStoreFilter("lt");i=t.getStoreFilter("gt");o=t.getStoreFilter("eq");if(s||i||o){n=t.active=true}else{if(t.grid.stateful&&t.getStore().saveStatefulFilters){u=undefined}t.active=!!u}r.lt=s||t.createFilter({operator:"lt",value:!n&&u&&u.lt||null},"lt");r.gt=i||t.createFilter({operator:"gt",value:!n&&u&&u.gt||null},"gt");r.eq=o||t.createFilter({operator:"eq",value:!n&&u&&u.eq||null},"eq");t.filter=r;if(!n&&t.active){for(a in u){t.addStoreFilter(t.filter[a])}}},activate:function(e){var t=this,n=this.filter,r=t.fields,i,s,o,u;if(t.settingValue){return}for(o in n){i=n[o];s=r[o];u=i.getValue();if(u){u=t.convertValue(u,true);s.setValue(u);s.up("menuitem").setChecked(true,true);if(!e){t.addStoreFilter(i)}}}},deactivate:function(){var e=this.filter,t,n;if(!this.hasActiveFilter()||this.settingValue){return}this.settingValue=true;for(t in e){n=e[t];if(n.getValue()){this.removeStoreFilter(n)}}this.settingValue=false},hasActiveFilter:function(){var e=false,t=this.filter,n=this.getStore().getFilters();if(n.length){for(filter in t){if(n.map[this.getBaseIdPrefix()+"-"+filter]){e=true;break}}}return e},onFilterRemove:function(e){var t=this,n;if(!t.menu&&!t.hasActiveFilter()){t.active=false}else if(t.menu){n={};n[e]=null;t.setValue(n)}},setValue:function(e){var t=this,n=t.fields,r=t.filter,i=[],s=[],o=false,u=t.getStore().getFilters(),a,f,l,c,h;if(t.settingValue){return}t.settingValue=true;if("eq"in e){if(r.lt.getValue()){s.push(n.lt)}if(r.gt.getValue()){s.push(n.gt)}if(e.eq){l=t.convertValue(e.eq,false);i.push(n.eq);r.eq.setValue(l)}else{s.push(n.eq)}}else{if(r.eq.getValue()){s.push(n.eq)}if("lt"in e){if(e.lt){l=t.convertValue(e.lt,false);i.push(n.lt);r.lt.setValue(l)}else{s.push(n.lt)}}if("gt"in e){if(e.gt){l=t.convertValue(e.gt,false);i.push(n.gt);r.gt.setValue(l)}else{s.push(n.gt)}}}if(s.length||i.length){u.beginUpdate();if(s.length){for(c=0,h=s.length;c<h;c++){a=s[c];f=a.filter;a.setValue(null);f.setValue(null);t.removeStoreFilter(f)}}if(i.length){for(c=0,h=i.length;c<h;c++){t.addStoreFilter(i[c].filter)}o=true}u.endUpdate()}if(!o&&u.length){o=t.hasActiveFilter()}if(!o||!t.active){t.setActive(o)}t.settingValue=false}});Ext.define("Ext.grid.filters.filter.Date",{extend:"Ext.grid.filters.filter.TriFilter",alias:"grid.filter.date",uses:["Ext.picker.Date","Ext.menu.Menu"],type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0}},itemDefaults:{xtype:"menucheckitem",selectOnFocus:true,width:125,menu:{layout:"auto",plain:true}},dateFormat:null,convertValue:function(e,t){if(t&&!Ext.isDate(e)){e=Ext.isDate(e)}else if(!t&&Ext.isDate(e)){e=+e}return e},createMenu:function(e){var t=this,n={scope:t,checkchange:t.onCheckChange},r,i,s,o,u,a,f,l,c;t.callParent(arguments);i=t.getItemDefaults();r=t.getFields();if(!t.dateFormat){t.dateFormat=Ext.Date.defaultFormat}s=Ext.apply({minDate:t.minDate,maxDate:t.maxDate,format:t.dateFormat,listeners:{scope:t,select:t.onMenuSelect}},t.getPickerDefaults());t.fields={};for(o=0,u=t.menuItems.length;o<u;o++){a=t.menuItems[o];if(a!=="-"){l={menu:{items:[Ext.apply({itemId:a},s)]}};if(i){Ext.merge(l,i)}if(r){Ext.merge(l,r[a])}f=t.menu.add(l);c=t.fields[a]=f.down("datepicker");c.filter=t.filter[a];c.filterKey=a;f.on(n)}}},getPicker:function(e){return this.fields[e]},onCheckChange:function(e,t){var n=e.down("datepicker").filter,r;if(!t&&n.getValue()){r={};r[n.getOperator()]=null;this.setValue(r)}},onFilterRemove:function(e){var t={};t[e]=null;this.setValue(t);this.fields[e].up("menuitem").setChecked(false,true)},onMenuSelect:function(e,t){var n=this.fields,r=n[e.itemId],i=n.gt,s=n.lt,o=n.eq,u={};r.up("menuitem").setChecked(true,true);if(r===o){s.up("menuitem").setChecked(false,true);i.up("menuitem").setChecked(false,true)}else{o.up("menuitem").setChecked(false,true);if(r===i&&+s.value<+t){s.up("menuitem").setChecked(false,true)}else if(r===s&&+i.value>+t){i.up("menuitem").setChecked(false,true)}}u[r.filterKey]=t;this.setValue(u);e.up("menu").hide()}});Ext.define("Ext.grid.filters.filter.List",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.list",type:"list",operator:"in",itemDefaults:{checked:false,hideOnClick:false},idField:"id",labelField:"text",loadingText:"Loading...",loadOnShow:true,single:false,plain:true,destroy:function(){var e=this,t=e.optionsStore;if(t){if(e.autoStore){t.destroy()}else{t.un("unload",e.onLoad,e)}e.optionsStore=null}e.callParent()},activateMenu:function(){var e=this,t=e.menu.items,n=e.filter.getValue(),r,i,s;for(r=0,i=t.length;r<i;r++){s=t.getAt(r);if(n.indexOf(s.value)>-1){s.setChecked(true,true)}}},createMenu:function(e){var t=this,n=t.getStore(),r=t.optionsStore,i=t.options,s,o;t.callParent(arguments);s=t.menu;if(r){o=r.getData();if(!o.length){s.add({text:t.loadingText,iconCls:"loading-indicator"});s.mon(s,"show",t.show,t);r.on("load",t.createMenuStore,t,{single:true})}else{t.createMenuItems(r)}}else if(i){t.createMenuStore(i)}else if(n.getData().length){t.createMenuStore()}else{n.on("load",t.createMenuStore,s,{single:true})}},createMenuItems:function(e){var t=this,n=t.menu,r=e.getData(),i=r.length,s={checkchange:t.setValue,scope:t},o=t.getItemDefaults(),u,a,f,l;if(i){u=r.items;n.removeAll(true);a=t.single?Ext.id():null;for(l=0;l<i;l++){r=u[l].data;f=r[t.idField];n.add(Ext.apply({text:r[t.labelField],group:a,value:f,listeners:s},o))}t.loaded=true}},createMenuStore:function(e){var t=this,n=[],r,i,s,o;e=!e?t.getStore().collect(t.column.dataIndex,false,true):e.isStore?e.collect(t.labelField,false,true):e||[];for(r=0,i=e.length;r<i;r++){s=e[r];switch(Ext.typeOf(s)){case"array":n.push(s);break;case"object":n.push([s[t.idField],s[t.labelField]]);break;default:if(s!=null){n.push([s,s])}}}o=t.menu.store=new Ext.data.ArrayStore({fields:[t.idField,t.labelField],data:n});t.createMenuItems(o);t.loaded=true;t.autoStore=true},setValue:function(){var e=this,t=e.menu.items,n=[],r,i,s;for(r=0,i=t.length;r<i;r++){s=t.getAt(r);if(s.checked){n.push(s.value)}}e.filter.setValue(n);i=n.length;if(i&&e.active){e.updateStoreFilter(e.filter)}else{e.setActive(!!i)}},show:function(){var e=this;if(e.loadOnShow&&!e.loaded&&!e.optionsStore.loading){e.optionsStore.load()}}});Ext.define("Ext.grid.filters.filter.Number",{extend:"Ext.grid.filters.filter.TriFilter",alias:["grid.filter.number","grid.filter.numeric"],uses:["Ext.form.field.Number"],type:"number",config:{fields:{gt:{iconCls:Ext.baseCSSPrefix+"grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:Ext.baseCSSPrefix+"grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:Ext.baseCSSPrefix+"grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:true,hideEmptyLabel:false,labelSeparator:"",labelWidth:29,selectOnFocus:false},menuDefaults:{bodyPadding:3,showSeparator:false},convertValue:Ext.identityFn,createMenu:function(){var e=this,t={scope:e,keyup:{fn:e.onInputKeyUp,buffer:200},spin:{fn:e.onInputSpin,buffer:200},el:{click:e.stopFn}},n=e.getItemDefaults(),r=e.getFields(),i,s,o,u,a,f;e.callParent();e.fields={};for(s=0,o=e.menuItems.length;s<o;s++){u=e.menuItems[s];if(u!=="-"){i=r[u];f={labelClsExtra:Ext.baseCSSPrefix+"grid-filters-icon "+i.iconCls};if(n){Ext.merge(f,n)}Ext.merge(f,i);f.emptyText=f.emptyText||e.emptyText;delete f.iconCls;e.fields[u]=a=e.menu.add(f);a.filter=e.filter[u];a.filterKey=u;a.on(t)}}},onInputKeyUp:function(e,t){var n;if(t.getKey()===t.RETURN&&e.isValid()){this.menu.hide()}n={};n[e.filterKey]=e.getValue();this.setValue(n)},onInputSpin:function(e,t){var n={};n[e.filterKey]=e.getValue();this.setValue(n)},stopFn:function(e){e.stopPropagation()}});Ext.define("Ext.grid.filters.filter.String",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.string",type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:true,hideEmptyLabel:false,iconCls:Ext.baseCSSPrefix+"grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:true},menuDefaults:{bodyPadding:3,showSeparator:false},createMenu:function(){var e=this,t;e.callParent();t=Ext.apply({},e.getItemDefaults());if(t.iconCls&&!("labelClsExtra"in t)){t.labelClsExtra=Ext.baseCSSPrefix+"grid-filters-icon "+t.iconCls}delete t.iconCls;t.emptyText=t.emptyText||e.emptyText;e.inputItem=e.menu.add(t);e.inputItem.on({scope:e,keyup:{fn:e.onInputKeyUp,buffer:200},el:{click:function(e){e.stopPropagation()}}})},onInputKeyUp:function(e,t){if(t.getKey()===t.RETURN&&e.isValid()){this.menu.hide();return}this.setValue(e.getValue())},setValue:function(e){var t=this;if(t.inputItem){t.inputItem.setValue(e)}t.filter.setValue(e);if(e&&t.active){t.updateStoreFilter(t.filter)}else{t.setActive(!!e)}},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())}});Ext.define("Ext.grid.filters.Filters",{extend:"Ext.plugin.Abstract",requires:["Ext.grid.filters.filter.*"],mixins:["Ext.util.StoreHolder"],alias:"plugin.gridfilters",pluginId:"gridfilters",defaultFilterTypes:{"boolean":"boolean","int":"number",date:"date",number:"number"},filterCls:Ext.baseCSSPrefix+"grid-filters-filtered-column",menuFilterText:"Filters",showMenu:true,stateId:undefined,init:function(e){var t=this,n,r;Ext.Assert.falsey(t.grid);t.grid=e;e.filters=t;if(t.grid.normalGrid){t.isLocked=true}e.clearFilters=t.clearFilters.bind(t);n=e.store;r=e.headerCt;r.on({scope:t,add:t.onAdd,menucreate:t.onMenuCreate});e.on({scope:t,beforedestroy:t.destroy,beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure});t.bindStore(n);if(e.stateful){n.statefulFilters=true}t.initColumns()},initColumns:function(){var e,t,n,r,i,s;n=this.grid.columnManager.getColumns();for(e=0,t=n.length;e<t;e++){r=n[e];i=r.filter;if(i&&!i.isGridFilter){if(!s){s=this.grid.store.getFilters();s.beginUpdate()}this.createColumnFilter(r)}}if(s){s.endUpdate()}},createColumnFilter:function(e){var t=this,n=e.filter,r={column:e,grid:t.grid,owner:t},i,s,o;if(Ext.isString(n)){r.type=n}else{Ext.apply(r,n)}if(!r.type){s=t.store.getModel();i=s&&s.getField(e.dataIndex);o=i&&i.type;r.type=o&&t.defaultFilterTypes[o]||e.defaultFilterType||"string"}return e.filter=Ext.Factory.gridFilter(r)},onAdd:function(e,t,n){var r=t.filter;if(r&&!r.isGridFilter){this.createColumnFilter(t)}},onMenuCreate:function(e,t){t.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(e){var t=this,n,r,i,s;if(t.showMenu){if(!t.menuItems){t.menuItems={}}i=e.up("grid");s=i.id;n=t.menuItems[s];if(!n||n.isDestroyed){n=t.createMenuItem(e,s)}t.activeFilterMenuItem=n;r=t.getMenuFilter(i.headerCt);if(r){r.showMenu(n)}n.setVisible(!!r);t.sep.setVisible(!!r)}},createMenuItem:function(e,t){var n=this,r;n.sep=e.add("-");r=e.add({checked:false,itemId:"filters",text:n.menuFilterText,listeners:{scope:n,checkchange:n.onCheckChange}});return n.menuItems[t]=r},destroy:function(){this.bindStore(null);Ext.destroyMembers(this,"menuItem","sep");this.callParent()},onUnbindStore:function(e){e.getFilters().un("remove",this.onFilterRemove,this)},onBindStore:function(e,t,n){this.local=!e.getRemoteFilter();e.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(e,t){var n=t.items.length,r=this.grid.columnManager,i,s,o,u;for(i=0;i<n;i++){s=t.items[i];u=r.getHeaderByDataIndex(s.getProperty());if(u){o=u.filter;if(o&&!o.settingValue){o.onFilterRemove(s.getOperator())}}}},getMenuFilter:function(e){return e.getMenu().activeHeader.filter},onCheckChange:function(e,t){var n=this.isLocked?e.up("grid"):this.grid,r=this.getMenuFilter(n.headerCt);r.setActive(t)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(e){var t=this,n=t.grid,r=t.store,i=true,s,o,u,a,f,l;if(!Ext.isArray(e)){e=[e]}for(u=0,a=e.length;u<a;u++){f=e[u];s=f.dataIndex;if(f.value){i=false}o=n.columnManager.getHeaderByDataIndex(s);if(o){l=o.filter;if(!l||l&&!l.isGridFilter){o.filter=Ext.apply(l||{},f)}else{Ext.destroy(l);o.filter=f}}}r.suppressNextFilter=i;t.initColumns();r.suppressNextFilter=false},addFilters:function(e){if(e){this.addFilter(e)}},clearFilters:function(e){var t=this.grid,n=t.columnManager.getColumns(),r=t.store,i=r.getAutoFilter(),s,o,u,a,f;if(e!==undefined){r.setAutoFilter(e)}for(u=0,a=n.length;u<a;u++){s=n[u];o=s.filter;if(o&&o.isGridFilter){if(!f){f=r.getFilters();f.beginUpdate()}o.setActive(false)}}if(f){f.endUpdate()}if(e!==undefined){r.setAutoFilter(i)}},onBeforeReconfigure:function(e,t,n){if(n){t.getFilters().beginUpdate()}this.reconfiguring=true},onReconfigure:function(e,t,n,r){var i=this;if(r!==t){i.bindStore(t)}if(n){i.initColumns();t.getFilters().endUpdate()}i.reconfiguring=false}});Ext.define("Ext.grid.locking.HeaderContainer",{extend:"Ext.grid.header.Container",requires:["Ext.grid.ColumnManager"],headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(e){var t=this,n=e.lockedGrid,r=e.normalGrid;t.lockable=e;t.callParent();n.visibleColumnManager.rootColumns=r.visibleColumnManager.rootColumns=e.visibleColumnManager=t.visibleColumnManager=new Ext.grid.ColumnManager(true,n.headerCt,r.headerCt);n.columnManager.rootColumns=r.columnManager.rootColumns=e.columnManager=t.columnManager=new Ext.grid.ColumnManager(false,n.headerCt,r.headerCt);t.relayEvents(n.headerCt,t.headerCtRelayEvents);t.relayEvents(r.headerCt,t.headerCtRelayEvents)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var e=this,t=e.lockable.lockedGrid.headerCt.getColumnsState(),n=e.lockable.normalGrid.headerCt.getColumnsState();return t.concat(n)},applyColumnsState:function(e){var t=this,n=t.lockable.lockedGrid,r=n.headerCt,i=t.lockable.normalGrid.headerCt,s=Ext.Array.toValueMap(r.items.items,"headerId"),o=Ext.Array.toValueMap(i.items.items,"headerId"),u=[],a=[],f=1,l=e.length,c,h,p,d;for(c=0;c<l;c++){d=e[c];p=s[d.id];h=p||o[d.id];if(h){if(h.applyColumnState){h.applyColumnState(d)}if(h.locked===undefined){h.locked=!!p}if(h.locked){u.push(h);if(!h.hidden&&typeof h.width=="number"){f+=h.width}}else{a.push(h)}}}if(u.length+a.length==r.items.getCount()+i.items.getCount()){r.removeAll(false);i.removeAll(false);r.add(u);i.add(a);n.setWidth(f)}}});Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",requires:["Ext.view.AbstractView"],mixins:["Ext.util.Observable","Ext.util.StoreHolder","Ext.util.Focusable"],isLockingView:true,loadMask:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(e){var t=this,n,r;t.ownerGrid=e.ownerGrid;t.navigationModel=new Ext.grid.NavigationModel(t);e.locked.viewConfig.bindStore=e.normal.viewConfig.bindStore=Ext.emptyFn;e.locked.viewConfig.beforeLayout=e.normal.viewConfig.beforeLayout=t.beforeLayout;e.locked.viewConfig.navigationModel=e.normal.viewConfig.navigationModel=t.navigationModel;t.lockedGrid=t.ownerGrid.lockedGrid=Ext.ComponentManager.create(e.locked);t.lockedView=n=t.lockedGrid.getView();if(t.lockedGrid.isTree){t.lockedView.animate=false;e.normal.store=n.store;e.normal.viewConfig.stripeRows=t.lockedView.stripeRows;e.normal.rowLines=t.lockedGrid.rowLines}t.normalGrid=t.ownerGrid.normalGrid=Ext.ComponentManager.create(e.normal);n.lockingPartner=r=t.normalView=t.normalGrid.getView();r.lockingPartner=n;n.isLockedView=r.isNormalView=true;t.loadMask=e.loadMask!==undefined?e.loadMask:t.loadMask;t.mixins.observable.constructor.call(t);t.relayEvents(n,Ext.view.Table.events);t.relayEvents(r,Ext.view.Table.events);r.on({scope:t,itemmouseleave:t.onItemMouseLeave,itemmouseenter:t.onItemMouseEnter});n.on({scope:t,itemmouseleave:t.onItemMouseLeave,itemmouseenter:t.onItemMouseEnter});t.ownerGrid.on({render:t.onPanelRender,scope:t});t.loadingText=r.loadingText;t.loadingCls=r.loadingCls;t.loadingUseMsg=r.loadingUseMsg;t.bindStore(r.dataSource,true,"dataSource");t.getSelectionModel().bindStore(t.ownerGrid.store)},beforeLayout:function(){var e=this.ownerCt.ownerLockable.view,t=e.lockedGrid.view,n=e.normalGrid.view;if(!e.relayingOperation){if(e.lockedGrid.isVisible()){if(t.refreshNeeded){t.doFirstRefresh(t.dataSource)}}if(n.refreshNeeded){n.doFirstRefresh(n.dataSource)}}},onPanelRender:function(){var e=this,t=e.loadMask,n={target:e.ownerGrid,msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:e.ownerGrid.store};e.el=e.ownerGrid.getTargetEl();e.rendered=true;e.initFocusableEvents();e.fireEvent("render",e);if(t){if(Ext.isObject(t)){n=Ext.apply(n,t)}e.loadMask=new Ext.LoadMask(n)}},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(e){return this.getViewForColumn(e).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getViewForColumn:function(e){var t=this.lockedView,n;t.headerCt.cascade(function(t){if(t===e){n=true;return false}});return n?t:this.normalView},onItemMouseEnter:function(e,t){var n=this,r=n.lockedView,i=n.normalView,s;if(e.trackOver){if(e!==r){i=r}s=i.getNode(t);i.highlightItem(s)}},onItemMouseLeave:function(e,t){var n=this,r=n.lockedView,i=n.normalView;if(e.trackOver){if(e!==r){i=r}i.clearHighlight()}},relayFn:function(e,t){t=t||[];var n=this.lockedView;this.relayingOperation=true;n[e].apply(n,t);n=this.normalView;n[e].apply(n,t);this.relayingOperation=false},getSelectionModel:function(){return this.ownerGrid.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(e,t,n){var r=this;if(!t&&n!=="dataSource"){r.getSelectionModel().bindStore(e)}if(r.normalView.componentLayoutCounter){Ext.suspendLayouts();r.normalView.doFirstRefresh(e);r.lockedView.doFirstRefresh(e);Ext.resumeLayouts(true)}},getStoreListeners:function(){var e=this;return{refresh:e.onDataRefresh,replace:e.onReplace,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.refresh}},onDataRefresh:function(){this.relayFn("onDataRefresh",arguments)},onReplace:function(){this.relayFn("onReplace",arguments)},onAdd:function(){this.relayFn("onAdd",arguments)},onRemove:function(){this.relayFn("onRemove",arguments)},onUpdate:function(){this.relayFn("onUpdate",arguments)},refresh:function(){this.relayFn("refresh",arguments)},getNode:function(e){return this.normalView.getNode(e)},getRow:function(e){return this.normalView.getRow(e)},getCell:function(e,t){var n=this.getViewForColumn(t),r=n.getRow(e);return Ext.fly(r).down(t.getCellSelector())},indexOf:function(e){var t=this.lockedView.indexOf(e);if(!t){t=this.normalView.indexOf(e)}return t},focus:function(){this.getFocusEl().focus()},focusRow:function(e){var t,n=this.getNavigationModel().lastFocused;t=n?n.view:this.normalView;t.focusRow(e)},focusCell:function(e){e.view.focusCell(e)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(e){return this.ownerGrid.isVisible(e)},getFocusEl:function(){var e,t=this.getNavigationModel().lastFocused;e=t?t.view:this.normalView;return e.getFocusEl()},getCellInclusive:function(e,t){var n=e.column,r=this.lockedGrid.getColumnManager().getColumns().length;if(n>=r){e=Ext.apply({},e);e.column-=r;return this.normalView.getCellInclusive(e,t)}else{return this.lockedView.getCellInclusive(e,t)}},getCellByPosition:function(e,t){var n=this,r=e.view,i=e.column;if(r===n){r=i.getView()}return r.getCellByPosition(e,t)},getRecord:function(e){var t=this.lockedView.getRecord(e);if(!t){t=this.normalView.getRecord(e)}return t},scrollBy:function(){var e=this.normalView;e.scrollBy.apply(e,arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var e=this;e.bindStore(null,false,"dataSource");e.isDestroyed=true;e.clearListeners();Ext.destroy(e.loadMask,e.navigationModel,e.selModel)}},function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"])});Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",requires:["Ext.grid.locking.View","Ext.grid.header.Container","Ext.grid.locking.HeaderContainer","Ext.view.Table"],supportsOverflowX:"overflow-x"in document.documentElement.style,syncRowHeight:true,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",normalGridCls:Ext.baseCSSPrefix+"grid-inner-normal",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(e){var t=this,n,r,i,s,o;if(t.subGridXType){n=t.subGridXType}else{if(!e){return"gridpanel"}r=this.getXTypes().split("/");i=r.length;s=r[i-1];o=r[i-2];if(o!=="tablepanel"){n=o}else{n=s}}return n},injectLockable:function(){this.focusable=false;this.lockable=true;this.hasView=true;var e=this,t=Ext.getScrollbarSize().height,n=e.store=Ext.StoreManager.lookup(e.store),r=e.getSelectionModel(),i,s,o,u,a,f,l,c,h,p,d,v=e.viewConfig,m=v&&v.loadMask,g=m!==undefined?m:e.loadMask,y=e.findPlugin("bufferedrenderer");i=e.constructLockableFeatures();e.features=null;s=e.constructLockablePlugins();e.plugins=s.topPlugins;o=Ext.apply({id:e.id+"-locked",isLocked:true,ownerGrid:e,ownerLockable:e,xtype:e.determineXTypeToCreate(true),store:n,bufferedRenderer:e.bufferedRenderer,scrollerOwner:false,animate:false,scroll:t?false:"vertical",selModel:r,border:false,cls:e.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||e.normalGrid.floatedFromCollapse},features:i.lockedFeatures,plugins:s.lockedPlugins},e.lockedGridConfig);u=Ext.apply({id:e.id+"-normal",isLocked:false,ownerGrid:e,ownerLockable:e,xtype:e.determineXTypeToCreate(),store:n,bufferedRenderer:e.bufferedRenderer,scrollerOwner:false,selModel:r,border:false,cls:e.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||e.lockedGrid.floatedFromCollapse},features:i.normalFeatures,plugins:s.normalPlugins},e.normalGridConfig);e.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(u,e,e.bothCfgCopy,true);Ext.copyTo(o,e,e.bothCfgCopy,true);Ext.copyTo(u,e,e.normalCfgCopy,true);Ext.copyTo(o,e,e.lockedCfgCopy,true);for(a=0;a<e.normalCfgCopy.length;a++){delete e[e.normalCfgCopy[a]]}for(a=0;a<e.lockedCfgCopy.length;a++){delete e[e.lockedCfgCopy[a]]}e.addStateEvents(["lockcolumn","unlockcolumn"]);f=e.processColumns(e.columns,o);o.columns=f.locked;if(!o.columns.items.length){o.hidden=true}u.columns=f.normal;if(!u.columns.items.length){u.hidden=true}u.flex=1;o.viewConfig=e.lockedViewConfig||{};u.viewConfig=e.normalViewConfig||{};o.viewConfig.loadingUseMsg=false;o.viewConfig.loadMask=false;if(t&&!e.supportsOverflowX){o.viewConfig.style="border-bottom:"+t+"px solid #f6f6f6;"+(o.viewConfig.style||"");u.viewConfig.style="border-bottom:"+t+"px solid #f6f6f6;"+(o.viewConfig.style||"")}u.viewConfig.loadMask=false;if(v&&v.id){Ext.log.warn('id specified on Lockable viewConfig, it will be shared between both views: "'+v.id+'"')}Ext.applyIf(o.viewConfig,v);Ext.applyIf(u.viewConfig,v);if(!e.initialConfig.layout){e.layout={type:"hbox",align:"stretch"}}e.getLayout();if(e.layout.type==="border"){if(e.split){o.split=true}if(!u.title){o.header=false}if(!o.region){o.region="west"}if(!u.region){u.region="center"}e.addCls(Ext.baseCSSPrefix+"grid-locked-split")}if(!(e.layout instanceof Ext.layout.container.Box)){e.split=false}e.view=new Ext.grid.locking.View({loadMask:g,locked:o,normal:u,ownerGrid:e});h=e.lockedGrid.getView();p=e.normalGrid.getView();d=y?{}:{scroll:e.onLockedViewScroll,scope:e};if(t){e.lockedGrid.on({afterlayout:e.afterLockedViewLayout,scope:e});h.getOverflowStyle();if(!h.scrollFlags.y){d.mousewheel={fn:e.onLockedViewMouseWheel,element:"el",scope:e}}}h.on(d);d=y?{}:{scroll:e.onNormalViewScroll,scope:e};p.on(d);l=e.lockedGrid.headerCt;c=e.normalGrid.headerCt;e.headerCt=e.view.headerCt=new Ext.grid.locking.HeaderContainer(e);l.lockedCt=true;l.lockableInjected=true;c.lockableInjected=true;l.on({add:e.delaySyncLockedWidth,remove:e.delaySyncLockedWidth,columnshow:e.delaySyncLockedWidth,columnhide:e.delaySyncLockedWidth,sortchange:e.onLockedHeaderSortChange,columnresize:e.delaySyncLockedWidth,scope:e});c.on({add:e.delaySyncLockedWidth,remove:e.delaySyncLockedWidth,columnshow:e.delaySyncLockedWidth,columnhide:e.delaySyncLockedWidth,sortchange:e.onNormalHeaderSortChange,scope:e});e.modifyHeaderCt();e.items=[e.lockedGrid];if(e.split){e.addCls(Ext.baseCSSPrefix+"grid-locked-split");e.items[1]={xtype:"splitter"}}e.items.push(e.normalGrid);e.relayHeaderCtEvents(l);e.relayHeaderCtEvents(c);e.storeRelayers=e.relayEvents(n,["filterchange","groupchange"]);e.gridRelayers=e.relayEvents(e.normalGrid,["viewready"])},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(e,t){var n=this,r,i,s,o=new Ext.grid.header.Container,u=[],a=[],f={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:u},l={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:a},c={lockedWidth:t.width||0,locked:f,normal:l},h=!(t.width||t.flex),p;if(!n.hasOwnProperty("shrinkWrapLocked")){n.shrinkWrapLocked=h}if(Ext.isObject(e)){Ext.applyIf(f,e);Ext.applyIf(l,e);p=Ext.apply({},e);delete p.items;Ext.apply(o,p);e=e.items}for(r=0,i=e.length;r<i;++r){s=e[r];if(!s.isComponent){s=o.lookupComponent(o.applyDefaults(s))}s.processed=true;if(s.locked||s.autoLock){if(h&&!s.hidden){c.lockedWidth+=n.getColumnWidth(s)||o.defaultWidth}u.push(s)}else{a.push(s)}if(!s.headerId){s.headerId=(s.initialConfig||s).id||"h"+ ++n.headerCounter}}n.fireEvent("processcolumns",n,u,a);o.destroy();if(h){t.width=c.lockedWidth+=Ext.num(n.getSelectionModel().headerWidth,0)+(u.length?1:0)}return c},getColumnWidth:function(e){var t=e.width||0,n,r,i;if(e.flex){Ext.Error.raise("Locked columns in an unsized locked side do NOT support a flex width. You must set a width on the "+e.text+"column.")}if(!t&&e.isGroupHeader){n=e.items.items;r=n.length;for(i=0;i<r;i++){t+=this.getColumnWidth(n[i])}}return t},afterLockedViewLayout:function(){var e=this,t=e.lockedGrid.getView(),n=e.normalGrid.getView(),r=t.el,i=n.el,s=Ext.getScrollbarSize().height,o=t.scrollFlags.x&&e.lockedGrid.headerCt.tooNarrow?s:0,u=n.scrollFlags.x&&e.normalGrid.headerCt.tooNarrow?s:0;if(o!==u){if(o){if(e.supportsOverflowX){i.dom.style.overflowX="scroll";t.getOverflowEl().setStyle(t.getOverflowStyle())}else{i.dom.style.borderBottomWidth=o+"px";r.dom.style.borderBottomWidth="0px"}}else{if(e.supportsOverflowX){r.dom.style.overflowX="scroll";n.getOverflowEl().setStyle(n.getOverflowStyle())}else{r.dom.style.borderBottomWidth=u+"px";i.dom.style.borderBottomWidth="0px"}}}else{if(e.supportsOverflowX){t.getOverflowEl().dom.style.overflowX=u?"scroll":"";n.getOverflowEl().setStyle(n.getOverflowStyle())}else{i.dom.style.borderBottomWidth=r.dom.style.borderBottomWidth="0px"}}},onLockedViewMouseWheel:function(e){var t=this,n=-t.scrollDelta*e.getWheelDeltas().y,r=t.lockedGrid.getView(),i=r.el.dom,s,o,u;if(!t.ignoreMousewheel){if(i){s=r.getScrollY();o=s!==i.scrollHeight-i.clientHeight;u=s!==0}if(n<0&&u||n>0&&o){e.stopEvent();s+=n;r.setScrollY(s);t.normalGrid.getView().setScrollY(s);t.onNormalViewScroll()}}},onLockedViewScroll:function(){var e=this,t=e.lockedGrid.getView(),n=e.normalGrid.getView(),r=t.getScrollY(),i=n.getScrollY(),s,o;if(i!==r){n.setScrollY(r);if(n.bufferedRenderer){o=t.body.dom;s=n.body.dom;s.style.position="absolute";s.style.top=o.style.top}}},onNormalViewScroll:function(){var e=this,t=e.lockedGrid.getView(),n=e.normalGrid.getView(),r=t.getScrollY(),i=n.getScrollY(),s;if(i!==r){t.setScrollY(i);if(n.bufferedRenderer){s=t.body;if(s.dom){s.dom.style.position="absolute";s.translate(null,n.bufferedRenderer.bodyTop)}}}},syncRowHeights:function(){if(!this.isDestroyed){var e=this,t,n=e.lockedGrid.getView(),r=e.normalGrid.getView(),i=n.all.slice(),s=r.all.slice(),o=i.length,u;if(s.length===o){for(t=0;t<o;t++){r.syncRowHeights(i[t],s[t])}u=r.getScrollY();r.setScrollY(u);n.setScrollY(u)}}},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,true);e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,false);e.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.lockedGrid.headerCt.showMenuBy,e.showMenuBy);e.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.normalGrid.headerCt.showMenuBy,e.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(e,t){var n=this.getMenu(),r=n.down("#unlockItem"),i=n.down("#lockItem"),s=r.prev();if(t.lockable===false){s.hide();r.hide();i.hide()}else{s.show();r.show();i.show();if(!r.initialConfig.disabled){r.setDisabled(t.lockable===false)}if(!i.initialConfig.disabled){i.setDisabled(!t.isLockable())}}},getMenuItems:function(e,t){var n=this,r=n.unlockText,i=n.lockText,s=Ext.baseCSSPrefix+"hmenu-unlock",o=Ext.baseCSSPrefix+"hmenu-lock",u=n.onUnlockMenuClick.bind(n),a=n.onLockMenuClick.bind(n);return function(){var n=e.call(this);n.push("-",{itemId:"unlockItem",iconCls:s,text:r,handler:u,disabled:!t});n.push({itemId:"lockItem",iconCls:o,text:i,handler:a,disabled:t});return n}},syncTaskDelay:1,delaySyncLockedWidth:function(){var e=this,t=e.syncLockedWidthTask;if(!t){t=e.syncLockedWidthTask=new Ext.util.DelayedTask(e.syncLockedWidth,e)}if(e.syncTaskDelay===0){e.syncLockedWidth()}else{t.delay(1)}},syncLockedWidth:function(){var e=this,t=e.lockedGrid,n=t.view,r=n.el.dom,i=e.normalGrid,s=t.headerCt.getVisibleGridColumns().length,o=i.headerCt.getVisibleGridColumns().length,u=e.syncLockedWidthTask;if(u){u.cancel()}Ext.suspendLayouts();if(o){i.show();if(s){if(e.shrinkWrapLocked&&!t.headerCt.forceFit){delete t.flex;t.setWidth(t.headerCt.getTableWidth()+t.el.getBorderWidth("lr"))}t.addCls(e.lockedGridCls);t.show();if(e.split){e.child("splitter").show()}}else{t.getView().clearViewEl(true);t.hide();if(e.split){e.child("splitter").hide()}}n.el.setStyle(n.getOverflowStyle());e.ignoreMousewheel=n.scrollFlags.y}else{i.hide();r.style.borderBottomWidth="0";t.flex=1;delete t.width;t.removeCls(e.lockedGridCls);t.show();n.el.setStyle(i.view.getOverflowStyle());e.ignoreMousewheel=true}Ext.resumeLayouts(true);return[s,o]},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(e,t,n){var r=this,i=r.normalGrid,s=r.lockedGrid,o=i.view,u=s.view,a=i.headerCt,f,l;e=e||a.getMenu().activeHeader;n=n||s.headerCt;l=e.ownerCt;if(!e.isLockable()){return}if(e.flex){e.width=e.getWidth();e.flex=null}Ext.suspendLayouts();o.blockRefresh=u.blockRefresh=true;l.remove(e,false);e.locked=true;r.ignoreAddLockedColumn=true;if(Ext.isDefined(t)){n.insert(t,e)}else{n.add(e)}r.ignoreAddLockedColumn=false;o.blockRefresh=u.blockRefresh=false;f=r.syncLockedWidth();if(f[0]){s.getView().refreshView()}if(f[1]){i.getView().refreshView()}Ext.resumeLayouts(true);r.fireEvent("lockcolumn",r,e)},unlock:function(e,t,n){var r=this,i=r.normalGrid,s=r.lockedGrid,o=i.view,u=s.view,a=s.headerCt,f;if(!Ext.isDefined(t)){t=0}e=e||a.getMenu().activeHeader;n=n||i.headerCt;Ext.suspendLayouts();o.blockRefresh=u.blockRefresh=true;e.ownerCt.remove(e,false);e.locked=false;n.insert(t,e);o.blockRefresh=u.blockRefresh=false;f=r.syncLockedWidth();if(f[0]){s.getView().refreshView()}if(f[1]){i.getView().refreshView()}Ext.resumeLayouts(true);r.fireEvent("unlockcolumn",r,e)},reconfigureLockable:function(e,t){var n=this,r=n.store,i=n.lockedGrid,s=n.normalGrid,o;Ext.suspendLayouts();if(t){i.reconfiguring=s.reconfiguring=true;i.headerCt.removeAll();s.headerCt.removeAll();t=n.processColumns(t,i);n.ignoreAddLockedColumn=true;i.headerCt.add(t.locked.items);n.ignoreAddLockedColumn=false;s.headerCt.add(t.normal.items);i.reconfiguring=s.reconfiguring=false;n.syncLockedWidth()}if(e&&e!==r){e=Ext.data.StoreManager.lookup(e);n.store=e;i.bindStore(e);o=i.view;o.store=e;if(!o.dataSource.isFeatureStore){o.dataSource=e}s.bindStore(e);o=s.view;o.store=e;if(!o.dataSource.isFeatureStore){o.dataSource=e}n.view.store=e;n.view.bindStore(e,false,"dataSource")}else{i.getView().refreshView();s.getView().refreshView()}Ext.resumeLayouts(true)},constructLockableFeatures:function(){var e=this.features,t,n,r,i,s=0,o;if(e){if(!Ext.isArray(e)){e=[e]}r=[];i=[];o=e.length;for(;s<o;s++){t=e[s];if(!t.isFeature){t=Ext.create("feature."+t.ftype,t)}switch(t.lockableScope){case"locked":r.push(t);break;case"normal":i.push(t);break;default:t.lockableScope="both";r.push(t);i.push(n=t.clone());n.lockingPartner=t;t.lockingPartner=n}}}return{normalFeatures:i,lockedFeatures:r}},constructLockablePlugins:function(){var e=this.plugins,t,n,r,i,s,o,u=0,a,f,l;if(e){if(!Ext.isArray(e)){e=[e]}i=[];s=[];o=[];a=e.length;for(;u<a;u++){t=e[u];if(t.init){f=t.lockableScope}else{l=t.ptype?Ext.ClassManager.getByAlias("plugin."+t.ptype):Ext.ClassManager.get(t.xclass);f=l.prototype.lockableScope}switch(f){case"both":s.push(r=t.clonePlugin());o.push(n=t.clonePlugin());r.lockingPartner=n;n.lockingPartner=r;Ext.destroy(t);break;case"locked":s.push(t);break;case"normal":o.push(t);break;default:i.push(t)}}}return{topPlugins:i,normalPlugins:o,lockedPlugins:s}},destroyLockable:function(){var e=this,t=e.syncLockedWidthTask;if(t){t.cancel();e.syncLockedWidthTask=null}Ext.destroy(e.view,e.headerCt)}},function(){this.borrow(Ext.Component,["constructPlugin"])});Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:"Ext.AbstractPlugin",alias:"plugin.bufferedrenderer",isBufferedRenderer:true,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,init:function(e){var t=this,n=e.view,r={scroll:t.onViewScroll,resize:t.onViewResize,refresh:t.onViewRefresh,columnschanged:t.checkVariableRowHeight,scope:t,destroyable:true},i=n.initialConfig;if(e.isTree||e.ownerLockable&&e.ownerLockable.isTree){n.blockRefresh=false;if(i&&i.loadMask===undefined){n.loadMask=true}}if(n.positionBody){r.refresh=t.onViewRefresh}t.grid=e;t.view=n;t.isRTL=n.getInherited().rtl;n.bufferedRenderer=t;n.preserveScrollOnRefresh=true;n.animate=false;t.bindStore(n.dataSource);if(n.hasOwnProperty("rowHeight")){t.rowHeight=n.rowHeight}t.position=0;t.gridListeners=e.on("reconfigure",t.onReconfigure,t);t.viewListeners=n.on(r)},checkVariableRowHeight:function(){var e=this,t=e.grid;e.variableRowHeight=e.view.hasVariableRowHeight();if(t.ownerLockable){t.ownerLockable.syncRowHeight=e.variableRowHeight}},bindStore:function(e){var t=this,n=t.view,r=n.dataSource,i=r&&r.isFeatureStore;if(i===e.isFeatureStore){if(t.store){t.unbindStore()}t.storeListeners=e.on({scope:t,groupchange:t.onStoreGroupChange,clear:t.onStoreClear,destroyable:true});t.store=e}if(t.view.componentLayout.layoutCount){delete t.viewSize;if(e.isBufferedStore){e.setViewSize(t.viewSize)}t.onViewResize(t.view,0,t.view.getHeight())}},onReconfigure:function(e,t){if(t&&t!==this.store){this.bindStore(t)}},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){var e=this,t=e.view;if(t.rendered&&!e.store.isDestroyed){if(e.scrollTop!==0){e.bodyTop=e.scrollTop=e.position=e.scrollHeight=0;e.view.setScrollY(0)}e.lastScrollDirection=e.scrollOffset=null;if(!t.hasOwnProperty("rowHeight")){delete e.rowHeight}}},onStoreGroupChange:function(e){var t=this;delete t.rowHeight;t.stretchView(t.view,t.getScrollHeight())},onViewRefresh:function(e,t){var n=this,r=e.all,i=n.scrollHeight,s,o;n.checkVariableRowHeight();if(n.variableRowHeight&&!e.componentLayoutCounter){e.on({boxready:n.onViewRefresh,scope:n,single:true});return}if(!e.hasOwnProperty("rowHeight")&&r.getCount()){delete n.rowHeight}o=n.getScrollHeight();if(o!=i){n.stretchView(e,o)}if(n.refreshing){return}if(n.scrollTop!==e.getScrollY()){n.onViewScroll()}else{if(!n.hasOwnProperty("bodyTop")){n.bodyTop=r.startIndex*n.rowHeight;e.setScrollY(n.bodyTop)}n.setBodyTop(n.bodyTop);s=e.getHeight();if(r.getCount()&&s>0){n.onViewResize(e,null,s);if(t&&r.getCount()!==t.length){t.length=0;t.push.apply(t,n.store.getRange(r.startIndex,r.endIndex))}}}},onViewResize:function(e,t,n,r,i){var s=this,o;s.tableTopBorderWidth=e.body.getBorderWidth("t");if(!i||n!==i){o=Math.ceil(n/s.rowHeight)+s.trailingBufferZone+s.leadingBufferZone;s.viewSize=s.setViewSize(o);s.viewClientHeight=e.el.dom.clientHeight}},onWrappedColumnWidthChange:function(e,t){var n=this,r=n.view;if(n.store.getCount()&&n.bodyTop){delete n.rowHeight;n.stretchView(r,n.getScrollHeight(true));n.setViewSize(Math.ceil(r.getHeight()/n.rowHeight)+n.trailingBufferZone+n.leadingBufferZone);if(n.viewSize>=n.store.getCount()){n.setBodyTop(0)}else if(t>e&&n.bodyTop+r.body.dom.offsetHeight-1>n.scrollHeight){n.setBodyTop(Math.max(0,n.scrollHeight-r.body.dom.offsetHeight))}else if(n.bodyTop>n.scrollTop||n.bodyTop+r.body.dom.offsetHeight<n.scrollTop+r.getHeight(true)){n.setBodyTop(n.scrollTop-n.trailingBufferZone*n.rowHeight)}}},stretchView:function(e,t){var n=this,r=n.store.getCount(),i=e.getTargetEl(),s;if(n.scrollTop>t){n.position=n.scrollTop=t-e.body.dom.offsetHeight;n.view.setScrollY(n.scrollTop)}if(n.bodyTop>t){e.body.translate(null,n.bodyTop=n.position)}if(e.touchScroll){if(e.scrollManager){n.refreshScroller(e,t)}else if(!n.pendingScrollerRefresh){e.on({boxready:function(){n.refreshScroller(e,t);n.pendingScrollerRefresh=false},single:true});n.pendingScrollerRefresh=true}}if(!Ext.supports.touchScroll||Ext.supports.touchScroll===1){if(!n.stretcher){i=e.getTargetEl();if(e.refreshCounter){e.fixedNodes++}s={style:{width:"1px",height:"1px",marginTop:t-1+"px",position:"absolute"}};s.style[n.isRTL?"right":"left"]=0;n.stretcher=i.createChild(s,i.dom.firstChild)}if(n.hasOwnProperty("viewSize")&&r<=n.viewSize){n.stretcher.dom.style.display="none"}else{n.stretcher.dom.style.marginTop=t-1+"px";n.stretcher.dom.style.display=""}}},refreshScroller:function(e,t){e.scrollManager.scroller.setSize({x:e.headerCt.getTableWidth(),y:t});e.scrollManager.refresh()},setViewSize:function(e){var t=this,n=t.store,r=t.view,i=r.all,s=i.getCount(),o,u,a=t.view.lockingPartner&&t.view.lockingPartner.bufferedRenderer,f=s-e,l,c,h,p,d;if(f){t.scrollTop=t.view.getScrollY();t.viewSize=e;if(n.isBufferedStore){n.setViewSize(e)}if(s){d=n.getCount();o=i.startIndex;u=Math.min(o+e-1,d-1);if(!(o===i.startIndex&&u===i.endIndex)){if(a){a.disable()}if(f<0){if(d>s){n.getRange(i.endIndex+1,u,{callback:function(e,t){p=r.doAdd(e,t);r.fireEvent("itemadd",e,t,p)}})}}else{o=i.endIndex-(f-1);u=i.endIndex;i.removeRange(o,u,true);if(r.hasListeners.itemremove){h=n.getRange(o,u);for(l=u,c=h.length-1;c>=0;--l,--c){r.fireEvent("itemremove",h[c],l,t)}}}if(a){a.enable()}}}}return e},getViewRange:function(){var e=this,t=e.view.all,n=e.store,r=0;if(t.getCount()){r=t.startIndex}else if(n.isBufferedStore){if(!n.currentPage){n.currentPage=1}r=t.startIndex=(n.currentPage-1)*(n.pageSize||1);n.currentPage=1}if(n.data.getCount()){return n.getRange(r,r+e.viewSize-1)}else{return[]}},onReplace:function(e,t,n,r){var i=this,s=i.view,o=s.all,u=o.getCount(),a=e.getCount(),f=o.first(true);if(!u||t<=i.getLastVisibleRowIndex()+i.leadingBufferZone||u<i.viewSize&&r.length>n.length||a<u){i.refreshView();u=o.getCount();if(r.length<n.length){if(o.endIndex===a-1&&u<i.viewSize&&u<a){o.scroll(e.getRange(Math.max(0,a-i.viewSize),o.startIndex-1),-1,0);if(a>i.viewSize){i.setBodyTop(i.bodyTop-f.offsetTop)}}if(a<=i.viewSize){if(i.stretcher){i.setBodyTop(0);i.stretcher.dom.style.display="none"}}else if(i.bodyTop+s.body.dom.offsetHeight-1>i.scrollHeight){i.setBodyTop(i.scrollHeight-(s.body.dom.offsetHeight-1))}}}else{i.refreshing=true;i.onViewRefresh(s);i.refreshing=false}},scrollTo:function(e,t,n,r){var i=this,s=i.view,o=s.el.dom,u=i.store,a=u.getCount(),f,l,c,h,p,d,v,m;if((d=s.dataSource.groupingFeature)&&d.collapsible!==false){e=Math.min(Math.max(e,0),s.store.getCount()-1);m=s.store.getAt(e);v=d.getGroup(m);if(v.isCollapsed){d.expand(v.getGroupKey());a=u.getCount()}e=d.indexOf(m)}else{e=Math.min(Math.max(e,0),a-1)}f=Math.max(Math.min(e-Math.floor((i.leadingBufferZone+i.trailingBufferZone)/2),a-i.viewSize+1),0);p=Math.max(f*i.rowHeight-i.tableTopBorderWidth,0);l=Math.min(f+i.viewSize-1,a-1);u.getRange(f,l,{callback:function(a,f,l){i.renderRange(f,l,true);c=u.data.getRange(e,e+1)[0];h=s.getNode(c);s.body.translate(null,i.bodyTop=p);i.position=i.scrollTop=p=Math.min(Math.max(0,p-s.body.getOffsetsTo(h)[1]),o.scrollHeight-o.clientHeight);s.setScrollY(p);if(Ext.isIE){s.setScrollY(p)}if(t){s.selModel.select(c)}if(n){n.call(r||i,e,c)}}})},onViewScroll:function(){var e=this,t=e.store,n=t.getCount(),r,i,s=e.scrollTop=e.view.getScrollY(),o=false,u=e.view.lockingPartner&&e.view.lockingPartner.bufferedRenderer;if(!(e.disabled||n<e.viewSize)){r=s-e.position;i=r>0?1:-1;if(Math.abs(r)>=20||i!==e.lastScrollDirection){e.lastScrollDirection=i;o=e.handleViewScroll(e.lastScrollDirection)}}if(!o){if(u&&u.scrollTop!==s){u.view.setScrollY(u.position=s)}}},handleViewScroll:function(e){var t=this,n=t.view.all,r=t.store,i=t.viewSize,s=r.getCount()-1,o,u;if(e===-1){if(n.startIndex){if(t.topOfViewCloseToEdge()){o=Math.max(0,t.getLastVisibleRowIndex()+t.trailingBufferZone-i)}}}else{if(n.endIndex<s){if(t.bottomOfViewCloseToEdge()){o=Math.max(0,t.getFirstVisibleRowIndex()-t.trailingBufferZone)}}}if(o!=null){u=Math.min(o+i-1,s);if(t.variableRowHeight&&u===n.endIndex&&u<s){u++;t.viewSize=i++;if(r.isBufferedStore){r.setViewSize(t.viewSize)}}if(o!==n.startIndex||u!==n.endIndex){t.renderRange(o,u);return true}}},bottomOfViewCloseToEdge:function(){var e=this;if(e.variableRowHeight){return e.bodyTop+e.view.body.dom.offsetHeight<e.scrollTop+e.view.lastBox.height+e.numFromEdge*e.rowHeight}else{return e.view.all.endIndex-e.getLastVisibleRowIndex()<e.numFromEdge}},topOfViewCloseToEdge:function(){var e=this;if(e.variableRowHeight){return e.bodyTop>e.scrollTop-e.numFromEdge*e.rowHeight}else{return e.getFirstVisibleRowIndex()-e.view.all.startIndex<e.numFromEdge}},refreshView:function(e){var t=this,n=t.view.all,r=t.store,i=r.getCount()-1,s,o=t.view.grid.containsFocus;e=Math.max(0,Math.min(e==null?n.startIndex:e,i-(t.viewSize-t.leadingBufferZone)+1));s=Math.min(Math.max(n.startIndex+t.viewSize-1,t.getLastVisibleRowIndex()+t.leadingBufferZone),i);if(s-e+1>t.viewSize){e=s-t.viewSize+1}r.getRange(e,s,{callback:t.doRefreshView,scope:t,containedFocus:o})},doRefreshView:function(e,t,n,r){var i=this,s=i.view,o=s.getNavigationModel(),u=s.all,a=u.getCount(),f,l=t!==u.startIndex,c;if(s.refreshCounter){s.refreshing=i.refreshing=true;s.clearViewEl(true);if(e.length){f=s.doAdd(e,t);s.refreshSize(u.getCount()!==a);if(l){if(t>u.startIndex){c+=u.item(t,true).offsetTop}else{if(i.variableRowHeight){c=i.scrollTop-i.rowHeight*(i.scrollTop<i.position?i.leadingBufferZone:i.trailingBufferZone)}else{c=t*i.rowHeight-i.tableTopBorderWidth}}i.setBodyTop(c)}s.fireEvent("refresh",s,e)}if(r.containedFocus){o.setPosition(o.getLastFocused(),null,null,null,true)}s.headerCt.setSortState();s.refreshNeeded=s.refreshing=i.refreshing=false}else{s.refresh()}},renderRange:function(e,t,n){var r=this,i=r.view.all,s=r.store;if(!(e===i.startIndex&&t===i.endIndex)){if(s.rangeCached(e,t)){r.cancelLoad();if(r.synchronousRender||n){r.onRangeFetched(null,e,t)}else{if(!r.renderTask){r.renderTask=new Ext.util.DelayedTask(r.onRangeFetched,r,null,false)}r.renderTask.delay(1,null,null,[null,e,t])}}else{r.attemptLoad(e,t)}}},onRangeFetched:function(e,t,n,r,i){var s=this,o=s.view,u,a=o.all,f,l=0,c,h,p=s.view.lockingPartner&&s.view.lockingPartner.bufferedRenderer,d,v,m,g=s.variableRowHeight;if(o.isDestroyed){return}if(e){s.scrollTop=s.view.getScrollY()}else{e=s.store.getRange(t,n);if(!e){return}}if(g){c=s.scrollTop-s.rowHeight*(s.scrollTop<s.position?s.leadingBufferZone:s.trailingBufferZone)}else{c=t*s.rowHeight-s.tableTopBorderWidth}if(t<a.startIndex&&n>a.endIndex){v=a.startIndex-t;o.clearViewEl(true);d=o.doAdd(e,t);o.fireEvent("itemadd",e,t,d);for(m=0;m<v;m++){l-=d[m].offsetHeight}s.setBodyTop(s.bodyTop+l);return}if(s.teleported||t>a.endIndex||n<a.startIndex){o.clearViewEl(true);h=c;s.teleported=false}if(!a.getCount()){d=o.doAdd(e,t);o.fireEvent("itemadd",e,t,d)}else if(n>a.endIndex){f=Math.max(t-a.startIndex,0);if(g){l=a.item(a.startIndex+f,true).offsetTop}a.scroll(Ext.Array.slice(e,a.endIndex+1-t),1,f,t,n);if(g){h=s.bodyTop+l}else{h=c}}else{f=Math.max(a.endIndex-n,0);u=a.startIndex;a.scroll(Ext.Array.slice(e,0,a.startIndex-t),-1,f,t,n);if(g){h=s.bodyTop-a.item(u,true).offsetTop;if(!a.startIndex){if(h){o.setScrollY(s.position=s.scrollTop-=h);h=0}}else if(h<0){l=a.startIndex*s.rowHeight;o.setScrollY(s.position=s.scrollTop+=l);h=s.bodyTop+l}}else{h=c}}s.position=s.scrollTop;h=Math.max(Math.floor(h),0);if(o.positionBody){s.setBodyTop(h)}if(p&&!p.disabled&&!i){p.onRangeFetched(null,t,n,r,true);if(p.bodyTop!==h){p.setBodyTop(h)}if(p.scrollTop!==s.scrollTop){p.view.setScrollY(p.scrollTop=p.position=s.scrollTop)}}},setBodyTop:function(e){var t=this,n=t.view,r=t.store,i=n.body;i.translate(t.isRTL&&Ext.supports.xOriginBug&&n.scrollFlags.y?Ext.getScrollbarSize().width:null,t.bodyTop=e);if(t.variableRowHeight){if(n.all.endIndex===r.getCount()-1){t.stretchView(n,t.bodyTop+i.dom.offsetHeight-1)}else if(t.bodyTop+i.dom.offsetHeight-1>t.scrollHeight){t.stretchView(n,t.scrollHeight+=(r.getCount()-n.all.endIndex)*t.rowHeight)}}},getFirstVisibleRowIndex:function(e,t,n,r){var i=this,s=i.view,o=s.all,u=o.elements,a=i.viewClientHeight,f,l,c=i.bodyTop;if(o.getCount()&&i.variableRowHeight){if(!arguments.length){e=o.startIndex;t=o.endIndex;n=i.scrollTop;r=n+a;if(c>r||c+s.body.dom.offsetHeight<n){i.teleported=true;return Math.floor(i.scrollTop/i.rowHeight)}f=e+Math.min(i.numFromEdge+(i.lastScrollDirection===-1?i.leadingBufferZone:i.trailingBufferZone),Math.floor((t-e)/2))}else{f=e+Math.floor((t-e)/2)}l=c+u[f].offsetTop;if(l+u[f].offsetHeight<n){return i.getFirstVisibleRowIndex(f+1,t,n,r)}if(l<=n){return f}else if(f!==e){return i.getFirstVisibleRowIndex(e,f-1,n,r)}}return Math.floor(i.scrollTop/i.rowHeight)},getLastVisibleRowIndex:function(e,t,n,r){var i=this,s=i.view,o=s.all,u=o.elements,a=i.viewClientHeight,f,l,c,h=i.bodyTop;if(o.getCount()&&i.variableRowHeight){if(!arguments.length){e=o.startIndex;t=o.endIndex;n=i.scrollTop;r=n+a;if(h>r||h+s.body.dom.offsetHeight<n){i.teleported=true;return Math.floor(i.scrollTop/i.rowHeight)+Math.ceil(a/i.rowHeight)}f=t-Math.min(i.numFromEdge+(i.lastScrollDirection===1?i.leadingBufferZone:i.trailingBufferZone),Math.floor((t-e)/2))}else{f=e+Math.floor((t-e)/2)}l=h+u[f].offsetTop;if(l>r){return i.getLastVisibleRowIndex(e,f-1,n,r)}c=l+u[f].offsetHeight;if(c>=r){return f}else if(f!==t){return i.getLastVisibleRowIndex(f+1,t,n,r)}}return i.getFirstVisibleRowIndex()+Math.ceil(a/i.rowHeight)},getScrollHeight:function(e){var t=this,n=t.view,r=n.all,i=t.store,s=i.getCount(),o,u;if(!s){return 0}if(!t.hasOwnProperty("rowHeight")){if(o=r.getCount()){t.rowHeight=t.variableRowHeight?Math.floor(n.body.dom.clientHeight/o):r.first(true).offsetHeight}}u=Math.floor(s*t.rowHeight);if(!e){if(u&&r.endIndex===s-1){u=Math.max(u,t.bodyTop+n.body.dom.offsetHeight-1)}}return t.scrollHeight=u},attemptLoad:function(e,t){var n=this;if(n.scrollToLoadBuffer){if(!n.loadTask){n.loadTask=new Ext.util.DelayedTask(n.doAttemptLoad,n,[])}n.loadTask.delay(n.scrollToLoadBuffer,n.doAttemptLoad,n,[e,t])}else{n.store.getRange(e,t,{callback:n.onRangeFetched,scope:n,fireEvent:false})}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(e,t){this.store.getRange(e,t,{callback:this.onRangeFetched,scope:this,fireEvent:false})},destroy:function(){var e=this,t=e.view;if(t&&t.el){t.un("scroll",e.onViewScroll,e)}Ext.destroy(e.viewListeners,e.storeListeners,e.gridListeners)}},function(e){if(Ext.supports.Touch){e.prototype.leadingBufferZone=e.prototype.trailingBufferZone=2;e.prototype.numFromEdge=1}});Ext.define("Ext.grid.plugin.Editing",{extend:"Ext.plugin.Abstract",alias:"editing.editing",requires:["Ext.grid.column.Column","Ext.util.KeyNav","Ext.form.field.Base","Ext.view.Table"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,triggerEvent:undefined,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(e){var t=this;t.callParent(arguments);t.mixins.observable.constructor.call(t);t.on("edit",function(e,n){t.fireEvent("afteredit",e,n)})},init:function(e){var t=this;t.grid=e;t.view=e.view;t.initEvents();t.mon(e,{beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure,scope:t,beforerender:{fn:t.onReconfigure,single:true,scope:t}});e.relayEvents(t,t.relayedEvents);if(t.grid.ownerLockable){t.grid.ownerLockable.relayEvents(t,t.relayedEvents)}e.isEditable=true;e.editingPlugin=e.view.editingPlugin=t},resolveListenerScope:function(e){return this.grid.resolveListenerScope(e)},onBeforeReconfigure:function(){this.reconfiguring=true},onReconfigure:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns());delete this.reconfiguring},destroy:function(){var e=this,t=e.grid;Ext.destroy(e.keyNav);e.clearListeners();if(t){t.editingPlugin=t.view.editingPlugin=e.grid=e.view=e.editor=e.keyNav=null}},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){if(e.isGroupHeader){e=e.getGridColumns()}else if(!Ext.isArray(e)){e=[e]}var t=this,n,r=e.length,i;for(n=0;n<r;n++){i=e[n];if(!i.getEditor){i.getEditor=function(e,n){return t.getColumnField(this,n)}}if(!i.hasEditor){i.hasEditor=function(){return t.hasColumnField(this)}}if(!i.setEditor){i.setEditor=function(e){t.setColumnField(this,e)}}}},removeFieldAccessors:function(e){if(e.isGroupHeader){e=e.getGridColumns()}else if(!Ext.isArray(e)){e=[e]}var t,n=e.length,r;for(t=0;t<n;t++){r=e[t];r.getEditor=r.hasEditor=r.setEditor=r.field=r.editor=null}},getColumnField:function(e,t){var n=this,r=e.field;if(!(r&&r.isFormField)){r=e.field=n.createColumnField(e,t)}if(r&&r.ui==="default"&&!r.hasOwnProperty("ui")){r.ui=n.defaultFieldUI}return r},hasColumnField:function(e){return!!(e.field&&e.field.isComponent)},setColumnField:function(e,t){e.field=t;e.field=this.createColumnField(e)},createColumnField:function(e,t){var n=e.field,r;if(!n&&e.editor){n=e.editor;e.editor=null}if(!n&&t){n=t}if(n){r=e.dataIndex;if(n.isComponent){n.column=e}else{if(Ext.isString(n)){n={name:r,xtype:n,column:e}}else{n=Ext.apply({name:r,column:e},n)}n=Ext.ComponentManager.create(n,this.defaultFieldXType)}n.dataIndex=r;n.isEditorComponent=true;e.field=n}return n},initEvents:function(){var e=this;e.initEditTriggers();e.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;if(e.triggerEvent=="cellfocus"){e.mon(t,"cellfocus",e.onCellFocus,e)}else if(e.triggerEvent=="rowfocus"){e.mon(t,"rowfocus",e.onRowFocus,e)}else{if(t.getSelectionModel().isCellModel){t.onCellFocus=e.beforeViewCellFocus.bind(e)}e.mon(t,e.triggerEvent||"cell"+(e.clicksToEdit===1?"click":"dblclick"),e.onCellClick,e)}e.initAddRemoveHeaderEvents();e.view.getNavigationModel().addKeyBindings({enter:e.onEnterKey,esc:e.onEscKey,scope:e})},beforeViewCellFocus:function(e){if(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(e.row,e.columnHeader)){this.view.focusCell.apply(this.view,arguments)}},onRowFocus:function(e,t,n){this.startEdit(t,0)},onCellFocus:function(e,t,n){this.startEdit(n.row,n.column)},onCellClick:function(e,t,n,r,i,s,o){var u=e.expanderSelector,a=e.ownerCt.getColumnManager().getHeaderAtIndex(n),f=a.getEditor(r);if(this.shouldStartEdit(f)&&(!u||!o.getTarget(u))){this.startEdit(r,a)}},initAddRemoveHeaderEvents:function(){var e=this,t=e.grid.headerCt;e.mon(t,{scope:e,add:e.onColumnAdd,columnmove:e.onColumnMove,beforedestroy:e.beforeGridHeaderDestroy})},onColumnAdd:function(e,t){this.initFieldAccessors(t)},onColumnMove:Ext.emptyFn,onEnterKey:function(e){if(e.view===this.view){var t=this,n=t.grid,r=n.getView().getNavigationModel(),i,s,o;s=r.getPosition();if(s){i=s.record;o=s.column}if(i&&o){t.startEdit(i,o)}}},onEscKey:function(e){return this.cancelEdit()},beforeEdit:Ext.emptyFn,shouldStartEdit:function(e){return!!e},startEdit:function(e,t){var n=this,r,i=n.grid.lockable?n.grid:n.view;if(!i.componentLayoutCounter){i.on({boxready:Ext.Function.bind(n.startEdit,n,[e,t]),single:true});return false}if(n.disabled||n.grid.collapsed||!n.grid.view.isVisible(true)){return false}r=n.getEditingContext(e,t);if(r==null){return false}if(!n.preventBeforeCheck){if(n.beforeEdit(r)===false||n.fireEvent("beforeedit",n,r)===false||r.cancel){return false}}return r},getEditingContext:function(e,t){var n=this,r=n.grid,i=r.visibleColumnManager,s,o,u,a,f;if(Ext.isNumber(t)){t=i.getHeaderAtIndex(t)}if(!t){return}if(t.hidden){t=t.next(":not([hidden])")||t.prev(":not([hidden])")}s=t.getOwnerHeaderCt().view;o=s.getRow(e);if(!o){return}a=i.getHeaderIndex(t);if(Ext.isNumber(e)){u=e;e=s.getRecord(o)}else{u=s.indexOf(o)}if(!e){return}f=(new Ext.grid.CellContext(s)).setAll(s,u,a,e,t);f.grid=r;f.store=s.dataSource;f.field=t.dataIndex;f.value=e.get(t.dataIndex);f.row=o;return f},cancelEdit:function(){var e=this;e.editing=false;e.fireEvent("canceledit",e,e.context)},completeEdit:function(){var e=this;if(e.editing&&e.validateEdit()){e.fireEvent("edit",e,e.context)}e.context=null;e.editing=false},validateEdit:function(){var e=this,t=e.context;return e.fireEvent("validateedit",e,t)!==false&&!t.cancel}});Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],lockableScope:"both",init:function(e){var t=this,n=t.lockingPartner;t.callParent(arguments);if(n){if(n.editors){t.editors=n.editors}else{t.editors=n.editors=new Ext.util.MixedCollection(false,function(e){return e.editorId})}}else{t.editors=new Ext.util.MixedCollection(false,function(e){return e.editorId})}},beforeGridHeaderDestroy:function(e){var t=this,n=t.grid.getColumnManager().getColumns(),r=n.length,i,s,o;for(i=0;i<r;i++){s=n[i];o=t.editors.getByKey(s.getItemId());if(!o){o=s.editor||s.field}Ext.destroy(o);t.removeFieldAccessors(s)}},onReconfigure:function(e,t,n){if(n){this.editors.clear()}this.callParent()},destroy:function(){var e=this;if(e.editors){e.editors.each(Ext.destroy,Ext);e.editors.clear()}e.callParent(arguments)},initCancelTriggers:function(){var e=this,t=e.grid;e.mon(t,{columnresize:e.cancelEdit,columnmove:e.cancelEdit,scope:e})},isCellEditable:function(e,t){var n=this,r=n.getEditingContext(e,t);if(n.grid.view.isVisible(true)&&r){t=r.column;e=r.record;if(t&&n.getEditor(e,t)){return true}}},startEdit:function(e,t,n){var r=this,i,s,o,u;if(!n){r.preventBeforeCheck=true;n=r.callParent(arguments);delete r.preventBeforeCheck;if(n===false){return false}}if(n&&n.view.isVisible(true)){e=n.record;t=n.column;n.originalValue=n.value=e.get(t.dataIndex);s=t&&t.getEditor(e)&&!(r.beforeEdit(n)===false||r.fireEvent("beforeedit",r,n)===false||n.cancel);if(s){o=r.getActiveEditor();u=r.getEditor(e,t);if(o){i=u===o;r.completeEdit(!!u)}}else{return false}r.context=n;n.view.scrollCellIntoView(n.view.getCell(e,t));if(u){if(i){u.editing=false;if(Ext.isIE){u.selectSameEditor=true}}r.showEditor(u,n,n.value);if(o&&!i){o.hide()}return true}return false}},showEditor:function(e,t,n){var r=this,i=t.record,s=t.view,o=t.column,u=s.getSelectionModel(),a,f=u.preventFocus;if(!o.up(r.view.ownerCt)){return r.lockingPartner.showEditor(e,r.lockingPartner.getEditingContext(i,o),n)}r.setEditingContext(t);r.setActiveEditor(e);r.setActiveRecord(i);r.setActiveColumn(o);if(!u.isCellSelected(s,i,o)){a=u.getSelectionMode();if(a!=="MULTI"||!u.getSelection().length||u.getSelection().length===1&&u.isSelected(i)){u.preventFocus=false;u.selectByPosition({row:i,column:o,view:s},a==="MULTI");u.preventFocus=f}else if(!t.grid.containsFocus){s.getNavigationModel().setPosition(100,t,null,null,null,true)}}s.getNavigationModel().setPosition();e.startEdit(s.getCell(i,o),n,t);r.editing=true;r.scroll=s.el.getScroll()},completeEdit:function(e){var t=this.getActiveEditor();if(t){t.completeEdit(e);this.editing=false}},setEditingContext:function(e){this.context=e;if(this.lockingPartner){this.lockingPartner.context=e}},setActiveEditor:function(e){this.activeEditor=e;if(this.lockingPartner){this.lockingPartner.activeEditor=e}},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e;if(this.lockingPartner){this.lockingPartner.activeColumn=e}},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e;if(this.lockingPartner){this.lockingPartner.activeRecord=e}},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var n=this,r=n.editors,i=t.getItemId(),s=r.getByKey(i),o=n.grid.ownerLockable||n.grid;if(!s){s=t.getEditor(e);if(!s){return false}if(s instanceof Ext.grid.CellEditor){s.floating=true}else{s=new Ext.grid.CellEditor({floating:true,editorId:i,field:s})}s.field.excludeForm=true;if(s.ownerCt!==o){o.add(s);s.on({scope:n,specialkey:n.onSpecialKey,complete:n.onEditComplete,canceledit:n.cancelEdit});t.on("removed",n.onColumnRemoved,n)}r.add(s)}if(t.isTreeColumn){s.isForTree=t.isTreeColumn;s.addCls(Ext.baseCSSPrefix+"tree-cell-editor")}s.setGrid(n.grid);s.editingPlugin=n;return s},onColumnRemoved:function(e){var t=this,n=t.context,r,i=t.grid.ownerLockable||t.grid;if(n&&n.column===e){t.cancelEdit()}e.un("removed",t.onColumnRemoved,t);if(e.getEditor&&(r=e.getEditor())&&r.ownerCt===i){i.remove(r);r.un({scope:t,specialkey:t.onSpecialKey,complete:t.onEditComplete,canceledit:t.cancelEdit})}},setColumnField:function(e,t){var n=this.editors.getByKey(e.getItemId());Ext.destroy(n,e.field);this.editors.removeAtKey(e.getItemId());this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t)},onSpecialKey:function(e,t,n){var r;if(n.getKey()===n.TAB){n.stopEvent();if(e){e.onEditorTab(n)}r=e.up("tablepanel").getSelectionModel();if(r.onEditorTab){return r.onEditorTab(e.editingPlugin,n)}}},onEditComplete:function(e,t,n){var r=this,i=r.getActiveColumn(),s=r.context,o,u,a,f;if(i){o=s.view;u=o.getSelectionModel();f=u.getSelectionMode()==="MULTI"&&(u.getSelection().length>1||!u.isSelected(a));a=s.record;r.setActiveEditor(null);r.setActiveColumn(null);r.setActiveRecord(null);s.value=t;if(!r.validateEdit()){r.editing=false;return}if(!a.isEqual(t,n)){a.set(i.dataIndex,t);s.rowIdx=o.indexOf(a)}o.getNavigationModel().deferSetPosition(100,s,null,null,null,f);r.fireEvent("edit",r,s);r.editing=false}},cancelEdit:function(){var e=this,t=e.context,n,r,i,s,o=e.getActiveEditor();if(o){e.setActiveEditor(null);e.setActiveColumn(null);e.setActiveRecord(null);n=t.view;r=n.getSelectionModel();s=r.getSelectionMode()==="MULTI"&&(r.getSelection().length>1||!r.isSelected(i));if(o.field){e.context.value="editedValue"in o?o.editedValue:o.getValue();o.cancelEdit()}t.view.getNavigationModel().deferSetPosition(100,t,null,null,null,s);e.callParent(arguments);return}return true},startEditByPosition:function(e){var t=this,n=t.grid.getColumnManager(),r;if(!e.isCellContext){e.column=t.grid.getColumnManager().getColumns()[e.column];e.record=t.view.dataSource.getAt(e.row)}r=n.getHeaderIndex(e.column);e.column=n.getVisibleHeaderClosestToIndex(r);return t.startEdit(e.record,e.column)}});Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,containerScroll:false,init:function(e){e.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var e=this;if(e.dragZone){e.dragZone.unlock()}if(e.dropZone){e.dropZone.unlock()}e.callParent()},disable:function(){var e=this;if(e.dragZone){e.dragZone.lock()}if(e.dropZone){e.dropZone.lock()}e.callParent()},onViewRender:function(e){var t=this,n;if(t.enableDrag){if(t.containerScroll){n=e.getEl()}t.dragZone=new Ext.view.DragZone(Ext.apply({view:e,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText,containerScroll:t.containerScroll,scrollEl:n},t.dragZone))}if(t.enableDrop){t.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:e,ddGroup:t.dropGroup||t.ddGroup},t.dropZone))}}});Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],lockableScope:"top",editStyle:"row",autoCancel:true,errorSummary:true,constructor:function(){var e=this;e.callParent(arguments);if(!e.clicksToMoveEditor){e.clicksToMoveEditor=e.clicksToEdit}e.autoCancel=!!e.autoCancel},destroy:function(){Ext.destroy(this.editor);this.callParent(arguments)},onBeforeReconfigure:function(){this.callParent(arguments);this.cancelEdit()},onReconfigure:function(e,t,n){var r=this.editor;this.callParent(arguments);if(n&&r&&r.rendered){r.needsSyncFieldWidths=true}},shouldStartEdit:function(e){return true},startEdit:function(e,t){var n=this,r=n.getEditor(),i;if(Ext.isEmpty(t)){t=n.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)}if(r.beforeEdit()!==false){i=n.callParent([e,t]);if(i){n.context=i;if(n.lockingPartner){n.lockingPartner.cancelEdit()}r.startEdit(i.record,i.column,i);n.editing=true;return true}}return false},cancelEdit:function(){var e=this;if(e.editing){e.getContextFieldValues();e.getEditor().cancelEdit();e.callParent(arguments);return}return true},completeEdit:function(){var e=this;if(e.editing&&e.validateEdit()){e.editing=false;e.fireEvent("edit",e,e.context)}},validateEdit:function(){this.getContextFieldValues();return this.callParent(arguments)&&this.getEditor().completeEdit()},getEditor:function(){var e=this;if(!e.editor){e.editor=e.initEditor()}return e.editor},getContextFieldValues:function(){var e=this.editor,t=this.context,n=t.record,r={},i={},s=e.query(">[isFormField]"),o=s.length,u,a,f;for(u=0;u<o;u++){f=s[u];a=f.dataIndex;r[a]=f.getValue();i[a]=n.get(a)}Ext.apply(t,{newValues:r,originalValues:i})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var e=this,t=e.grid,n=e.view,r=t.headerCt,i=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s,o=i.length,u={autoCancel:e.autoCancel,errorSummary:e.errorSummary,fields:r.getGridColumns(),hidden:true,view:n,editingPlugin:e},a;for(s=0;s<o;s++){a=i[s];if(Ext.isDefined(e[a])){u[a]=e[a]}}return u},initEditTriggers:function(){var e=this,t=e.view,n=e.clicksToMoveEditor===1?"click":"dblclick";e.callParent(arguments);if(e.clicksToMoveEditor!==e.clicksToEdit){e.mon(t,"cell"+n,e.moveEditorByClick,e)}t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow})},single:true})},startEditByClick:function(){var e=this;if(!e.editing||e.clicksToMoveEditor===e.clicksToEdit){e.callParent(arguments)}},moveEditorByClick:function(){var e=this;if(e.editing){e.superclass.onCellClick.apply(e,arguments)}},onColumnAdd:function(e,t){if(t.isHeader){var n=this,r;n.initFieldAccessors(t);r=n.editor;if(r){r.onColumnAdd(t)}}},beforeGridHeaderDestroy:function(e){var t=this.grid.getColumnManager().getColumns(),n=t.length,r,i,s;for(r=0;r<n;r++){i=t[r];if(i.hasEditor){if(i.hasEditor()&&(s=i.getEditor())){s.destroy()}this.removeFieldAccessors(i)}}},onColumnResize:function(e,t,n){if(t.isHeader){var r=this,i=r.getEditor();if(i){i.onColumnResize(t,n)}}},onColumnHide:function(e,t){var n=this,r=n.getEditor();if(r){r.onColumnHide(t)}},onColumnShow:function(e,t){var n=this,r=n.getEditor();if(r){r.onColumnShow(t)}},onColumnMove:function(e,t,n,r){var i=this,s=i.getEditor();i.initFieldAccessors(t);if(s){s.onColumnMove(t,n,r)}},setColumnField:function(e,t){var n=this,r=n.getEditor();if(r){r.destroyColumnEditor(e)}n.callParent(arguments);if(r){r.insertColumnEditor(e)}},createColumnField:function(e,t){var n=this.editor,r;if(n){r=n.getDefaultFieldCfg()}return this.callParent([e,t||r])}});Ext.define("Ext.grid.plugin.RowExpander",{extend:"Ext.plugin.Abstract",lockableScope:"normal",requires:["Ext.grid.feature.RowBody"],alias:"plugin.rowexpander",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnEnter:true,expandOnDblClick:true,selectRowOnExpand:false,headerWidth:24,bodyBefore:false,rowBodyTrSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowCollapsedCls:Ext.baseCSSPrefix+"grid-row-collapsed",addCollapsedCls:{fn:function(e,t,n){var r=this.rowExpander;if(!r.recordsExpanded[t.record.internalId]){t.itemClasses.push(r.rowCollapsedCls)}this.nextTpl.applyOut(t,e,n)},syncRowHeights:function(e,t){this.rowExpander.syncRowHeights(e,t)},priority:2e4},setCmp:function(e){var t=this,n;t.callParent(arguments);t.recordsExpanded={};if(!t.rowBodyTpl){Ext.Error.raise("The 'rowBodyTpl' config is required and is not defined.")}t.rowBodyTpl=Ext.XTemplate.getTpl(t,"rowBodyTpl");n=t.getFeatureConfig(e);if(e.features){e.features=Ext.Array.push(n,e.features)}else{e.features=n}},getFeatureConfig:function(e){var t=this,n=[],r={ftype:"rowbody",rowExpander:t,bodyBefore:t.bodyBefore,recordsExpanded:t.recordsExpanded,rowBodyHiddenCls:t.rowBodyHiddenCls,rowCollapsedCls:t.rowCollapsedCls,setupRowData:t.getRowBodyFeatureData,setup:t.setup};n.push(Ext.apply({lockableScope:"normal",getRowBodyContents:t.getRowBodyContentsFn(t.rowBodyTpl)},r));if(e.enableLocking){n.push(Ext.apply({lockableScope:"locked",getRowBodyContents:t.lockedTpl?t.getRowBodyContentsFn(t.lockedTpl):function(){return""}},r))}return n},getRowBodyContentsFn:function(e){var t=this;return function(n){e.owner=t;return e.applyTemplate(n.record.getData())}},init:function(e){if(e.lockable){e=e.normalGrid}var t=this,n=e.ownerLockable,r,i;t.callParent(arguments);t.grid=e;r=t.view=e.getView();t.bindView(r);r.addRowTpl(t.addCollapsedCls).rowExpander=t;if(n){t.addExpander(n.lockedGrid.headerCt.items.getCount()?n.lockedGrid:e);i=n.lockedGrid.getView();t.bindView(i);i.addRowTpl(t.addCollapsedCls).rowExpander=t;n.syncRowHeight=true;n.mon(n,{processcolumns:t.onLockableProcessColumns,lockcolumn:t.onColumnLock,unlockcolumn:t.onColumnUnlock,scope:t});t.viewListeners=r.on({itemadd:Ext.Function.createAnimationFrame(n.syncRowHeights,n)})}else{t.addExpander(e);e.on("beforereconfigure",t.beforeReconfigure,t)}},beforeReconfigure:function(e,t,n,r,i){var s=this;if(s.viewListeners){s.viewListeners.destroy()}if(n){s.expanderColumn=new Ext.grid.Column(s.getHeaderConfig());n.unshift(s.expanderColumn)}},onLockableProcessColumns:function(e,t,n){this.addExpander(t.length?e.lockedGrid:e.normalGrid)},addExpander:function(e){var t=this,n=t.getHeaderConfig();if(e.isLocked&&e.ownerLockable.shrinkWrapLocked){e.width+=n.width}t.expanderColumn=e.headerCt.insert(0,n);e.getSelectionModel().injectCheckbox=1},getRowBodyFeatureData:function(e,t,n){var r=this;r.self.prototype.setupRowData.apply(r,arguments);n.rowBody=r.getRowBodyContents(n);n.rowBodyCls=r.recordsExpanded[e.internalId]?"":r.rowBodyHiddenCls},setup:function(e,t){var n=this,r=n.grid.ownerLockable;n.self.prototype.setup.apply(n,arguments);if(r&&Ext.Array.indexOf(n.grid.columnManager.getColumns(),n.rowExpander.expanderColumn)!==-1){t.rowBodyColspan-=1}},bindView:function(e){if(this.expandOnEnter){e.on("itemkeydown",this.onKeyDown,this)}if(this.expandOnDblClick){e.on("itemdblclick",this.onDblClick,this)}},onKeyDown:function(e,t,n,r,i){if(i.getKey()===i.ENTER){var s=e.store,o=e.getSelectionModel().getSelection(),u=o.length,a=0;for(;a<u;a++){r=s.indexOf(o[a]);this.toggleRow(r,o[a])}}},onDblClick:function(e,t,n,r,i){this.toggleRow(r,t)},toggleRow:function(e,t){var n=this,r=n.view,i=r.bufferedRenderer,s=r.scrollManager,o=r,u=r.getNode(e),a=Ext.fly(u),f,l=a.down(n.rowBodyTrSelector,true),c=a.hasCls(n.rowCollapsedCls),h=c?"removeCls":"addCls",p=c?2:1,d=n.grid.ownerLockable,v;a[h](n.rowCollapsedCls);Ext.fly(l)[h](n.rowBodyHiddenCls);n.recordsExpanded[t.internalId]=c;if(n.grid.ownerLockable){o=d.getView();if(d.lockedGrid.isVisible()){r=d.view.lockedGrid.view;f=Ext.fly(r.getNode(e));if(f){f[h](n.rowCollapsedCls);l=f.down(n.rowBodyTrSelector,true);Ext.fly(l)[h](n.rowBodyHiddenCls)}}}if(n.expanderColumn){v=Ext.fly(r.getRow(e)).down(n.expanderColumn.getCellSelector(),true);if(v){v.rowSpan=p}}o.fireEvent(c?"expandbody":"collapsebody",u,t,l);if(r.getSizeModel().height.shrinkWrap||d){r.refreshSize(true)}if(s){if(i){i.stretchView(r,i.getScrollHeight(true))}else{s.refresh(true)}}},syncRowHeights:function(e,t){var n=this,r=Ext.fly(e).down(n.rowBodyTrSelector),i=Ext.fly(t).down(n.rowBodyTrSelector),s,o;if(i.isVisible()){if((s=r.getHeight())!==(o=i.getHeight())){if(s>o){i.setHeight(s)}else{r.setHeight(o)}}}else{r.dom.style.height=i.dom.style.height=""}},onColumnUnlock:function(e,t){var n=this,r;e=n.grid.ownerLockable;r=e.lockedGrid.visibleColumnManager.getColumns();if(r.length===1){if(r[0]===n.expanderColumn){e.unlock(n.expanderColumn)}else{e.lock(n.expanderColumn,0)}}},onColumnLock:function(e,t){var n=this,r;e=n.grid.ownerLockable;r=e.lockedGrid.visibleColumnManager.getColumns();if(r.length===1){e.lockedGrid.headerCt.insert(0,n.expanderColumn)}},getHeaderConfig:function(){var e=this,t=e.grid.ownerLockable;return{width:e.headerWidth,lockable:false,autoLock:true,sortable:false,resizable:false,draggable:false,hideable:false,menuDisabled:true,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(){return'<div class="'+Ext.baseCSSPrefix+'grid-row-expander" role="presentation"></div>'},processEvent:function(t,n,r,i,s,o,u){if(o.getTarget("."+Ext.baseCSSPrefix+"grid-row-expander")){if(t==="click"){e.toggleRow(i,u);return e.selectRowOnExpand}}},isLocked:function(){return t.lockedGrid.isVisible()||this.locked},editRenderer:function(){return"&#160;"}}}});Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",inferTypes:true,enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var e=this;e.source=e.source||{};e.addCls(e.gridCls);e.plugins=e.plugins||[];e.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:e.clicksToEdit,startEdit:function(t,n){return this.self.prototype.startEdit.call(this,t,e.valueColumn)}}));e.selModel={selType:"cellmodel",onCellSelect:function(t){t.column=e.valueColumn;t.colIdx=e.valueColumn.getVisibleIndex();return this.self.prototype.onCellSelect.call(this,t)}};e.sourceConfig=Ext.apply({},e.sourceConfig);if(!e.store){e.propStore=e.store=new Ext.grid.property.Store(e,e.source)}e.configure(e.sourceConfig);if(e.sortableColumns){e.store.sort("name","ASC")}e.columns=new Ext.grid.property.HeaderContainer(e,e.store);e.callParent();e.getView().walkCells=this.walkCells;e.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:true})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:true})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:true})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:false,store:[[true,e.headerCt.trueText],[false,e.headerCt.falseText]]})})};e.store.on("update",e.onUpdate,e)},configure:function(e){var t=this,n=t.store,r=0,i=t.store.getCount(),s=t.nameField,o=t.valueField,u,a,f,l;t.configureLegacy(e);if(t.inferTypes){for(;r<i;++r){f=n.getAt(r);u=f.get(s);if(!t.getConfig(u,"type")){a=f.get(o);if(Ext.isDate(a)){l="date"}else if(Ext.isNumber(a)){l="number"}else if(Ext.isBoolean(a)){l="boolean"}else{l="string"}t.setConfig(u,"type",l)}}}},getConfig:function(e,t,n){var r=this.sourceConfig[e],i;if(r){i=r[t]}return i||n},setConfig:function(e,t,n){var r=this.sourceConfig,i=r[e];if(!i){i=r[e]={__copied:true}}else if(!i.__copied){i=Ext.apply({__copied:true},i);r[e]=i}i[t]=n;return n},configureLegacy:function(e){var t=this;t.copyLegacyObject(e,t.customRenderers,"renderer");t.copyLegacyObject(e,t.customEditors,"editor");t.copyLegacyObject(e,t.propertyNames,"displayName");if(t.customRenderers||t.customEditors||t.propertyNames){if(Ext.global.console&&Ext.global.console.warn){Ext.global.console.warn(this.$className,'customRenderers, customEditors & propertyNames have been consolidated into a new config, see "sourceConfig". These configurations will be deprecated.')}}},copyLegacyObject:function(e,t,n){var r;for(r in t){if(t.hasOwnProperty(r)){if(!e[r]){e[r]={}}e[r][n]=t[r]}}},onUpdate:function(e,t,n){var r=this,i,s;if(r.rendered&&n==Ext.data.Model.EDIT){i=t.get(r.valueField);s=t.modified.value;if(r.fireEvent("beforepropertychange",r.source,t.getId(),i,s)!==false){if(r.source){r.source[t.getId()]=i}t.commit();r.fireEvent("propertychange",r.source,t.getId(),i,s)}else{t.reject()}}},walkCells:function(e,t,n,r,i,s){var o=this,u=o.ownerCt.valueColumn;if(t=="left"){t="up"}else if(t=="right"){t="down"}e=Ext.view.Table.prototype.walkCells.call(o,e,t,n,r,i,s);e.column=u;e.colIdx=u.getVisibleIndex();return e},getCellEditor:function(e,t){var n=this,r=e.get(n.nameField),i=e.get(n.valueField),s=n.getConfig(r,"editor"),o=n.getConfig(r,"type"),u=n.editors;if(s){if(!(s instanceof Ext.grid.CellEditor)){if(!(s instanceof Ext.form.field.Base)){s=Ext.ComponentManager.create(s,"textfield")}s=n.setConfig(r,"editor",new Ext.grid.CellEditor({field:s}))}}else if(o){switch(o){case"date":s=u.date;break;case"number":s=u.number;break;case"boolean":s=n.editors["boolean"];break;default:s=u.string}}else if(Ext.isDate(i)){s=u.date}else if(Ext.isNumber(i)){s=u.number}else if(Ext.isBoolean(i)){s=u["boolean"]}else{s=u.string}s.editorId=r;s.field.column=n.valueColumn;return s},beforeDestroy:function(){var e=this;e.callParent();e.destroyEditors(e.editors);e.destroyEditors(e.customEditors);delete e.source},destroyEditors:function(e){for(var t in e){if(e.hasOwnProperty(t)){Ext.destroy(e[t])}}},setSource:function(e,t){var n=this;n.source=e;if(t!==undefined){n.sourceConfig=Ext.apply({},t);n.configure(n.sourceConfig)}n.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},setProperty:function(e,t,n){this.propStore.setValue(e,t,n)},removeProperty:function(e){this.propStore.remove(e)}});Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(e,t){var n=this;n.grid=e;n.store=t;n.callParent([{isRootHeader:true,enableColumnResize:Ext.isDefined(e.enableColumnResize)?e.enableColumnResize:n.enableColumnResize,enableColumnMove:Ext.isDefined(e.enableColumnMove)?e.enableColumnMove:n.enableColumnMove,items:[{header:n.nameText,width:e.nameColumnWidth||n.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,renderer:n.renderProp.bind(n),itemId:e.nameField,menuDisabled:true,tdCls:n.nameColumnCls,innerCls:n.nameColumnInnerCls},{header:n.valueText,renderer:n.renderCell.bind(n),getEditor:n.getCellEditor.bind(n),sortable:e.sortableColumns,flex:1,fixed:true,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:true}]}]);n.grid.valueColumn=n.items.items[1]},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,n){var r=this,i=r.grid,s=i.getConfig(n.get(i.nameField),"renderer"),o=e;if(s){return s.apply(r,arguments)}if(Ext.isDate(e)){o=r.renderDate(e)}else if(Ext.isBoolean(e)){o=r.renderBool(e)}return Ext.util.Format.htmlEncode(o)},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){return this.grid.getConfig(e,"displayName",e)}});Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"});Ext.define("Ext.grid.property.Reader",{extend:"Ext.data.reader.Reader",successProperty:null,totalProperty:null,messageProperty:null,read:function(e){return this.readRecords(e)},readRecords:function(e){var t=this.getModel(),n={records:[],success:true},r,i;for(i in e){if(e.hasOwnProperty(i)){r=e[i];if(this.isEditableValue(r)){n.records.push(new t({name:i,value:r}))}}}n.total=n.count=n.records.length;return new Ext.data.ResultSet(n)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)||e===null}});Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",remoteSort:true,requires:["Ext.grid.property.Reader","Ext.data.proxy.Memory","Ext.grid.property.Property"],constructor:function(e,t){var n=this;n.grid=e;n.source=t;n.callParent([{data:t,model:Ext.grid.property.Property,proxy:n.getProxy()}])},getProxy:function(){var e=this.proxy;if(!e){e=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})}return e},getReader:function(){var e=this.reader;if(!e){e=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})}return e},setSource:function(e){var t=this;t.source=e;t.suspendEvents();t.removeAll();t.getProxy().setData(e);t.load();t.resumeEvents();t.fireEvent("datachanged",t);t.fireEvent("refresh",t)},getProperty:function(e){return Ext.isNumber(e)?this.getAt(e):this.getById(e)},setValue:function(e,t,n){var r=this,i=r.getRec(e);if(i){i.set("value",t);r.source[e]=t}else if(n){r.source[e]=t;i=new Ext.grid.property.Property({name:e,value:t},e);r.add(i)}},remove:function(e){var t=this.getRec(e);if(t){this.callParent([t]);delete this.source[e]}},getRec:function(e){return this.getById(e)},getSource:function(){return this.source},onDestroy:function(){Ext.destroy(this.reader,this.proxy);this.callParent()}});Ext.define("Ext.layout.ClassList",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{dirty:false,constructor:function(n){this.owner=n;this.map=t(this.classes=e(n.el.className))},add:function(e){var t=this;if(!t.map[e]){t.map[e]=true;t.classes.push(e);if(!t.dirty){t.dirty=true;t.owner.markDirty()}}},addMany:function(t){Ext.each(e(t),this.add,this)},contains:function(e){return this.map[e]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(e){var t=this;if(t.map[e]){delete t.map[e];t.classes=Ext.Array.filter(t.classes,function(t){return t!=e});if(!t.dirty){t.dirty=true;t.owner.markDirty()}}},removeMany:function(n){var r=this,i=t(e(n));r.classes=Ext.Array.filter(r.classes,function(e){if(!i[e]){return true}delete r.map[e];if(!r.dirty){r.dirty=true;r.owner.markDirty()}return false})}}}());Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e){var t=this,n=t.getKey(e);if(!t.map[n]){++t.length;t.items.push(e);t.map[n]=e}return e},clear:function(){var e=this,t=e.items;e.items=[];e.map={};e.length=0;return t},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t=this,n=t.getKey(e),r=t.items,i;if(t.map[n]){i=Ext.Array.indexOf(r,e);Ext.Array.erase(r,i,1);delete t.map[n];--t.length}return e}});Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(e){var t=this,n=Ext.layout.SizeModel.sizeModels,r=n.configured,i=n.shrinkWrap,s,o,u,a,f,l,c,h,p,d,v,m,g,y;Ext.apply(t,e);s=t.el;t.id=s.id;t.flushedProps={};t.props=f={};t.styles={};c=t.target;if(!c.isComponent){o=s.lastBox}else{t.wrapsComponent=true;t.framing=c.frameSize||null;t.isComponentChild=c.ownerLayout&&c.ownerLayout.isComponentLayout;o=c.lastBox;u=c.ownerCt;if(u&&(a=u.el&&t.context.items[u.el.id])){t.ownerCtContext=a}t.sizeModel=l=c.getSizeModel(a&&a.widthModel.pairsByHeightOrdinal[a.heightModel.ordinal]);t.widthModel=m=l.width;t.heightModel=g=l.height;if(o&&o.invalid===false){d=c.width===(h=o.width);v=c.height===(p=o.height);if(m===i&&g===i){y=true}else if(m===r&&d){y=g===i||g===r&&v}if(y){t.optOut=true;f.width=h;f.height=p}}}t.lastBox=o},init:function(e,t){var n=this,r=n.props,i=n.dirty,s=n.ownerCtContext,o=n.target.ownerLayout,u=!n.state,a=e||u,f,l,c,h,p,d,v=n.heightModel,m=n.widthModel,g,y,b=0;n.dirty=n.invalid=false;n.props={};n.remainingChildDimensions=0;if(n.boxChildren){n.boxChildren.length=0}if(!u){n.clearAllBlocks("blocks");n.clearAllBlocks("domBlocks")}if(!n.wrapsComponent){return a}d=n.target;n.state={};if(u){if(d.beforeLayout&&d.beforeLayout!==Ext.emptyFn){d.beforeLayout()}if(!s&&(h=d.ownerCt)){s=n.context.items[h.el.id]}if(s){n.ownerCtContext=s;n.isBoxParent=o&&o.isItemBoxParent(n)}else{n.isTopLevel=true}n.frameBodyContext=n.getEl("frameBody")}else{s=n.ownerCtContext;n.isTopLevel=!s;f=n.children;for(l=0,c=f.length;l<c;++l){f[l].init(true)}}n.hasRawContent=!(d.isContainer&&d.items.items.length>0);if(e){n.widthModel=n.heightModel=null;p=d.getSizeModel(s&&s.widthModel.pairsByHeightOrdinal[s.heightModel.ordinal]);if(u){n.sizeModel=p}n.widthModel=p.width;n.heightModel=p.height;if(s&&!n.isComponentChild){if(o.needsItemSize||!d.liquidLayout){s.remainingChildDimensions+=2}else{if(n.widthModel.calculated){++s.remainingChildDimensions}if(n.heightModel.calculated){++s.remainingChildDimensions}}}}else if(r){n.recoverProp("x",r,i);n.recoverProp("y",r,i);if(n.widthModel.calculated){n.recoverProp("width",r,i)}else if("width"in r){++b}if(n.heightModel.calculated){n.recoverProp("height",r,i)}else if("height"in r){++b}if(s&&!n.isComponentChild){s.remainingChildDimensions+=b}}if(r&&o&&o.manageMargins){n.recoverProp("margin-top",r,i);n.recoverProp("margin-right",r,i);n.recoverProp("margin-bottom",r,i);n.recoverProp("margin-left",r,i)}if(t){g=t.heightModel;y=t.widthModel;if(y&&g&&m&&v){if(m.shrinkWrap&&v.shrinkWrap){if(y.constrainedMax&&g.constrainedMin){g=null}}}if(y){n.widthModel=y}if(g){n.heightModel=g}if(t.state){Ext.apply(n.state,t.state)}}return a},initContinue:function(e){var t=this,n=t.ownerCtContext,r=t.target,i=t.widthModel,s=r.getInherited(),o;if(i.fixed){s.inShrinkWrapTable=false}else{delete s.inShrinkWrapTable}if(e){if(n&&i.shrinkWrap){o=n.isBoxParent?n:n.boxParent;if(o){o.addBoxChild(t)}}else if(i.natural){t.boxParent=n}}return e},initDone:function(e){var t=this,n=t.props,r=t.state;if(t.remainingChildDimensions===0){n.containerChildrenSizeDone=true}if(e){n.containerLayoutDone=true}if(t.boxChildren&&t.boxChildren.length&&t.widthModel.shrinkWrap){t.el.setWidth(1e4);r.blocks=(r.blocks||0)+1}},initAnimation:function(){var e=this,t=e.target,n=e.ownerCtContext;if(n&&n.isTopLevel){e.animatePolicy=t.ownerLayout.getAnimatePolicy(e)}else if(!n&&t.isCollapsingOrExpanding&&t.animCollapse){e.animatePolicy=t.componentLayout.getAnimatePolicy(e)}if(e.animatePolicy){e.context.queueAnimation(e)}},addCls:function(e){this.getClassList().addMany(e)},removeCls:function(e){this.getClassList().removeMany(e)},addBlock:function(e,t,n){var r=this,i=r[e]||(r[e]={}),s=i[n]||(i[n]={});if(!s[t.id]){s[t.id]=t;++t.blockCount;++r.context.blockCount}},addBoxChild:function(e){var t=this,n,r=e.widthModel;e.boxParent=this;e.measuresBox=r.shrinkWrap?e.hasRawContent:r.natural;if(e.measuresBox){n=t.boxChildren;if(n){n.push(e)}else{t.boxChildren=[e]}}},addPositionStyles:function(e,t){var n=t.x,r=t.y,i=0;if(n!==undefined){e.left=n+"px";++i}if(r!==undefined){e.top=r+"px";++i}return i},addTrigger:function(e,t){var n=this,r=t?"domTriggers":"triggers",i=n[r]||(n[r]={}),s=n.context,o=s.currentLayout,u=i[e]||(i[e]={});if(!u[o.id]){u[o.id]=o;++o.triggerCount;u=s.triggers[t?"dom":"data"];(u[o.id]||(u[o.id]=[])).push({item:this,prop:e});if(n.props[e]!==undefined){if(!t||!(n.dirty&&e in n.dirty)){++o.firedTriggers}}}},boxChildMeasured:function(){var e=this,t=e.state,n=t.boxesMeasured=(t.boxesMeasured||0)+1;if(n==e.boxChildren.length){t.clearBoxWidth=1;++e.context.progressCount;e.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);t.width=t.left+t.right;t.height=t.top+t.bottom;return t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);t.width=t.left+t.right;t.height=t.top+t.bottom;return t},paddingInfo:function(e){var t=e.frameBodyContext||e,n=t.getStyles(e.paddingNames,e.trblNames);n.width=n.left+n.right;n.height=n.top+n.bottom;return n}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t=this[e],n;if(t){for(n in t){this.clearBlocks(e,n)}}},clearBlocks:function(e,t){var n=this[e],r=n&&n[t],i,s,o;if(r){delete n[t];i=this.context;for(o in r){s=r[o];--i.blockCount;if(!--s.blockCount&&!s.pending&&!s.done){i.queueLayout(s)}}}},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var n=this[e],r=n&&n[t],i=this.context,s,o;if(r){for(o in r){s=r[o];++s.firedTriggers;if(!s.done&&!s.blockCount&&!s.pending){i.queueLayout(s)}}}},flush:function(){var e=this,t=e.dirty,n=e.state,r=e.el;e.dirtyCount=0;if(e.classList&&e.classList.dirty){e.classList.flush()}if("attributes"in e){r.set(e.attributes);delete e.attributes}if("innerHTML"in e){r.innerHTML=e.innerHTML;delete e.innerHTML}if(n&&n.clearBoxWidth){n.clearBoxWidth=0;e.el.setStyle("width",null);if(!--n.blocks){e.context.queueItemLayouts(e)}}if(t){delete e.dirty;e.writeProps(t,true)}},flushAnimations:function(){var e=this,t=e.previousSize,n,r,i,s,o,u,a,f,l,c,h;if(t){n=e.target;r=n.getAnimationProps();i=r.duration;s=Ext.Object.getKeys(e.animatePolicy);o=Ext.apply({},{from:{},to:{},duration:i||Ext.fx.Anim.prototype.duration},r);for(u=0,a=0,f=s.length;a<f;a++){l=s[a];c=t[l];h=e.peek(l);if(c!=h){l=e.translateProps[l]||l;o.from[l]=c;o.to[l]=h;++u}}if(u){if(e.isCollapsingOrExpanding===1){n.componentLayout.undoLayout(e)}else{e.writeProps(o.from)}e.el.animate(o);Ext.fx.Manager.getFxQueue(e.el.id)[0].on({afteranimate:function(){if(e.isCollapsingOrExpanding===1){n.componentLayout.redoLayout(e);n.afterCollapse(true)}else if(e.isCollapsingOrExpanding===2){n.afterExpand(true)}}})}}},getBorderInfo:function(){var e=this,t=e.borderInfo;if(!t){e.borderInfo=t=e.checkCache("borderInfo")}return t},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(e,t){var n=this,r,i,s;if(e){if(e.dom){i=e}else{r=n.target;if(t){r=t}i=r[e];if(typeof i=="function"){i=i.call(r);if(i===n.el){return this}}}if(i){s=n.context.getEl(n,i)}}return s||null},getFrameInfo:function(){var e=this,t=e.frameInfo,n,r;if(!t){n=e.framing;r=e.getBorderInfo();e.frameInfo=t=n?{top:n.top+r.top,right:n.right+r.right,bottom:n.bottom+r.bottom,left:n.left+r.left,width:n.width+r.width,height:n.height+r.height}:r}return t},getMarginInfo:function(){var e=this,t=e.marginInfo,n,r,i,s,o;if(!t){if(!e.wrapsComponent){t=e.checkCache("marginInfo")}else{n=e.target;s=n.ownerLayout;o=s?s.id:null;r=s&&s.manageMargins;t=n.margin$;if(t&&t.ownerId!==o){t=null}if(!t){t=e.parseMargins(n,n.margin)||e.checkCache("marginInfo");if(r){e.setProp("margin-top",0);e.setProp("margin-right",0);e.setProp("margin-bottom",0);e.setProp("margin-left",0)}t.ownerId=o;n.margin$=t}t.width=t.left+t.right;t.height=t.top+t.bottom}e.marginInfo=t}return t},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var e=this,t=e.paddingInfo;if(!t){e.paddingInfo=t=e.checkCache("paddingInfo")}return t},getProp:function(e){var t=this,n=t.props[e];t.addTrigger(e);return n},getDomProp:function(e){var t=this,n=t.dirty&&e in t.dirty?undefined:t.props[e];t.addTrigger(e,true);return n},getStyle:function(e){var t=this,n=t.styles,r,i;if(e in n){i=n[e]}else{r=t.styleInfo[e];i=t.el.getStyle(e);if(r&&r.parseInt){i=parseInt(i,10)||0}n[e]=i}return i},getStyles:function(e,t){var n=this,r=n.styles,i={},s=0,o=e.length,u,a,f,l,c,h,p,d;t=t||e;for(u=0;u<o;++u){l=e[u];if(l in r){i[t[u]]=r[l];++s;if(u&&s==1){a=e.slice(0,u);f=t.slice(0,u)}}else if(s){(a||(a=[])).push(l);(f||(f=[])).push(t[u])}}if(s<o){a=a||e;f=f||t;h=n.styleInfo;p=n.el.getStyle(a);for(u=a.length;u--;){l=a[u];c=h[l];d=p[l];if(c&&c.parseInt){d=parseInt(d,10)||0}i[f[u]]=d;r[l]=d}}return i},hasProp:function(e){return this.getProp(e)!=null},hasDomProp:function(e){return this.getDomProp(e)!=null},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var e=this.boxParent,t=this.state;if(e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox){t.boxMeasured=1;e.boxChildMeasured()}},parseMargins:function(e,t){if(t===true){t=5}var n=typeof t,r;if(n=="string"||n=="number"){r=e.parseBox(t)}else if(t){r={top:0,right:0,bottom:0,left:0};if(t){t=Ext.apply(r,e.parseBox(t))}}return r},peek:function(e){return this.props[e]},recoverProp:function(e,t,n){var r=this,i=r.props,s;if(e in t){i[e]=t[e];if(n&&e in n){s=r.dirty||(r.dirty={});s[e]=n[e]}}},redo:function(e){var t=this,n,r,i;t.revertProps(t.props);if(e&&t.wrapsComponent){if(t.childItems){for(i=0,n=t.childItems,r=n.length;i<r;i++){n[i].redo(e)}}for(i=0,n=t.children,r=n.length;i<r;i++){n[i].redo()}}},removeEl:function(e,t){var n=this,r,i;if(e){if(e.dom){i=e}else{r=n.target;if(t){r=t}i=r[e];if(typeof i=="function"){i=i.call(r);if(i===n.el){return this}}}if(i){n.context.removeEl(n,i)}}},revertProps:function(e){var t,n=this.flushedProps,r={};for(t in e){if(n.hasOwnProperty(t)){r[t]=e[t]}}this.writeProps(r)},setAttribute:function(e,t){var n=this;if(!n.attributes){n.attributes={}}n.attributes[e]=t;n.markDirty()},setBox:function(e){var t=this;if("left"in e){t.setProp("x",e.left)}if("top"in e){t.setProp("y",e.top)}t.setSize(e.width,e.height)},setContentHeight:function(e,t){if(!t&&this.hasRawContent){return 1}return this.setProp("contentHeight",e)},setContentWidth:function(e,t){if(!t&&this.hasRawContent){return 1}return this.setProp("contentWidth",e)},setContentSize:function(e,t,n){return this.setContentWidth(e,n)+this.setContentHeight(t,n)==2},setProp:function(e,t,n){var r=this,i=typeof t,s;if(i=="undefined"||i==="number"&&isNaN(t)){return 0}if(r.props[e]===t){return 1}r.props[e]=t;++r.context.progressCount;if(n===false){r.fireTriggers("domTriggers",e);r.clearBlocks("domBlocks",e)}else{s=r.styleInfo[e];if(s){if(!r.dirty){r.dirty={}}r.dirty[e]=t;r.markDirty()}}r.fireTriggers("triggers",e);r.clearBlocks("blocks",e);return 1},setHeight:function(e,t){var n=this,r=n.target,i=n.ownerCtContext,s,o,u,a,f;if(e<0){e=0}if(!n.wrapsComponent){if(!n.setProp("height",e,t)){return NaN}}else{u=n.collapsedVert?0:r.minHeight||0;e=Ext.Number.constrain(e,u,r.maxHeight);a=n.props.height;if(!n.setProp("height",e,t)){return NaN}if(i&&!n.isComponentChild&&isNaN(a)){f=--i.remainingChildDimensions;if(!f){i.setProp("containerChildrenSizeDone",true)}}s=n.frameBodyContext;if(s){o=n.getFrameInfo();s[n.el.vertical?"setWidth":"setHeight"](e-o.height,t)}}return e},setWidth:function(e,t){var n=this,r=n.target,i=n.ownerCtContext,s,o,u,a,f;if(e<0){e=0}if(!n.wrapsComponent){if(!n.setProp("width",e,t)){return NaN}}else{u=n.collapsedHorz?0:r.minWidth||0;e=Ext.Number.constrain(e,u,r.maxWidth);a=n.props.width;if(!n.setProp("width",e,t)){return NaN}if(i&&!n.isComponentChild&&isNaN(a)){f=--i.remainingChildDimensions;if(!f){i.setProp("containerChildrenSizeDone",true)}}s=n.frameBodyContext;if(s){o=n.getFrameInfo();s.setWidth(e-o.width,t)}}return e},setSize:function(e,t,n){this.setWidth(e,n);this.setHeight(t,n)},translateProps:{x:"left",y:"top"},undo:function(e){var t=this,n,r,i;t.revertProps(t.lastBox);if(e&&t.wrapsComponent){if(t.childItems){for(i=0,n=t.childItems,r=n.length;i<r;i++){n[i].undo(e)}}for(i=0,n=t.children,r=n.length;i<r;i++){n[i].undo()}}},unsetProp:function(e){var t=this.dirty;delete this.props[e];if(t){delete t[e]}},writeProps:function(e,t){if(!(e&&typeof e=="object")){Ext.Logger.warn("writeProps expected dirtyProps to be an object");return}var n=this,r=n.el,i={},s=0,o=n.styleInfo,u,a,f,l=e.width,c=e.height,h=n.target,p,d,v,m,g,y;if("displayed"in e){r.setDisplayed(e.displayed)}for(a in e){if(t){n.fireTriggers("domTriggers",a);n.clearBlocks("domBlocks",a);n.flushedProps[a]=1}u=o[a];if(u&&u.dom){if(u.suffix&&(f=parseInt(e[a],10))){i[a]=f+u.suffix}else{i[a]=e[a]}++s}}if("x"in e||"y"in e){if(h.isComponent){h.setPosition(e.x,e.y)}else{s+=n.addPositionStyles(i,e)}}if(n.wrapsComponent&&Ext.isIE9){if((p=l!==undefined&&n.hasOverflowY)||(d=c!==undefined&&n.hasOverflowX)){v=n.isAbsolute;if(v===undefined){v=false;y=n.target.getTargetEl();g=y.getStyle("position");n.isAbsolute=g==="absolute"}if(v){m=Ext.getScrollbarSize();if(p){l=parseInt(l,10)+m.width;i.width=l+"px";++s}if(d){c=parseInt(c,10)+m.height;i.height=c+"px";++s}}}}if(s){r.setStyle(i)}},debugHooks:{$enabled:false,addBlock:function(e,t,n){(t.blockedBy||(t.blockedBy={}))[this.id+"."+n+(e.substring(0,3)=="dom"?":dom":"")]=1;return this.callParent(arguments)},addBoxChild:function(e){var t=this.callParent(arguments),n=this.boxChildren,r;if(n&&n.length==1){r=this.context.boxParents||(this.context.boxParents=new Ext.util.MixedCollection);r.add(this)}return t},addTrigger:function(e,t){var n=this.context.currentLayout,r;this.callParent(arguments);r=this.context.triggersByLayoutId;(r[n.id]||(r[n.id]={}))[this.id+"."+e+(t?":dom":"")]={item:this,name:e}},checkAuthority:function(e){var t=this,n=t[e+"Model"],r=t.context.currentLayout,i,s;if(r==t.target.ownerLayout){i=n.calculated}else if(r.isComponentLayout){i=t.isTopLevel||n.auto||n.configured}if(!i){s=t.context.getLayoutName(r);Ext.log(s+" cannot set "+e)}},clearBlocks:function(e,t){var n=this[e],r=n&&n[t],i=this.id+"."+t+(e.substring(0,3)=="dom"?":dom":""),s,o;if(r){for(o in r){s=r[o];delete s.blockedBy[i]}}return this.callParent(arguments)},getEl:function(e){var t=this.callParent(arguments);if(t&&t!==this&&t.parent!==this){Ext.Error.raise({msg:"Got element from wrong component"})}return t},init:function(){var e=this,t;t=e.callParent(arguments);if(e.context.logOn.initItem){Ext.log(e.id," consumers: content=",e.consumersContentWidth,"/",e.consumersContentHeight,", container=",e.consumersContainerWidth,"/",e.consumersContainerHeight,", size=",e.consumersWidth,"/",e.consumersHeight)}return t},invalidate:function(){if(this.wrapsComponent){if(this.context.logOn.invalidate){Ext.log("invalidate: ",this.id)}}else{Ext.Error.raise({msg:"Cannot invalidate an element contextItem"})}return this.callParent(arguments)},setProp:function(e,t,n){var r=this,i=r.context.currentLayout,s=r.context.getLayoutName(i),o=r.id+"."+e,u;if(t!==null){u=r.setBy||(r.setBy={});if(!u[e]){u[e]=s}else if(u[e]!=s){Ext.log({level:"warn"},"BAD! ",o," set by ",u[e]," and ",s)}}if(r.context.logOn.setProp){if(typeof t!="undefined"&&!isNaN(t)&&r.props[e]!==t){Ext.log("set ",o," = ",t," (",n,")")}}return this.callParent(arguments)},setHeight:function(e,t,n){if(!n&&this.wrapsComponent){this.checkAuthority("height")}return this.callParent(arguments)},setWidth:function(e,t,n){if(!n&&this.wrapsComponent){this.checkAuthority("width")}return this.callParent(arguments)}}},function(){var e={dom:true,parseInt:true,suffix:"px"},t={dom:true},n={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:n,containerLayoutDone:n,displayed:n,done:n,x:n,y:n,columnWidthsDone:n,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t}});Ext.define("Ext.layout.Context",{requires:["Ext.perf.Monitor","Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,constructor:function(e){var t=this;Ext.apply(t,e);t.items={};t.layouts={};t.blockCount=0;t.cycleCount=0;t.flushCount=0;t.calcCount=0;t.animateQueue=t.newQueue();t.completionQueue=t.newQueue();t.finalizeQueue=t.newQueue();t.finishQueue=t.newQueue();t.flushQueue=t.newQueue();t.invalidateData={};t.layoutQueue=t.newQueue();t.invalidQueue=[];t.triggers={data:{},dom:{}}},callLayout:function(e,t){this.currentLayout=e;e[t](this.getCmp(e.owner))},cancelComponent:function(e,t,n){var r=this,i=e,s=!e.isComponent,o=s?i.length:1,u,a,f,l,c,h,p,d,v,m;for(u=0;u<o;++u){if(s){e=i[u]}if(n&&e.ownerCt){m=this.items[e.ownerCt.el.id];if(m){Ext.Array.remove(m.childItems,r.getCmp(e))}}if(!t){p=r.invalidQueue;f=p.length;if(f){r.invalidQueue=h=[];for(a=0;a<f;++a){d=p[a];v=d.item.target;if(v!=e&&!v.isDescendantOf(e)){h.push(d)}}}}c=e.componentLayout;r.cancelLayout(c);if(c.getLayoutItems){l=c.getLayoutItems();if(l.length){r.cancelComponent(l,true)}}if(e.isContainer&&!e.collapsed){c=e.layout;r.cancelLayout(c);l=c.getVisibleItems();if(l.length){r.cancelComponent(l,true)}}}},cancelLayout:function(e){var t=this;t.completionQueue.remove(e);t.finalizeQueue.remove(e);t.finishQueue.remove(e);t.layoutQueue.remove(e);if(e.running){t.layoutDone(e)}e.ownerContext=null},clearTriggers:function(e,t){var n=e.id,r=this.triggers[t?"dom":"data"],i=r&&r[n],s=i&&i.length||0,o,u,a;for(o=0;o<s;++o){a=i[o];u=a.item;r=t?u.domTriggers:u.triggers;delete r[a.prop][n]}},flush:function(){var e=this,t=e.flushQueue.clear(),n=t.length,r;if(n){++e.flushCount;for(r=0;r<n;++r){t[r].flush()}}},flushAnimations:function(){var e=this,t=e.animateQueue.clear(),n=t.length,r;if(n){for(r=0;r<n;r++){if(t[r].target.animate!==false){t[r].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var e=this,t=e.invalidQueue,n=t&&t.length,r,i,s,o;e.invalidQueue=[];if(n){i=[];for(o=0;o<n;++o){r=(s=t[o]).item.target;if(!r.container.isDetachedBody){i.push(r);if(s.options){e.invalidateData[r.id]=s.options}}}e.invalidate(i,null)}},flushLayouts:function(e,t,n){var r=this,i=n?r[e].items:r[e].clear(),s=i.length,o,u;if(s){for(o=0;o<s;++o){u=i[o];if(!u.running){r.callLayout(u,t)}}r.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var n=this.getItem(t,t);if(!n.parent){n.parent=e;if(e.children.length){e.children.push(n)}else{e.children=[n]}}return n},getItem:function(e,t){var n=t.id,r=this.items,i=r[n]||(r[n]=new Ext.layout.ContextItem({context:this,target:e,el:t}));return i},handleFailure:function(){var e=this.layouts,t,n;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(n in e){t=e[n];if(e.hasOwnProperty(n)){t.running=false;t.ownerContext=null}}if(Ext.repoDevMode&&!this.pageAnalyzerMode){Ext.Error.raise("Layout run failed")}else{Ext.log.error("Layout run failed")}},invalidate:function(e,t){var n=this,r=!e.isComponent,i,s,o,u,a,f,l,c,h,p,d,v,m;for(u=0,c=r?e.length:1;u<c;++u){a=r?e[u]:e;if(a.rendered&&!a.hidden){s=a.ownerLayout;h=a.componentLayout;o=!h.ownerContext;m=false;if((!s||!s.needsItemSize)&&a.liquidLayout){m=true}if(!m||s&&s.setsItemSize){f=n.getCmp(a);p=a.isContainer&&!a.collapsed?a.layout:null;d=n.invalidateData[f.id];delete n.invalidateData[f.id];v=f.init(t,d)}if(m){continue}if(d){n.processInvalidate(d,f,"before")}if(h.beforeLayoutCycle){h.beforeLayoutCycle(f)}if(p&&p.beforeLayoutCycle){p.beforeLayoutCycle(f)}v=f.initContinue(v);i=true;if(h.getLayoutItems){h.renderChildren();l=h.getLayoutItems();if(l.length){n.invalidate(l,true)}}if(p){i=false;p.renderChildren();if(p.needsItemSize||p.activeItemCount){l=p.getVisibleItems();if(l.length){n.invalidate(l,true)}}}f.initDone(i);n.resetLayout(h,f,o);if(p){n.resetLayout(p,f,o)}f.initAnimation();if(d){n.processInvalidate(d,f,"after")}}}n.currentLayout=null},layoutDone:function(e){var t=e.ownerContext;e.running=false;if(e.isComponentLayout){if(t.measuresBox){t.onBoxMeasured()}t.setProp("done",true)}else{t.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,n){if(e[n]){var r=this,i=r.currentLayout;r.currentLayout=e.layout||null;e[n](t,e);r.currentLayout=i}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e){this.flushQueue.add(e)},chainFns:function(e,t,n){var r=this,i=e.layout,s=t.layout,o=e[n],u=t[n];return function(n){var a=r.currentLayout;if(o){r.currentLayout=i;o.call(e.scope||e,n,e)}r.currentLayout=s;u.call(t.scope||t,n,t);r.currentLayout=a}},purgeInvalidates:function(){var e=this,t=[],n=e.invalidQueue,r=n.length,i,s,o,u,a,f,l;for(i=0;i<r;++i){a=n[i];f=a.item.target;l=true;for(s=t.length;s--;){o=t[s];u=o.item.target;if(f.isDescendant(u)){l=false;break}if(u.isDescendant(f)){Ext.Array.erase(t,s,1)}}if(l){t.push(a)}}e.invalidQueue=t},queueInvalidate:function(e,t){var n=this,r=[],i=n.invalidQueue,s=i.length,o,u,a,f,l;if(e.isComponent){e=n.getCmp(o=e)}else{o=e.target}e.invalid=true;while(s--){u=i[s];a=u.item.target;if(o.isDescendantOf(a)){return}if(a==o){if(!(f=u.options)){u.options=t}else if(t){if(t.widthModel){f.widthModel=t.widthModel}if(t.heightModel){f.heightModel=t.heightModel}if(!(l=f.state)){f.state=t.state}else if(t.state){Ext.apply(l,t.state)}if(t.before){f.before=n.chainFns(f,t,"before")}if(t.after){f.after=n.chainFns(f,t,"after")}}return}if(!a.isDescendantOf(o)){r.push(u)}}r.push({item:e,options:t});n.invalidQueue=r},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,n=t.componentLayout;if(!n.pending&&!n.invalid&&!n.done){this.queueLayout(n)}n=t.layout;if(n&&!n.pending&&!n.invalid&&!n.done){this.queueLayout(n)}},queueLayout:function(e){this.layoutQueue.add(e);e.pending=true},removeEl:function(e,t){var n=t.id,r=e.children,i=this.items;if(r){Ext.Array.remove(r,i[n])}delete i[n]},resetLayout:function(e,t,n){var r=this;r.currentLayout=e;e.done=false;e.pending=true;e.firedTriggers=0;r.layoutQueue.add(e);if(n){r.layouts[e.id]=e;e.running=true;if(e.finishedLayout){r.finishQueue.add(e)}++r.remainingLayouts;++e.layoutCount;e.ownerContext=t;e.beginCount=0;e.blockCount=0;e.calcCount=0;e.triggerCount=0;if(!e.initialized){e.initLayout()}e.beginLayout(t)}else{++e.beginCount;if(!e.running){++r.remainingLayouts;e.running=true;if(e.isComponentLayout){t.unsetProp("done")}r.completionQueue.remove(e);r.finalizeQueue.remove(e)}}e.beginLayoutCycle(t,n)},run:function(){var e=this,t=false,n=100;e.purgeInvalidates();e.flushInvalidates();e.state=1;e.totalCount=e.layoutQueue.getCount();e.flush();while((e.remainingLayouts||e.invalidQueue.length)&&n--){if(e.invalidQueue.length){e.flushInvalidates()}if(e.runCycle()){t=false}else if(!t){e.flush();t=true;e.flushLayouts("completionQueue","completeLayout")}else if(!e.invalidQueue.length){e.state=2;break}if(!(e.remainingLayouts||e.invalidQueue.length)){e.flush();e.flushLayouts("completionQueue","completeLayout");e.flushLayouts("finalizeQueue","finalizeLayout")}}return e.runComplete()},runComplete:function(){var e=this;e.state=2;if(e.remainingLayouts){e.handleFailure();return false}e.flush();e.flushLayouts("finishQueue","finishedLayout",true);e.flushLayouts("finishQueue","notifyOwner");e.flush();e.flushAnimations();return true},runCycle:function(){var e=this,t=e.layoutQueue.clear(),n=t.length,r;++e.cycleCount;e.progressCount=0;for(r=0;r<n;++r){e.runLayout(e.currentLayout=t[r])}e.currentLayout=null;return e.progressCount>0},runLayout:function(e){var t=this,n=t.getCmp(e.owner);e.pending=false;if(n.state.blocks){return}e.done=true;++e.calcCount;++t.calcCount;e.calculate(n);if(e.done){t.layoutDone(e);if(e.completeLayout){t.queueCompletion(e)}if(e.finalizeLayout){t.queueFinalize(e)}}else if(!e.pending&&!e.invalid&&!(e.blockCount+e.triggerCount-e.firedTriggers)){t.queueLayout(e)}},setItemSize:function(e,t,n){var r=e,i=1,s,o;if(e.isComposite){r=e.elements;i=r.length;e=r[0]}else if(!e.dom&&!e.el){i=r.length;e=r[0]}for(o=0;o<i;){s=this.get(e);s.setSize(t,n);e=r[++o]}},debugHooks:{$enabled:false,pageAnalyzerMode:true,logOn:{0:0},cancelComponent:function(e){if(this.logOn.cancelComponent){Ext.log("cancelCmp: ",e.id)}this.callParent(arguments)},cancelLayout:function(e){if(this.logOn.cancelLayout){Ext.log("cancelLayout: ",this.getLayoutName(e))}this.callParent(arguments)},callLayout:function(e,t){var n=this.accumByType[e.type],r=n&&n.enter();this.callParent(arguments);if(n){r.leave()}},checkRemainingLayouts:function(){var e=this,t=0,n,r;for(n in e.layouts){r=e.layouts[n];if(e.layouts.hasOwnProperty(n)&&r.running){++t}}if(e.remainingLayouts!=t){Ext.Error.raise({msg:"Bookkeeping error me.remainingLayouts"})}},flush:function(){if(this.logOn.flush){var e=this.flushQueue;Ext.log("--- Flush ",e&&e.getCount())}return this.callParent(arguments)},flushInvalidates:function(){if(this.logOn.flushInvalidate){Ext.log(">> flushInvalidates")}var e=this.callParent(arguments);if(this.logOn.flushInvalidate){Ext.log("<< flushInvalidates")}return e},getCmp:function(e){var t=this.callParent(arguments);if(!t.wrapsComponent){Ext.Error.raise({msg:e.id+" is not a component"})}return t},getEl:function(e,t){var n=this.callParent(arguments);if(n&&n.wrapsComponent){Ext.Error.raise({msg:e.id+"/"+t.id+" is a component (expected element)"})}return n},getLayoutName:function(e){return e.owner.id+"<"+e.type+">"},layoutDone:function(e){var t=this,n=t.getLayoutName(e);if(t.logOn.layoutDone){Ext.log("layoutDone: ",n," ( ",t.remainingLayouts," running)")}if(!e.running){Ext.Error.raise({msg:n+" is already done"})}if(!t.remainingLayouts){Ext.Error.raise({msg:n+" finished but no layouts are running"})}t.callParent(arguments)},layoutTreeHasFailures:function(e,t){function r(e){var t=!e.done,i,s;if(e.done){for(i in n.layouts){if(n.layouts.hasOwnProperty(i)){s=n.layouts[i];if(s.owner.ownerLayout===e){if(r(s)){t=true}}}}}return t}function i(e){var r,s;t[e.id]=1;for(r in n.layouts){if(n.layouts.hasOwnProperty(r)){s=n.layouts[r];if(s.owner.ownerLayout===e){i(s)}}}}var n=this;if(r(e)){return true}i(e);return false},queueLayout:function(e){if(e.done||e.blockCount||e.pending){Ext.Error.raise({msg:this.getLayoutName(e)+" should not be queued for layout"})}if(this.logOn.queueLayout){Ext.log("Queue ",this.getLayoutName(e))}return this.callParent(arguments)},reportLayoutResult:function(e,t){var n=this,r=e.owner,i=n.getCmp(r),s=[],o=[],u,a,f,l,c,h,p,d;t[e.id]=1;for(u in e.blockedBy){if(e.blockedBy.hasOwnProperty(u)){s.push(e.blockedBy[u])}}s.sort();for(u in n.triggersByLayoutId[e.id]){if(n.triggersByLayoutId[e.id].hasOwnProperty(u)){a=n.triggersByLayoutId[e.id][u];o.push({name:u,info:a})}}o.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0});Ext.log({indent:1},e.done?"++":"--",n.getLayoutName(e),i.isBoxParent?" [isBoxParent]":"",i.boxChildren?" - boxChildren: "+i.state.boxesMeasured+"/"+i.boxChildren.length:"",i.boxParent?" - boxParent: "+i.boxParent.id:""," - size: ",i.widthModel.name,"/",i.heightModel.name);if(!e.done||n.reportOnSuccess){if(s.length){++Ext.log.indent;Ext.log({indent:1},"blockedBy:  count=",e.blockCount);l=s.length;for(f=0;f<l;f++){Ext.log(s[f])}Ext.log.indent-=2}if(o.length){++Ext.log.indent;Ext.log({indent:1},"triggeredBy: count="+e.triggerCount);l=o.length;for(f=0;f<l;f++){d=a.info||a;h=d.item;p=h.setBy&&h.setBy[d.name]||"?";a=o[f];Ext.log(a.name," (",h.props[d.name],") dirty: ",h.dirty?!!h.dirty[d.name]:false,", setBy: ",p)}Ext.log.indent-=2}}for(u in n.layouts){if(n.layouts.hasOwnProperty(u)){c=n.layouts[u];if(!c.done&&c.owner.ownerLayout===e){n.reportLayoutResult(c,t)}}}for(u in n.layouts){if(n.layouts.hasOwnProperty(u)){c=n.layouts[u];if(c.done&&c.owner.ownerLayout===e){n.reportLayoutResult(c,t)}}}--Ext.log.indent},resetLayout:function(e){var t=this,n=e.type,r=t.getLayoutName(e),i=t.accumByType[n],s;if(t.logOn.resetLayout){Ext.log("resetLayout: ",r," ( ",t.remainingLayouts," running)")}if(!t.state){if(!i&&t.profileLayoutsByType){t.accumByType[n]=i=Ext.Perf.get("layout_"+e.type)}t.numByType[n]=(t.numByType[n]||0)+1}s=i&&i.enter();t.callParent(arguments);if(i){s.leave()}t.checkRemainingLayouts()},round:function(e){return Math.round(e*1e3)/1e3},run:function(){var e=this,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;e.accumByType={};e.calcsByType={};e.numByType={};e.timesByType={};e.triggersByLayoutId={};Ext.log.indentSize=3;Ext.log("==================== LAYOUT ====================");n=Ext.perf.getTimestamp();t=e.callParent(arguments);n=Ext.perf.getTimestamp()-n;if(e.logOn.boxParent&&e.boxParents){for(r in e.boxParents){if(e.boxParents.hasOwnProperty(r)){u=e.boxParents[r];a=u.boxChildren;f=a.length;Ext.log("boxParent: ",u.id);for(s=0;s<f;++s){Ext.log(" --> ",a[s].id)}}}}if(t){Ext.log("----------------- SUCCESS -----------------")}else{Ext.log({level:"error"},"----------------- FAILURE -----------------")}for(r in e.layouts){if(e.layouts.hasOwnProperty(r)){o=e.layouts[r];if(o.running){Ext.log.error("Layout left running: ",e.getLayoutName(o))}if(o.ownerContext){Ext.log.error("Layout left connected: ",e.getLayoutName(o))}}}if(!t||e.reportOnSuccess){l={};c=0;for(r in e.layouts){if(e.layouts.hasOwnProperty(r)){o=e.layouts[r];if(e.items[o.owner.el.id].isTopLevel){if(e.reportOnSuccess||e.layoutTreeHasFailures(o,l)){e.reportLayoutResult(o,l)}}}}for(r in e.layouts){if(e.layouts.hasOwnProperty(r)){o=e.layouts[r];if(!l[o.id]){if(!c){Ext.log("----- Unreported!! -----")}++c;e.reportLayoutResult(o,l)}}}}Ext.log("Cycles: ",e.cycleCount,", Flushes: ",e.flushCount,", Calculates: ",e.calcCount," in ",e.round(n)," msec");Ext.log("Calculates by type:");h=[];for(r in e.numByType){if(e.numByType.hasOwnProperty(r)){p=e.numByType[r];h.push({type:r,total:p,calcs:e.calcsByType[r],multiple:Math.round(e.calcsByType[r]/p*10)/10,calcTime:e.round(e.timesByType[r]),avgCalcTime:e.round(e.timesByType[r]/e.calcsByType[r])})}}h.sort(function(e,t){return t.calcTime-e.calcTime});d=h.length;for(s=0;s<d;s++){v=h[s];Ext.log(v.type,": ",v.total," in ",v.calcs," tries (",v.multiple,"x) at ",v.calcTime," msec (avg ",v.avgCalcTime," msec)")}return t},runCycle:function(){if(this.logOn.runCycle){Ext.log(">>> Cycle ",this.cycleCount," (queue length: ",this.layoutQueue.length,")")}return this.callParent(arguments)},runLayout:function(e){var t=this,n=e.type,r=t.accumByType[n],i,s,o;if(t.logOn.calculate){Ext.log("-- calculate ",this.getLayoutName(e))}i=r&&r.enter();o=Ext.perf.getTimestamp();s=t.callParent(arguments);o=Ext.perf.getTimestamp()-o;if(r){i.leave()}t.calcsByType[n]=(t.calcsByType[n]||0)+1;t.timesByType[n]=(t.timesByType[n]||0)+o;return s}}});Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(e){if(e.target.collapsed){e.heightModel=this.sizeModels.shrinkWrap}},beginLayoutCycle:function(e){var t=e.target,n;this.callParent(arguments);if(t.collapsed){e.setContentHeight(0);e.restoreMinHeight=t.minHeight;delete t.minHeight;if(e.widthModel.shrinkWrap){n=t.lastComponentSize;e.setContentWidth(n&&n.contentWidth||this.defaultCollapsedWidth)}}},finishedLayout:function(e){var t=this.owner,n=e.restoreMinHeight;this.callParent(arguments);if(n){t.minHeight=n}},calculateOwnerHeightFromContentHeight:function(e,t){var n=e.getBorderInfo(),r=e.target.legend;return e.getProp("contentHeight")+e.getPaddingInfo().height+(Ext.isIE8?e.bodyContext.getPaddingInfo().top:0)+(r?r.getHeight():n.top)+n.bottom},publishInnerHeight:function(e,t){var n=e.target.legend;if(n){t-=n.getHeight()}this.callParent([e,t])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}});Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:true,type:"absolute",adjustWidthAnchor:function(e,t){var n=this.targetPadding,r=t.getStyle("left");return e-r+n.left},adjustHeightAnchor:function(e,t){var n=this.targetPadding,r=t.getStyle("top");return e-r+n.top},isItemLayoutRoot:function(e){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(e){return true},beginLayout:function(e){var t=this,n=t.getTarget();t.callParent(arguments);if(n.dom!==document.body){n.position()}t.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(e){return true},onContentChange:function(){if(this.ignoreOnContentChange){return false}return this.callParent(arguments)},calculateContentSize:function(e,t){var n=this,r=(t||0)|((e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0)),i=r&1||undefined,s=r&2||undefined,o=e.childItems,u=o.length,a=0,f=0,l=0,c=e.props,h,p,d,v,m,g,y;if(i){if(isNaN(c.contentWidth)){++l}else{i=undefined}}if(s){if(isNaN(c.contentHeight)){++l}else{s=undefined}}if(l){for(m=0;m<u;++m){d=o[m];p=d.target;v=s&&d.getProp("height");y=i&&d.getProp("width");g=d.getMarginInfo();v+=g.bottom;y+=g.right;a=Math.max(a,(p.y||0)+v);f=Math.max(f,(p.x||0)+y);if(isNaN(a)&&isNaN(f)){n.done=false;return}}if(i||s){h=e.targetContext.getPaddingInfo()}if(i&&!e.setContentWidth(f+h.width)){n.done=false}if(s&&!e.setContentHeight(a+h.height)){n.done=false}}}});Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:"layout.accordion",type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",enableSplitters:false,fill:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:undefined,animate:true,activeOnTop:false,multi:false,panelCollapseMode:"header",defaultAnimatePolicy:{y:true,height:true},constructor:function(){var e=this;e.callParent(arguments);if(e.animate){e.animatePolicy={};e.animatePolicy[e.names.x]=true;e.animatePolicy[e.names.width]=true}else{e.animatePolicy=null}},beforeRenderItems:function(e){var t=this,n=e.length,r=t.owner,i=t.collapseFirst,s=Ext.isDefined(i),o=t.getExpanded(true)[0],u=t.multi,a,f;for(f=0;f<n;f++){a=e[f];if(!a.rendered){if(!u||a.collapsible!==false){a.collapsible=true}if(a.collapsible){if(s){a.collapseFirst=i}if(t.hideCollapseTool){a.hideCollapseTool=t.hideCollapseTool;a.titleCollapse=true}else if(t.titleCollapse&&a.titleCollapse===undefined){a.titleCollapse=t.titleCollapse}}a.hideHeader=a.width=null;a.title=a.title||"&#160;";a.addBodyCls(Ext.baseCSSPrefix+"accordion-body");if(!u){if(o){a.collapsed=o!==a}else if(a.hasOwnProperty("collapsed")&&a.collapsed===false){o=a}else{a.collapsed=true}r.mon(a,"show",t.onComponentShow,t)}a.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over"}}if(!t.processing&&!u){if(!o){if(n){e[0].collapsed=false}}else if(t.activeOnTop){o.collapsed=false;t.configureItem(o);if(r.items.indexOf(o)>0){r.insert(0,o)}}}},getItemsRenderTree:function(e){this.beforeRenderItems(e);return this.callParent(arguments)},renderItems:function(e,t){this.beforeRenderItems(e);this.callParent(arguments)},configureItem:function(e){this.callParent(arguments);e.ignoreHeaderBorderManagement=true;e.animCollapse=false;if(this.fill){e.flex=1}},beginLayout:function(e){this.callParent(arguments);this.updatePanelClasses(e)},updatePanelClasses:function(e){var t=e.visibleItems,n=t.length,r=true,i,s,o;for(i=0;i<n;i++){s=t[i];o=s.header;o.addCls(Ext.baseCSSPrefix+"accordion-hd");if(r){o.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}else{o.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}if(i+1==n&&s.collapsed){o.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}else{o.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}r=s.collapsed}},onBeforeComponentExpand:function(e){var t=this,n=t.owner,r=t.multi,i=!r&&!t.animate&&t.activeOnTop,s,o;if(!t.processing){t.processing=true;o=n.deferLayouts;n.deferLayouts=true;if(!r){s=t.getExpanded()[0];if(s&&s!==e){s.collapse()}}if(i){Ext.suspendLayouts();n.insert(0,e);Ext.resumeLayouts()}n.deferLayouts=o;t.processing=false}},onBeforeComponentCollapse:function(e){var t=this,n=t.owner,r,i,s;if(t.owner.items.getCount()===1){return false}if(!t.processing){t.processing=true;s=n.deferLayouts;n.deferLayouts=true;r=e.next()||e.prev();if(t.multi){i=t.getExpanded();if(i.length===1){r.expand()}}else if(r){r.expand()}n.deferLayouts=s;t.processing=false}},onComponentShow:function(e){this.onBeforeComponentExpand(e)},onAdd:function(e){var t=this;t.callParent(arguments);if(e.collapseMode==="placeholder"){e.collapseMode=t.panelCollapseMode}e.collapseDirection=e.headerPosition;if(t.layoutCount&&!t.multi&&t.owner.items.getCount()>1){t.processing=true;e.collapse();t.processing=false}},onRemove:function(e,t){var n=this,r;n.callParent(arguments);if(!n.owner.destroying&&!n.multi&&!e.collapsed){r=n.owner.items.first();if(r){r.expand()}}},getExpanded:function(e){var t=this.owner.items.items,n=t.length,r=0,i=[],s,o;for(;r<n;++r){o=t[r];if(!o.hidden){if(e){s=o.hasOwnProperty("collapsed")&&o.collapsed===false}else{s=!o.collapsed}if(s){i.push(o)}}}return i}});Ext.define("Ext.layout.container.Center",{extend:"Ext.layout.container.Fit",alias:["layout.center","layout.ux.center"],alternateClassName:"Ext.ux.layout.Center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:Ext.baseCSSPrefix+"center-layout-item",targetCls:Ext.baseCSSPrefix+"center-layout",getItemSizePolicy:function(e,t){var n=this,r=t||n.owner.getSizeModel(),i=n.percentRe,s=(r.width.shrinkWrap||!i.test(e.width)?0:1)|(r.height.shrinkWrap||!i.test(e.height)?0:2);return n.sizePolicies[s]},getPos:function(e,t,n){var r=e.props[n]+t.margins[n],i=Math.round((t.targetSize[n]-r)/2);if(isNaN(i)){this.done=false}return Math.max(i,0)},positionItemX:function(e,t){var n=this.getPos(e,t,"width");e.setProp("x",n)},positionItemY:function(e,t){var n=this.getPos(e,t,"height");e.setProp("y",n)},setItemHeight:function(e,t){var n=parseFloat(e.target.height)/100;e.setHeight(Math.round((t.targetSize.height-t.margins.height)*n))},setItemWidth:function(e,t){var n=parseFloat(e.target.width)/100;e.setWidth(Math.round((t.targetSize.width-t.margins.width)*n))}});Ext.define("Ext.layout.container.Form",{extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.FormLayout",alias:"layout.form",type:"form",formWrapCls:Ext.baseCSSPrefix+"form-layout-wrap",formWrapAutoLabelCls:Ext.baseCSSPrefix+"form-layout-auto-label",formWrapSizedLabelCls:Ext.baseCSSPrefix+"form-layout-sized-label",formColGroupCls:Ext.baseCSSPrefix+"form-layout-colgroup",formColumnCls:Ext.baseCSSPrefix+"form-layout-column",formLabelColumnCls:Ext.baseCSSPrefix+"form-layout-label-column",childEls:["formWrap","labelColumn"],beforeBodyTpl:'<div id="{ownerId}-formWrap" data-ref="formWrap" class="{formWrapCls}"'+'<tpl if="itemSpacing"> style="border-spacing:{itemSpacing}px"</tpl>>'+'<div class="{formColGroupCls}">'+'<div id="{ownerId}-labelColumn" data-ref="labelColumn" class="{formColumnCls} {formLabelColumnCls}"'+'<tpl if="labelWidth"> style="width:{labelWidth}"</tpl>>'+"</div>"+'<div class="{formColumnCls}"></div>'+"</div>",afterBodyTpl:"</div>",getRenderData:function(){var e=this,t=e.labelWidth,n=e.formWrapCls,r=e.callParent();if(t){if(typeof t==="number"){t+="px"}r.labelWidth=t;n+=" "+e.formWrapSizedLabelCls}else{n+=" "+e.formWrapAutoLabelCls}r.formWrapCls=n;r.formColGroupCls=e.formColGroupCls;r.formColumnCls=e.formColumnCls;r.formLabelColumnCls=e.formLabelColumnCls;return r},getRenderTarget:function(){return this.formWrap}});Ext.define("Ext.layout.container.SegmentedButton",{extend:"Ext.layout.container.Container",alias:"layout.segmentedbutton",needsItemSize:false,setsItemSize:false,_btnRowCls:Ext.baseCSSPrefix+"segmented-button-row",getRenderTree:function(){var e=this,t=e.callParent(),n,r;if(e.owner.getVertical()){for(n=0,r=t.length;n<r;n++){t[n]={cls:e._btnRowCls,cn:t[n]}}}return t},getItemLayoutEl:function(e){var t=e.el.dom;return this.owner.getVertical()?t.parentNode:t}});Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:true,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners;Ext.apply(e,{plain:true,showSeparator:false,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",margin:0,id:e.pickerId,xtype:"colorpicker"},t)});e.callParent(arguments);e.picker=e.down("colorpicker");e.relayEvents(e.picker,["select"]);if(e.hideOnClick){e.on("select",e.hidePickerOnSelect,e)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:true,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners;Ext.apply(e,{showSeparator:false,plain:true,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:false,id:e.pickerId,xtype:"datepicker"},t)});e.callParent(arguments);e.picker=e.down("datepicker");e.relayEvents(e.picker,["select"]);if(e.hideOnClick){e.on("select",e.hidePickerOnSelect,e)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.panel.Pinnable",{extend:"Ext.Mixin",mixinId:"pinnable",pinnable:true,pinnedTip:"Unpin this item",unpinnedTip:"Pin this item",initPinnable:function(){var e=this,t=e.isPinned();e.addTool(e.pinTool=Ext.widget({xtype:"tool",type:t?"unpin":"pin",callback:"togglePin",scope:e,tooltip:t?e.pinnedTip:e.unpinnedTip}))},isPinned:function(){return!this.floating},setPinned:function(e){var t=this,n;if(e!==t.isPinned()){n=[t,e];if(t.fireEventArgs("beforepinchange",n)!==false){t.updatePinned(e);t.fireEventArgs("pinchange",n)}}},togglePin:function(){this.setPinned(!this.isPinned())},updatePinned:function(e){var t=this,n=t.pinTool;n.setTooltip(e?t.pinnedTip:t.unpinnedTip);n.setType(e?"unpin":"pin")}});Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:true,typeName:"ptype",create:function(e,t,n){var r,i;if(e.init){r=e}else{if(n){e=Ext.apply({},e);e.cmp=n}else{n=e.cmp}if(e.xclass){r=Ext.create(e)}else{i="plugin."+(e.ptype||t);r=Ext.ClassManager.instantiateByAlias(i,e)}}if(r&&n&&r.setCmp&&!r.setCmpCalled){r.setCmp(n);r.setCmpCalled=true}return r}});Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e=this,t=e.splitter,n=t.collapseTarget,r=t.defaultSplitMin,i=t.vertical?"Width":"Height",s="min"+i,o="max"+i,u="get"+i,a=t.neighbors,f=a.length,l=n.el.getBox(),c=l.x,h=l.y,p=l.right,d=l.bottom,v=t.vertical?p-c:d-h,m,g,y,b,w,E,S,x;b=(n[s]||Math.min(v,r))-v;w=n[o];if(!w){w=1e9}else{w-=v}x=v;for(m=0;m<f;++m){g=a[m];v=g[u]();y=g[o];if(y===null){y=undefined}E=v-y;S=v-(g[s]||Math.min(v,r));if(!isNaN(E)){if(b<E){b=E}}if(w>S){w=S}}if(w-b<2){return null}l=new Ext.util.Region(h,p,d,c);e.constraintAdjusters[e.getCollapseDirection()](l,b,w,t);e.dragInfo={minRange:b,maxRange:w,targetSize:x};return l},constraintAdjusters:{left:function(e,t,n,r){e[0]=e.x=e.left=e.right+t;e.right+=n+r.getWidth()},top:function(e,t,n,r){e[1]=e.y=e.top=e.bottom+t;e.bottom+=n+r.getHeight()},bottom:function(e,t,n,r){e.bottom=e.top-t;e.top-=n+r.getHeight()},right:function(e,t,n,r){e.right=e.left-t;e[0]=e.x=e.left=e.x-n+r.getWidth()}},onBeforeStart:function(e){var t=this,n=t.splitter,r=n.collapseTarget,i=n.neighbors,s=i.length,o,u;if(r.collapsed){return false}for(o=0;o<s;++o){u=i[o];if(u.collapsed&&u.isHorz===r.isHorz){return false}}if(!(t.constrainTo=t.calculateConstrainRegion())){return false}return true},performResize:function(e,t){var n=this,r=n.splitter,i=r.getCollapseDirection(),s=r.collapseTarget,o=n.splitAdjusters[r.vertical?"horz":"vert"],u=t[o.index],a=n.dragInfo,f;if(i=="right"||i=="bottom"){u=-u}u=Math.min(Math.max(a.minRange,u),a.maxRange);if(u){(f=r.ownerCt).suspendLayouts();o.adjustTarget(s,a.targetSize,u);f.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,n){e.flex=null;e.setSize(t+n)}},vert:{index:1,adjustTarget:function(e,t,n){e.flex=null;e.setSize(undefined,t+n)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){var e=this;e.callParent();e.protoEl.unselectable();e.addCls(e.baseHandleCls,e.baseHandleCls+"-"+e.region,e.handleCls)}});Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t=this,n,r,i;if(!e.el){if(e.target.isComponent){t.el=e.target.getEl()}else{t.el=e.target}}this.callParent(arguments);if(t.preserveRatio&&t.minWidth&&t.minHeight){n=t.minWidth/t.el.getWidth();r=t.minHeight/t.el.getHeight();if(r>n){t.minWidth=t.el.getWidth()*r}else{t.minHeight=t.el.getHeight()*n}}if(t.throttle){i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(t,arguments)},t.throttle);t.resize=function(e,n,r){if(r){Ext.resizer.ResizeTracker.prototype.resize.apply(t,arguments)}else{i.apply(null,arguments)}}}},onBeforeStart:function(e){this.startBox=this.target.getBox()},getProxy:function(){var e=this;if(!e.dynamic&&!e.proxy){e.proxy=e.createProxy(e.target||e.el);e.hideProxy=true}if(e.proxy){e.proxy.show();return e.proxy}},createProxy:function(e){var t,n=this.proxyCls;if(e.isComponent){t=e.getProxy().addCls(n)}else{t=e.createProxy({tag:"div",role:"presentation",cls:n,id:e.id+"-rzproxy"},Ext.getBody())}t.removeCls(Ext.baseCSSPrefix+"proxy-el");return t},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onDrag:function(e){if(this.dynamic||this.proxy){this.updateDimensions(e)}},updateDimensions:function(e,t){var n=this,r=n.activeResizeHandle.region,i=n.getOffset(n.constrainTo?"dragTarget":null),s=n.startBox,o,u=0,a=0,f,l,c=0,h=0,p,d,v,m,g,y;r=n.convertRegionName(r);switch(r){case"south":a=i[1];v=2;break;case"north":a=-i[1];h=-a;v=2;break;case"east":u=i[0];v=1;break;case"west":u=-i[0];c=-u;v=1;break;case"northeast":a=-i[1];h=-a;u=i[0];d=[s.x,s.y+s.height];v=3;break;case"southeast":a=i[1];u=i[0];d=[s.x,s.y];v=3;break;case"southwest":u=-i[0];c=-u;a=i[1];d=[s.x+s.width,s.y];v=3;break;case"northwest":a=-i[1];h=-a;u=-i[0];c=-u;d=[s.x+s.width,s.y+s.height];v=3;break}m={width:s.width+u,height:s.height+a,x:s.x+c,y:s.y+h};f=Ext.Number.snap(m.width,n.widthIncrement);l=Ext.Number.snap(m.height,n.heightIncrement);if(f!=m.width||l!=m.height){switch(r){case"northeast":m.y-=l-m.height;break;case"north":m.y-=l-m.height;break;case"southwest":m.x-=f-m.width;break;case"west":m.x-=f-m.width;break;case"northwest":m.x-=f-m.width;m.y-=l-m.height}m.width=f;m.height=l}if(m.width<n.minWidth||m.width>n.maxWidth){m.width=Ext.Number.constrain(m.width,n.minWidth,n.maxWidth);if(c){m.x=s.x+(s.width-m.width)}}else{n.lastX=m.x}if(m.height<n.minHeight||m.height>n.maxHeight){m.height=Ext.Number.constrain(m.height,n.minHeight,n.maxHeight);if(h){m.y=s.y+(s.height-m.height)}}else{n.lastY=m.y}if(n.preserveRatio||e.shiftKey){o=n.startBox.width/n.startBox.height;g=Math.min(Math.max(n.minHeight,m.width/o),n.maxHeight);y=Math.min(Math.max(n.minWidth,m.height*o),n.maxWidth);if(v==1){m.height=g}else if(v==2){m.width=y}else{p=Math.abs(d[0]-this.lastXY[0])/Math.abs(d[1]-this.lastXY[1]);if(p>o){m.height=g}else{m.width=y}if(r=="northeast"){m.y=s.y-(m.height-s.height)}else if(r=="northwest"){m.y=s.y-(m.height-s.height);m.x=s.x-(m.width-s.width)}else if(r=="southwest"){m.x=s.x-(m.width-s.width)}}}n.setPosition=m.x!==n.startBox.x||m.y!==n.startBox.y;n.resize(m,t)},resize:function(e,t){var n=this,r,i=n.setPosition;if(n.dynamic||!n.dynamic&&t){if(i){n.target.setBox(e)}else{n.target.setSize(e.width,e.height)}}if(!t){r=n.getProxy();if(r&&r!==n.target){if(i||n.hideProxy){r.setBox(e)}else{r.setSize(e.width,e.height)}}}},onEnd:function(e){this.updateDimensions(e,true);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(e){return e}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(e){var t=this,n=t.handles,r=Ext.dom.Element.unselectableCls,i=[],s,o,u,a,f,l,c,h,p,d,v,m;if(Ext.isString(e)||Ext.isElement(e)||e.dom){s=e;e=arguments[1]||{};e.target=s}t.mixins.observable.constructor.call(t,e);s=t.target;if(s){if(s.isComponent){s.addClsWithUI("resizable");if(s.minWidth){t.minWidth=s.minWidth}if(s.minHeight){t.minHeight=s.minHeight}if(s.maxWidth){t.maxWidth=s.maxWidth}if(s.maxHeight){t.maxHeight=s.maxHeight}if(s.floating){if(!t.hasOwnProperty("handles")){t.handles="n ne e se s sw w nw"}}t.el=s.getEl()}else{s=t.el=t.target=Ext.get(s)}}else{s=t.target=t.el=Ext.get(t.el)}t.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(t.width)){t.width=Ext.Number.constrain(t.width,t.minWidth,t.maxWidth)}if(Ext.isNumber(t.height)){t.height=Ext.Number.constrain(t.height,t.minHeight,t.maxHeight)}if(t.width!==null||t.height!==null){t.target.setSize(t.width,t.height)}a=t.el.dom.tagName.toUpperCase();if(a==="TEXTAREA"||a==="IMG"||a==="TABLE"){t.originalTarget=t.target;d=s.isComponent?s.getEl():s;t.el.addCls(t.wrappedCls);t.target=t.el=t.el.wrap({role:"presentation",cls:t.wrapCls,id:t.el.id+"-rzwrap",style:d.getStyle(["margin-top","margin-bottom"])});v=d.getPositioning();t.el.setPositioning(v);d.clearPositioning();p=d.getBox();if(v.position!="absolute"){p.x=0;p.y=0}t.el.setBox(p);d.setStyle("position","absolute");t.isTargetWrapped=true}t.el.position();if(t.pinned){t.el.addCls(t.pinnedCls)}t.resizeTracker=new Ext.resizer.ResizeTracker({disabled:t.disabled,target:s,el:t.el,constrainTo:t.constrainTo,handleCls:t.handleCls,overCls:t.overCls,throttle:t.throttle,proxy:t.originalTarget?t.el:null,dynamic:t.originalTarget?true:t.dynamic,originalTarget:t.originalTarget,delegate:"."+t.handleCls,preserveRatio:t.preserveRatio,heightIncrement:t.heightIncrement,widthIncrement:t.widthIncrement,minHeight:t.minHeight,maxHeight:t.maxHeight,minWidth:t.minWidth,maxWidth:t.maxWidth});t.resizeTracker.on({mousedown:t.onBeforeResize,drag:t.onResize,dragend:t.onResizeEnd,scope:t});if(t.handles=="all"){t.handles="n s e w ne nw se sw"}n=t.handles=t.handles.split(t.delimiterRe);u=t.possiblePositions;f=n.length;o=t.handleCls+" "+t.handleCls+"-{0}";if(t.target.isComponent){m=t.target.baseCls;o+=" "+m+"-handle "+m+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){o+=" "+m+"-handle-{0}-br"}}for(l=0;l<f;l++){if(n[l]&&u[n[l]]){c=u[n[l]];i.push('<div id="',t.el.id,"-",c,'-handle" class="',Ext.String.format(o,c)," ",r,'" unselectable="on" role="presentation"',"></div>")}}Ext.DomHelper.append(t.el,i.join(""));i.length=0;for(l=0;l<f;l++){if(n[l]&&u[n[l]]){c=u[n[l]];h=t[c]=t.el.getById(t.el.id+"-"+c+"-handle");i.push(h);h.region=c;if(t.transparent){h.setOpacity(0)}}}t.resizeTracker.handleEls=i},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(e,t){return this.fireResizeEvent("beforeresize",e,t)},onResize:function(e,t){return this.fireResizeEvent("resizedrag",e,t)},onResizeEnd:function(e,t){return this.fireResizeEvent("resize",e,t)},fireResizeEvent:function(e,t,n){var r=this,i;if(r.hasListeners[e]){i=r.el.getBox();return r.fireEvent(e,r,i.width,i.height,n)}},resizeTo:function(e,t){var n=this;n.target.setSize(e,t);n.fireEvent("resize",n,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e=this,t,n=e.handles,r=n.length,i=e.possiblePositions,s;e.resizeTracker.destroy();if(e.isTargetWrapped){e.target.destroy()}for(t=0;t<r;t++){if(s=e[i[n[t]]]){s.destroy()}}}});Ext.define("Ext.scroll.Indicator",{config:{axis:null,containerEl:null,scroller:null,minLength:null,scrollSize:null,maxScrollPosition:null,hasOpposite:null},hideAnimConfig:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",clientSize:"clientWidth",setLength:"setWidth",setPosition:"setLocalX"},y:{side:"t",getSize:"getWidth",clientSize:"clientHeight",setLength:"setHeight",setPosition:"setLocalY"}},cls:Ext.baseCSSPrefix+"scroll-indicator",constructor:function(e){var t=this,n,r,i;t.initConfig(e);i=t.getAxis();t.names=t.names[i];t.el=t.getContainerEl().createChild({cls:t.cls+" "+t.cls+"-"+i});if(!t.size){t.cacheStyles()}n=t.getMinLength();r=t.size;if(!n||n<r){t.setMinLength(r)}},cacheStyles:function(){var e=this,t=e.self.prototype,n=e.el,r=e.getAxis(),i=e.names;t.size=n[i.getSize]();t.margin=n.getMargin(i.side)},hide:function(){this.el.animate(this.hideAnimConfig)},refreshLength:function(){var e=this,t=e.names,n=e.getScrollSize(),r=e.getContainerEl().dom[t.clientSize],i=r/n,s=e.getHasOpposite(),o=e.margin*2,u=s?o+e.size:o,a=Math.max(Math.round((r-u)*i),e.getMinLength());e.sizeAdjust=u;e.length=a;e.el[t.setLength](a)},setValue:function(e){var t=this,n=t.el,r=t.names,i=t.getMaxScrollPosition(),s=t.getContainerEl().dom[r.clientSize],o=t.length,u=t.getMinLength(),a=o,f=s-o-t.sizeAdjust,l=Math.round,c=Math.max,h;if(e<0){a=l(c(o+o*e/s,u));h=0}else if(e>i){a=l(c(o-o*(e-i)/s,u));h=f+o-a}else{h=l(e/i*f)}n[r.setPosition](h);n[r.setLength](a)},show:function(){var e=this,t=e.el,n=t.getActiveAnimation();if(n){n.end()}e.refreshLength();t.setStyle("opacity","")},destroy:function(){this.el.destroy()}});Ext.define("Ext.scroll.Manager",{extend:"Ext.util.Observable",requires:["Ext.scroll.Scroller","Ext.scroll.Indicator","Ext.GlobalEvents"],minIndicatorLength:24,refreshCounter:0,translationMethods:{1:"scrollparent",2:"csstransform"},constructor:function(e){var t=this,n={dragend:"onDragEnd",dragcancel:"onDragEnd",scope:t},r;if(Ext.supports.touchScroll===2){n.mousewheel="onMouseWheel";n.scroll={fn:"onElementScroll",delegated:false,scope:t}}t.callParent(arguments);t.scroller=new Ext.scroll.Scroller({autoRefresh:false,element:t.el,direction:t.direction,momentumEasing:{bounce:{springTension:1}},outOfBoundRestrictFactor:0,translatable:{translationMethod:t.translationMethods[Ext.supports.touchScroll]},listeners:{scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",scope:t}});Ext.GlobalEvents.on("idle",t.doRefresh,t);r=t.containerEl=t.el.parent();t.owner.mon(r,n);t.initIndicators()},onElementScroll:function(e,t){t.scrollTop=t.scrollLeft=0},destroy:function(){var e=this;e.clearListeners();Ext.GlobalEvents.un("idle",e.doRefresh,e);e.scroller.destroy()},initIndicators:function(){var e=this,t=e.containerEl,n=e.scroller,r=e.minIndicatorLength;if(Ext.supports.touchScroll===2){e.xIndicator=new Ext.scroll.Indicator({axis:"x",scroller:n,containerEl:t,minLength:r});e.yIndicator=new Ext.scroll.Indicator({axis:"y",scroller:n,containerEl:t,minLength:r});e.refreshIndicators()}},invokeIndicators:function(e,t,n){var r=this,i=r.xIndicator,s=r.yIndicator;if(i&&r.isAxisEnabled("x")){i[e].apply(i,t)}if(s&&r.isAxisEnabled("y")){s[e].apply(s,n||t)}},getPosition:function(){return this.scroller.getPosition()},refresh:function(e){++this.refreshCounter;if(e){this.doRefresh()}},refreshIndicators:function(){var e=this,t=e.scroller,n=t.getMaxPosition(),r=t.getSize();e.invokeIndicators("setMaxScrollPosition",[n.x],[n.y]);e.invokeIndicators("setScrollSize",[r.x],[r.y]);e.invokeIndicators("setHasOpposite",[e.isAxisEnabled("y")],[e.isAxisEnabled("x")])},doRefresh:function(){var e=this,t=e.scroller;if(e.refreshCounter){t.refresh();e.refreshIndicators();e.refreshCounter=0}},onScrollStart:function(){this.isTouching=Ext.isScrolling=true;this.invokeIndicators("show");this.toggleOthers(true)},onScroll:function(e,t,n){var r=this;r.invokeIndicators("setValue",[t],[n]);r.fireEvent("scroll",r,t,n)},onScrollEnd:function(){var e=this;Ext.isScrolling=false;if(e.isTouching){return}e.invokeIndicators("hide")},onDragEnd:function(){this.isTouching=false;this.toggleOthers(false)},onMouseWheel:function(e){var t=this,n=t.scroller,r=e.getWheelDeltas(),i=-r.x,s=-r.y,o=n.getPosition(),u=n.getMaxPosition(),a=n.getMinPosition(),f=Math.max,l=Math.min,c=f(l(o.x+i,u.x),a.x),h=f(l(o.y+s,u.y),a.y);i=c-o.x;s=h-o.y;if(!i&&!s){return}e.stopEvent();t.onScrollStart();t.scrollBy(i,s);t.onScroll(n,c,h);t.onScrollEnd(n)},isAxisEnabled:function(e){return this.scroller.isAxisEnabled(e)},setScrollX:function(e){var t=this.scroller;t.scrollTo(e,t.getPosition().y)},setScrollY:function(e){var t=this.scroller;t.scrollTo(t.getPosition().x,e)},scrollTo:function(e,t,n){this.scroller.scrollTo(e,t,n)},scrollBy:function(e,t,n){if(e.length){n=t;t=e[1];e=e[0]}else if(!Ext.isNumber(e)){n=t;t=e.y;e=e.x}this.scroller.scrollBy(e,t,n)},scrollIntoView:function(e,t,n){var r=this,i=r.containerEl,s=r.scroller,o=s.getPosition(),u=o.x,a=o.y,f=Ext.fly(e).getScrollIntoViewXY(i,u,a),l=f.x,c=f.y;if(t===false){l=u}if(l!==u||c!==a){s.scrollTo(l,c,n)}},toggleOthers:function(e){var t=Ext.scroll.Scroller.instances,n,r;for(r in t){n=t[r];if(n!==this.scroller){n.setDisabled(e)}}},preventDefault:function(e){if(e.touches.length===1){e.preventDefault()}}});Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.DataViewModel",alias:"selection.cellmodel",requires:["Ext.grid.CellContext"],isCellModel:true,enableKeyNav:true,preventWrap:false,bindComponent:function(e){var t=this,n=e.grid||e.ownerCt;t.callParent([e]);if(n.optimizedColumnMove!==false){n.on("columnmove",t.onColumnMove,t)}},getViewListeners:function(){var e=this;return{refresh:e.onViewRefresh,scope:e}},getHeaderCt:function(){var e=this.navigationModel.getPosition(),t=e?e.view:this.primaryView;return t.headerCt},onNavigate:function(e){if(!e.record){return}this.setPosition(e.position)},selectWithEvent:function(e,t){this.select(e)},select:function(e,t,n){var r=this,i,s=r.getPosition(),o=r.view.store;if(e||e===0){if(e.isModel){i=o.indexOf(e);if(i!==-1){e={row:i,column:s?s.column:0}}else{e=null}}else if(typeof e==="number"){e={row:e,column:0}}}if(e){r.selectByPosition(e,n)}else{r.deselect()}},getCurrentPosition:function(){var e=this.selecting?this.nextSelection:this.selection;return e?{view:e.view,record:e.record,row:e.rowIdx,columnHeader:e.column,column:e.view.getColumnManager().indexOf(e.column)}:e},getPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(e,t,n){if(e&&!e.isCellContext){e=(new Ext.grid.CellContext(this.view)).setPosition({row:e.row,column:typeof e.column==="number"?this.view.getColumnManager().getColumns()[e.column]:e.column})}return this.setPosition(e,t,n)},setPosition:function(e,t,n){var r=this,i=r.selection;if(e){e=e.isCellContext?e.clone():(new Ext.grid.CellContext(r.view)).setPosition(e)}if(!n&&i){if(e&&e.record===i.record&&e.column===i.column&&e.view===i.view){e=null}else{r.onCellDeselect(r.selection,t)}}if(e){r.nextSelection=e;r.selecting=true;r.onCellSelect(r.nextSelection,t);r.selecting=false;return r.selection=e}return null},isCellSelected:function(e,t,n){var r=this,i,s=r.getPosition();if(s&&s.view===e){i=(new Ext.grid.CellContext(e)).setPosition({row:t,column:typeof n==="number"?e.getColumnManager().getColumns()[n]:n});return i.record===s.record&&i.column===s.column}},onStoreRemove:function(e,t,n){var r=this,i=r.getPosition();r.callParent(arguments);if(i&&e.getCount()&&e.indexOf(i.record)!==-1){i.setRow(i.record)}else{r.selection=null}},onStoreClear:function(){this.callParent(arguments);this.selection=null},onStoreAdd:function(){var e=this,t=e.getPosition();e.callParent(arguments);if(t){t.setRow(t.record)}else{e.selection=null}},onCellClick:function(e,t,n,r,i,s,o){if(s!==-1){this.setPosition(o.position)}},onCellSelect:function(e,t){if(e&&e.rowIdx!==undefined&&e.rowIdx>-1){this.doSelect(e.record,false,t)}},onCellDeselect:function(e,t){if(e&&e.rowIdx!==undefined){this.doDeselect(e.record,t)}},onSelectChange:function(e,t,n,r){var i=this,s,o,u,a;if(t){s=i.nextSelection;o="select"}else{s=i.selection;o="deselect"}u=s.view||i.primaryView;if((n||i.fireEvent("before"+o,i,e,s.rowIdx,s.colIdx))!==false&&r()!==false){if(t){if(!i.preventFocus){a=u.getNavigationModel();if(!s.isEqual(a.getPosition())){a.setPosition(s,null,null,null,true)}}u.onCellSelect(s)}else{u.onCellDeselect(s);delete i.selection}if(!n){i.fireEvent(o,i,e,s.rowIdx,s.colIdx)}}},onEditorTab:function(e,t){var n=this,r=t.shiftKey?"left":"right",i=e.context,s=i.view.walkCells(i,r,t,n.preventWrap);if(s){if(e.startEdit(s.record,s.column)){n.wasEditing=false}else{s.view.getNavigationModel().setPosition(s,null,t);n.wasEditing=true}}},refresh:function(){var e=this.getPosition(),t;if(e&&(t=this.store.indexOf(this.selected.last()))!==-1){e.rowIdx=t}},onColumnMove:function(e,t,n,r){var i=e.up("tablepanel");if(i){this.onViewRefresh(i.view)}},onUpdate:function(e){var t=this,n;if(t.isSelected(e)){n=t.selecting?t.nextSelection:t.selection;t.view.onCellSelect(n)}},onViewRefresh:function(e){var t=this,n=t.getPosition(),r,i=e.headerCt,s,o;if(n&&n.view===e){s=n.record;o=n.column;if(!o.isDescendantOf(i)){o=i.queryById(o.id)||i.down('[text="'+o.text+'"]')||i.down('[dataIndex="'+o.dataIndex+'"]')}if(n.record){if(o&&e.store.indexOfId(s.getId())!==-1){r=(new Ext.grid.CellContext(e)).setPosition({row:s,column:o});t.setPosition(r)}}else{t.selection=null}}},selectByPosition:function(e,t){this.setPosition(e,t)}});Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],overCls:Ext.baseCSSPrefix+"slider-thumb-over",constructor:function(e){var t=this;Ext.apply(t,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:false});t.callParent([e])},render:function(){var e=this;e.el=e.slider.innerEl.insertFirst(e.getElConfig());e.onRender()},onRender:function(){if(this.disabled){this.disable()}this.initEvents()},getElConfig:function(){var e=this,t=e.slider,n={};n[t.vertical?"bottom":t.horizontalProp]=t.calculateThumbPosition(t.normalizeValue(e.value))+"%";return{style:n,id:this.id,cls:this.cls,role:"presentation"}},move:function(e,t){var n=this,r=n.el,i=n.slider,s=i.vertical?"bottom":i.horizontalProp,o,u;e+="%";if(!t){r.dom.style[s]=e}else{o={};o[s]=e;if(!Ext.supports.GetPositionPercentage){u={};u[s]=r.dom.style[s]}new Ext.fx.Anim({target:r,duration:350,from:u,to:o})}},enable:function(){var e=this;e.disabled=false;if(e.el){e.el.removeCls(e.slider.disabledCls)}},disable:function(){var e=this;e.disabled=true;if(e.el){e.el.addCls(e.slider.disabledCls)}},initEvents:function(){var e=this;e.tracker=new Ext.dd.DragTracker({el:e.el,onBeforeStart:e.onBeforeDragStart.bind(e),onStart:e.onDragStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onDragEnd.bind(e),tolerance:3,autoStart:300});e.el.hover(e.addOverCls,e.removeOverCls,e)},addOverCls:function(){var e=this;if(!e.disabled){e.el.addCls(e.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(e){var t=this,n=t.el,r=t.tracker.getXY(),i=t.pointerOffset=n.getXY();if(t.disabled){return false}else{i[0]+=Math.floor(n.getWidth()/2)-r[0];i[1]+=Math.floor(n.getHeight()/2)-r[1];t.slider.promoteThumb(t);return true}},onDragStart:function(e){var t=this,n=t.slider;n.onDragStart(t,e);t.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag");t.dragging=t.slider.dragging=true;t.dragStartValue=t.value;n.fireEvent("dragstart",n,e,t)},onDrag:function(e){var t=this,n=t.slider,r=t.index,i=t.getValueFromTracker(),s,o;if(i!==undefined){if(t.constrain){s=n.thumbs[r+1];o=n.thumbs[r-1];if(o!==undefined&&i<=o.value){i=o.value}if(s!==undefined&&i>=s.value){i=s.value}}n.setValue(r,i,false);n.fireEvent("drag",n,e,t)}},getValueFromTracker:function(){var e=this.slider,t=this.tracker.getXY(),n;t[0]+=this.pointerOffset[0];t[1]+=this.pointerOffset[1];n=e.getTrackpoint(t);if(n!==undefined){return e.reversePixelValue(n)}},onDragEnd:function(e){var t=this,n=t.slider,r=t.value;n.onDragEnd(t,e);t.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag");t.dragging=n.dragging=false;n.fireEvent("dragend",n,e);if(t.dragStartValue!=r){n.fireEvent("changecomplete",n,r,t)}},destroy:function(){Ext.destroy(this.tracker);this.el.destroy();this.el=null}});Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:true,init:function(e){var t=this,n,r;if(!t.position){t.position=e.vertical?t.defaultVerticalPosition:t.defaultHorizontalPosition}switch(t.position){case"top":r=[0,-10];n="b-t?";break;case"bottom":r=[0,10];n="t-b?";break;case"left":r=[-10,0];n="r-l?";break;case"right":r=[10,0];n="l-r?"}if(!t.align){t.align=n}if(!t.offsets){t.offsets=r}e.on({scope:t,dragstart:t.onSlide,drag:t.onSlide,dragend:t.hide,destroy:t.destroy})},onSlide:function(e,t,n){var r=this;r.show();r.update(r.getText(n));r.el.alignTo(n.el,r.align,r.offsets)},getText:function(e){return String(e.value)}});Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template"],focusable:true,needArrowKeys:true,tabIndex:0,focusCls:"slider-focus",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl} class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}",'{childElCls}"','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="isVertical"> aria-orientation="vertical"<tpl else> aria-orientation="horizontal"</tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){var n=t.$comp,r=0,i=n.thumbs,s=i.length,o,u;for(;r<s;r++){o=i[r];u=o.getElConfig();u.id=n.id+"-thumb-"+r;Ext.DomHelper.generateMarkup(u,e)}},disableFormats:true}],horizontalProp:"left",vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,useTips:true,tipText:null,ariaRole:"slider",initValue:function(){var e=this,t=Ext.valueFrom,n=t(e.values,[t(e.value,t(e.minValue,0))]),r=0,i=n.length;e.originalValue=n;for(;r<i;r++){e.addThumb(e.normalizeValue(n[r]))}},initComponent:function(){var e=this,t,n,r,i,s;e.thumbs=[];e.keyIncrement=Math.max(e.increment,e.keyIncrement);e.extraFieldBodyCls=Ext.baseCSSPrefix+"slider-ct-"+(e.vertical?"vert":"horz");e.callParent();if(e.useTips){if(Ext.isObject(e.useTips)){t=Ext.apply({},e.useTips)}else{t=e.tipText?{getText:e.tipText}:{}}s=e.plugins=e.plugins||[];i=s.length;for(r=0;r<i;r++){if(s[r].isSliderTip){n=true;break}}if(!n){e.plugins.push(new Ext.slider.Tip(t))}}},addThumb:function(e){var t=this,n=new Ext.slider.Thumb({ownerCt:t,value:e,slider:t,index:t.thumbs.length,constrain:t.constrainThumbs,disabled:!!t.readOnly});t.thumbs.push(n);if(t.rendered){n.render()}return n},promoteThumb:function(e){var t=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),n=t.length,r=1e4,i;if(t[0]!==e){Ext.Array.remove(t,e);t.unshift(e)}for(i=0;i<n;i++){t[i].el.setStyle("zIndex",r);r-=1e3}},getSubTplData:function(e){var t=this;return Ext.apply(t.callParent(arguments),{$comp:t,isVertical:t.vertical,vertical:t.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:t.minValue,maxValue:t.maxValue,value:t.value,tabIdx:t.tabIndex,childElCls:""})},onRender:function(){var e=this,t=e.thumbs,n=t.length,r=0,i;e.callParent(arguments);for(r=0;r<n;r++){i=t[r];i.el=e.el.getById(e.id+"-thumb-"+r);i.onRender()}},initEvents:function(){var e=this;e.callParent();e.mon(e.el,{scope:e,mousedown:e.onMouseDown,keydown:e.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(e){var t=this,n=t.vertical,r=t.innerEl,i,s,o;if(n){o="top";i=r.getHeight()}else{o=t.horizontalProp;i=r.getWidth()}e=t.transformTrackPoints(r.translatePoints(e));s=Ext.Number.constrain(e[o],0,i);return n?i-s:s},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(e){var t=this,n=false,r=0,i=t.thumbs,s=i.length,o;if(t.disabled){return}for(;!n&&r<s;r++){n=n||e.target==i[r].el.dom}if(t.clickToChange&&!n){o=t.getTrackpoint(e.getXY());if(o!==undefined){t.onClickChange(o)}}t.focus()},onClickChange:function(e){var t=this,n,r;n=t.getNearest(e);if(!n.disabled){r=n.index;t.setValue(r,Ext.util.Format.round(t.reversePixelValue(e),t.decimalPrecision),undefined,true)}},getNearest:function(e){var t=this,n=t.reversePixelValue(e),r=t.getRange()+5,i=null,s=t.thumbs,o=0,u=s.length,a,f,l;for(;o<u;o++){a=t.thumbs[o];f=a.value;l=Math.abs(f-n);if(Math.abs(l)<=r){i=a;r=l}}return i},onKeyDown:function(e){var t=this,n,r;if(t.disabled||t.thumbs.length!==1){e.preventDefault();return}n=e.getKey();switch(n){case e.UP:case e.RIGHT:e.stopEvent();r=e.ctrlKey?t.maxValue:t.getValue(0)+t.keyIncrement;t.setValue(0,r,undefined,true);break;case e.DOWN:case e.LEFT:e.stopEvent();r=e.ctrlKey?t.minValue:t.getValue(0)-t.keyIncrement;t.setValue(0,r,undefined,true);break}},normalizeValue:function(e){var t=this,n=t.zeroBasedSnapping?"snap":"snapInRange";e=Ext.Number[n](e,t.increment,t.minValue,t.maxValue);e=Ext.util.Format.round(e,t.decimalPrecision);e=Ext.Number.constrain(e,t.minValue,t.maxValue);return e},setMinValue:function(e){var t=this,n=t.thumbs,r=n.length,i,s;t.minValue=e;for(s=0;s<r;++s){i=n[s];if(i.value<e){t.setValue(s,e,false)}}t.syncThumbs()},setMaxValue:function(e){var t=this,n=t.thumbs,r=n.length,i,s;t.maxValue=e;for(s=0;s<r;++s){i=n[s];if(i.value>e){t.setValue(s,e,false)}}t.syncThumbs()},setValue:function(e,t,n,r){var i=this,s=i.thumbs,o,u,a,f;if(Ext.isArray(e)){f=e;n=t;for(a=0,u=f.length;a<u;++a){o=s[a];if(o){i.setValue(a,f[a],n)}}return i}o=i.thumbs[e];t=i.normalizeValue(t);if(t!==o.value&&i.fireEvent("beforechange",i,t,o.value,o)!==false){o.value=t;if(i.rendered){o.move(i.calculateThumbPosition(t),Ext.isDefined(n)?n!==false:i.animate);i.fireEvent("change",i,t,o);i.checkDirty();if(r){i.fireEvent("changecomplete",i,t,o)}}}return i},calculateThumbPosition:function(e){var t=this,n=t.minValue,r=(e-n)/t.getRange()*100;if(isNaN(r)){r=0}return r},getRatio:function(){var e=this,t=e.innerEl,n=e.vertical?t.getHeight():t.getWidth(),r=e.getRange();return r===0?n:n/r},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+this.getRange()*(e/100)},onDisable:function(){var e=this,t=0,n=e.thumbs,r=n.length,i,s,o;e.callParent();for(;t<r;t++){i=n[t];s=i.el;i.disable();if(Ext.isIE){o=s.getXY();s.hide();e.innerEl.addCls(e.disabledCls).dom.disabled=true;if(!e.thumbHolder){e.thumbHolder=e.endEl.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"slider-thumb "+e.disabledCls})}e.thumbHolder.show().setXY(o)}}},onEnable:function(){var e=this,t=0,n=e.thumbs,r=n.length,i,s;this.callParent();for(;t<r;t++){i=n[t];s=i.el;i.enable();if(Ext.isIE){e.innerEl.removeCls(e.disabledCls).dom.disabled=false;if(e.thumbHolder){e.thumbHolder.hide()}s.show();e.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var e=this.thumbs,t=e.length,n=0;for(;n<t;n++){e[n].move(this.calculateThumbPosition(e[n].value))}}},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){var e=[],t=0,n=this.thumbs,r=n.length;for(;t<r;t++){e.push(n[t].value)}return e},getSubmitValue:function(){var e=this;return e.disabled||!e.submitValue?null:e.getValue()},reset:function(){var e=this,t=[].concat(e.originalValue),n=0,r=t.length,i;for(;n<r;n++){i=t[n];e.setValue(n,i)}e.clearInvalid();delete e.wasValid},setReadOnly:function(e){var t=this,n=t.thumbs,r=n.length,i=0;t.callParent(arguments);e=t.readOnly;for(;i<r;++i){if(e){n[i].disable()}else{n[i].enable()}}},beforeDestroy:function(){var e=this,t=e.thumbs,n=0,r=t.length,i;if(e.rendered){for(;n<r;n++){i=t[n];Ext.destroy(i)}}e.callParent()}});Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"grid-cell-row-checker",constructor:function(){var e=this;e.callParent(arguments);if(e.mode==="SINGLE"&&e.showHeaderCheckbox!==true){e.showHeaderCheckbox=false}},beforeViewRender:function(e){var t=this,n;t.callParent(arguments);if(!t.hasLockedHeader()||e.headerCt.lockedCt){if(t.showHeaderCheckbox!==false){e.headerCt.on("headerclick",t.onHeaderClick,t)}t.addCheckbox(e,true);n=e.ownerCt;if(e.headerCt.lockedCt){n=n.ownerCt}t.mon(n,"reconfigure",t.onReconfigure,t)}},bindComponent:function(e){var t=this;t.sortable=false;t.callParent(arguments)},hasLockedHeader:function(){var e=this.views,t=e.length,n;for(n=0;n<t;n++){if(e[n].headerCt.lockedCt){return true}}return false},addCheckbox:function(e,t){var n=this,r=n.injectCheckbox,i=e.headerCt;if(r!==false){if(r==="first"){r=0}else if(r==="last"){r=i.getColumnCount()}Ext.suspendLayouts();if(e.getStore().isBufferedStore){n.showHeaderCheckbox=false}i.add(r,n.getHeaderConfig());Ext.resumeLayouts()}if(t!==true){e.refresh()}},onReconfigure:function(e,t,n){if(n){this.addCheckbox(this.views[0])}},toggleUiHeader:function(e){var t=this.views[0],n=t.headerCt,r=n.child("gridcolumn[isCheckerHd]"),i=this.checkerOnCls;if(r){if(e){r.addCls(i)}else{r.removeCls(i)}}},onHeaderClick:function(e,t,n){if(t.isCheckerHd){n.stopEvent();var r=this,i=t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");r.preventFocus=true;if(i){r.deselectAll()}else{r.selectAll()}delete r.preventFocus}},getHeaderConfig:function(){var e=this,t=e.showHeaderCheckbox!==false;return{isCheckerHd:t,text:"&#160;",clickTargetName:"el",width:e.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",tdCls:e.tdCls,cls:t?Ext.baseCSSPrefix+"column-header-checkbox ":"",defaultRenderer:e.renderer.bind(e),editRenderer:e.editRenderer||e.renderEmpty,locked:e.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments);this.updateHeaderState()},renderer:function(e,t,n,r,i,s,o){return'<div class="'+Ext.baseCSSPrefix+'grid-row-checker" role="presentation">&#160;</div>'},onSelectChange:function(){this.callParent(arguments);if(!this.suspendChange){this.updateHeaderState()}},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments);this.updateHeaderState()},maybeFireSelectionChange:function(e){if(e&&!this.suspendChange){this.updateHeaderState()}this.callParent(arguments)},resumeChanges:function(){this.callParent();if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var e=this,t=e.store,n=t.getCount(),r=e.views,i=false,s=0,o,u,a;if(!t.isBufferedStore&&n>0){o=e.selected;i=true;for(a=0,u=o.getCount();a<u;++a){if(t.indexOfId(o.getAt(a).id)===-1){break}++s}i=n===s}if(r&&r.length){e.toggleUiHeader(i)}}});Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],initComponent:function(){if(this.publishOnComplete){this.valuePublishEvent="changecomplete"}this.callParent()},publishOnComplete:true,getValue:function(){return this.callParent([0])},setValue:function(e,t){var n=arguments,r=n.length;if(r==1||r<=3&&typeof n[1]!="number"){n=Ext.toArray(n);n.unshift(0)}return this.callParent(n)},getNearest:function(){return this.thumbs[0]}});Ext.define("Ext.slider.Widget",{extend:"Ext.Widget",alias:"widget.sliderwidget",requires:["Ext.slider.Multi"],cachedConfig:{vertical:false},config:{clickToChange:true,ui:"widget",value:0,minValue:0,maxValue:100,publishOnComplete:true,twoWayBindable:{value:1}},decimalPrecision:0,defaultBindProperty:"value",element:{reference:"element",cls:Ext.baseCSSPrefix+"slider",listeners:{mousedown:"onMouseDown",dragstart:"cancelDrag",drag:"cancelDrag",dragend:"cancelDrag"},children:[{reference:"endEl",cls:Ext.baseCSSPrefix+"slider-end",children:[{reference:"innerEl",cls:Ext.baseCSSPrefix+"slider-inner"}]}]},thumbCls:Ext.baseCSSPrefix+"slider-thumb",horizontalProp:"left",animateOnSetValue:undefined,applyValue:function(e){var t=this,n=t.animateOnSetValue,r,i;if(Ext.isArray(e)){e=Ext.Array.from(e);for(r=0,i=e.length;r<i;++r){t.setThumbValue(r,e[r]=t.normalizeValue(e[r]),n,true)}}else{e=t.normalizeValue(e);t.setThumbValue(0,e,n,true)}return e},updateVertical:function(e,t){this.element.removeCls(Ext.baseCSSPrefix+"slider-"+(t?"vert":"horz"));this.element.addCls(Ext.baseCSSPrefix+"slider-"+(e?"vert":"horz"))},doSetHeight:function(e){this.callParent(arguments);this.endEl.dom.style.height=this.innerEl.dom.style.height="100%"},cancelDrag:function(e){e.stopPropagation()},getThumb:function(e){var t=this,n,r=(t.thumbs||(t.thumbs=[]))[e];if(!r){n={cls:t.thumbCls,style:{}};n["data-thumbIndex"]=e;r=t.thumbs[e]=t.innerEl.createChild(n)}return r},getThumbPositionStyle:function(){return this.getVertical()?"bottom":this.rtl&&Ext.rtl?"right":"left"},update:function(){var e=this,t=e.getValue(),n=t.length,r;for(r=0;r<n;r++){this.thumbs[r].dom.style[e.getThumbPositionStyle()]=e.calculateThumbPosition(t[r])+"%"}},onMouseDown:function(e){var t=this,n,r=e.getXY(),i;if(!t.disabled&&e.button===0){Ext.getDoc().on({scope:t,capture:true,selectstart:t.stopSelect});n=e.getTarget("."+t.thumbCls,null,true);if(n){t.animateOnSetValue=false;t.promoteThumb(n);t.captureMouse(t.onMouseMove,t.onMouseUp,[n],1);i=t.pointerOffset=n.getXY();i[0]+=Math.floor(n.getWidth()/2)-r[0];i[1]+=Math.floor(n.getHeight()/2)-r[1]}else{if(t.getClickToChange()){r=t.getTrackpoint(r);if(r!=null){t.onClickChange(r)}}}}},onClickChange:function(e){var t=this,n,r,i;n=t.getNearest(e);r=parseInt(n.getAttribute("data-thumbIndex"),10);i=Ext.util.Format.round(t.reversePixelValue(e),t.decimalPrecision);if(r){t.setThumbValue(r,i,undefined,true)}else{t.setValue(i)}},getNearest:function(e){var t=this,n=t.reversePixelValue(e),r=t.getRange()+5,i=null,s=t.thumbs,o=0,u=s.length,a,f,l;for(;o<u;o++){a=s[o];f=t.reversePercentageValue(parseInt(a.dom.style[t.getThumbPositionStyle()],10));l=Math.abs(f-n);if(Math.abs(l)<=r){i=a;r=l}}return i},promoteThumb:function(e){var t=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),n=t.length,r=1e4,i;if(t[0]!==e){Ext.Array.remove(t,e);t.unshift(e)}for(i=0;i<n;i++){t[i].el.setStyle("zIndex",r);r-=1e3}},doMouseMove:function(e,t,n){var r=this,i=e.getXY(),s,o,u;i[0]+=r.pointerOffset[0];i[1]+=r.pointerOffset[1];u=r.getTrackpoint(i);if(u){s=r.reversePixelValue(u);o=parseInt(t.getAttribute("data-thumbIndex"),10);if(o||!n&&r.getPublishOnComplete()){r.setThumbValue(o,s,false,n)}else{r.setValue(s)}}},onMouseMove:function(e,t){this.doMouseMove(e,t,false)},onMouseUp:function(e,t){var n=this;n.doMouseMove(e,t,true);Ext.getDoc().un({scope:n,capture:true,selectstart:n.stopSelect});delete n.animateOnSetValue},stopSelect:function(e){e.stopEvent();return false},setThumbValue:function(e,t,n,r){var i=this,s,o,u,a,f;if(Ext.isArray(e)){f=e;n=t;for(a=0,u=f.length;a<u;++a){i.setThumbValue(a,f[a],n,r)}return i}s=i.getThumb(e);o=i.reversePercentageValue(parseInt(s.dom.style[i.getThumbPositionStyle()],10));t=i.normalizeValue(t);if(t!==o&&i.fireEvent("beforechange",i,t,o,s)!==false){if(i.element.dom){i.element.set({"aria-valuenow":t,"aria-valuetext":t});i.moveThumb(s,i.calculateThumbPosition(t),Ext.isDefined(n)?n!==false:i.animate);i.fireEvent("change",i,t,s)}}return i},getValue:function(e){var t=this,n;if(Ext.isNumber(e)){n=t.thumbs[e].dom.style[t.getThumbPositionStyle()];n=t.reversePercentageValue(parseInt(n,10))}else{n=t.getValues();if(n.length===1){n=n[0]}}return n},getValues:function(){var e=this,t=[],n=0,r=e.thumbs,i=r.length;for(;n<i;n++){t.push(e.reversePercentageValue(parseInt(e.thumbs[n].dom.style[e.getThumbPositionStyle()],10)))}return t},moveThumb:function(e,t,n){var r=this,i=r.getThumbPositionStyle(),s,o;t+="%";if(!n){e.dom.style[i]=t}else{s={};s[i]=t;if(!Ext.supports.GetPositionPercentage){o={};o[i]=e.dom.style[i]}new Ext.fx.Anim({target:e,duration:350,from:o,to:s})}},normalizeValue:function(e){var t=this,n=t.zeroBasedSnapping?"snap":"snapInRange";e=Ext.Number[n](e,t.increment,t.minValue,t.maxValue);e=Ext.util.Format.round(e,t.decimalPrecision);e=Ext.Number.constrain(e,t.minValue,t.maxValue);return e},getTrackpoint:function(e){var t=this,n=t.getVertical(),r=t.innerEl,i,s,o;if(n){o="top";i=r.getHeight()}else{o="left";i=r.getWidth()}e=t.transformTrackPoints(r.translatePoints(e));s=Ext.Number.constrain(e[o],0,i);return n?i-s:s},transformTrackPoints:Ext.identityFn,calculateThumbPosition:function(e){var t=this,n=(e-t.getMinValue())/t.getRange()*100;if(isNaN(n)){n=0}return n},getRatio:function(){var e=this,t=e.innerEl,n=e.getVertical()?t.getHeight():t.getWidth(),r=e.getRange();return r===0?n:n/r},getRange:function(){return this.getMaxValue()-this.getMinValue()},reversePixelValue:function(e){return this.getMinValue()+e/this.getRatio()},reversePercentageValue:function(e){return this.getMinValue()+this.getRange()*(e/100)},captureMouse:function(e,t,n,r){var i=this,s,o;e=e&&Ext.Function.bind(e,i,n,r);t=t&&Ext.Function.bind(t,i,n,r);s=function(){Ext.getDoc().un(o);if(t){t.apply(i,arguments)}};o={mousemove:e,mouseup:s};Ext.getDoc().on(o)}});Ext.define("Ext.sparkline.Shape",{constructor:function(e,t,n,r){this.target=e;this.id=t;this.type=n;this.args=r},append:function(){this.target.appendShape(this);return this}});Ext.define("Ext.sparkline.CanvasBase",{requires:["Ext.sparkline.Shape"],shapeCount:0,_pxregex:/(\d+)(px)?\s*$/i,setWidth:function(e){this.pixelWidth=e},setHeight:function(e){this.pixelHeight=e},drawLine:function(e,t,n,r,i,s){return this.drawShape([[e,t],[n,r]],i,s)},drawShape:function(e,t,n,r){return this._genShape("Shape",[e,t,n,r])},drawCircle:function(e,t,n,r,i,s){return this._genShape("Circle",[e,t,n,r,i,s])},drawPieSlice:function(e,t,n,r,i,s,o){return this._genShape("PieSlice",[e,t,n,r,i,s,o])},drawRect:function(e,t,n,r,i,s){return this._genShape("Rect",[e,t,n,r,i,s])},getElement:function(){return this.el},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_genShape:function(e,t){var n=this.shapeCount++;t.unshift(n);return new Ext.sparkline.Shape(this,n,e,t)},appendShape:function(e){alert("appendShape not implemented")},replaceWithShape:function(e,t){alert("replaceWithShape not implemented")},insertAfterShape:function(e,t){alert("insertAfterShape not implemented")},removeShapeId:function(e){alert("removeShapeId not implemented")},getShapeAt:function(e,t){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});Ext.define("Ext.sparkline.CanvasCanvas",{extend:"Ext.sparkline.CanvasBase",constructor:function(e){this.owner=e},setWidth:function(e){this.callParent(arguments);this.owner.element.dom.width=e},setHeight:function(e){this.callParent(arguments);this.owner.element.dom.height=e},onOwnerUpdate:function(){var e=this;e.el=e.owner.element;e.interact=!e.owner.initialConfig.disableInteraction;e.shapes={};e.shapeseq=[];e.currentTargetShapeId=e.lastShapeId=null},_getContext:function(e,t,n){var r=this.el.dom.getContext("2d");if(e!=null){r.strokeStyle=e}r.lineWidth=n||1;if(t!=null){r.fillStyle=t}return r},reset:function(){var e=this._getContext();e.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=this.lastShapeId=null},_drawShape:function(e,t,n,r,i){var s=this._getContext(n,r,i),o,u;s.beginPath();s.moveTo(t[0][0]+.5,t[0][1]+.5);for(o=1,u=t.length;o<u;o++){s.lineTo(t[o][0]+.5,t[o][1]+.5)}if(n!=null){s.stroke()}if(r!=null){s.fill()}if(this.targetX!=null&&this.targetY!=null&&s.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=e}},_drawCircle:function(e,t,n,r,i,s,o){var u=this._getContext(i,s,o);u.beginPath();u.arc(t,n,r,0,2*Math.PI,false);if(this.targetX!=null&&this.targetY!=null&&u.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=e}if(i!==undefined){u.stroke()}if(s!==undefined){u.fill()}},_drawPieSlice:function(e,t,n,r,i,s,o,u){var a=this._getContext(o,u);a.beginPath();a.moveTo(t,n);a.arc(t,n,r,i,s,false);a.lineTo(t,n);a.closePath();if(o!=null){a.stroke()}if(u){a.fill()}if(this.targetX!==undefined&&this.targetY!==undefined&&a.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=e}},_drawRect:function(e,t,n,r,i,s,o){return this._drawShape(e,[[t,n],[t+r,n],[t+r,n+i],[t,n+i],[t,n]],s,o)},appendShape:function(e){this.shapes[e.id]=e;this.shapeseq.push(e.id);this.lastShapeId=e.id;return e.id},replaceWithShape:function(e,t){var n=this.shapeseq,r;this.shapes[t.id]=t;for(r=n.length;r--;){if(n[r]==e){n[r]=t.id}}delete this.shapes[e]},replaceWithShapes:function(e,t){var n=this.shapeseq,r={},i,s,o;for(s=e.length;s--;){r[e[s]]=true}for(s=n.length;s--;){i=n[s];if(r[i]){n.splice(s,1);delete this.shapes[i];o=s}}for(s=t.length;s--;){n.splice(o,0,t[s].id);this.shapes[t[s].id]=t[s]}},insertAfterShape:function(e,t){var n=this.shapeseq,r;for(r=n.length;r--;){if(n[r]===e){n.splice(r+1,0,t.id);this.shapes[t.id]=t;return}}},removeShapeId:function(e){var t=this.shapeseq,n;for(n=t.length;n--;){if(t[n]===e){t.splice(n,1);break}}delete this.shapes[e]},getShapeAt:function(e,t){this.targetX=e;this.targetY=t;this.render();return this.currentTargetShapeId},render:function(){var e=this.shapeseq,t=this.shapes,n=e.length,r=this._getContext(),i,s,o;r.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(o=0;o<n;o++){i=e[o];s=t[i];this["_draw"+s.type].apply(this,s.args)}if(!this.interact){this.shapes={};this.shapeseq=[]}}});Ext.define("Ext.sparkline.VmlCanvas",{extend:"Ext.sparkline.CanvasBase",constructor:function(e){var t=this;t.owner=e;e.element={tag:"span",reference:"element",listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},style:{display:"inline-block",position:"relative",overflow:"hidden",margin:"0px",padding:"0px",verticalAlign:"top",cursor:"default"},children:[{tag:"svml:group",reference:"groupEl",coordorigin:"0 0",coordsize:"0 0",style:"position:absolute;width:0;height:0;pointer-events:none"}]}},setWidth:function(e){var t=this;t.callParent(arguments);t.owner.groupEl.dom.coordsize=t.width+" "+(t.height||0);t.owner.groupEl.dom.style.width=e+"px"},setHeight:function(e){var t=this;t.callParent(arguments);t.owner.groupEl.dom.coordsize=(t.width||0)+" "+t.height;t.owner.groupEl.dom.style.height=e+"px"},onOwnerUpdate:function(){var e=this;e.group=e.owner.groupEl;e.el=e.owner.element;e.prerender=[]},_drawShape:function(e,t,n,r,i){var s=[],o,u,a,f,l,c;for(c=0,l=t.length;c<l;c++){s[c]=t[c][0]+","+t[c][1]}o=s.splice(0,1);i=i==null?1:i;u=n==null?' stroked="false" ':' strokeWeight="'+i+'px" strokeColor="'+n+'" ';a=r==null?' filled="false"':' fillColor="'+r+'" filled="true" ';f=s[0]===s[s.length-1]?"x ":"";return['<svml:shape coordorigin="0 0" coordsize="',this.pixelWidth," ",this.pixelHeight,'" id="jqsshape',e,'" ',u,a,' style="position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px" ',' path="m ',o," l ",s.join(", ")," ",f,'e"></svml:shape>'].join("")},_drawCircle:function(e,t,n,r,i,s,o){var u=r*2,a,f;t-=r;n-=r;a=i==null?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+i+'" ';f=s==null?' filled="false"':' fillColor="'+s+'" filled="true" ';return['<svml:oval id="jqsshape',e,'" ',a,f,' style="position:absolute;top:',n,"px; left:",t,"px;width:",u,"px;height:",u,'px"></svml:oval>'].join("")},_drawPieSlice:function(e,t,n,r,i,s,o,u){var a,f=this.pixelWidth,l=this.pixelHeight,c,h,p,d,v=o==null?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',m=u==null?' filled="false"':' fillColor="'+u+'" filled="true" ';if(i===s){return""}if(s-i===2*Math.PI){i=0;s=2*Math.PI}c=t+Math.round(Math.cos(i)*r);h=n+Math.round(Math.sin(i)*r);p=t+Math.round(Math.cos(s)*r);d=n+Math.round(Math.sin(s)*r);if(c===p&&h===d){if(s-i<Math.PI){return""}c=p=t+r;h=d=n}if(c===p&&h===d&&s-i<Math.PI){return""}a=[t-r,n-r,t+r,n+r,c,h,p,d];return['<svml:shape coordorigin="0 0" coordsize="',f," ",l,'" id="jqsshape',e,'" ',v,m,' style="position:absolute;height:',l,"px;width:",f,'px" path="m ',t,",",n," wa ",a.join(", "),' x e"></svml:shape>'].join("")},_drawRect:function(e,t,n,r,i,s,o){return this._drawShape(e,[[t,n],[t,n+i],[t+r,n+i],[t+r,n],[t,n]],s,o)},reset:function(){Ext.fly(this.group).empty()},appendShape:function(e){this.prerender.push(this["_draw"+e.type].apply(this,e.args));this.lastShapeId=e.id;return e.id},replaceWithShape:function(e,t){var n=this.el.getById("jqsshape"+e,true),r=this["_draw"+t.type].apply(this,t.args);n.outerHTML=r},replaceWithShapes:function(e,t){var n=this.el.getById("jqsshape"+e[0],true),r="",i=t.length,s;for(s=0;s<i;s++){r+=this["_draw"+t[s].type].apply(this,t[s].args)}n.outerHTML=r;for(s=1;s<e.length;s++){this.el.getById("jqsshape"+e[s]).destroy()}},insertAfterShape:function(e,t){var n=this.el.getById("jqsshape"+e,true),r=this["_draw"+t.type].apply(this,t.args);n.insertAdjacentHTML("afterEnd",r)},removeShapeId:function(e){var t=this.el.getById("jqsshape"+e,true);this.group.removeChild(t)},getShapeAt:function(e,t){var n=this.el.id.substr(8);return n},render:function(){this.group.dom.innerHTML=this.prerender.join("")}},function(){Ext.onReady(function(){var e=document;if(e.namespaces&&!e.namespaces.svml){e.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML")}})});Ext.define("Ext.sparkline.Base",{extend:"Ext.Widget",requires:["Ext.XTemplate","Ext.sparkline.CanvasCanvas","Ext.sparkline.VmlCanvas"],cachedConfig:{baseCls:Ext.baseCSSPrefix+"sparkline",lineColor:"#157fcc",fillColor:"#def",defaultPixelsPerValue:3,tagValuesAttribute:"values",enableTagOptions:false,enableHighlight:true,highlightColor:null,highlightLighten:1.4,tooltipSkipNull:true,tooltipPrefix:"",tooltipSuffix:"",disableTooltips:false,disableInteraction:false,tipTpl:null},config:{values:null},element:{tag:"canvas",reference:"element",style:{display:"inline-block",verticalAlign:"top"},listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},width:0,height:0},defaultBindProperty:"values",redrawQueue:{},inheritableStatics:{sparkLineTipClass:Ext.baseCSSPrefix+"sparkline-tip-target",onClassCreated:function(e){var t=e.prototype,n=e.getConfigurator().configs,r;for(r in n){if(r!=="tipTpl"){t[Ext.Config.get(r).names.apply]=t.applyConfigChange}}}},constructor:function(e){var t=this;t.canvas=Ext.supports.Canvas?new Ext.sparkline.CanvasCanvas(t):new Ext.sparkline.VmlCanvas(t);if(!t.getDisableTooltips()){t.element.cls=Ext.sparkline.Base.sparkLineTipClass}Ext.apply(t,e);t.callParent([e]);t.el=t.element},all:function(e,t,n){var r;for(r=t.length;r--;){if(n&&t[r]===null){continue}if(t[r]!==e){return false}}return true},applyConfigChange:function(e){var t=this;t.redrawQueue[t.getId()]=t;if(!t.redrawTimer){Ext.sparkline.Base.prototype.redrawTimer=Ext.Function.requestAnimationFrame(t.processRedrawQueue)}return e},applyTipTpl:function(e){if(!e.isTemplate){e=new Ext.XTemplate(e)}return e},normalizeValue:function(e){var t;switch(e){case"undefined":e=undefined;break;case"null":e=null;break;case"true":e=true;break;case"false":e=false;break;default:t=parseFloat(e);if(e==t){e=t}}return e},normalizeValues:function(e){var t,n=[];for(t=e.length;t--;){n[t]=this.normalizeValue(e[t])}return n},doSetWidth:function(e){var t=this,n=t.element.dom;t.callParent(arguments);t.canvas.setWidth(e);t.width=e;if(t.height==null){t.setHeight(parseInt(t.measurer.getCachedStyle(n.parentNode,"line-height"),10))}else{t.redrawQueue[t.getId()]=t}},doSetHeight:function(e){var t=this;t.callParent(arguments);t.canvas.setHeight(e);t.height=e;t.redrawQueue[t.getId()]=t},updateValues:function(e){this.values=e},redraw:function(){var e=this,t;if(e.getValues()){t=e.tooltip;if(t&&t.isVisible()&&e.currentPageXY&&e.el.getRegion().contains(e.currentPageXY)){e.tooltip.triggerElement=e.el.dom}e.onUpdate();e.canvas.onOwnerUpdate();e.renderGraph()}},onUpdate:Ext.emptyFn,renderGraph:function(){var e=true;if(this.disabled){this.canvas.reset();e=false}return e},onMouseEnter:function(e){this.onMouseMove(e)},onMouseMove:function(e){this.currentPageXY=e.getPoint();this.redraw()},onMouseLeave:function(){var e=this;e.currentPageXY=e.targetX=e.targetY=null;e.redraw()},updateDisplay:function(){var e=this,t,n,r,i;if(e.currentPageXY&&e.el.getRegion().contains(e.currentPageXY)){t=e.canvas.el.getXY();i=e.getRegion(e.currentPageXY[0]-t[0],e.currentPageXY[1]-t[1]);if(i!=null&&!e.disableHighlight){e.renderHighlight(i)}e.fireEvent("sparklineregionchange",e);n=e.tooltip;if(i!=null&&n){r=e.getRegionTooltip(i);if(r){if(!e.lastTooltipHTML||r[0]!==e.lastTooltipHTML[0]||r[1]!==e.lastTooltipHTML[1]){n.setTitle(r[0]);n.update(r[1]);e.lastTooltipHTML=r}}else{n.hide()}}}},getRegion:Ext.emptyFn,getRegionTooltip:function(e){var t=this,n=t.tooltipChartTitle,r=[],s=t.getTipTpl(),o,u,a,f,l,c,h,p;o=t.getRegionFields(e);c=t.tooltipFormatter;if(c){return c(t,t,o)}if(!s){return""}if(!Ext.isArray(o)){o=[o]}u=t.tooltipFormatFieldlist;a=t.tooltipFormatFieldlistKey;if(u&&a){f=[];for(i=o.length;i--;){l=o[i][a];if((p=Ext.Array.indexOf(l,u))!=-1){f[p]=o[i]}}o=f}h=o.length;for(p=0;p<h;p++){if(!o[p].isNull||!t.getTooltipSkipNull()){Ext.apply(o[p],{prefix:t.getTooltipPrefix(),suffix:t.getTooltipSuffix()});r.push(s.apply(o[p]))}}if(n||r.length){return[n,r.join("<br>")]}return""},getRegionFields:Ext.emptyFn,calcHighlightColor:function(e){var t=this,n=t.getHighlightColor(),r=t.getHighlightLighten(),i,s,o,u;if(n){return n}if(r){i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(i){o=[];s=e.length===4?16:1;for(u=0;u<3;u++){o[u]=Ext.Number.constrain(Math.round(parseInt(i[u+1],16)*s*r),0,255)}return"rgb("+o.join(",")+")"}}return e},destroy:function(){delete this.redrawQueue[this.getId()];this.callParent()}},function(e){var t=e.prototype;Ext.onReady(function(){t.tooltip=new Ext.tip.ToolTip({id:"sparklines-tooltip",target:document.body,delegate:"."+e.sparkLineTipClass,showDelay:0,dismissDelay:0,hideDelay:400})});e.onClassCreated(e);t.processRedrawQueue=function(){var e=t.redrawQueue,n;for(n in e){e[n].redraw()}t.redrawQueue={};t.redrawTimer=0}});Ext.define("Ext.sparkline.BarBase",{extend:"Ext.sparkline.Base",renderHighlight:function(e){this.renderRegion(e,true)},renderGraph:function(){var e=this,t=e.values,n=e.canvas,r=e.regionShapes||(e.regionShapes={}),i,s,o,u;if(!e.callParent()){return}for(o=t.length;o--;){i=e.renderRegion(o);if(i){if(Ext.isArray(i)){s=[];for(u=i.length;u--;){i[u].append();s.push(i[u].id)}r[o]=s}else{i.append();r[o]=i.id}}else{r[o]=null}}if(e.currentPageXY){e.currentRegion=null;e.updateDisplay()}n.render()}});Ext.define("Ext.sparkline.RangeMap",{constructor:function(e){var t,n,r=[];for(t in e){if(e.hasOwnProperty(t)&&typeof t==="string"&&t.indexOf(":")>-1){n=t.split(":");n[0]=n[0].length===0?-Infinity:parseFloat(n[0]);n[1]=n[1].length===0?Infinity:parseFloat(n[1]);n[2]=e[t];r.push(n)}}this.map=e;this.rangelist=r||false},get:function(e){var t=this.rangelist,n,r,i;if((i=this.map[e])!==undefined){return i}if(t){for(n=t.length;n--;){r=t[n];if(r[0]<=e&&r[1]>=e){return r[2]}}}}});Ext.define("Ext.sparkline.Bar",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinebar",config:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:null,nullColor:null,zeroAxis:true,barWidth:4,barSpacing:1,chartRangeMin:null,chartRangeMax:null,chartRangeClip:false,colorMap:null,tipTpl:new Ext.XTemplate("&#9679; {prefix}{value}{suffix}")},remove:function(e,t){var n,r,i=[];for(n=0,r=e.length;n<r;n++){if(e[n]!==t){i.push(e[n])}}return i},all:function(e,t,n){var r;for(r=e.length;r--;){if(n&&e[r]===null)continue;if(e[r]!==t){return false}}return true},applyColorMap:function(e){var t=this;if(Ext.isArray(e)){t.colorMapByIndex=e;t.colorMapByValue=null}else{t.colorMapByIndex=null;t.colorMapByValue=e;if(t.colorMapByValue&&t.colorMapByValue.get==null){t.colorMapByValue=new Ext.sparkline.RangeMap(e)}}return e},onUpdate:function(){var e=this,t=e.values,n=e.getBarWidth(),r=e.getBarSpacing(),i=e.getChartRangeMin(),s=e.getChartRangeMax(),o=e.getChartRangeClip(),u=Infinity,a=-Infinity,f,l,c,h,p,d,v,m,g=e.getZeroAxis(),y,b,w,E,S,x,T,N,C,k,L,A,O,M=[],_=[];for(d=0,v=t.length;d<v;d++){L=t[d];f=typeof L==="string"&&L.indexOf(":")>-1;if(f||Ext.isArray(L)){x=true;if(f){L=t[d]=e.normalizeValues(L.split(":"))}L=e.remove(L,null);l=Math.min.apply(Math,L);c=Math.max.apply(Math,L);if(l<u){u=l}if(c>a){a=c}}}e.stacked=x;e.regionShapes={};e.totalBarWidth=n+r;e.width=t.length*n+(t.length-1)*r;if(o){E=i==null?-Infinity:i;S=s==null?Infinity:s}p=[];h=x?[]:p;for(d=0,v=t.length;d<v;d++){if(x){T=t[d];t[d]=k=[];M[d]=0;h[d]=_[d]=0;for(N=0,C=T.length;N<C;N++){L=k[N]=o?Ext.Number.constrain(T[N],E,S):T[N];if(L!==null){if(L>0){M[d]+=L}if(u<0&&a>0){if(L<0){_[d]+=Math.abs(L)}else{h[d]+=L}}else{h[d]+=Math.abs(L-(L<0?a:u))}p.push(L)}}}else{L=o?Ext.Number.constrain(t[d],E,S):t[d];L=t[d]=e.normalizeValue(L);if(L!==null){p.push(L)}}}e.max=w=Math.max.apply(Math,p);e.min=b=Math.min.apply(Math,p);e.stackMax=a=x?Math.max.apply(Math,M):w;e.stackMin=u=x?Math.min.apply(Math,p):b;if(i!=null&&(o||i<b)){b=i}if(s!=null&&(o||s>w)){w=s}if(b<=0&&w>=0&&g){y=0}else if(g==false){y=b}else if(b>0){y=b}else{y=w}e.xAxisOffset=y;m=x?Math.max.apply(Math,h)+Math.max.apply(Math,_):w-b;e.canvasHeightEf=g&&b<0?e.getHeight()-2:e.getHeight()-1;if(b<y){O=x&&w>=0?a:w;A=(O-y)/m*e.getHeight();if(A!==Math.ceil(A)){e.canvasHeightEf-=2;A=Math.ceil(A)}}else{A=e.getHeight()}e.yoffset=A;e.range=m},getRegion:function(e,t){var n=Math.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?undefined:n},getRegionFields:function(e){var t=Ext.Array.from(this.values[e]),n=[],r,i;for(i=t.length;i--;){r=t[i];n.push({isNull:r===null,value:r,color:this.calcColor(i,r,e),offset:e})}return n},calcColor:function(e,t,n){var r=this,i=r.colorMapByIndex,s=r.colorMapByValue,o,u,a=r.getZeroColor();if(this.stacked){o=r.getStackedBarColor()}else{o=t<0?r.getNegBarColor():r.getBarColor()}if(t===0&&a!==undefined){o=a}if(s&&(u=s.get(t))){o=u}else if(i&&i.length>n){o=i[n]}return Ext.isArray(o)?o[e%o.length]:o},renderRegion:function(e,t){var n=this,r=n.values[e],i=n.xAxisOffset,s=n.range,o=n.stacked,u=n.canvas,a=n.getBarWidth(),f=e*n.totalBarWidth,l=n.canvasHeightEf,c=n.yoffset,h,p,d,v,m,g,y,b,w,E,S=n.getNullColor();r=Ext.isArray(r)?r:[r];y=r.length;b=r[0];v=n.all(r,null);E=n.all(r,i,true);if(v){if(S){d=t?S:n.calcHighlightColor(S,n);h=c>0?c-1:c;u.drawRect(f,h,a-1,0,d,d).append()}return}m=c;for(g=0;g<y;g++){b=r[g];if(o&&b===i){if(!E||w){continue}w=true}if(s>0){p=Math.floor(l*(Math.abs(b-i)/s))+1}else{p=1}if(b<i||b===i&&c===0){h=m;m+=p}else{h=c-p;c-=p}d=n.calcColor(g,b,e);if(t){d=n.calcHighlightColor(d,n)}u.drawRect(f,h,a-1,p-1,d,d).append()}}},function(e){e.onClassCreated(e)});Ext.define("Ext.sparkline.Box",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebox",config:{raw:false,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:null,targetColor:"#4a2",chartRangeMin:null,chartRangeMax:null,tipTpl:new Ext.XTemplate("{field:this.fields}: {value}",{fields:function(e){var t={lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"};return t[e]}}),tooltipFormatFieldlistKey:"field"},quartile:function(e,t){var n;if(t===2){n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2}else{if(e.length%2){n=(e.length*t+t)/4;return n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1]}else{n=(e.length*t+2)/4;return n%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1]}}},applyValues:function(e){e=Ext.Array.map(Ext.Array.from(e),Number);this.disabled=!(e&&e.length);return e},getRegion:function(){return 1},getRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];if(this.loutlier!==undefined){e.push({field:"lo",value:this.loutlier})}if(this.routlier!==undefined){e.push({field:"ro",value:this.routlier})}if(this.lwhisker!==undefined){e.push({field:"lw",value:this.lwhisker})}if(this.rwhisker!==undefined){e.push({field:"rw",value:this.rwhisker})}return e},renderHighlight:Ext.emptyFn,renderGraph:function(){var e=this,t=e.canvas,n=e.values,r=n.length,i=e.getWidth(),s=e.getHeight(),o=e.getChartRangeMin(),u=e.getChartRangeMax(),a=o==null?Math.min.apply(Math,n):o,f=u==null?Math.max.apply(Math,n):u,l=0,c,h,p,d,v,m,g,y,b,w,E,S=e.getSpotRadius(),x=e.getOutlierLineColor(),T=e.getOutlierFillColor(),N=e.getShowOutliers(),C=e.getOutlierIQR(),k=e.getLineColor(),L=e.getWhiskerColor(),A=e.getTargetColor();if(!e.callParent()){return}if(e.raw){if(N&&n.length>5){h=n[0];c=n[1];d=n[2];v=n[3];m=n[4];g=n[5];y=n[6]}else{c=n[0];d=n[1];v=n[2];m=n[3];g=n[4]}}else{n.sort(function(e,t){return e-t});d=e.quartile(n,1);v=e.quartile(n,2);m=e.quartile(n,3);p=m-d;if(N){c=g=null;for(b=0;b<r;b++){if(c==null&&n[b]>d-p*C){c=n[b]}if(n[b]<m+p*C){g=n[b]}}h=n[0];y=n[r-1]}else{c=n[0];g=n[r-1]}}e.quartiles=[d,v,m];e.lwhisker=c;e.rwhisker=g;e.loutlier=h;e.routlier=y;E=i/(f-a+1);if(N){l=Math.ceil(S);i-=2*Math.ceil(S);E=i/(f-a+1);if(h<c){t.drawCircle((h-a)*E+l,s/2,S,x,T).append()}if(y>g){t.drawCircle((y-a)*E+l,s/2,S,x,T).append()}}t.drawRect(Math.round((d-a)*E+l),Math.round(s*.1),Math.round((m-d)*E),Math.round(s*.8),e.getBoxLineColor(),e.getBoxFillColor()).append();t.drawLine(Math.round((c-a)*E+l),Math.round(s/2),Math.round((d-a)*E+l),Math.round(s/2),k).append();t.drawLine(Math.round((c-a)*E+l),Math.round(s/4),Math.round((c-a)*E+l),Math.round(s-s/4),L).append();t.drawLine(Math.round((g-a)*E+l),Math.round(s/2),Math.round((m-a)*E+l),Math.round(s/2),k).append();t.drawLine(Math.round((g-a)*E+l),Math.round(s/4),Math.round((g-a)*E+l),Math.round(s-s/4),L).append();t.drawLine(Math.round((v-a)*E+l),Math.round(s*.1),Math.round((v-a)*E+l),Math.round(s*.9),e.getMedianColor()).append();if(e.target){w=Math.ceil(e.spotRadius);t.drawLine(Math.round((e.target-a)*E+l),Math.round(s/2-w),Math.round((e.target-a)*E+l),Math.round(s/2+w),A).append();t.drawLine(Math.round((e.target-a)*E+l-w),Math.round(s/2),Math.round((e.target-a)*E+l+w),Math.round(s/2),A).append()}if(e.currentPageXY&&e.el.getRegion().contains(e.currentPageXY)){e.currentRegion=null;e.updateDisplay()}t.render()}});Ext.define("Ext.sparkline.Bullet",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebullet",config:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:null,tipTpl:new Ext.XTemplate("{fieldkey:this.fields} - {value}",{fields:function(e){if(e==="r"){return"Range"}if(e==="p"){return"Performance"}if(e==="t"){return"Target"}}})},applyValues:function(e){e=Ext.Array.map(Ext.Array.from(e),this.normalizeValue);this.disabled=!(e&&e.length);return e},onUpdate:function(){var e=this,t=e.values,n,r,i,s=e.getBase();e.callParent(arguments);i=t.slice();i[0]=i[0]===null?i[2]:i[0];i[1]=t[1]===null?i[2]:i[1];n=Math.min.apply(Math,t);r=Math.max.apply(Math,t);if(s==null){n=n<0?n:0}else{n=s}e.min=n;e.max=r;e.range=r-n;e.shapes={};e.valueShapes={};e.regiondata={};if(!t.length){e.disabled=true}},getRegion:function(e,t){var n=this.canvas.getShapeAt(e,t);return n!==undefined&&this.shapes[n]!==undefined?this.shapes[n]:undefined},getRegionFields:function(e){return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},renderHighlight:function(e){switch(e.substr(0,1)){case"r":this.renderRange(e.substr(1),true).append();break;case"p":this.renderPerformance(true).append();break;case"t":this.renderTarget(true).append();break}},renderRange:function(e,t){var n=this.values[e],r=Math.round(this.getWidth()*((n-this.min)/this.range)),i=this.getRangeColors()[e-2];if(t){i=this.calcHighlightColor(i)}return this.canvas.drawRect(0,0,r-1,this.getHeight()-1,i,i)},renderPerformance:function(e){var t=this.values[1],n=Math.round(this.getWidth()*((t-this.min)/this.range)),r=this.getPerformanceColor();if(e){r=this.calcHighlightColor(r)}return this.canvas.drawRect(0,Math.round(this.getHeight()*.3),n-1,Math.round(this.getHeight()*.4)-1,r,r)},renderTarget:function(e){var t=this.values[0],n=this.getTargetWidth(),r=Math.round(this.getWidth()*((t-this.min)/this.range)-n/2),i=Math.round(this.getHeight()*.1),s=this.getHeight()-i*2,o=this.getTargetColor();if(e){o=this.calcHighlightColor(o)}return this.canvas.drawRect(r,i,n-1,s-1,o,o)},renderGraph:function(){var e=this,t=e.values.length,n=e.canvas,r,i,s=e.shapes||(e.shapes={}),o=e.valueShapes||(e.valueShapes={});if(!e.callParent()){return}for(r=2;r<t;r++){i=e.renderRange(r).append();s[i.id]="r"+r;o["r"+r]=i.id}if(e.values[1]!==null){i=e.renderPerformance().append();s[i.id]="p1";o.p1=i.id}if(e.values[0]!==null){i=this.renderTarget().append();s[i.id]="t0";o.t0=i.id}if(e.currentPageXY&&e.el.getRegion().contains(e.currentPageXY)){e.updateDisplay()}n.render()}});Ext.define("Ext.sparkline.Discrete",{extend:"Ext.sparkline.BarBase",alias:"widget.sparklinediscrete",config:{lineHeight:"auto",thresholdColor:null,thresholdValue:0,chartRangeMax:null,chartRangeMin:null,chartRangeClip:false,tipTpl:new Ext.XTemplate("{prefix}{value}{suffix}")},applyValues:function(e){e=Ext.Array.map(Ext.Array.from(e),Number);this.disabled=!(e&&e.length);return e},onUpdate:function(){var e=this,t=e.values,n=e.getChartRangeMin(),r=e.getChartRangeMax(),i=e.getChartRangeClip();e.callParent(arguments);e.regionShapes={};e.min=Math.min.apply(Math,t);e.max=Math.max.apply(Math,t);e.range=e.max-e.min;e.width=e.getWidth();e.interval=Math.floor(e.width/t.length);e.itemWidth=e.width/t.length;if(n!=null&&(i||n<e.min)){e.min=n}if(r!=null&&(i||r>e.max)){e.max=r}if(e.canvas){if(e.getLineHeight()==="auto"){e.setLineHeight(Math.round(e.getHeight()*.3))}}},getRegion:function(e,t){return Math.floor(e/this.itemWidth)},getRegionFields:function(e){return{isNull:this.values[e]===undefined,value:this.values[e],offset:e}},renderRegion:function(e,t){var n=this,r=n.values,i=n.min,s=n.max,o=n.range,u=n.interval,a=n.canvas,f=n.getHeight(),l=n.getLineHeight(),c=f-l,h,p,d,v,m=n.getThresholdColor();p=Ext.Number.constrain(r[e],i,s);v=e*u;h=Math.round(c-c*((p-i)/o));d=m&&p<n.getThresholdValue()?m:n.getLineColor();if(t){d=n.calcHighlightColor(d)}a.drawLine(v,h,v,h+l,d).append()}});Ext.define("Ext.sparkline.Line",{extend:"Ext.sparkline.Base",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklineline",config:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:null,normalRangeMax:null,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:null,chartRangeMax:null,chartRangeMinX:null,chartRangeMaxX:null,tipTpl:new Ext.XTemplate("&#9679; {prefix}{y}{suffix}"),valueSpots:null},applyValueSpots:function(e){if(e&&!e.get){e=new Ext.sparkline.RangeMap(e)}return e},onUpdate:function(){this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null},getRegion:function(e,t){var n,r=this.regionMap;for(n=r.length;n--;){if(r[n]!==null&&e>=r[n][0]&&e<=r[n][1]){return r[n][2]}}return undefined},getRegionFields:function(e){return{isNull:this.yvalues[e]===null,x:this.xvalues[e],y:this.yvalues[e],color:this.getLineColor(),fillColor:this.getFillColor(),offset:e}},renderHighlight:function(e){var t=this,n=t.canvas,r=t.vertices[e],i=t.getSpotRadius(),s=t.getHighlightSpotColor(),o=t.getHighlightLineColor();if(!r){return}if(i&&s){n.drawCircle(r[0],r[1],i,null,s).append()}if(o){n.drawLine(r[0],t.canvasTop,r[0],t.canvasTop+t.getHeight(),o).append()}},scanValues:function(){var e=this,t=e.values,n=t.length,r=e.xvalues,i=e.yvalues,s=e.yminmax,o,u,a,f,l;for(o=0;o<n;o++){u=t[o];a=typeof t[o]==="string";f=typeof t[o]==="object"&&t[o]instanceof Array;l=a&&t[o].split(":");if(a&&l.length===2){r.push(Number(l[0]));i.push(Number(l[1]));s.push(Number(l[1]))}else if(f){r.push(u[0]);i.push(u[1]);s.push(u[1])}else{r.push(o);if(t[o]===null||t[o]==="null"){i.push(null)}else{i.push(Number(u));s.push(Number(u))}}}if(e.xvalues){r=e.xvalues}e.maxy=e.maxyorg=Math.max.apply(Math,s);e.miny=e.minyorg=Math.min.apply(Math,s);e.maxx=Math.max.apply(Math,r);e.minx=Math.min.apply(Math,r);e.xvalues=r;e.yvalues=i;e.yminmax=s},processRangeOptions:function(){var e=this,t=e.getNormalRangeMin(),n=e.getNormalRangeMax(),r=e.getChartRangeMin(),i=e.getChartRangeMinX(),s=e.getChartRangeMax(),o=e.getChartRangeMaxX();if(t!=null){if(t<e.miny){e.miny=t}if(n>e.maxy){e.maxy=n}}if(r!=null&&(e.chartRangeClip||r<e.miny)){e.miny=r}if(s!=null&&(e.chartRangeClip||s>e.maxy)){this.maxy=s}if(i!=null&&(e.chartRangeClipX||i<e.minx)){e.minx=i}if(o!=null&&(e.chartRangeClipX||o>e.maxx)){e.maxx=o}},drawNormalRange:function(e,t,n,r,i){var s=this.getNormalRangeMin(),o=this.getNormalRangeMax(),u=t+Math.round(n-n*((o-this.miny)/i)),a=Math.round(n*(o-s)/i);this.canvas.drawRect(e,u,r,a,undefined,this.normalRangeColor).append()},renderGraph:function(){var e=this,t=e.canvas,n=e.getWidth(),r=e.getHeight(),i=e.vertices,s=e.getSpotRadius(),o=e.regionMap,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C=e.getValueSpots(),k,L,A,O,M,_=e.getSpotColor(),D=e.getMinSpotColor(),P=e.getMaxSpotColor(),H=e.getNormalRangeMin(),B=e.getDrawNormalOnTop();if(!e.callParent()){return}e.scanValues();e.processRangeOptions();A=e.xvalues;O=e.yvalues;if(!e.yminmax.length||e.yvalues.length<2){return}l=c=0;u=e.maxx-e.minx===0?1:e.maxx-e.minx;a=e.maxy-e.miny===0?1:e.maxy-e.miny;f=e.yvalues.length-1;if(s&&(n<s*4||r<s*4)){s=0}if(s){k=e.getHighlightSpotColor()&&!e.disableInteraction;if(k||D||_&&O[f]===e.miny){r-=Math.ceil(s)}if(k||P||_&&O[f]===e.maxy){r-=Math.ceil(s);l+=Math.ceil(s)}if(k||(D||P)&&(O[0]===e.miny||O[0]===e.maxy)){c+=Math.ceil(s);n-=Math.ceil(s)}if(k||_||D||P&&(O[f]===e.miny||O[f]===e.maxy)){n-=Math.ceil(s)}}r--;if(H!=null&&!B){e.drawNormalRange(c,l,r,n,a)}p=[];d=[p];w=E=null;S=O.length;for(M=0;M<S;M++){v=A[M];g=A[M+1];m=O[M];y=c+Math.round((v-e.minx)*(n/u));b=M<S-1?c+Math.round((g-e.minx)*(n/u)):n;E=y+(b-y)/2;o[M]=[w||0,E,M];w=E;if(m===null){if(M){if(O[M-1]!==null){p=[];d.push(p)}i.push(null)}}else{if(m<e.miny){m=e.miny}if(m>e.maxy){m=e.maxy}if(!p.length){p.push([y,l+r])}h=[y,l+Math.round(r-r*((m-this.miny)/a))];p.push(h);i.push(h)}}x=[];T=[];N=d.length;for(M=0;M<N;M++){p=d[M];if(p.length){if(e.fillColor){p.push([p[p.length-1][0],l+r]);T.push(p.slice(0));p.pop()}if(p.length>2){p[0]=[p[0][0],p[1][1]]}x.push(p)}}N=T.length;for(M=0;M<N;M++){t.drawShape(T[M],e.fillColor,e.fillColor).append()}if(H!=null&&B){e.drawNormalRange(c,l,r,n,a)}N=x.length;for(M=0;M<N;M++){t.drawShape(x[M],e.getLineColor(),null,e.getLineWidth()).append()}if(s&&C){if(C.get==null){C=new Ext.sparkline.RangeMap(C)}for(M=0;M<S;M++){L=C.get(O[M]);if(L){t.drawCircle(c+Math.round((A[M]-e.minx)*(n/u)),l+Math.round(r-r*((O[M]-e.miny)/a)),s,null,L).append()}}}if(s&&_&&O[f]!=null){t.drawCircle(c+Math.round((A[A.length-1]-e.minx)*(n/u)),l+Math.round(r-r*((O[f]-e.miny)/a)),s,null,_).append()}if(e.maxy!==e.minyorg){if(s&&D){v=A[Ext.Array.indexOf(O,e.minyorg)];t.drawCircle(c+Math.round((v-e.minx)*(n/u)),l+Math.round(r-r*((e.minyorg-e.miny)/a)),s,null,D).append()}if(s&&P){v=A[Ext.Array.indexOf(O,e.maxyorg)];t.drawCircle(c+Math.round((v-e.minx)*(n/u)),l+Math.round(r-r*((e.maxyorg-e.miny)/a)),s,null,P).append()}}e.canvasTop=l;if(e.currentPageXY&&e.el.getRegion().contains(e.currentPageXY)){e.updateDisplay()}t.render()}});Ext.define("Ext.sparkline.Pie",{extend:"Ext.sparkline.Base",alias:"widget.sparklinepie",config:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tipTpl:new Ext.XTemplate('&#9679; {value} ({percent:number("0.0")}%)')},applyValues:function(e){e=Ext.Array.map(Ext.Array.from(e),Number);this.disabled=!(e&&e.length);return e},onUpdate:function(){var e=this,t=e.values,n=0,r;e.callParent(arguments);e.shapes={};e.valueShapes={};if(t.length>0){for(r=t.length;r--;){n+=t[r]}}e.total=n;e.radius=Math.floor(Math.min(e.getWidth(),e.getHeight())/2)},getRegion:function(e,t){var n=this.canvas.getShapeAt(e,t);return n!=null&&this.shapes[n]!=null?this.shapes[n]:null},getRegionFields:function(e){var t=this.getSliceColors();return{isNull:this.values[e]==null,value:this.values[e],percent:this.values[e]/this.total*100,color:t[e%t.length],offset:e}},renderHighlight:function(e){this.renderSlice(e,true).append()},renderSlice:function(e,t){var n=this,r=n.canvas,i=n.radius,s=n.getBorderWidth(),o=n.getOffset(),u=2*Math.PI,a=n.values,f=n.total,l=o?2*Math.PI*(o/360):0,c,h,p,d,v,m=this.getSliceColors();d=a.length;for(p=0;p<d;p++){c=l;h=l;if(f>0){h=l+u*(a[p]/f)}if(e===p){v=m[p%m.length];if(t){v=n.calcHighlightColor(v)}return r.drawPieSlice(i,i,i-s,c,h,null,v)}l=h}},renderGraph:function(){var e=this,t=e.canvas,n=e.values,r=e.radius,i=e.getBorderWidth(),s,o,u=e.shapes||(e.shapes={}),a=e.valueShapes||(e.valueShapes={});if(!e.callParent()){return}if(i){t.drawCircle(r,r,Math.floor(r-i/2),e.getBorderColor(),null,i).append()}for(o=n.length;o--;){if(n[o]){s=e.renderSlice(o).append();a[o]=s.id;u[s.id]=o}}if(e.currentPageXY&&e.el.getRegion().contains(e.currentPageXY)){e.currentRegion=null;e.updateDisplay()}t.render()}});Ext.define("Ext.sparkline.TriState",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinetristate",config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tipTpl:new Ext.XTemplate("&#9679; {value:this.states}",{states:function(e){var t=Number(e);if(t===-1){return"Loss"}if(t===0){return"Draw"}if(t===1){return"Win"}return e}})},applyColorMap:function(e){var t=this;if(Ext.isArray(e)){t.colorMapByIndex=e;t.colorMapByValue=null}else{t.colorMapByIndex=null;t.colorMapByValue=e;if(t.colorMapByValue&&t.colorMapByValue.get==null){t.colorMapByValue=new Ext.sparkline.RangeMap(e)}}return e},applyValues:function(e){e=Ext.Array.map(Ext.Array.from(e),Number);this.disabled=!(e&&e.length);return e},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing()},getBarWidth:function(){var e=this.values;return this._barWidth||(this.getWidth()-(e.length-1)*this.getBarSpacing())/e.length},getRegion:function(e,t){return Math.floor(e/this.totalBarWidth)},getRegionFields:function(e){return{isNull:this.values[e]==null,value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var n=this,r=n.values,i=n.colorMapByIndex,s=n.colorMapByValue,o,u;if(s&&(u=s.get(e))){o=u}else if(i&&i.length>t){o=i[t]}else if(r[t]<0){o=n.getNegBarColor()}else if(r[t]>0){o=n.getPosBarColor()}else{o=n.getZeroBarColor()}return o},renderRegion:function(e,t){var n=this,r=n.values,i=n.canvas,s,o,u,a,f,l;s=i.pixelHeight;u=Math.round(s/2);a=e*n.totalBarWidth;if(r[e]<0){f=u;o=u-1}else if(r[e]>0){f=0;o=u-1}else{f=u-1;o=2}l=n.calcColor(r[e],e);if(l==null){return}if(t){l=n.calcHighlightColor(l)}i.drawRect(a,f,n.getBarWidth()-1,o-1,l,l).append()}});Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(e){var t=this;t.path="/";t.expires=new Date(Ext.Date.now()+1e3*60*60*24*7);t.domain=null;t.secure=false;t.callParent(arguments);t.state=t.readCookies()},set:function(e,t){var n=this;if(typeof t=="undefined"||t===null){n.clear(e);return}n.setCookie(e,t);n.callParent(arguments)},clear:function(e){this.clearCookie(e);this.callParent(arguments)},readCookies:function(){var e={},t=document.cookie+";",n=/\s?(.*?)=(.*?);/g,r=this.prefix,i=r.length,s,o,u;while((s=n.exec(t))!=null){o=s[1];u=s[2];if(o&&o.substring(0,i)==r){e[o.substr(i)]=this.decodeValue(u)}}return e},setCookie:function(e,t){var n=this;document.cookie=n.prefix+e+"="+n.encodeValue(t)+(n.expires==null?"":"; expires="+n.expires.toUTCString())+(n.path==null?"":"; path="+n.path)+(n.domain==null?"":"; domain="+n.domain)+(n.secure==true?"; secure":"")},clearCookie:function(e){var t=this;document.cookie=t.prefix+e+"=null; expires=Thu, 01-Jan-1970 00:00:01 GMT"+(t.path==null?"":"; path="+t.path)+(t.domain==null?"":"; domain="+t.domain)+(t.secure==true?"; secure":"")}});Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",requires:["Ext.util.LocalStorage"],alias:"state.localstorage",constructor:function(){var e=this;e.callParent(arguments);e.store=e.getStorageObject();if(e.store){e.state=e.readLocalStorage()}else{e.state={}}},readLocalStorage:function(){var e=this.store,t={},n=e.getKeys(),r=n.length,i;while(r--){i=n[r];t[i]=this.decodeValue(e.getItem(i))}return t},set:function(e,t){var n=this;n.clear(e);if(t!=null){n.store.setItem(e,n.encodeValue(t));n.callParent(arguments)}},clear:function(e){this.store.removeItem(e);this.callParent(arguments)},getStorageObject:function(){var e=this.prefix,t=e,n=t.length-1;if(t.charAt(n)==="-"){t=t.substring(0,n)}return new Ext.util.LocalStorage({id:t,prefix:e})}});Ext.define("Ext.toolbar.Breadcrumb",{extend:"Ext.Container",xtype:"breadcrumb",requires:["Ext.data.TreeStore","Ext.button.Split"],mixins:["Ext.util.FocusableContainer"],isBreadcrumb:true,baseCls:Ext.baseCSSPrefix+"breadcrumb",layout:"hbox",config:{buttonUI:"plain-toolbar",displayField:"text",overflowHandler:null,showIcons:null,store:null,useSplitButtons:true},renderConfig:{selection:"root"},publishes:["selection"],twoWayBindable:["selection"],_breadcrumbCls:Ext.baseCSSPrefix+"breadcrumb",_btnCls:Ext.baseCSSPrefix+"breadcrumb-btn",_folderIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-folder",_leafIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-leaf",initComponent:function(){var e=this,t=e.layout,n=e.getOverflowHandler();if(typeof t==="string"){t={type:t}}if(n){t.overflowHandler=n}e.layout=t;e.defaultButtonUI=e.getButtonUI();e._buttons=[];e.addCls([e._breadcrumbCls,e._breadcrumbCls+"-"+e.ui]);e.callParent()},onDestroy:function(){var e=this;e._buttons=Ext.destroy(e._buttons);e.setStore(null);e.callParent()},afterComponentLayout:function(){var e=this,t=e.layout.overflowHandler;e.callParent(arguments);if(t&&e.tooNarrow&&t.scrollToItem){t.scrollToItem(e.getSelection().get("depth"))}},applySelection:function(e){var t=this.getStore();if(t){e=e==="root"?this.getStore().getRoot():e}else{e=null}return e},updateSelection:function(e){var t=this,n=t._buttons,r=[],i=t.items.getCount(),s=t._needsSync,o=t.getDisplayField(),u,a,f,l,c,h,p,d,v,m;Ext.suspendLayouts();if(e){c=e;v=e.get("depth");l=v+1;m=v;while(c){d=c.getId();p=n[m];if(!s&&p&&p._breadcrumbNodeId===d){break}h=c.get(o);if(p){p.setText(h)}else{p=n[m]=Ext.create({xtype:t.getUseSplitButtons()?"splitbutton":"button",ui:t.getButtonUI(),cls:t._btnCls+" "+t._btnCls+"-"+t.ui,text:h,showEmptyMenu:true,menu:{listeners:{click:"_onMenuClick",beforeshow:"_onMenuBeforeShow",scope:this}},handler:"_onButtonClick",scope:t})}u=this.getShowIcons();if(u!==false){f=c.get("icon");a=c.get("iconCls");if(f){p.setIconCls(null);p.setIcon(f)}else if(a){p.setIcon(null);p.setIconCls(a)}else if(u){p.setIcon(null);p.setIconCls((c.isLeaf()?t._leafIconCls:t._folderIconCls)+"-"+t.ui)}else{p.setIcon(null);p.setIconCls(null)}}p.setArrowVisible(c.hasChildNodes());p._breadcrumbNodeId=c.getId();c=c.parentNode;m--}if(l>i){r=n.slice(i,v+1);t.add(r)}else{for(m=i-1;m>=l;m--){t.remove(t.items.items[m],false)}}}else{t.removeAll(false)}Ext.resumeLayouts(true);t.fireEvent("selectionchange",t,e);t._needsSync=false},applyUseSplitButtons:function(e,t){if(this.rendered&&e!==t){Ext.Error.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render")}return e},applyStore:function(e){if(e){e=Ext.data.StoreManager.lookup(e)}return e},updateStore:function(e,t){this._needsSync=true;if(e&&!this.isConfiguring){this.setSelection(e.getRoot())}},updateOverflowHandler:function(e){if(e==="menu"){Ext.Error.raise("Using Menu overflow with breadcrumb is not currently supported.")}},privates:{_onButtonClick:function(e,t){if(this.getUseSplitButtons()){this.setSelection(this.getStore().getNodeById(e._breadcrumbNodeId))}},_onMenuClick:function(e,t,n){this.setSelection(this.getStore().getNodeById(t._breadcrumbNodeId))},_onMenuBeforeShow:function(e){var t=this.getStore().getNodeById(e.ownerCmp._breadcrumbNodeId),n=this.getDisplayField(),r,i,s,o,u;if(t.hasChildNodes()){r=t.childNodes;s=[];for(o=0,u=r.length;o<u;o++){i=r[o];s.push({text:i.get(n),_breadcrumbNodeId:i.getId()})}e.removeAll();e.add(s)}else{return false}}}});Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",ariaRole:"presentation"});Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:false,constructor:function(e){var t=this,n,r,i;Ext.apply(t,e);if(!t.ddGroup){t.ddGroup="view-dd-zone-"+t.view.id}n=t.view;r=n.ownerCt;if(r){i=r.getTargetEl().dom}else{i=n.el.dom.parentNode}t.callParent([i]);t.ddel=Ext.get(document.createElement("div"));t.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(e,t,n){var r=this,i=Ext.supports.touchScroll?"itemlongpress":"itemmousedown",s={scope:r};s[i]=r.onItemMouseDown;r.initTarget(e,t,n);r.view.mon(r.view,s)},onValidDrop:function(e,t,n){this.callParent();e.el.focus()},onItemMouseDown:function(e,t,n,r,i){if(!this.isPreventDrag(i,t,n,r)){if(e.focusRow){e.focusRow(t)}this.handleMouseDown(i)}},isPreventDrag:function(e,t,n,r){return false},getDragData:function(e){var t=this.view,n=e.getTarget(t.getItemSelector());if(n){return{copy:t.copy||t.allowCopy&&e.ctrlKey,event:e,view:t,ddel:this.ddel,item:n,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(n).getXY()}}},onInitDrag:function(e,t){var n=this,r=n.dragData,i=r.view,s=i.getSelectionModel(),o=i.getRecord(r.item);if(!s.isSelected(o)){s.selectWithEvent(o,n.DDMInstance.mousedownEvent)}r.records=s.getSelection();n.ddel.setHtml(n.getDragText());n.proxy.update(n.ddel.dom);n.onStartDrag(e,t);return true},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,e===1?"":"s")},getRepairXY:function(e,t){return t?t.fromPosition:false}});Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(e,t){return t.get("allowDrag")===false||!!e.getTarget(this.view.expanderSelector)},getDragText:function(){var e=this.dragData.records,t=e.length,n=e[0].get(this.displayField),r="s";if(t===1&&n){return n}else if(!n){r=""}return Ext.String.format(this.dragText,t,r)},afterRepair:function(){var e=this,t=e.view,n=t.selectedItemCls,r=e.dragData.records,i,s=r.length,o=Ext.fly,u;if(Ext.enableFx&&e.repairHighlight){for(i=0;i<s;i++){u=t.getNode(r[i]);o(u.firstChild).highlight(e.repairHighlightColor,{listeners:{beforeanimate:function(){if(t.isSelected(u)){o(u).removeCls(n)}},afteranimate:function(){if(t.isSelected(u)){o(u).addCls(n)}}}})}}e.dragging=false}});Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;this.expandProcId=false;if(!e.isLeaf()&&!e.isExpanded()){t.expand(e);this.expandProcId=false}},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},getPosition:function(e,t){var n=this.view,r=n.getRecord(t),i=e.getY(),s=r.isLeaf(),o=false,u=Ext.fly(t).getRegion(),a;if(r.isRoot()){return"append"}if(this.appendOnly){return s?false:"append"}if(!this.allowParentInserts){o=r.hasChildNodes()&&r.isExpanded()}a=(u.bottom-u.top)/(s?2:3);if(i>=u.top&&i<u.top+a){return"before"}else if(!o&&(s||i>=u.bottom-a&&i<=u.bottom)){return"after"}else{return"append"}},isValidDropPoint:function(e,t,n,r,i){if(!e||!i.item){return false}var s=this.view,o=s.getRecord(e),u=i.records,a=u.length,f=u.length,l,c;if(!(o&&t&&a)){return false}for(l=0;l<f;l++){c=u[l];if(c.isNode&&c.contains(o)){return false}}if(t==="append"&&o.get("allowDrop")===false){return false}else if(t!=="append"&&o.parentNode.get("allowDrop")===false){return false}if(Ext.Array.contains(u,o)){return false}return s.fireEvent("nodedragover",o,t,i,r)!==false},onNodeOver:function(e,t,n,r){var i=this.getPosition(n,e),s=this.dropNotAllowed,o=this.view,u=o.getRecord(e),a=this.getIndicator(),f=0;this.cancelExpand();if(i==="append"&&!this.expandProcId&&!Ext.Array.contains(r.records,u)&&!u.isLeaf()&&!u.isExpanded()){this.queueExpand(u)}if(this.isValidDropPoint(e,i,t,n,r)){this.valid=true;this.currentPosition=i;this.overRecord=u;a.setWidth(Ext.fly(e).getWidth());f=Ext.fly(e).getY()-Ext.fly(o.el).getY()-1;if(o.touchScroll===2){f+=o.getScrollY()}if(i==="before"){s=u.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between";a.showAt(0,f);t.proxy.show()}else if(i==="after"){s=u.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between";f+=Ext.fly(e).getHeight();a.showAt(0,f);t.proxy.show()}else{s=Ext.baseCSSPrefix+"tree-drop-ok-append";a.hide()}}else{this.valid=false}this.currentCls=s;return s},onNodeOut:function(e,t,n,r){this.valid=false;this.getIndicator().hide()},onContainerOver:function(e,t,n){return this.allowContainerDrops?this.dropAllowed:t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(e,t,n){if(this.allowContainerDrops){this.valid=true;this.currentPosition="append";this.overRecord=this.view.store.getRoot();this.onNodeDrop(this.overRecord,e,t,n)}},notifyOut:function(){this.callParent(arguments);this.cancelExpand()},handleNodeDrop:function(e,t,n){var r=this,i=r.view,s=t?t.parentNode:i.panel.getRootNode(),o=i.store.getModel(),u,a,f,l,c,h,p,d;if(e.copy){u=e.records;e.records=[];for(a=0,f=u.length;a<f;a++){l=u[a];if(l.isNode){e.records.push(l.copy())}else{e.records.push(new o(Ext.apply({},l.data)))}}}r.cancelExpand();if(n==="before"){c=s.insertBefore;h=[null,t];t=s}else if(n==="after"){if(t.nextSibling){c=s.insertBefore;h=[null,t.nextSibling]}else{c=s.appendChild;h=[null]}t=s}else{if(!(t.isExpanded()||t.isLoading())){p=true}c=t.appendChild;h=[null]}d=function(){var n,s;Ext.suspendLayouts();for(a=0,f=e.records.length;a<f;a++){l=e.records[a];if(!l.isNode){if(l.isModel){l=new o(l.data,l.getId())}else{l=new o(l)}e.records[a]=l}h[0]=l;c.apply(t,h)}if(r.sortOnDrop){t.sort(t.getOwnerTree().store.getSorters().sortFn)}Ext.resumeLayouts(true);if(Ext.enableFx&&r.dropHighlight){n=r.dropHighlightColor;for(a=0;a<f;a++){s=i.getNode(e.records[a]);if(s){Ext.fly(s).highlight(n)}}}};if(p){t.expand(false,d)}else if(t.isLoading()){t.on({expand:d,delay:1,single:true})}else{d()}}});Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,ddGroup:"TreeDD",containerScroll:false,expandDelay:1e3,enableDrop:true,enableDrag:true,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(e){e.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(e){var t=this,n;if(t.enableDrag){if(t.containerScroll){n=e.getEl()}t.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:e,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText,displayField:t.displayField,repairHighlightColor:t.nodeHighlightColor,repairHighlight:t.nodeHighlightOnRepair,scrollEl:n},t.dragZone))}if(t.enableDrop){t.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:e,ddGroup:t.dropGroup||t.ddGroup,allowContainerDrops:t.allowContainerDrops,appendOnly:t.appendOnly,allowParentInserts:t.allowParentInserts,expandDelay:t.expandDelay,dropHighlightColor:t.nodeHighlightColor,dropHighlight:t.nodeHighlightOnDrop,sortOnDrop:t.sortOnDrop,containerScroll:t.containerScroll},t.dropZone))}}},function(){var e=this.prototype;e.nodeHighlightOnDrop=e.nodeHighlightOnRepair=Ext.enableFx});Ext.define("Ext.util.Cookies",{singleton:true,set:function(e,t){var n=arguments,r=arguments.length,i=r>2?n[2]:null,s=r>3?n[3]:"/",o=r>4?n[4]:null,u=r>5?n[5]:false;document.cookie=e+"="+escape(t)+(i===null?"":"; expires="+i.toUTCString())+(s===null?"":"; path="+s)+(o===null?"":"; domain="+o)+(u===true?"; secure":"")},get:function(e){var t=document.cookie.split("; "),n=t.length,r,i,s;for(i=0;i<n;++i){r=t[i].split("=");if(r[0]===e){s=r[1];return s?unescape(s):""}}return null},clear:function(e,t){if(this.get(e)){t=t||"/";document.cookie=e+"="+"; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+t}}});Ext.define("Ext.view.MultiSelectorSearch",{extend:"Ext.panel.Panel",xtype:"multiselector-search",layout:"fit",floating:true,resizable:true,minWidth:200,minHeight:200,border:true,defaultListenerScope:true,referenceHolder:true,searchText:"Search...",initComponent:function(){var e=this,t=e.owner,n=e.makeItems(),r,i,s,o;e.dockedItems=e.makeDockedItems();e.items=n;o=Ext.data.StoreManager.lookup(e.store);for(r=n.length;r--;){if((i=n[r]).xtype==="grid"){i.store=o;i.isSearchGrid=true;i.selModel=i.selModel||{selType:"checkboxmodel",pruneRemoved:false,mode:"SIMPLE",listeners:{selectionchange:"onSelectionChange"}};Ext.merge(i,e.grid);if(!i.columns){i.hideHeaders=true;i.columns=[{flex:1,dataIndex:e.field}]}break}}e.callParent();s=e.getOwnerStore().getRange();if(!t.convertSelectionRecord.$nullFn){for(r=s.length;r--;){s[r]=t.convertSelectionRecord(s[r])}}if(o.isLoading()||o.loadCount===0&&!o.getCount()){o.on("load",function(){if(!e.isDestroyed){e.selectRecords(s)}},null,{single:true})}else{e.selectRecords(s)}},getOwnerStore:function(){return this.owner.getStore()},afterShow:function(){var e=this.lookupReference("searchField");this.callParent(arguments);if(e){e.focus()}},getSearchStore:function(){var e=this.lookupReference("searchGrid");return e.getStore()},makeDockedItems:function(){return[{xtype:"textfield",reference:"searchField",dock:"top",hideFieldLabel:true,emptyText:this.searchText,triggers:{clear:{cls:"x-form-clear-trigger",handler:"onClearSearch",hidden:true}},listeners:{change:"onSearchChange",buffer:300}}]},makeItems:function(){return[{xtype:"grid",reference:"searchGrid",trailingBufferZone:2,leadingBufferZone:2,viewConfig:{deferEmptyText:false,emptyText:"No results."}}]},selectRecords:function(e){var t=this.lookupReference("searchGrid");return t.getSelectionModel().select(e)},deselectRecords:function(e){var t=this.lookupReference("searchGrid");return t.getSelectionModel().deselect(e)},search:function(e){var t=this,n=t.searchFilter,r=t.getSearchStore().getFilters();if(e){r.beginUpdate();if(n){n.setValue(e)}else{t.searchFilter=n=new Ext.util.Filter({id:"search",property:t.field,value:e})}r.add(n);r.endUpdate()}else if(n){r.remove(n)}},privates:{onClearSearch:function(){var e=this.lookupReference("searchField");e.setValue(null);e.focus()},onSearchChange:function(e){var t=e.getValue(),n=e.getTrigger("clear");n.setHidden(!t);this.search(t)},onSelectionChange:function(e,t){var n=this.owner,r=n.getStore(),i=r.data,s=0,o={},u,a,f,l;for(a=t.length;a--;){l=t[a];f=l.id;o[f]=l;if(!i.containsKey(f)){(u||(u=[])).push(n.convertSearchRecord(l))}}for(a=i.length;a--;){l=i.getAt(a);if(!o[l.id]){(s||(s=[])).push(l)}}if(u||s){i.splice(i.length,s,u)}}}});Ext.define("Ext.view.MultiSelector",{extend:"Ext.grid.Panel",xtype:"multiselector",config:{search:{xtype:"multiselector-search",width:200,height:200,store:{autoLoad:true}}},fieldName:"name",fieldTitle:null,removeRowText:"",removeRowTip:"Remove this item",emptyText:"Nothing selected",addToolText:"Search for items to add",initComponent:function(){var e=this,t=e.emptyText,n=e.getStore(),r=e.getSearch(),i=e.fieldTitle,s,o;if(!r){Ext.Error.raise("The search configuration is required for the multi selector")}s=r.store;if(s.isStore){o=s.getModel()}else{o=s.model}if(!n){e.store={model:o}}if(t&&!e.viewConfig){e.viewConfig={deferEmptyText:false,emptyText:t}}if(!e.columns){e.hideHeaders=!i;e.columns=[{text:i,dataIndex:e.fieldName,flex:1},e.makeRemoveRowColumn()]}e.callParent()},addTools:function(){this.addTool({type:"plus",tooltip:this.addToolText,callback:"onShowSearch",scope:this})},convertSearchRecord:Ext.identityFn,convertSelectionRecord:Ext.identityFn,makeRemoveRowColumn:function(){var e=this;return{width:22,menuDisabled:true,tdCls:Ext.baseCSSPrefix+"multiselector-remove",processEvent:e.processRowEvent.bind(e),renderer:e.renderRemoveRow,updater:Ext.emptyFn,scope:e}},processRowEvent:function(e,t,n,r,i,s,o,u){if(s.type!=="click"){return}if(Ext.fly(n).hasCls(Ext.baseCSSPrefix+"multiselector-remove")){this.store.remove(o);if(this.searchPopup){this.searchPopup.deselectRecords(o)}}},renderRemoveRow:function(){return'<span data-qtip="'+this.removeRowTip+'" role="button">'+this.removeRowText+"</span>"},beforeDestroy:function(){Ext.un({mousedown:"onDismissSearch",scope:this});this.callParent()},privates:{onDismissSearch:function(e){var t=this.searchPopup;if(t&&!(t.owns(e.getTarget())||this.owns(e.getTarget()))){Ext.un({mousedown:"onDismissSearch",scope:this});t.hide()}},onShowSearch:function(e,t){var n=this,r=n.searchPopup,i=n.getStore();if(!r){r=Ext.merge({owner:n,field:n.fieldName,floating:true},n.getSearch());n.searchPopup=r=n.add(r);if(i.getCount()){r.selectRecords(i.getRange())}}r.showBy(n,"tl-tr?");Ext.on({mousedown:"onDismissSearch",scope:n})}}});Ext.define("Ext.window.Toast",{extend:"Ext.window.Window",xtype:"toast",cls:Ext.baseCSSPrefix+"toast",bodyPadding:10,autoClose:true,plain:false,draggable:false,resizable:false,shadow:false,focus:Ext.emptyFn,anchor:null,useXAxis:false,align:"br",spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:1500,slideBackDuration:1e3,hideDuration:500,autoCloseDelay:3e3,stickOnClick:true,stickWhileHover:true,closeOnMouseDown:false,isHiding:false,isFading:false,destroyAfterHide:false,closeOnMouseOut:false,xPos:0,yPos:0,initComponent:function(){var e=this;e.updateAlignment(e.align);e.setAnchor(e.anchor);e.callParent(arguments)},onRender:function(){var e=this;e.callParent(arguments);e.el.hover(e.onMouseEnter,e.onMouseLeave,e);if(e.closeOnMouseDown){e.mon(Ext,"mousedown",e.onDocumentMousedown,e)}},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(e){var t=this,n=t.alignmentProps,r=n[e],i=n.x[e];if(i&&t.useXAxis){Ext.applyIf(t,i)}Ext.applyIf(t,r)},getXposAlignedToAnchor:function(){var e=this,t=e.align,n=e.anchor,r=n&&n.el,i=e.el,s=0;if(r&&r.dom){if(!e.useXAxis){s=i.getLeft()}else if(t==="br"||t==="tr"||t==="r"){s+=r.getAnchorXY("r")[0];s-=i.getWidth()+e.paddingX}else{s+=r.getAnchorXY("l")[0];s+=e.paddingX}}return s},getYposAlignedToAnchor:function(){var e=this,t=e.align,n=e.anchor,r=n&&n.el,i=e.el,s=0;if(r&&r.dom){if(e.useXAxis){s=i.getTop()}else if(t==="br"||t==="bl"||t==="b"){s+=r.getAnchorXY("b")[1];s-=i.getHeight()+e.paddingY}else{s+=r.getAnchorXY("t")[1];s+=e.paddingY}}return s},getXposAlignedToSibling:function(e){var t=this,n=t.align,r=t.el,i;if(!t.useXAxis){i=r.getLeft()}else if(n==="tl"||n==="bl"||n==="l"){i=e.xPos+e.el.getWidth()+e.spacing}else{i=e.xPos-r.getWidth()-t.spacing}return i},getYposAlignedToSibling:function(e){var t=this,n=t.align,r=t.el,i;if(t.useXAxis){i=r.getTop()}else if(n==="tr"||n==="tl"||n==="t"){i=e.yPos+e.el.getHeight()+e.spacing}else{i=e.yPos-r.getHeight()-e.spacing}return i},getToasts:function(){var e=this.anchor,t=this.anchorAlign,n=e.activeToasts||(e.activeToasts={});return n[t]||(n[t]=[])},setAnchor:function(e){var t=this,n;t.anchor=e=typeof e==="string"?Ext.getCmp(e):e;if(!e){n=Ext.window.Toast;t.anchor=n.bodyAnchor||(n.bodyAnchor={el:Ext.getBody()})}},beforeShow:function(){var e=this;if(e.stickOnClick){e.body.on("click",function(){e.cancelAutoClose()})}if(e.autoClose){if(!e.closeTask){e.closeTask=new Ext.util.DelayedTask(e.doAutoClose,e)}e.closeTask.delay(e.autoCloseDelay)}e.el.setX(-1e4);e.el.setOpacity(1)},afterShow:function(){var e=this,t=e.el,n,r,i,s;e.callParent(arguments);n=e.getToasts();i=n.length;r=i&&n[i-1];if(r){t.alignTo(r.el,e.siblingAlignment,[0,0]);e.xPos=e.getXposAlignedToSibling(r);e.yPos=e.getYposAlignedToSibling(r)}else{t.alignTo(e.anchor.el,e.anchorAlign,[e.paddingX*e.paddingFactorX,e.paddingY*e.paddingFactorY],false);e.xPos=e.getXposAlignedToAnchor();e.yPos=e.getYposAlignedToAnchor()}Ext.Array.include(n,e);s=t.getXY();t.animate({from:{x:s[0],y:s[1]},to:{x:e.xPos,y:e.yPos,opacity:1},easing:e.slideInAnimation,duration:e.slideInDuration,dynamic:true})},onDocumentMousedown:function(e){if(this.isVisible()&&!this.owns(e.getTarget())){this.hide()}},slideBack:function(){var e=this,t=e.anchor,n=t&&t.el,r=e.el,i=e.getToasts(),s=Ext.Array.indexOf(i,e);if(!e.isHiding&&r&&r.dom&&n&&n.isVisible()){if(s){e.xPos=e.getXposAlignedToSibling(i[s-1]);e.yPos=e.getYposAlignedToSibling(i[s-1])}else{e.xPos=e.getXposAlignedToAnchor();e.yPos=e.getYposAlignedToAnchor()}e.stopAnimation();r.animate({to:{x:e.xPos,y:e.yPos},easing:e.slideBackAnimation,duration:e.slideBackDuration,dynamic:true})}},update:function(){var e=this;if(e.isVisible()){e.isHiding=true;e.hide()}e.callParent(arguments);e.show()},cancelAutoClose:function(){var e=this.closeTask;if(e){e.cancel()}},doAutoClose:function(){var e=this;if(!(e.stickWhileHover&&e.mouseIsOver)){e.close()}else{e.closeOnMouseOut=true}},onMouseEnter:function(){this.mouseIsOver=true},onMouseLeave:function(){var e=this;e.mouseIsOver=false;if(e.closeOnMouseOut){e.closeOnMouseOut=false;e.close()}},removeFromAnchor:function(){var e=this,t,n;if(e.anchor){t=e.getToasts();n=Ext.Array.indexOf(t,e);if(n!==-1){Ext.Array.erase(t,n,1);for(;n<t.length;n++){t[n].slideBack()}}}},hide:function(){var e=this,t=e.el;e.cancelAutoClose();if(e.isHiding){if(!e.isFading){e.callParent(arguments);e.removeFromAnchor();e.isHiding=false}}else{e.isHiding=true;e.isFading=true;e.cancelAutoClose();if(t){t.fadeOut({opacity:0,easing:"easeIn",duration:e.hideDuration,listeners:{afteranimate:function(){e.isFading=false;e.hide(e.animateTarget,e.doClose,e)}}})}}return e}},function(e){Ext.toast=function(t,n,r,i){var s=t,o;if(Ext.isString(t)){s={title:n,html:t,iconCls:i};if(r){s.align=r}}o=new e(s);o.show();return o}})